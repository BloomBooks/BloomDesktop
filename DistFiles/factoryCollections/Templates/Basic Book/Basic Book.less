@import "../../../../src/BloomBrowserUI/bookLayout/common-mixins.less";

/*+}*/
/*The following is json. Bloom reads it in order to know what size/orientation options this stylesheet supports
STARTLAYOUTS
{
   "layouts":[
	  {
		 "A5Portrait":{
			"Styles":[
			   "Default"
			]
		 }
	  },
	  {
		 "A6Portrait":{
			"Styles":[
			   "Default"
			]
		 }
	  },
	  {
		 "A4Portrait":{
			"Styles":[
			   "Default"
			]
		 }
	  },
	  {
		 "A4Landscape":{
			"Styles":[
			   "Default",
			   "SideBySide",
			   "SplitAcrossPages"
			]
		 }
	  }
   ]
}
ENDLAYOUTS
This is a dummy rule used to transmit to javascript what size/orientations this stylesheet can handle.*/

/*Hide items that shouldn't show, depending on the current  multi-lingualism of this book.
generic*/


.translators
{
	text-align: center;
	height: 1.6cm;
	position: relative;
}
.SetHeightWithPercentMinusConstant(@percentage, @constant){
	height: calc(~'@{percentage} - @{constant}');
}
.imageOnTop {
	.bloom-translationGroup {
		height: 100%;
		width: 100%;
		position: absolute;
		left: 0;
		top: 0;
	}

	&:not(.layout-style-SideBySide) {
		.bloom-imageContainer {
			.SetHeightWithPercentMinusConstant(45%, @StandardMultilingualEditBoxSeparation);
			width: 100%;
			position: absolute;
			left: 0;
			top: 0;
		}
		.bloom-monolingual& {
			.bloom-editable{
				height: 49%;
				position: absolute;
				bottom: 0;
			}
		}
		.bloom-bilingual& {
			@ImageHeight: 32%;
			.bloom-imageContainer {
				top: 33%;
				height: @ImageHeight;
				margin-top: 5px;
			}
			.bloom-editable {
				height: @ImageHeight;
			}
			.bloom-content2 {
				position: absolute;
				bottom: 0;
			}
			.bloom-content3 {
				position: absolute;
				bottom: 0;
			}
		}

		.bloom-trilingual& {
			@ImageHeight: 24%;
			.bloom-imageContainer {
				top: calc(~'13px + @{ImageHeight}');
				height: @ImageHeight;
			}
			.bloom-editable{
				height: @ImageHeight;
			}
			.bloom-content2 {
				position: absolute;
				top: calc(~'1.3% + @{ImageHeight} +  @{ImageHeight}');
			}
			.bloom-content3 {
				position: absolute;
				bottom: 0;
			}
		}
	}


	&.layout-style-SideBySide {
		.bloom-imageContainer {
			width: 48%;
			height: 100%;
			position: absolute;
			left: auto; //need to override the "left" of the other layouts
			right: 0;
		}
		.bloom-translationGroup {
			width: 44%;
		}
		.bloom-editable {
			&.bloom-monolingual {
				height: 100%;
			}
			.bloom-bilingual& {
				.SetHeightWithPercentMinusConstant(50%, @StandardMultilingualEditBoxSeparation);
			}
			.bloom-trilingual& {
				.SetHeightWithPercentMinusConstant(33%, @StandardMultilingualEditBoxSeparation);
			}
		}
	}
}

.nospecidalmovement_imageOnTop {
	.bloom-imageContainer {
		.SetHeightWithPercentMinusConstant(45%, @StandardMultilingualEditBoxSeparation);
		width: 100%;
		position: absolute;
		left: 0;
		top: 0;
	}
	.bloom-translationGroup {
		height: 50%;
		width: 100%;
		position: absolute;
		left: 0;
		bottom: 0;
	}
	.bloom-editable {
		&.bloom-monolingual {
			height: 100%;
		}
		.bloom-bilingual& {
			.SetHeightWithPercentMinusConstant(50%, @StandardMultilingualEditBoxSeparation);
		}
		.bloom-trilingual& {
			.SetHeightWithPercentMinusConstant(33%, @StandardMultilingualEditBoxSeparation);
		}
	}

	&.A4Landscape.layout-style-SideBySide {
		.bloom-imageContainer {
			width: 48%;
			height: 100%;
			position: absolute;
			left: auto; //need to override the "left" of the other layouts
			right: 0;
		}
		.bloom-translationGroup {
			height: 100%;
			width: 45%;
			position: absolute;
			left: 0;
			top: 0;
		}
	}
}



	.ximageOnTop {
	//we place the edit boxes in different places depending on the multilingual settings,
	//so we don't want the default margin-top's for the 2nd and 3rd ones.
	.Common-SeparateMultilingualEditables(0);


	.bloom-imageContainer {
			width: 100%;
			height: 45% !important;
			z-index: 1000;
		}

	&.A4Landscape {
		DIV {
			&.bloom-translationGroup {
				height: 25% !important;
				position: absolute;
				left: 0;
				bottom: 0;
				width: 100%;
			}
		}
		&.bloom-trilingual {
			DIV {
				&.bloom-translationGroup {
					height: 50% !important;
					position: absolute;
					left: 0;
					bottom: 0;
					width: 100%;
				}
				&.bloom-editable {
					width: 100%;
					height: 30%;
				}
			}
		}
	}
	&.A5Portrait, &.A6Portrait {
		&.bloom-monolingual {
			DIV {
				&.bloom-translationGroup {
					height: 48% !important;
					width: 100%;
					position: absolute;
					left: 0;
					bottom: 0;
				}
			}
		}
		&.bloom-trilingual {
			DIV {
				&.bloom-translationGroup {
					height: 100%;
					position: absolute;
					left: 0;
					bottom: 0;
					width: 100%;
				}
			}
		}
	}
	&.A4Portrait {
		&.bloom-monolingual {
			DIV {
				&.bloom-translationGroup {
					height: 48% !important;
					width: 100%;
					position: absolute;
					left: 0;
					bottom: 0;
				}
			}
		}
	}

	&.layout-style-BottomAlign {
		&.bloom-monolingual {
			.bloom-translationGroup {
				display: table;
			}
			DIV {
				&.bloom-editable {
					vertical-align: bottom;
					display: table-cell;
				}
			}
		}
	}
	&.A4Landscape {
		&.layout-style-SideBySide {
			DIV {
				&.bloom-imageContainer {
					width: 48%;
					position: absolute;
					left: 0;
					top: 0;
					height: 100% !important;
				}
				&.bloom-translationGroup {
					height: 100% !important;
					width: 45%;
					position: absolute !important;
					left: 549px !important;
					top: 2px !important;
				}
				&.bloom-editable {
					display: block;
				}
			}
			&.bloom-monolingual {
				.bloom-editable {
					height: 17.7cm !important;
				}
			}
			&.bloom-bilingual {
				.bloom-editable {
					height: 8cm !important;
				}
			}
		}
		DIV {
			&.bloom-imageContainer {
				width: 100%;
				position: absolute;
				left: 0;
				top: 0;
				height: 70% !important;
			}
		}
		&.bloom-monolingual {
			DIV {
				&.bloom-editable {
					height: 100%;
				}
			}
		}
		&.bloom-bilingual {
			DIV {
				&.bloom-editable {
					height: 50%;
				}
			}
		}
		&.bloom-trilingual {
			DIV {
				&.bloom-editable {
					height: 30%;
				}
				&.bloom-imageContainer {
					width: 100%;
					position: absolute;
					left: 0;
					top: 0;
					height: 45% !important;
				}
			}
		}
	}
	&.layout-style-SplitAcrossPages {
		DIV {
			&.bloom-imageContainer {
				width: 100%;
				height: 100% !important;
			}
		}
		.bloom-translationGroup {
			width: 100%;
			position: relative !important;
			display: block !important;
			position: absolute;
			left: 0;
			top: 30%;
		}
		.bloom-editable {
			font-size: 300%;
		}
	}
	&.bloom-monolingual {
		DIV {
			&.bloom-editable {
			}
		}
	}
	&.A5Portrait, &.A6Portrait {
		&.bloom-bilingual {
			DIV {
				&.bloom-imageContainer {
					height: 30% !important;
					position: absolute;
					left: 0;
					top: 228px;
				}
				&.bloom-translationGroup {
					height: 100%;
					position: absolute;
					left: 0;
					bottom: 0;
					width: 100%;
				}
			}
		}
		&.bloom-trilingual {
			DIV {
				&.bloom-imageContainer {
					height: 27% !important;
					position: absolute;
					left: 1px;
					top: 196px;
				}
				&.bloom-editable {
					&.bloom-content2 {
						height: 19%;
						position: relative;
						left: 0;
						top: 33%;
					}
					&.bloom-content3 {
						height: 19%;
						position: relative;
						left: 0;
						top: 33%;
						margin-top: 12px;
					}
				}
			}
		}
	}
	&.A4Portrait {
		&.bloom-bilingual {
			DIV {
				&.bloom-imageContainer {
					height: 30% !important;
					position: absolute;
					left: 0;
					top: 35%;
				}
				&.bloom-translationGroup {
					height: 100%;
					position: absolute;
					left: 0;
					bottom: 0;
					width: 100%;
				}
			}
		}
	}
	&.bloom-bilingual {
		DIV {
			&.bloom-editable {
				height: 30%;
				&.bloom-content2 {
					position: absolute;
					left: 0;
					bottom: 0;
				}
			}
		}
	}
	&.bloom-trilingual {
		.bloom-content1 {
			height: 26%;
		}
	}
}

.imageInMiddle {
	//we place the edit boxes in different places depending on the multilingual settings,
	//so we don't want the default margin-top's for the 2nd and 3rd ones.
	.Common-SeparateMultilingualEditables(0);
	// ----- IMAGE ------
	.bloom-imageContainer {
		width: 100%;
		height: 30%;
		position: absolute;
		top: 35%;
	}
	// ----- GROUP ------
	.bloom-translationGroup {
		height: 33% !important;
		width: 100%;
		position: absolute;
	}

	@SpaceBetweenMultilingualAlternatives: 10px;

	// ----- the top GROUP -----
	.bloom-translationGroup:nth-of-type(1) {
		top: 0;
		left: 0;
		.bloom-editable {
			margin-bottom: @SpaceBetweenMultilingualAlternatives;
		}
	}
	// ----- the bottom GROUP -----
	.bloom-translationGroup:nth-of-type(3) { //NB: there is no "nth-of-class"; so we're selecting the 3rd child of the margin box
		left: 0;
		bottom: 0;
		.bloom-editable {
			margin-top: @SpaceBetweenMultilingualAlternatives;
		}
	}
	// ----- Text Boxes ------
	.bloom-editable {
		width: 100%;
	}
	&.bloom-monolingual .bloom-editable {
		height: calc(~'100% - @{SpaceBetweenMultilingualAlternatives}') !important;
	}
	&.bloom-bilingual .bloom-editable {
		height: calc(~'50% - @{SpaceBetweenMultilingualAlternatives} - 1px') !important;
	}
	&.bloom-trilingual .bloom-editable {
		height: calc(~'33% - @{SpaceBetweenMultilingualAlternatives} - 1px') !important;
	}
}

.imageOnBottom {
	.bloom-imageContainer {
		SetHeightWithPercentMinusConstant(45%,  @StandardMultilingualEditBoxSeparation)
		width: 100%;
		position: absolute;
		left: 0;
		bottom: 0;
	}
	.bloom-translationGroup {
		height: 50%;
		width: 100%;
		position: absolute;
		left: 0;
		top: 0;
	}
	.bloom-editable {
		height: 100%;
		width: 100%;
	}
	&.bloom-bilingual {
		.bloom-translationGroup .bloom-editable {
		SetHeightWithPercentMinusConstant(50%, @StandardMultilingualEditBoxSeparation)
		}
	}
	&.bloom-trilingual .bloom-translationGroup .bloom-editable {
		SetHeightWithPercentMinusConstant(33%, @StandardMultilingualEditBoxSeparation)
	}
	&.A4Landscape.layout-style-SideBySide .bloom-imageContainer
	{
		width: 48%;
		height: 100%;
		position: absolute;
		left: auto; //need to override the "left" of the other layouts
		right: 0;
	}
	&.A4Landscape.layout-style-SideBySide .bloom-translationGroup
	{
		height: 100%;
		width: 45%;
		position: absolute;
		left: 0;
		top: 0;
	}
}
.imageWholePage {
	.bloom-imageContainer {
		width: 100%;
		height: 100%;
	}
}
/*Text Whole Page
The current version of this is centered vertically; if you're looking for how that is done, it's not here, but rather
in javascript. Search for 'bloom-centerContentVertically'.
*/
.textWholePage{
	.bloom-editable {
		min-height: 2em;
	}
	.bloom-translationGroup {
		width: 100%;
		//height: 100%; // these height percentages would be needed if we ever want to make the vertical centering optional
	}
	&.bloom-bilingual .bloom-translationGroup .bloom-editable {
		//height: 50%;
	}
	&.bloom-trilingual .bloom-translationGroup .bloom-editable {
		//height: 33%;
	}
}

.pictureAndWordPage {
	.Setup(@PercentForImage, @VernacularSize) {
		.bloom-translationGroup {
			height: 100% - ( @PercentForImage + 3%);
		}
		.bloom-imageContainer{
			height: @PercentForImage;
		}
		.bloom-content1 {
			font-size: @VernacularSize;
		}
	}
	&.A6Portrait {
		.Setup(62%, 400%);
	}
	&.A5Portrait {
		.Setup(62%, 400%);
	}
	&.A4Portrait {
		.Setup(74%, 600%);
	}
	&.A4Landscape {
		.Setup(55%, 600%);
	}

	.bloom-translationGroup {
		width: 100%;
		text-align: center;
		padding-top: 10px;//don't express in em's!
	}
	.bloom-editable{
		vertical-align: middle;
		height: auto;
	}
	.bloom-content2, .bloom-content3 {
		font-size: 200% ;
	}
}
