@import (reference) "../../../../BloomBrowserUI/bloomUI.less";

// This file contains the definitions of our game themes.

// defaults for all themes
.bloom-page[class*="game-theme-"] {
    --game-primary-color: black;
    --game-secondary-color: white;

    .apply-game-theme();

    // defaults which don't follow the primary/secondary pattern
    --game-button-wrong-color: white;
    --game-button-wrong-bg-color: #707070;
}

// This is a single place to push the general variables down into the more specific ones.
// See comments below in the PDF-specific "theme"
.apply-game-theme() {
    --game-primary-bg-color: var(--game-primary-color);

    --game-text-color: var(--game-primary-color);
    --game-page-number-color: var(--game-text-color);
    --game-page-bg-color: var(--game-secondary-color);

    --game-button-text-color: var(--game-primary-color);
    --game-button-bg-color: var(--game-secondary-color);
    --game-button-correct-color: var(--game-secondary-color);
    --game-button-correct-bg-color: var(--game-primary-bg-color);
    --game-button-outline-color: var(--game-button-text-color);

    --game-draggable-color: var(--game-secondary-color);
    --game-draggable-bg-color: var(--game-primary-bg-color);

    --game-draggable-target-outline-color: var(--game-draggable-bg-color);
    // CSS variable cannot reference themselves, so we define this copy
    // so that we can use color-mix() to make it semi-transparent
    // when we want.
    --game-draggable-target-outline-color-base: var(--game-draggable-bg-color);

    --game-header-color: var(--game-secondary-color);
    --game-header-bg-color: var(--game-primary-bg-color);

    --game-control-button-color: var(
        --game-secondary-color
    ); // This doesn't work yet. Can't change svg color because they are files, not inline.
    --game-control-button-bg-color: var(--game-primary-bg-color);

    --game-checkbox-text-color: var(--game-text-color);
    --game-checkbox-outline-color: var(--game-checkbox-text-color);
    --game-selected-checkbox-color: var(--game-button-correct-color);
    --game-selected-checkbox-bg-color: var(--game-button-correct-bg-color);
    --game-selected-checkbox-outline-color: var(
        --game-selected-checkbox-bg-color
    );

    // appearance system overrides
    --page-background-color: var(--game-page-bg-color);
}

.bloom-page.game-theme-blue-on-white {
    --game-primary-color: #0058cc;
    --game-secondary-color: white;
}

.bloom-page.game-theme-red-on-white {
    --game-primary-color: #da1b1b; // bloom red is too low contrast
    --game-secondary-color: white;
}

.bloom-page.game-theme-white-and-orange-on-blue {
    --game-primary-color: #ffb453;
    --game-secondary-color: #0068f0;

    --game-text-color: white;

    --game-draggable-color: black;

    --game-header-color: white;
    --game-header-bg-color: var(--game-secondary-color);

    --game-button-text-color: black;
    --game-button-bg-color: white;
    --game-button-correct-color: black;
    --game-button-outline-color: var(--game-page-bg-color);

    --game-checkbox-outline-color: #848484;
}
.bloom-page.game-theme-pollinator {
    --game-button-correct-bg-color: #c46232;
    --game-draggable-bg-color: #6b678d;
    --game-primary-color: #617321;
    --game-secondary-color: white;
    --game-draggable-target-outline-color: #61732185;
}
// These rules for monochrome-PDF are used unconditionally when publishing to PDF
// (because the publishing process puts .pdfPublishMode on the body element, and this rule
// is then more specific than any of the other theme rules).
// (We think of this theme as monochrome-PDF, but don't want that actually in the list,
// so it's commented out here. You can put it back for easier testing of this theme.)
// .bloom-page.game-theme-monochrome-PDF,
.pdfPublishMode.pdfPublishMode .bloom-page {
    --game-primary-color: black;
    --game-secondary-color: white;

    // We have to not only set the colors (above), but we have to make sure we
    // reset any specific variables which may have been set by themes or custom css.
    // For example, orange-and-blue sets --game-text-color to white;
    // if we don't reapply --game-text-color: var(--game-primary-color), it will
    // be white here even though we just set --game-primary-color to black.
    .apply-game-theme();
}

.bloom-page.targets-semi-transparent {
    // The target outline sticks out and ruins the target image, so we
    // set the opacity of game-draggable-target-outline-color to 0.5
    --game-draggable-target-outline-color: color-mix(
        in srgb,
        var(--game-draggable-target-outline-color-base) 10%,
        transparent
    );
}
