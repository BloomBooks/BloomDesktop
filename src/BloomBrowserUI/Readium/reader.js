var D2Reader=(()=>{var OP=Object.create;var Ls=Object.defineProperty,RP=Object.defineProperties,Qy=Object.getOwnPropertyDescriptor,PP=Object.getOwnPropertyDescriptors,MP=Object.getOwnPropertyNames,Mc=Object.getOwnPropertySymbols,kP=Object.getPrototypeOf,Bf=Object.prototype.hasOwnProperty,e1=Object.prototype.propertyIsEnumerable;var Nf=(r,t,n)=>t in r?Ls(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,et=(r,t)=>{for(var n in t||(t={}))Bf.call(t,n)&&Nf(r,n,t[n]);if(Mc)for(var n of Mc(t))e1.call(t,n)&&Nf(r,n,t[n]);return r},Yt=(r,t)=>RP(r,PP(t)),t1=r=>Ls(r,"__esModule",{value:!0});var Ha=r=>{if(typeof require!="undefined")return require(r);throw new Error('Dynamic require of "'+r+'" is not supported')};var go=(r,t)=>{var n={};for(var i in r)Bf.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&Mc)for(var i of Mc(r))t.indexOf(i)<0&&e1.call(r,i)&&(n[i]=r[i]);return n};var LP=(r,t)=>()=>(r&&(t=r(r=0)),t);var ve=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),IP=(r,t)=>{t1(r);for(var n in t)Ls(r,n,{get:t[n],enumerable:!0})},BP=(r,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of MP(t))!Bf.call(r,i)&&i!=="default"&&Ls(r,i,{get:()=>t[i],enumerable:!(n=Qy(t,i))||n.enumerable});return r},nt=r=>BP(t1(Ls(r!=null?OP(kP(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),kc=(r,t,n,i)=>{for(var o=i>1?void 0:i?Qy(t,n):t,s=r.length-1,l;s>=0;s--)(l=r[s])&&(o=(i?l(t,n,o):l(o))||o);return i&&o&&Ls(t,n,o),o};var Lc=(r,t,n)=>(Nf(r,typeof t!="symbol"?t+"":t,n),n),Df=(r,t,n)=>{if(!t.has(r))throw TypeError("Cannot "+n)};var It=(r,t,n)=>(Df(r,t,"read from private field"),n?n.call(r):t.get(r)),_n=(r,t,n)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,n)},Nr=(r,t,n,i)=>(Df(r,t,"write to private field"),i?i.call(r,n):t.set(r,n),n);var Dr=(r,t,n)=>(Df(r,t,"access private method"),n);var s1=ve(($8,o1)=>{H();var on=o1.exports={},ur,dr;function jf(){throw new Error("setTimeout has not been defined")}function Ff(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ur=setTimeout:ur=jf}catch(r){ur=jf}try{typeof clearTimeout=="function"?dr=clearTimeout:dr=Ff}catch(r){dr=Ff}})();function n1(r){if(ur===setTimeout)return setTimeout(r,0);if((ur===jf||!ur)&&setTimeout)return ur=setTimeout,setTimeout(r,0);try{return ur(r,0)}catch(t){try{return ur.call(null,r,0)}catch(n){return ur.call(this,r,0)}}}function NP(r){if(dr===clearTimeout)return clearTimeout(r);if((dr===Ff||!dr)&&clearTimeout)return dr=clearTimeout,clearTimeout(r);try{return dr(r)}catch(t){try{return dr.call(null,r)}catch(n){return dr.call(this,r)}}}var jr=[],Is=!1,zo,Ic=-1;function DP(){!Is||!zo||(Is=!1,zo.length?jr=zo.concat(jr):Ic=-1,jr.length&&i1())}function i1(){if(!Is){var r=n1(DP);Is=!0;for(var t=jr.length;t;){for(zo=jr,jr=[];++Ic<t;)zo&&zo[Ic].run();Ic=-1,t=jr.length}zo=null,Is=!1,NP(r)}}on.nextTick=function(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];jr.push(new r1(r,t)),jr.length===1&&!Is&&n1(i1)};function r1(r,t){this.fun=r,this.array=t}r1.prototype.run=function(){this.fun.apply(null,this.array)};on.title="browser";on.browser=!0;on.env={};on.argv=[];on.version="";on.versions={};function Fr(){}on.on=Fr;on.addListener=Fr;on.once=Fr;on.off=Fr;on.removeListener=Fr;on.removeAllListeners=Fr;on.emit=Fr;on.prependListener=Fr;on.prependOnceListener=Fr;on.listeners=function(r){return[]};on.binding=function(r){throw new Error("process.binding is not supported")};on.cwd=function(){return"/"};on.chdir=function(r){throw new Error("process.chdir is not supported")};on.umask=function(){return 0}});var l1=ve((q8,a1)=>{H();"use strict";a1.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),i=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var o=42;t[n]=o;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(t,n);if(l.value!==o||l.enumerable!==!0)return!1}return!0}});var Bc=ve((W8,u1)=>{H();"use strict";var c1=typeof Symbol!="undefined"&&Symbol,jP=l1();u1.exports=function(){return typeof c1!="function"||typeof Symbol!="function"||typeof c1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:jP()}});var h1=ve((G8,d1)=>{H();"use strict";var FP="Function.prototype.bind called on incompatible ",Hf=Array.prototype.slice,HP=Object.prototype.toString,UP="[object Function]";d1.exports=function(t){var n=this;if(typeof n!="function"||HP.call(n)!==UP)throw new TypeError(FP+n);for(var i=Hf.call(arguments,1),o,s=function(){if(this instanceof o){var y=n.apply(this,i.concat(Hf.call(arguments)));return Object(y)===y?y:this}else return n.apply(t,i.concat(Hf.call(arguments)))},l=Math.max(0,n.length-i.length),u=[],d=0;d<l;d++)u.push("$"+d);if(o=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var h=function(){};h.prototype=n.prototype,o.prototype=new h,h.prototype=null}return o}});var Nc=ve((z8,f1)=>{H();"use strict";var $P=h1();f1.exports=Function.prototype.bind||$P});var g1=ve((V8,p1)=>{H();"use strict";var qP=Nc();p1.exports=qP.call(Function.call,Object.prototype.hasOwnProperty)});var Hc=ve((J8,v1)=>{H();"use strict";var Ct,Ua=SyntaxError,m1=Function,Bs=TypeError,Uf=function(r){try{return m1('"use strict"; return ('+r+").constructor;")()}catch(t){}},Vo=Object.getOwnPropertyDescriptor;if(Vo)try{Vo({},"")}catch(r){Vo=null}var $f=function(){throw new Bs},WP=Vo?function(){try{return arguments.callee,$f}catch(r){try{return Vo(arguments,"callee").get}catch(t){return $f}}}():$f,Ns=Bc()(),mo=Object.getPrototypeOf||function(r){return r.__proto__},Ds={},GP=typeof Uint8Array=="undefined"?Ct:mo(Uint8Array),js={"%AggregateError%":typeof AggregateError=="undefined"?Ct:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?Ct:ArrayBuffer,"%ArrayIteratorPrototype%":Ns?mo([][Symbol.iterator]()):Ct,"%AsyncFromSyncIteratorPrototype%":Ct,"%AsyncFunction%":Ds,"%AsyncGenerator%":Ds,"%AsyncGeneratorFunction%":Ds,"%AsyncIteratorPrototype%":Ds,"%Atomics%":typeof Atomics=="undefined"?Ct:Atomics,"%BigInt%":typeof BigInt=="undefined"?Ct:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?Ct:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?Ct:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?Ct:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?Ct:FinalizationRegistry,"%Function%":m1,"%GeneratorFunction%":Ds,"%Int8Array%":typeof Int8Array=="undefined"?Ct:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?Ct:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?Ct:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ns?mo(mo([][Symbol.iterator]())):Ct,"%JSON%":typeof JSON=="object"?JSON:Ct,"%Map%":typeof Map=="undefined"?Ct:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Ns?Ct:mo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?Ct:Promise,"%Proxy%":typeof Proxy=="undefined"?Ct:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?Ct:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?Ct:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Ns?Ct:mo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?Ct:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ns?mo(""[Symbol.iterator]()):Ct,"%Symbol%":Ns?Symbol:Ct,"%SyntaxError%":Ua,"%ThrowTypeError%":WP,"%TypedArray%":GP,"%TypeError%":Bs,"%Uint8Array%":typeof Uint8Array=="undefined"?Ct:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?Ct:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?Ct:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?Ct:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?Ct:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?Ct:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?Ct:WeakSet},zP=function r(t){var n;if(t==="%AsyncFunction%")n=Uf("async function () {}");else if(t==="%GeneratorFunction%")n=Uf("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Uf("async function* () {}");else if(t==="%AsyncGenerator%"){var i=r("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=r("%AsyncGenerator%");o&&(n=mo(o.prototype))}return js[t]=n,n},y1={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Dc=Nc(),jc=g1(),VP=Dc.call(Function.call,Array.prototype.concat),JP=Dc.call(Function.apply,Array.prototype.splice),b1=Dc.call(Function.call,String.prototype.replace),Fc=Dc.call(Function.call,String.prototype.slice),KP=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,YP=/\\(\\)?/g,XP=function(t){var n=Fc(t,0,1),i=Fc(t,-1);if(n==="%"&&i!=="%")throw new Ua("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&n!=="%")throw new Ua("invalid intrinsic syntax, expected opening `%`");var o=[];return b1(t,KP,function(s,l,u,d){o[o.length]=u?b1(d,YP,"$1"):l||s}),o},ZP=function(t,n){var i=t,o;if(jc(y1,i)&&(o=y1[i],i="%"+o[0]+"%"),jc(js,i)){var s=js[i];if(s===Ds&&(s=zP(i)),typeof s=="undefined"&&!n)throw new Bs("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:i,value:s}}throw new Ua("intrinsic "+t+" does not exist!")};v1.exports=function(t,n){if(typeof t!="string"||t.length===0)throw new Bs("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Bs('"allowMissing" argument must be a boolean');var i=XP(t),o=i.length>0?i[0]:"",s=ZP("%"+o+"%",n),l=s.name,u=s.value,d=!1,h=s.alias;h&&(o=h[0],JP(i,VP([0,1],h)));for(var y=1,b=!0;y<i.length;y+=1){var w=i[y],p=Fc(w,0,1),m=Fc(w,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Ua("property names with quotes must have matching quotes");if((w==="constructor"||!b)&&(d=!0),o+="."+w,l="%"+o+"%",jc(js,l))u=js[l];else if(u!=null){if(!(w in u)){if(!n)throw new Bs("base intrinsic for "+t+" exists, but the property is not available.");return}if(Vo&&y+1>=i.length){var f=Vo(u,w);b=!!f,b&&"get"in f&&!("originalValue"in f.get)?u=f.get:u=u[w]}else b=jc(u,w),u=u[w];b&&!d&&(js[l]=u)}}return u}});var x1=ve((K8,Uc)=>{H();"use strict";var qf=Nc(),Fs=Hc(),w1=Fs("%Function.prototype.apply%"),E1=Fs("%Function.prototype.call%"),_1=Fs("%Reflect.apply%",!0)||qf.call(E1,w1),S1=Fs("%Object.getOwnPropertyDescriptor%",!0),Jo=Fs("%Object.defineProperty%",!0),QP=Fs("%Math.max%");if(Jo)try{Jo({},"a",{value:1})}catch(r){Jo=null}Uc.exports=function(t){var n=_1(qf,E1,arguments);if(S1&&Jo){var i=S1(n,"length");i.configurable&&Jo(n,"length",{value:1+QP(0,t.length-(arguments.length-1))})}return n};var A1=function(){return _1(qf,w1,arguments)};Jo?Jo(Uc.exports,"apply",{value:A1}):Uc.exports.apply=A1});var $c=ve((Y8,O1)=>{H();"use strict";var C1=Hc(),T1=x1(),eM=T1(C1("String.prototype.indexOf"));O1.exports=function(t,n){var i=C1(t,!!n);return typeof i=="function"&&eM(t,".prototype.")>-1?T1(i):i}});var M1=ve((X8,P1)=>{H();"use strict";var tM=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",nM=$c(),Wf=nM("Object.prototype.toString"),qc=function(t){return tM&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Wf(t)==="[object Arguments]"},R1=function(t){return qc(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Wf(t)!=="[object Array]"&&Wf(t.callee)==="[object Function]"},iM=function(){return qc(arguments)}();qc.isLegacyArguments=R1;P1.exports=iM?qc:R1});var I1=ve((Z8,L1)=>{H();"use strict";var rM=Object.prototype.toString,oM=Function.prototype.toString,sM=/^\s*(?:function)?\*/,k1=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Gf=Object.getPrototypeOf,aM=function(){if(!k1)return!1;try{return Function("return function*() {}")()}catch(r){}},zf;L1.exports=function(t){if(typeof t!="function")return!1;if(sM.test(oM.call(t)))return!0;if(!k1){var n=rM.call(t);return n==="[object GeneratorFunction]"}if(!Gf)return!1;if(typeof zf=="undefined"){var i=aM();zf=i?Gf(i):!1}return Gf(t)===zf}});var Vf=ve((Q8,B1)=>{H();var lM=Object.prototype.hasOwnProperty,cM=Object.prototype.toString;B1.exports=function(t,n,i){if(cM.call(n)!=="[object Function]")throw new TypeError("iterator must be a function");var o=t.length;if(o===+o)for(var s=0;s<o;s++)n.call(i,t[s],s,t);else for(var l in t)lM.call(t,l)&&n.call(i,t[l],l,t)}});var Kf=ve((eD,N1)=>{H();"use strict";var Jf=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];N1.exports=function(){for(var t=[],n=0;n<Jf.length;n++)typeof globalThis[Jf[n]]=="function"&&(t[t.length]=Jf[n]);return t}});var Yf=ve((tD,D1)=>{H();"use strict";var uM=Hc(),Wc=uM("%Object.getOwnPropertyDescriptor%",!0);if(Wc)try{Wc([],"length")}catch(r){Wc=null}D1.exports=Wc});var Qf=ve((nD,$1)=>{H();"use strict";var j1=Vf(),dM=Kf(),Xf=$c(),hM=Xf("Object.prototype.toString"),fM=Bc()(),F1=fM&&typeof Symbol.toStringTag=="symbol",H1=dM(),pM=Xf("Array.prototype.indexOf",!0)||function(t,n){for(var i=0;i<t.length;i+=1)if(t[i]===n)return i;return-1},gM=Xf("String.prototype.slice"),U1={},Gc=Yf(),Zf=Object.getPrototypeOf;F1&&Gc&&Zf&&j1(H1,function(r){var t=new globalThis[r];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+r+" does not have the property! Please report this.");var n=Zf(t),i=Gc(n,Symbol.toStringTag);if(!i){var o=Zf(n);i=Gc(o,Symbol.toStringTag)}U1[r]=i.get});var mM=function(t){var n=!1;return j1(U1,function(i,o){if(!n)try{n=i.call(t)===o}catch(s){}}),n};$1.exports=function(t){if(!t||typeof t!="object")return!1;if(!F1){var n=gM(hM(t),8,-1);return pM(H1,n)>-1}return Gc?mM(t):!1}});var J1=ve((iD,V1)=>{H();"use strict";var q1=Vf(),yM=Kf(),W1=$c(),bM=W1("Object.prototype.toString"),vM=Bc()(),G1=vM&&typeof Symbol.toStringTag=="symbol",wM=yM(),EM=W1("String.prototype.slice"),z1={},ep=Yf(),tp=Object.getPrototypeOf;G1&&ep&&tp&&q1(wM,function(r){if(typeof globalThis[r]=="function"){var t=new globalThis[r];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+r+" does not have the property! Please report this.");var n=tp(t),i=ep(n,Symbol.toStringTag);if(!i){var o=tp(n);i=ep(o,Symbol.toStringTag)}z1[r]=i.get}});var _M=function(t){var n=!1;return q1(z1,function(i,o){if(!n)try{var s=i.call(t);s===o&&(n=s)}catch(l){}}),n},SM=Qf();V1.exports=function(t){return SM(t)?G1?_M(t):EM(bM(t),8,-1):!1}});var lb=ve(_t=>{H();"use strict";var AM=M1(),xM=I1(),Ki=J1(),K1=Qf();function Hs(r){return r.call.bind(r)}var Y1=typeof BigInt!="undefined",X1=typeof Symbol!="undefined",Ii=Hs(Object.prototype.toString),CM=Hs(Number.prototype.valueOf),TM=Hs(String.prototype.valueOf),OM=Hs(Boolean.prototype.valueOf);Y1&&(Z1=Hs(BigInt.prototype.valueOf));var Z1;X1&&(Q1=Hs(Symbol.prototype.valueOf));var Q1;function $a(r,t){if(typeof r!="object")return!1;try{return t(r),!0}catch(n){return!1}}_t.isArgumentsObject=AM;_t.isGeneratorFunction=xM;_t.isTypedArray=K1;function RM(r){return typeof Promise!="undefined"&&r instanceof Promise||r!==null&&typeof r=="object"&&typeof r.then=="function"&&typeof r.catch=="function"}_t.isPromise=RM;function PM(r){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(r):K1(r)||tb(r)}_t.isArrayBufferView=PM;function MM(r){return Ki(r)==="Uint8Array"}_t.isUint8Array=MM;function kM(r){return Ki(r)==="Uint8ClampedArray"}_t.isUint8ClampedArray=kM;function LM(r){return Ki(r)==="Uint16Array"}_t.isUint16Array=LM;function IM(r){return Ki(r)==="Uint32Array"}_t.isUint32Array=IM;function BM(r){return Ki(r)==="Int8Array"}_t.isInt8Array=BM;function NM(r){return Ki(r)==="Int16Array"}_t.isInt16Array=NM;function DM(r){return Ki(r)==="Int32Array"}_t.isInt32Array=DM;function jM(r){return Ki(r)==="Float32Array"}_t.isFloat32Array=jM;function FM(r){return Ki(r)==="Float64Array"}_t.isFloat64Array=FM;function HM(r){return Ki(r)==="BigInt64Array"}_t.isBigInt64Array=HM;function UM(r){return Ki(r)==="BigUint64Array"}_t.isBigUint64Array=UM;function zc(r){return Ii(r)==="[object Map]"}zc.working=typeof Map!="undefined"&&zc(new Map);function $M(r){return typeof Map=="undefined"?!1:zc.working?zc(r):r instanceof Map}_t.isMap=$M;function Vc(r){return Ii(r)==="[object Set]"}Vc.working=typeof Set!="undefined"&&Vc(new Set);function qM(r){return typeof Set=="undefined"?!1:Vc.working?Vc(r):r instanceof Set}_t.isSet=qM;function Jc(r){return Ii(r)==="[object WeakMap]"}Jc.working=typeof WeakMap!="undefined"&&Jc(new WeakMap);function WM(r){return typeof WeakMap=="undefined"?!1:Jc.working?Jc(r):r instanceof WeakMap}_t.isWeakMap=WM;function np(r){return Ii(r)==="[object WeakSet]"}np.working=typeof WeakSet!="undefined"&&np(new WeakSet);function GM(r){return np(r)}_t.isWeakSet=GM;function Kc(r){return Ii(r)==="[object ArrayBuffer]"}Kc.working=typeof ArrayBuffer!="undefined"&&Kc(new ArrayBuffer);function eb(r){return typeof ArrayBuffer=="undefined"?!1:Kc.working?Kc(r):r instanceof ArrayBuffer}_t.isArrayBuffer=eb;function Yc(r){return Ii(r)==="[object DataView]"}Yc.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Yc(new DataView(new ArrayBuffer(1),0,1));function tb(r){return typeof DataView=="undefined"?!1:Yc.working?Yc(r):r instanceof DataView}_t.isDataView=tb;var ip=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function qa(r){return Ii(r)==="[object SharedArrayBuffer]"}function nb(r){return typeof ip=="undefined"?!1:(typeof qa.working=="undefined"&&(qa.working=qa(new ip)),qa.working?qa(r):r instanceof ip)}_t.isSharedArrayBuffer=nb;function zM(r){return Ii(r)==="[object AsyncFunction]"}_t.isAsyncFunction=zM;function VM(r){return Ii(r)==="[object Map Iterator]"}_t.isMapIterator=VM;function JM(r){return Ii(r)==="[object Set Iterator]"}_t.isSetIterator=JM;function KM(r){return Ii(r)==="[object Generator]"}_t.isGeneratorObject=KM;function YM(r){return Ii(r)==="[object WebAssembly.Module]"}_t.isWebAssemblyCompiledModule=YM;function ib(r){return $a(r,CM)}_t.isNumberObject=ib;function rb(r){return $a(r,TM)}_t.isStringObject=rb;function ob(r){return $a(r,OM)}_t.isBooleanObject=ob;function sb(r){return Y1&&$a(r,Z1)}_t.isBigIntObject=sb;function ab(r){return X1&&$a(r,Q1)}_t.isSymbolObject=ab;function XM(r){return ib(r)||rb(r)||ob(r)||sb(r)||ab(r)}_t.isBoxedPrimitive=XM;function ZM(r){return typeof Uint8Array!="undefined"&&(eb(r)||nb(r))}_t.isAnyArrayBuffer=ZM;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(r){Object.defineProperty(_t,r,{enumerable:!1,value:function(){throw new Error(r+" is not supported in userland")}})})});var ub=ve((oD,cb)=>{H();cb.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}});var db=ve((sD,rp)=>{H();typeof Object.create=="function"?rp.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:rp.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}});var ru=ve(St=>{H();var hb=Object.getOwnPropertyDescriptors||function(t){for(var n=Object.keys(t),i={},o=0;o<n.length;o++)i[n[o]]=Object.getOwnPropertyDescriptor(t,n[o]);return i},QM=/%[sdj%]/g;St.format=function(r){if(!tu(r)){for(var t=[],n=0;n<arguments.length;n++)t.push(yo(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(r).replace(QM,function(u){if(u==="%%")return"%";if(n>=o)return u;switch(u){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(d){return"[Circular]"}default:return u}}),l=i[n];n<o;l=i[++n])eu(l)||!Us(l)?s+=" "+l:s+=" "+yo(l);return s};St.deprecate=function(r,t){if(typeof process!="undefined"&&process.noDeprecation===!0)return r;if(typeof process=="undefined")return function(){return St.deprecate(r,t).apply(this,arguments)};var n=!1;function i(){if(!n){if(process.throwDeprecation)throw new Error(t);process.traceDeprecation?console.trace(t):console.error(t),n=!0}return r.apply(this,arguments)}return i};var Xc={},fb=/^$/;process.env.NODE_DEBUG&&(Zc=process.env.NODE_DEBUG,Zc=Zc.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),fb=new RegExp("^"+Zc+"$","i"));var Zc;St.debuglog=function(r){if(r=r.toUpperCase(),!Xc[r])if(fb.test(r)){var t=process.pid;Xc[r]=function(){var n=St.format.apply(St,arguments);console.error("%s %d: %s",r,t,n)}}else Xc[r]=function(){};return Xc[r]};function yo(r,t){var n={seen:[],stylize:tk};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),ap(t)?n.showHidden=t:t&&St._extend(n,t),Ko(n.showHidden)&&(n.showHidden=!1),Ko(n.depth)&&(n.depth=2),Ko(n.colors)&&(n.colors=!1),Ko(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=ek),Qc(n,r,n.depth)}St.inspect=yo;yo.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};yo.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function ek(r,t){var n=yo.styles[t];return n?"["+yo.colors[n][0]+"m"+r+"["+yo.colors[n][1]+"m":r}function tk(r,t){return r}function nk(r){var t={};return r.forEach(function(n,i){t[n]=!0}),t}function Qc(r,t,n){if(r.customInspect&&t&&iu(t.inspect)&&t.inspect!==St.inspect&&!(t.constructor&&t.constructor.prototype===t)){var i=t.inspect(n,r);return tu(i)||(i=Qc(r,i,n)),i}var o=ik(r,t);if(o)return o;var s=Object.keys(t),l=nk(s);if(r.showHidden&&(s=Object.getOwnPropertyNames(t)),Ga(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return op(t);if(s.length===0){if(iu(t)){var u=t.name?": "+t.name:"";return r.stylize("[Function"+u+"]","special")}if(Wa(t))return r.stylize(RegExp.prototype.toString.call(t),"regexp");if(nu(t))return r.stylize(Date.prototype.toString.call(t),"date");if(Ga(t))return op(t)}var d="",h=!1,y=["{","}"];if(pb(t)&&(h=!0,y=["[","]"]),iu(t)){var b=t.name?": "+t.name:"";d=" [Function"+b+"]"}if(Wa(t)&&(d=" "+RegExp.prototype.toString.call(t)),nu(t)&&(d=" "+Date.prototype.toUTCString.call(t)),Ga(t)&&(d=" "+op(t)),s.length===0&&(!h||t.length==0))return y[0]+d+y[1];if(n<0)return Wa(t)?r.stylize(RegExp.prototype.toString.call(t),"regexp"):r.stylize("[Object]","special");r.seen.push(t);var w;return h?w=rk(r,t,n,l,s):w=s.map(function(p){return sp(r,t,n,l,p,h)}),r.seen.pop(),ok(w,d,y)}function ik(r,t){if(Ko(t))return r.stylize("undefined","undefined");if(tu(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return r.stylize(n,"string")}if(gb(t))return r.stylize(""+t,"number");if(ap(t))return r.stylize(""+t,"boolean");if(eu(t))return r.stylize("null","null")}function op(r){return"["+Error.prototype.toString.call(r)+"]"}function rk(r,t,n,i,o){for(var s=[],l=0,u=t.length;l<u;++l)mb(t,String(l))?s.push(sp(r,t,n,i,String(l),!0)):s.push("");return o.forEach(function(d){d.match(/^\d+$/)||s.push(sp(r,t,n,i,d,!0))}),s}function sp(r,t,n,i,o,s){var l,u,d;if(d=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},d.get?d.set?u=r.stylize("[Getter/Setter]","special"):u=r.stylize("[Getter]","special"):d.set&&(u=r.stylize("[Setter]","special")),mb(i,o)||(l="["+o+"]"),u||(r.seen.indexOf(d.value)<0?(eu(n)?u=Qc(r,d.value,null):u=Qc(r,d.value,n-1),u.indexOf(`
`)>-1&&(s?u=u.split(`
`).map(function(h){return"  "+h}).join(`
`).substr(2):u=`
`+u.split(`
`).map(function(h){return"   "+h}).join(`
`))):u=r.stylize("[Circular]","special")),Ko(l)){if(s&&o.match(/^\d+$/))return u;l=JSON.stringify(""+o),l.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(l=l.substr(1,l.length-2),l=r.stylize(l,"name")):(l=l.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),l=r.stylize(l,"string"))}return l+": "+u}function ok(r,t,n){var i=0,o=r.reduce(function(s,l){return i++,l.indexOf(`
`)>=0&&i++,s+l.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(t===""?"":t+`
 `)+" "+r.join(`,
  `)+" "+n[1]:n[0]+t+" "+r.join(", ")+" "+n[1]}St.types=lb();function pb(r){return Array.isArray(r)}St.isArray=pb;function ap(r){return typeof r=="boolean"}St.isBoolean=ap;function eu(r){return r===null}St.isNull=eu;function sk(r){return r==null}St.isNullOrUndefined=sk;function gb(r){return typeof r=="number"}St.isNumber=gb;function tu(r){return typeof r=="string"}St.isString=tu;function ak(r){return typeof r=="symbol"}St.isSymbol=ak;function Ko(r){return r===void 0}St.isUndefined=Ko;function Wa(r){return Us(r)&&lp(r)==="[object RegExp]"}St.isRegExp=Wa;St.types.isRegExp=Wa;function Us(r){return typeof r=="object"&&r!==null}St.isObject=Us;function nu(r){return Us(r)&&lp(r)==="[object Date]"}St.isDate=nu;St.types.isDate=nu;function Ga(r){return Us(r)&&(lp(r)==="[object Error]"||r instanceof Error)}St.isError=Ga;St.types.isNativeError=Ga;function iu(r){return typeof r=="function"}St.isFunction=iu;function lk(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||typeof r=="undefined"}St.isPrimitive=lk;St.isBuffer=ub();function lp(r){return Object.prototype.toString.call(r)}function cp(r){return r<10?"0"+r.toString(10):r.toString(10)}var ck=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function uk(){var r=new Date,t=[cp(r.getHours()),cp(r.getMinutes()),cp(r.getSeconds())].join(":");return[r.getDate(),ck[r.getMonth()],t].join(" ")}St.log=function(){console.log("%s - %s",uk(),St.format.apply(St,arguments))};St.inherits=db();St._extend=function(r,t){if(!t||!Us(t))return r;for(var n=Object.keys(t),i=n.length;i--;)r[n[i]]=t[n[i]];return r};function mb(r,t){return Object.prototype.hasOwnProperty.call(r,t)}var Yo=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;St.promisify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(Yo&&t[Yo]){var n=t[Yo];if(typeof n!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(n,Yo,{value:n,enumerable:!1,writable:!1,configurable:!0}),n}function n(){for(var i,o,s=new Promise(function(d,h){i=d,o=h}),l=[],u=0;u<arguments.length;u++)l.push(arguments[u]);l.push(function(d,h){d?o(d):i(h)});try{t.apply(this,l)}catch(d){o(d)}return s}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Yo&&Object.defineProperty(n,Yo,{value:n,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(n,hb(t))};St.promisify.custom=Yo;function dk(r,t){if(!r){var n=new Error("Promise was rejected with a falsy value");n.reason=r,r=n}return t(r)}function hk(r){if(typeof r!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var o=n.pop();if(typeof o!="function")throw new TypeError("The last argument must be of type Function");var s=this,l=function(){return o.apply(s,arguments)};r.apply(this,n).then(function(u){process.nextTick(l.bind(null,null,u))},function(u){process.nextTick(dk.bind(null,u,l))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(r)),Object.defineProperties(t,hb(r)),t}St.callbackify=hk});var process,util,H=LP(()=>{process=s1(),util=ru()});var hr=ve((cD,au)=>{H();var yb,bb,vb,wb,Eb,_b,Sb,Ab,xb,ou,up,Cb,Tb,Ob,$s,Rb,Pb,Mb,kb,Lb,Ib,Bb,Nb,su;(function(r){var t=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){r(n(t,n(i)))}):typeof au=="object"&&typeof au.exports=="object"?r(n(t,n(au.exports))):r(n(t));function n(i,o){return i!==t&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(s,l){return i[s]=o?o(s,l):l}}})(function(r){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])};yb=function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");t(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)},bb=Object.assign||function(i){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i},vb=function(i,o){var s={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)o.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(s[l[u]]=i[l[u]]);return s},wb=function(i,o,s,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,s):l,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,s,l);else for(var y=i.length-1;y>=0;y--)(h=i[y])&&(d=(u<3?h(d):u>3?h(o,s,d):h(o,s))||d);return u>3&&d&&Object.defineProperty(o,s,d),d},Eb=function(i,o){return function(s,l){o(s,l,i)}},_b=function(i,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,o)},Sb=function(i,o,s,l){function u(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function y(p){try{w(l.next(p))}catch(m){h(m)}}function b(p){try{w(l.throw(p))}catch(m){h(m)}}function w(p){p.done?d(p.value):u(p.value).then(y,b)}w((l=l.apply(i,o||[])).next())})},Ab=function(i,o){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,u,d,h;return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(w){return function(p){return b([w,p])}}function b(w){if(l)throw new TypeError("Generator is already executing.");for(;s;)try{if(l=1,u&&(d=w[0]&2?u.return:w[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,w[1])).done)return d;switch(u=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,u=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){s.label=w[1];break}if(w[0]===6&&s.label<d[1]){s.label=d[1],d=w;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(w);break}d[2]&&s.ops.pop(),s.trys.pop();continue}w=o.call(i,s)}catch(p){w=[6,p],u=0}finally{l=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},xb=function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&su(o,i,s)},su=Object.create?function(i,o,s,l){l===void 0&&(l=s),Object.defineProperty(i,l,{enumerable:!0,get:function(){return o[s]}})}:function(i,o,s,l){l===void 0&&(l=s),i[l]=o[s]},ou=function(i){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&i[o],l=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},up=function(i,o){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var l=s.call(i),u,d=[],h;try{for(;(o===void 0||o-- >0)&&!(u=l.next()).done;)d.push(u.value)}catch(y){h={error:y}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(h)throw h.error}}return d},Cb=function(){for(var i=[],o=0;o<arguments.length;o++)i=i.concat(up(arguments[o]));return i},Tb=function(){for(var i=0,o=0,s=arguments.length;o<s;o++)i+=arguments[o].length;for(var l=Array(i),u=0,o=0;o<s;o++)for(var d=arguments[o],h=0,y=d.length;h<y;h++,u++)l[u]=d[h];return l},Ob=function(i,o,s){if(s||arguments.length===2)for(var l=0,u=o.length,d;l<u;l++)(d||!(l in o))&&(d||(d=Array.prototype.slice.call(o,0,l)),d[l]=o[l]);return i.concat(d||Array.prototype.slice.call(o))},$s=function(i){return this instanceof $s?(this.v=i,this):new $s(i)},Rb=function(i,o,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(i,o||[]),u,d=[];return u={},h("next"),h("throw"),h("return"),u[Symbol.asyncIterator]=function(){return this},u;function h(f){l[f]&&(u[f]=function(g){return new Promise(function(v,A){d.push([f,g,v,A])>1||y(f,g)})})}function y(f,g){try{b(l[f](g))}catch(v){m(d[0][3],v)}}function b(f){f.value instanceof $s?Promise.resolve(f.value.v).then(w,p):m(d[0][2],f)}function w(f){y("next",f)}function p(f){y("throw",f)}function m(f,g){f(g),d.shift(),d.length&&y(d[0][0],d[0][1])}},Pb=function(i){var o,s;return o={},l("next"),l("throw",function(u){throw u}),l("return"),o[Symbol.iterator]=function(){return this},o;function l(u,d){o[u]=i[u]?function(h){return(s=!s)?{value:$s(i[u](h)),done:u==="return"}:d?d(h):h}:d}},Mb=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i[Symbol.asyncIterator],s;return o?o.call(i):(i=typeof ou=="function"?ou(i):i[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(d){s[d]=i[d]&&function(h){return new Promise(function(y,b){h=i[d](h),u(y,b,h.done,h.value)})}}function u(d,h,y,b){Promise.resolve(b).then(function(w){d({value:w,done:y})},h)}},kb=function(i,o){return Object.defineProperty?Object.defineProperty(i,"raw",{value:o}):i.raw=o,i};var n=Object.create?function(i,o){Object.defineProperty(i,"default",{enumerable:!0,value:o})}:function(i,o){i.default=o};Lb=function(i){if(i&&i.__esModule)return i;var o={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&su(o,i,s);return n(o,i),o},Ib=function(i){return i&&i.__esModule?i:{default:i}},Bb=function(i,o,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?i!==o||!l:!o.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(i):l?l.value:o.get(i)},Nb=function(i,o,s,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?i!==o||!u:!o.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(i,s):u?u.value=s:o.set(i,s),s},r("__extends",yb),r("__assign",bb),r("__rest",vb),r("__decorate",wb),r("__param",Eb),r("__metadata",_b),r("__awaiter",Sb),r("__generator",Ab),r("__exportStar",xb),r("__createBinding",su),r("__values",ou),r("__read",up),r("__spread",Cb),r("__spreadArrays",Tb),r("__spreadArray",Ob),r("__await",$s),r("__asyncGenerator",Rb),r("__asyncDelegator",Pb),r("__asyncValues",Mb),r("__makeTemplateObject",kb),r("__importStar",Lb),r("__importDefault",Ib),r("__classPrivateFieldGet",Bb),r("__classPrivateFieldSet",Nb)})});var jb=ve((uD,Db)=>{H();var qs=1e3,Ws=qs*60,Gs=Ws*60,Xo=Gs*24,fk=Xo*7,pk=Xo*365.25;Db.exports=function(r,t){t=t||{};var n=typeof r;if(n==="string"&&r.length>0)return gk(r);if(n==="number"&&isFinite(r))return t.long?yk(r):mk(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function gk(r){if(r=String(r),!(r.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*pk;case"weeks":case"week":case"w":return n*fk;case"days":case"day":case"d":return n*Xo;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Gs;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ws;case"seconds":case"second":case"secs":case"sec":case"s":return n*qs;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function mk(r){var t=Math.abs(r);return t>=Xo?Math.round(r/Xo)+"d":t>=Gs?Math.round(r/Gs)+"h":t>=Ws?Math.round(r/Ws)+"m":t>=qs?Math.round(r/qs)+"s":r+"ms"}function yk(r){var t=Math.abs(r);return t>=Xo?lu(r,t,Xo,"day"):t>=Gs?lu(r,t,Gs,"hour"):t>=Ws?lu(r,t,Ws,"minute"):t>=qs?lu(r,t,qs,"second"):r+" ms"}function lu(r,t,n,i){var o=t>=n*1.5;return Math.round(r/n)+" "+i+(o?"s":"")}});var Hb=ve((dD,Fb)=>{H();function bk(r){n.debug=n,n.default=n,n.coerce=d,n.disable=s,n.enable=o,n.enabled=l,n.humanize=jb(),n.destroy=h,Object.keys(r).forEach(y=>{n[y]=r[y]}),n.names=[],n.skips=[],n.formatters={};function t(y){let b=0;for(let w=0;w<y.length;w++)b=(b<<5)-b+y.charCodeAt(w),b|=0;return n.colors[Math.abs(b)%n.colors.length]}n.selectColor=t;function n(y){let b,w=null,p,m;function f(...g){if(!f.enabled)return;let v=f,A=Number(new Date),C=A-(b||A);v.diff=C,v.prev=b,v.curr=A,b=A,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let O=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(T,B)=>{if(T==="%%")return"%";O++;let M=n.formatters[B];if(typeof M=="function"){let D=g[O];T=M.call(v,D),g.splice(O,1),O--}return T}),n.formatArgs.call(v,g),(v.log||n.log).apply(v,g)}return f.namespace=y,f.useColors=n.useColors(),f.color=n.selectColor(y),f.extend=i,f.destroy=n.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(p!==n.namespaces&&(p=n.namespaces,m=n.enabled(y)),m),set:g=>{w=g}}),typeof n.init=="function"&&n.init(f),f}function i(y,b){let w=n(this.namespace+(typeof b=="undefined"?":":b)+y);return w.log=this.log,w}function o(y){n.save(y),n.namespaces=y,n.names=[],n.skips=[];let b,w=(typeof y=="string"?y:"").split(/[\s,]+/),p=w.length;for(b=0;b<p;b++)!w[b]||(y=w[b].replace(/\*/g,".*?"),y[0]==="-"?n.skips.push(new RegExp("^"+y.slice(1)+"$")):n.names.push(new RegExp("^"+y+"$")))}function s(){let y=[...n.names.map(u),...n.skips.map(u).map(b=>"-"+b)].join(",");return n.enable(""),y}function l(y){if(y[y.length-1]==="*")return!0;let b,w;for(b=0,w=n.skips.length;b<w;b++)if(n.skips[b].test(y))return!1;for(b=0,w=n.names.length;b<w;b++)if(n.names[b].test(y))return!0;return!1}function u(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function d(y){return y instanceof Error?y.stack||y.message:y}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}Fb.exports=bk});var Ub=ve((pi,cu)=>{H();pi.formatArgs=wk;pi.save=Ek;pi.load=_k;pi.useColors=vk;pi.storage=Sk();pi.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();pi.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function vk(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function wk(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+cu.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;r.splice(1,0,t,"color: inherit");let n=0,i=0;r[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(i=n))}),r.splice(i,0,t)}pi.log=console.debug||console.log||(()=>{});function Ek(r){try{r?pi.storage.setItem("debug",r):pi.storage.removeItem("debug")}catch(t){}}function _k(){let r;try{r=pi.storage.getItem("debug")}catch(t){}return!r&&typeof process!="undefined"&&"env"in process&&(r=process.env.DEBUG),r}function Sk(){try{return localStorage}catch(r){}}cu.exports=Hb()(pi);var{formatters:Ak}=cu.exports;Ak.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var qb=ve($b=>{H();"use strict";Object.defineProperty($b,"__esModule",{value:!0})});var Gb=ve(uu=>{H();"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.PropertyDefinition=void 0;var Wb=class{constructor(){this.array=!1,this.set=!1,this.readonly=!1,this.writeonly=!1}};uu.PropertyDefinition=Wb});var Hn=ve(Sn=>{H();"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.getTypedInheritanceChain=Sn.getInheritanceChain=Sn.getDefinition=Sn.objectDefinitions=Sn.ObjectDefinition=void 0;var xk=Gb(),dp=class{constructor(){this.ctr=()=>{},this.beforeDeserialized=()=>{},this.onDeserialized=()=>{},this.properties=new Map}getProperty(t){let n=this.properties.get(t);return n||(n=new xk.PropertyDefinition,this.properties.set(t,n)),n}};Sn.ObjectDefinition=dp;Sn.objectDefinitions=new Map;function Ck(r){let t=Sn.objectDefinitions.get(r);return t||(t=new dp,Sn.objectDefinitions.set(r,t)),t}Sn.getDefinition=Ck;function hp(r){if(!r)return[];let t=Object.getPrototypeOf(r);return[r.constructor].concat(hp(t))}Sn.getInheritanceChain=hp;function zb(r){let t=[];return Sn.objectDefinitions.forEach((n,i)=>{Object.getPrototypeOf(i.prototype).constructor===r&&t.push([i,n])}),t}function Vb(r,t){let n=Sn.objectDefinitions.get(r),i=[];t&&n&&n.discriminatorProperty&&(i=i.concat(zb(r)));let o;for(;i.length!==0&&!o;){let[l,u]=i.shift();if(u.hasOwnProperty("discriminatorValue")){if(t&&n&&u.discriminatorValue===t[n.discriminatorProperty]){if(u.hasOwnProperty("discriminatorProperty"))return Vb(l,t);o=l}}else i=i.concat(zb(l))}o||(o=r);let s=new Set(hp(Object.create(o.prototype)));return Array.from(s).filter(l=>Sn.objectDefinitions.has(l))}Sn.getTypedInheritanceChain=Vb});var Jb=ve(du=>{H();"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.JsonObject=void 0;var Tk=Hn();function Ok(){return function(r){Tk.getDefinition(r)}}du.JsonObject=Ok});var Yb=ve(()=>{H();var Kb;(function(r){(function(t){var n=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),i=o(r);typeof n.Reflect=="undefined"?n.Reflect=r:i=o(n.Reflect,i),t(i);function o(s,l){return function(u,d){typeof s[u]!="function"&&Object.defineProperty(s,u,{configurable:!0,writable:!0,value:d}),l&&l(u,d)}}})(function(t){var n=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",o=i&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",l=typeof Object.create=="function",u={__proto__:[]}instanceof Array,d=!l&&!u,h={create:l?function(){return Re(Object.create(null))}:u?function(){return Re({__proto__:null})}:function(){return Re({})},has:d?function(Y,we){return n.call(Y,we)}:function(Y,we){return we in Y},get:d?function(Y,we){return n.call(Y,we)?Y[we]:void 0}:function(Y,we){return Y[we]}},y=Object.getPrototypeOf(Function),b=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",w=!b&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:be(),p=!b&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:se(),m=!b&&typeof WeakMap=="function"?WeakMap:Ce(),f=new m;function g(Y,we,Ae,Oe){if(fe(Ae)){if(!V(Y))throw new TypeError;if(!ee(we))throw new TypeError;return U(Y,we)}else{if(!V(Y))throw new TypeError;if(!k(we))throw new TypeError;if(!k(Oe)&&!fe(Oe)&&!J(Oe))throw new TypeError;return J(Oe)&&(Oe=void 0),Ae=W(Ae),I(Y,we,Ae,Oe)}}t("decorate",g);function v(Y,we){function Ae(Oe,Be){if(!k(Oe))throw new TypeError;if(!fe(Be)&&!ie(Be))throw new TypeError;ae(Y,we,Oe,Be)}return Ae}t("metadata",v);function A(Y,we,Ae,Oe){if(!k(Ae))throw new TypeError;return fe(Oe)||(Oe=W(Oe)),ae(Y,we,Ae,Oe)}t("defineMetadata",A);function C(Y,we,Ae){if(!k(we))throw new TypeError;return fe(Ae)||(Ae=W(Ae)),q(Y,we,Ae)}t("hasMetadata",C);function O(Y,we,Ae){if(!k(we))throw new TypeError;return fe(Ae)||(Ae=W(Ae)),z(Y,we,Ae)}t("hasOwnMetadata",O);function E(Y,we,Ae){if(!k(we))throw new TypeError;return fe(Ae)||(Ae=W(Ae)),ne(Y,we,Ae)}t("getMetadata",E);function T(Y,we,Ae){if(!k(we))throw new TypeError;return fe(Ae)||(Ae=W(Ae)),oe(Y,we,Ae)}t("getOwnMetadata",T);function B(Y,we){if(!k(Y))throw new TypeError;return fe(we)||(we=W(we)),te(Y,we)}t("getMetadataKeys",B);function M(Y,we){if(!k(Y))throw new TypeError;return fe(we)||(we=W(we)),le(Y,we)}t("getOwnMetadataKeys",M);function D(Y,we,Ae){if(!k(we))throw new TypeError;fe(Ae)||(Ae=W(Ae));var Oe=N(we,Ae,!1);if(fe(Oe)||!Oe.delete(Y))return!1;if(Oe.size>0)return!0;var Be=f.get(we);return Be.delete(Ae),Be.size>0||f.delete(we),!0}t("deleteMetadata",D);function U(Y,we){for(var Ae=Y.length-1;Ae>=0;--Ae){var Oe=Y[Ae],Be=Oe(we);if(!fe(Be)&&!J(Be)){if(!ee(Be))throw new TypeError;we=Be}}return we}function I(Y,we,Ae,Oe){for(var Be=Y.length-1;Be>=0;--Be){var ot=Y[Be],ze=ot(we,Ae,Oe);if(!fe(ze)&&!J(ze)){if(!k(ze))throw new TypeError;Oe=ze}}return Oe}function N(Y,we,Ae){var Oe=f.get(Y);if(fe(Oe)){if(!Ae)return;Oe=new w,f.set(Y,Oe)}var Be=Oe.get(we);if(fe(Be)){if(!Ae)return;Be=new w,Oe.set(we,Be)}return Be}function q(Y,we,Ae){var Oe=z(Y,we,Ae);if(Oe)return!0;var Be=_e(we);return J(Be)?!1:q(Y,Be,Ae)}function z(Y,we,Ae){var Oe=N(we,Ae,!1);return fe(Oe)?!1:L(Oe.has(Y))}function ne(Y,we,Ae){var Oe=z(Y,we,Ae);if(Oe)return oe(Y,we,Ae);var Be=_e(we);if(!J(Be))return ne(Y,Be,Ae)}function oe(Y,we,Ae){var Oe=N(we,Ae,!1);if(!fe(Oe))return Oe.get(Y)}function ae(Y,we,Ae,Oe){var Be=N(Ae,Oe,!0);Be.set(Y,we)}function te(Y,we){var Ae=le(Y,we),Oe=_e(Y);if(Oe===null)return Ae;var Be=te(Oe,we);if(Be.length<=0)return Ae;if(Ae.length<=0)return Be;for(var ot=new p,ze=[],Je=0,Ge=Ae;Je<Ge.length;Je++){var pe=Ge[Je],Q=ot.has(pe);Q||(ot.add(pe),ze.push(pe))}for(var ce=0,Ue=Be;ce<Ue.length;ce++){var pe=Ue[ce],Q=ot.has(pe);Q||(ot.add(pe),ze.push(pe))}return ze}function le(Y,we){var Ae=[],Oe=N(Y,we,!1);if(fe(Oe))return Ae;for(var Be=Oe.keys(),ot=de(Be),ze=0;;){var Je=ke(ot);if(!Je)return Ae.length=ze,Ae;var Ge=ye(Je);try{Ae[ze]=Ge}catch(pe){try{He(ot)}finally{throw pe}}ze++}}function xe(Y){if(Y===null)return 1;switch(typeof Y){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return Y===null?1:6;default:return 6}}function fe(Y){return Y===void 0}function J(Y){return Y===null}function j(Y){return typeof Y=="symbol"}function k(Y){return typeof Y=="object"?Y!==null:typeof Y=="function"}function x(Y,we){switch(xe(Y)){case 0:return Y;case 1:return Y;case 2:return Y;case 3:return Y;case 4:return Y;case 5:return Y}var Ae=we===3?"string":we===5?"number":"default",Oe=ue(Y,o);if(Oe!==void 0){var Be=Oe.call(Y,Ae);if(k(Be))throw new TypeError;return Be}return R(Y,Ae==="default"?"number":Ae)}function R(Y,we){if(we==="string"){var Ae=Y.toString;if(Z(Ae)){var Oe=Ae.call(Y);if(!k(Oe))return Oe}var Be=Y.valueOf;if(Z(Be)){var Oe=Be.call(Y);if(!k(Oe))return Oe}}else{var Be=Y.valueOf;if(Z(Be)){var Oe=Be.call(Y);if(!k(Oe))return Oe}var ot=Y.toString;if(Z(ot)){var Oe=ot.call(Y);if(!k(Oe))return Oe}}throw new TypeError}function L(Y){return!!Y}function F(Y){return""+Y}function W(Y){var we=x(Y,3);return j(we)?we:F(we)}function V(Y){return Array.isArray?Array.isArray(Y):Y instanceof Object?Y instanceof Array:Object.prototype.toString.call(Y)==="[object Array]"}function Z(Y){return typeof Y=="function"}function ee(Y){return typeof Y=="function"}function ie(Y){switch(xe(Y)){case 3:return!0;case 4:return!0;default:return!1}}function ue(Y,we){var Ae=Y[we];if(Ae!=null){if(!Z(Ae))throw new TypeError;return Ae}}function de(Y){var we=ue(Y,s);if(!Z(we))throw new TypeError;var Ae=we.call(Y);if(!k(Ae))throw new TypeError;return Ae}function ye(Y){return Y.value}function ke(Y){var we=Y.next();return we.done?!1:we}function He(Y){var we=Y.return;we&&we.call(Y)}function _e(Y){var we=Object.getPrototypeOf(Y);if(typeof Y!="function"||Y===y||we!==y)return we;var Ae=Y.prototype,Oe=Ae&&Object.getPrototypeOf(Ae);if(Oe==null||Oe===Object.prototype)return we;var Be=Oe.constructor;return typeof Be!="function"||Be===Y?we:Be}function be(){var Y={},we=[],Ae=function(){function ze(Je,Ge,pe){this._index=0,this._keys=Je,this._values=Ge,this._selector=pe}return ze.prototype["@@iterator"]=function(){return this},ze.prototype[s]=function(){return this},ze.prototype.next=function(){var Je=this._index;if(Je>=0&&Je<this._keys.length){var Ge=this._selector(this._keys[Je],this._values[Je]);return Je+1>=this._keys.length?(this._index=-1,this._keys=we,this._values=we):this._index++,{value:Ge,done:!1}}return{value:void 0,done:!0}},ze.prototype.throw=function(Je){throw this._index>=0&&(this._index=-1,this._keys=we,this._values=we),Je},ze.prototype.return=function(Je){return this._index>=0&&(this._index=-1,this._keys=we,this._values=we),{value:Je,done:!0}},ze}();return function(){function ze(){this._keys=[],this._values=[],this._cacheKey=Y,this._cacheIndex=-2}return Object.defineProperty(ze.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ze.prototype.has=function(Je){return this._find(Je,!1)>=0},ze.prototype.get=function(Je){var Ge=this._find(Je,!1);return Ge>=0?this._values[Ge]:void 0},ze.prototype.set=function(Je,Ge){var pe=this._find(Je,!0);return this._values[pe]=Ge,this},ze.prototype.delete=function(Je){var Ge=this._find(Je,!1);if(Ge>=0){for(var pe=this._keys.length,Q=Ge+1;Q<pe;Q++)this._keys[Q-1]=this._keys[Q],this._values[Q-1]=this._values[Q];return this._keys.length--,this._values.length--,Je===this._cacheKey&&(this._cacheKey=Y,this._cacheIndex=-2),!0}return!1},ze.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Y,this._cacheIndex=-2},ze.prototype.keys=function(){return new Ae(this._keys,this._values,Oe)},ze.prototype.values=function(){return new Ae(this._keys,this._values,Be)},ze.prototype.entries=function(){return new Ae(this._keys,this._values,ot)},ze.prototype["@@iterator"]=function(){return this.entries()},ze.prototype[s]=function(){return this.entries()},ze.prototype._find=function(Je,Ge){return this._cacheKey!==Je&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Je)),this._cacheIndex<0&&Ge&&(this._cacheIndex=this._keys.length,this._keys.push(Je),this._values.push(void 0)),this._cacheIndex},ze}();function Oe(ze,Je){return ze}function Be(ze,Je){return Je}function ot(ze,Je){return[ze,Je]}}function se(){return function(){function Y(){this._map=new w}return Object.defineProperty(Y.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Y.prototype.has=function(we){return this._map.has(we)},Y.prototype.add=function(we){return this._map.set(we,we),this},Y.prototype.delete=function(we){return this._map.delete(we)},Y.prototype.clear=function(){this._map.clear()},Y.prototype.keys=function(){return this._map.keys()},Y.prototype.values=function(){return this._map.values()},Y.prototype.entries=function(){return this._map.entries()},Y.prototype["@@iterator"]=function(){return this.keys()},Y.prototype[s]=function(){return this.keys()},Y}()}function Ce(){var Y=16,we=h.create(),Ae=Oe();return function(){function Ge(){this._key=Oe()}return Ge.prototype.has=function(pe){var Q=Be(pe,!1);return Q!==void 0?h.has(Q,this._key):!1},Ge.prototype.get=function(pe){var Q=Be(pe,!1);return Q!==void 0?h.get(Q,this._key):void 0},Ge.prototype.set=function(pe,Q){var ce=Be(pe,!0);return ce[this._key]=Q,this},Ge.prototype.delete=function(pe){var Q=Be(pe,!1);return Q!==void 0?delete Q[this._key]:!1},Ge.prototype.clear=function(){this._key=Oe()},Ge}();function Oe(){var Ge;do Ge="@@WeakMap@@"+Je();while(h.has(we,Ge));return we[Ge]=!0,Ge}function Be(Ge,pe){if(!n.call(Ge,Ae)){if(!pe)return;Object.defineProperty(Ge,Ae,{value:h.create()})}return Ge[Ae]}function ot(Ge,pe){for(var Q=0;Q<pe;++Q)Ge[Q]=Math.random()*255|0;return Ge}function ze(Ge){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Ge)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Ge)):ot(new Uint8Array(Ge),Ge):ot(new Array(Ge),Ge)}function Je(){var Ge=ze(Y);Ge[6]=Ge[6]&79|64,Ge[8]=Ge[8]&191|128;for(var pe="",Q=0;Q<Y;++Q){var ce=Ge[Q];(Q===4||Q===6||Q===8)&&(pe+="-"),ce<16&&(pe+="0"),pe+=ce.toString(16).toLowerCase()}return pe}}function Re(Y){return Y.__=void 0,delete Y.__,Y}})})(Kb||(Kb={}))});var Xb=ve(hu=>{H();"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.JsonProperty=void 0;Yb();var Rk=Hn();function Pk(r){return function(t,n){let i=Reflect.getMetadata("design:type",t,n.toString()),o=Rk.getDefinition(t.constructor).getProperty(n.toString());o.serializedName=r||n.toString(),o.array=i===Array,o.set=i===Set,!o.array&&!o.set&&!o.type&&(o.type=i)}}hu.JsonProperty=Pk});var Zb=ve(fu=>{H();"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.JsonType=void 0;var Mk=Hn();function kk(r){return function(t,n){let i=Mk.getDefinition(t.constructor).getProperty(n.toString());i.type=r}}fu.JsonType=kk});var Qb=ve(pu=>{H();"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.JsonElementType=void 0;var Lk=Hn();function Ik(r){return function(t,n){let i=Lk.getDefinition(t.constructor).getProperty(n.toString());i.type=r}}pu.JsonElementType=Ik});var ev=ve(gu=>{H();"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.JsonConverter=void 0;var Bk=Hn();function Nk(r){return function(t,n){let i=Bk.getDefinition(t.constructor).getProperty(n.toString());typeof r=="function"?i.converter=new r:i.converter=r}}gu.JsonConverter=Nk});var tv=ve(mu=>{H();"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.JsonReadonly=void 0;var Dk=Hn();function jk(){return function(r,t){let n=Dk.getDefinition(r.constructor).getProperty(t.toString());n.readonly=!0}}mu.JsonReadonly=jk});var nv=ve(yu=>{H();"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.JsonWriteonly=void 0;var Fk=Hn();function Hk(){return function(r,t){let n=Fk.getDefinition(r.constructor).getProperty(t.toString());n.writeonly=!0}}yu.JsonWriteonly=Hk});var iv=ve(bu=>{H();"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.JsonDiscriminatorProperty=void 0;var Uk=Hn();function $k(r){return function(t){Uk.getDefinition(t).discriminatorProperty=r}}bu.JsonDiscriminatorProperty=$k});var rv=ve(vu=>{H();"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.JsonDiscriminatorValue=void 0;var qk=Hn();function Wk(r){return function(t){qk.getDefinition(t).discriminatorValue=r}}vu.JsonDiscriminatorValue=Wk});var ov=ve(wu=>{H();"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.JsonConstructor=void 0;var Gk=Hn();function zk(){return function(r,t){let n=Gk.getDefinition(r.constructor);n.ctr=r[t.toString()]}}wu.JsonConstructor=zk});var sv=ve(Eu=>{H();"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.BeforeDeserialized=void 0;var Vk=Hn();function Jk(){return function(r,t){let n=Vk.getDefinition(r.constructor);n.beforeDeserialized=r[t.toString()]}}Eu.BeforeDeserialized=Jk});var av=ve(_u=>{H();"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.OnDeserialized=void 0;var Kk=Hn();function Yk(){return function(r,t){let n=Kk.getDefinition(r.constructor);n.onDeserialized=r[t.toString()]}}_u.OnDeserialized=Yk});var lv=ve(gn=>{H();"use strict";var Xk=gn&&gn.__createBinding||(Object.create?function(r,t,n,i){i===void 0&&(i=n),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[n]}})}:function(r,t,n,i){i===void 0&&(i=n),r[i]=t[n]}),Bi=gn&&gn.__exportStar||function(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Xk(t,r,n)};Object.defineProperty(gn,"__esModule",{value:!0});Bi(Jb(),gn);Bi(Xb(),gn);Bi(Zb(),gn);Bi(Qb(),gn);Bi(ev(),gn);Bi(tv(),gn);Bi(nv(),gn);Bi(iv(),gn);Bi(rv(),gn);Bi(ov(),gn);Bi(sv(),gn);Bi(av(),gn)});var fp=ve(Su=>{H();"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.DateConverter=void 0;var cv=class{serialize(t){return t.toString()}deserialize(t){return new Date(t)}collapseArrayWithSingleItem(){return!1}};Su.DateConverter=cv});var pp=ve(Au=>{H();"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.BufferConverter=void 0;var uv=class{constructor(t="json"){this._encoding=t}serialize(t){return this._encoding==="json"?t.toJSON():t.toString(this._encoding)}deserialize(t){return this._encoding==="json"?Buffer.from(t.data):Buffer.from(t,this._encoding)}collapseArrayWithSingleItem(){return!1}};Au.BufferConverter=uv});var xu=ve(zs=>{H();"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.propertyConverters=void 0;var Zk=fp(),Qk=pp();zs.propertyConverters=new Map;typeof window=="undefined"&&zs.propertyConverters.set(Buffer,new Qk.BufferConverter);zs.propertyConverters.set(Date,new Zk.DateConverter)});var dv=ve(Hr=>{H();"use strict";var eL=Hr&&Hr.__createBinding||(Object.create?function(r,t,n,i){i===void 0&&(i=n),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[n]}})}:function(r,t,n,i){i===void 0&&(i=n),r[i]=t[n]}),gp=Hr&&Hr.__exportStar||function(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&eL(t,r,n)};Object.defineProperty(Hr,"__esModule",{value:!0});gp(xu(),Hr);gp(pp(),Hr);gp(fp(),Hr)});var yv=ve(Cu=>{H();"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.serialize=void 0;var hv=ru(),fv=xu(),mp=Hn();function yp(r,t,n={keyToPreserveUnknownJSON:void 0}){return r.constructor===Array?r.map(i=>pv(i,t,n)):pv(r,t,n)}Cu.serialize=yp;function pv(r,t=Object.getPrototypeOf(r).constructor,n){let i=mp.getTypedInheritanceChain(t);if(i.length===0)return r;let o=i.map(l=>mp.objectDefinitions.get(l)).filter(l=>!!l),s={};if(o.forEach(l=>{l.properties.forEach((u,d)=>{if(!u.type)throw new Error(`Cannot serialize property '${d}' without type!`);let h=r[d];if(!(h==null||u.writeonly)){if(u.set){s[u.serializedName]=gv(Array.from(h||[]),u,n);return}if(u.array){s[u.serializedName]=gv(h,u,n);return}s[u.serializedName]=mv(h,u,n)}})}),n.keyToPreserveUnknownJSON){let l=n.keyToPreserveUnknownJSON;if(r[l]){let u=Object.keys(r[l]);for(let d of u)if(r[l].hasOwnProperty(d)){let h;o.forEach(y=>{y.properties.forEach((b,w)=>{!h&&d===b.serializedName&&(h=b)})}),h||(typeof s[d]!="undefined"&&(console.log(`???!!! TAJSON keyToPreserveUnknownJSON already serialized?! ${l}.${d}`),console.log(hv.inspect(s[d],{showHidden:!1,depth:1e3,colors:!0,customInspect:!1})),s[d]!==r[l][d]&&(console.log(`???!!! TAJSON keyToPreserveUnknownJSON already serialized DIFF?! ${l}.${d}`),console.log(hv.inspect(r[l][d],{showHidden:!1,depth:1e3,colors:!0,customInspect:!1})))),s[d]=r[l][d])}}}return s}function gv(r,t,n){let i=r.map(o=>mv(o,t,n));if(i.length===1){let o=t.converter||fv.propertyConverters.get(t.type);if(o&&o.collapseArrayWithSingleItem())return i[0]}return i}function mv(r,t,n){let i=t.type===String||t.type===Boolean||t.type===Number,o=r,s=t.converter||fv.propertyConverters.get(t.type);return s?s.serialize(o):!i&&mp.objectDefinitions.get(t.type)?o instanceof t.type?yp(o,void 0,n):yp(o,t.type,n):o}});var _v=ve(Ou=>{H();"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.deserialize=void 0;var tL=ru(),Tu=Hn(),bv=xu();function vv(r,t,n={runConstructor:!1,keyToPreserveUnknownJSON:void 0}){return r&&r.constructor===Array?r.map(i=>wv(i,t,n)):wv(r,t,n)}Ou.deserialize=vv;function wv(r,t=Object,n){if(!Tu.objectDefinitions.has(t))return r;let i=r,[o,...s]=Tu.getTypedInheritanceChain(t,i),l=Object.create(o.prototype),u=[...s.reverse(),o].map(d=>Tu.objectDefinitions.get(d)).filter(d=>!!d);if(u.forEach(d=>{n.runConstructor&&d.ctr.call(l),d.beforeDeserialized.call(l),d.properties.forEach((h,y)=>{if(!h.type)throw new Error(`Cannot deserialize property '${y}' without type!`);let b=i[h.serializedName];if(!(b==null||h.readonly)){if(h.array||h.set){l[y]=nL(b,h,n),h.set&&(l[y]=new Set(l[y]));return}l[y]=Ev(b,h,n)}}),d.onDeserialized.call(l)}),n.keyToPreserveUnknownJSON){let d=n.keyToPreserveUnknownJSON;Object.keys(i).forEach(h=>{if(i.hasOwnProperty(h)){let y;u.forEach(b=>{b.properties.forEach((w,p)=>{!y&&h===w.serializedName&&(y=w)}),y?l[d]&&typeof l[d][h]!="undefined"&&delete l[d][h]:(l[d]||(l[d]={}),typeof l[d][h]!="undefined"&&l[d][h]!==i[h]&&(console.log(`???!!! TAJSON keyToPreserveUnknownJSON already deserialized DIFF?! ${d}.${h}`),console.log(tL.inspect(i[h],{showHidden:!1,depth:1e3,colors:!0,customInspect:!1}))),l[d][h]=i[h])})}}),l[d]&&!Object.keys(l[d]).length&&delete l[d]}return l}function nL(r,t,n){let i=t.converter||bv.propertyConverters.get(t.type);return(r instanceof Array?r:i&&i.collapseArrayWithSingleItem()?[r]:r).map(s=>Ev(s,t,n))}function Ev(r,t,n){let i=t.type===String||t.type===Boolean||t.type===Number,o=r,s=t.converter||bv.propertyConverters.get(t.type);return s?s.deserialize(o):!i&&Tu.objectDefinitions.get(t.type)?vv(o,t.type,n):o}});var Av=ve(Ru=>{H();"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.TaJson=void 0;var iL=yv(),rL=_v(),Sv=class{static deserialize(t,n,i){return rL.deserialize(t,n,i)}static parse(t,n,i){return this.deserialize(JSON.parse(t),n,i)}static serialize(t,n){return iL.serialize(t,void 0,n)}static stringify(t,n){return JSON.stringify(this.serialize(t,n))}};Ru.TaJson=Sv});var Un=ve(gi=>{H();"use strict";var oL=gi&&gi.__createBinding||(Object.create?function(r,t,n,i){i===void 0&&(i=n),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[n]}})}:function(r,t,n,i){i===void 0&&(i=n),r[i]=t[n]}),bp=gi&&gi.__exportStar||function(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&oL(t,r,n)};Object.defineProperty(gi,"__esModule",{value:!0});gi.TaJson=gi.JSON=void 0;bp(qb(),gi);bp(lv(),gi);bp(dv(),gi);var xv=Av();Object.defineProperty(gi,"JSON",{enumerable:!0,get:function(){return xv.TaJson}});Object.defineProperty(gi,"TaJson",{enumerable:!0,get:function(){return xv.TaJson}})});var Vs=ve(Pu=>{H();"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.JsonStringConverter=void 0;var Cv=class{serialize(t){return t}deserialize(t){return t}collapseArrayWithSingleItem(){return!0}};Pu.JsonStringConverter=Cv});var Tv=ve(Mu=>{H();"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.tryDecodeURI=void 0;function sL(r){if(!r)return null;try{return decodeURIComponent(r)}catch(t){console.log(r),console.log(t)}return r}Mu.tryDecodeURI=sL});var Jv=ve((HD,Iu)=>{H();var Ov,Rv,Pv,Mv,kv,Lv,Iv,Bv,Nv,ku,vp,Dv,jv,Fv,Js,Hv,Uv,$v,qv,Wv,Gv,zv,Vv,Lu;(function(r){var t=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){r(n(t,n(i)))}):typeof Iu=="object"&&typeof Iu.exports=="object"?r(n(t,n(Iu.exports))):r(n(t));function n(i,o){return i!==t&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(s,l){return i[s]=o?o(s,l):l}}})(function(r){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])};Ov=function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");t(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)},Rv=Object.assign||function(i){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i},Pv=function(i,o){var s={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)o.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(s[l[u]]=i[l[u]]);return s},Mv=function(i,o,s,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,s):l,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,s,l);else for(var y=i.length-1;y>=0;y--)(h=i[y])&&(d=(u<3?h(d):u>3?h(o,s,d):h(o,s))||d);return u>3&&d&&Object.defineProperty(o,s,d),d},kv=function(i,o){return function(s,l){o(s,l,i)}},Lv=function(i,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,o)},Iv=function(i,o,s,l){function u(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function y(p){try{w(l.next(p))}catch(m){h(m)}}function b(p){try{w(l.throw(p))}catch(m){h(m)}}function w(p){p.done?d(p.value):u(p.value).then(y,b)}w((l=l.apply(i,o||[])).next())})},Bv=function(i,o){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,u,d,h;return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(w){return function(p){return b([w,p])}}function b(w){if(l)throw new TypeError("Generator is already executing.");for(;s;)try{if(l=1,u&&(d=w[0]&2?u.return:w[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,w[1])).done)return d;switch(u=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,u=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){s.label=w[1];break}if(w[0]===6&&s.label<d[1]){s.label=d[1],d=w;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(w);break}d[2]&&s.ops.pop(),s.trys.pop();continue}w=o.call(i,s)}catch(p){w=[6,p],u=0}finally{l=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Nv=function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&Lu(o,i,s)},Lu=Object.create?function(i,o,s,l){l===void 0&&(l=s),Object.defineProperty(i,l,{enumerable:!0,get:function(){return o[s]}})}:function(i,o,s,l){l===void 0&&(l=s),i[l]=o[s]},ku=function(i){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&i[o],l=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},vp=function(i,o){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var l=s.call(i),u,d=[],h;try{for(;(o===void 0||o-- >0)&&!(u=l.next()).done;)d.push(u.value)}catch(y){h={error:y}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(h)throw h.error}}return d},Dv=function(){for(var i=[],o=0;o<arguments.length;o++)i=i.concat(vp(arguments[o]));return i},jv=function(){for(var i=0,o=0,s=arguments.length;o<s;o++)i+=arguments[o].length;for(var l=Array(i),u=0,o=0;o<s;o++)for(var d=arguments[o],h=0,y=d.length;h<y;h++,u++)l[u]=d[h];return l},Fv=function(i,o,s){if(s||arguments.length===2)for(var l=0,u=o.length,d;l<u;l++)(d||!(l in o))&&(d||(d=Array.prototype.slice.call(o,0,l)),d[l]=o[l]);return i.concat(d||Array.prototype.slice.call(o))},Js=function(i){return this instanceof Js?(this.v=i,this):new Js(i)},Hv=function(i,o,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(i,o||[]),u,d=[];return u={},h("next"),h("throw"),h("return"),u[Symbol.asyncIterator]=function(){return this},u;function h(f){l[f]&&(u[f]=function(g){return new Promise(function(v,A){d.push([f,g,v,A])>1||y(f,g)})})}function y(f,g){try{b(l[f](g))}catch(v){m(d[0][3],v)}}function b(f){f.value instanceof Js?Promise.resolve(f.value.v).then(w,p):m(d[0][2],f)}function w(f){y("next",f)}function p(f){y("throw",f)}function m(f,g){f(g),d.shift(),d.length&&y(d[0][0],d[0][1])}},Uv=function(i){var o,s;return o={},l("next"),l("throw",function(u){throw u}),l("return"),o[Symbol.iterator]=function(){return this},o;function l(u,d){o[u]=i[u]?function(h){return(s=!s)?{value:Js(i[u](h)),done:u==="return"}:d?d(h):h}:d}},$v=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i[Symbol.asyncIterator],s;return o?o.call(i):(i=typeof ku=="function"?ku(i):i[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(d){s[d]=i[d]&&function(h){return new Promise(function(y,b){h=i[d](h),u(y,b,h.done,h.value)})}}function u(d,h,y,b){Promise.resolve(b).then(function(w){d({value:w,done:y})},h)}},qv=function(i,o){return Object.defineProperty?Object.defineProperty(i,"raw",{value:o}):i.raw=o,i};var n=Object.create?function(i,o){Object.defineProperty(i,"default",{enumerable:!0,value:o})}:function(i,o){i.default=o};Wv=function(i){if(i&&i.__esModule)return i;var o={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&Lu(o,i,s);return n(o,i),o},Gv=function(i){return i&&i.__esModule?i:{default:i}},zv=function(i,o,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?i!==o||!l:!o.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(i):l?l.value:o.get(i)},Vv=function(i,o,s,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?i!==o||!u:!o.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(i,s):u?u.value=s:o.set(i,s),s},r("__extends",Ov),r("__assign",Rv),r("__rest",Pv),r("__decorate",Mv),r("__param",kv),r("__metadata",Lv),r("__awaiter",Iv),r("__generator",Bv),r("__exportStar",Nv),r("__createBinding",Lu),r("__values",ku),r("__read",vp),r("__spread",Dv),r("__spreadArrays",jv),r("__spreadArray",Fv),r("__await",Js),r("__asyncGenerator",Hv),r("__asyncDelegator",Uv),r("__asyncValues",$v),r("__makeTemplateObject",qv),r("__importStar",Wv),r("__importDefault",Gv),r("__classPrivateFieldGet",zv),r("__classPrivateFieldSet",Vv)})});var Kv=ve(Bu=>{H();"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.Encrypted=void 0;var mi=Jv(),Zo=Un(),Ur=class{constructor(){this.DecryptedLengthBeforeInflate=-1,this.CypherBlockPadding=-1}get OriginalLength(){return typeof this.OriginalLength2!="undefined"?this.OriginalLength2:this.OriginalLength1}set OriginalLength(t){typeof t!="undefined"&&(this.OriginalLength1=void 0,this.OriginalLength2=t)}};(0,mi.__decorate)([(0,Zo.JsonProperty)("scheme"),(0,mi.__metadata)("design:type",String)],Ur.prototype,"Scheme",void 0);(0,mi.__decorate)([(0,Zo.JsonProperty)("profile"),(0,mi.__metadata)("design:type",String)],Ur.prototype,"Profile",void 0);(0,mi.__decorate)([(0,Zo.JsonProperty)("algorithm"),(0,mi.__metadata)("design:type",String)],Ur.prototype,"Algorithm",void 0);(0,mi.__decorate)([(0,Zo.JsonProperty)("compression"),(0,mi.__metadata)("design:type",String)],Ur.prototype,"Compression",void 0);(0,mi.__decorate)([(0,Zo.JsonProperty)("originalLength"),(0,mi.__metadata)("design:type",Number)],Ur.prototype,"OriginalLength2",void 0);(0,mi.__decorate)([(0,Zo.JsonProperty)("original-length"),(0,mi.__metadata)("design:type",Object)],Ur.prototype,"OriginalLength1",void 0);Ur=(0,mi.__decorate)([(0,Zo.JsonObject)()],Ur);Bu.Encrypted=Ur});var wp=ve(sn=>{H();"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.Properties=sn.PropertiesSupportedKeys=sn.SpreadEnum=sn.PageEnum=sn.OverflowEnum=sn.OrientationEnum=sn.LayoutEnum=void 0;var An=hr(),fr=Un(),aL=Kv(),lL;(function(r){r.Fixed="fixed",r.Reflowable="reflowable"})(lL=sn.LayoutEnum||(sn.LayoutEnum={}));var cL;(function(r){r.Auto="auto",r.Landscape="landscape",r.Portrait="portrait"})(cL=sn.OrientationEnum||(sn.OrientationEnum={}));var uL;(function(r){r.Auto="auto",r.Paginated="paginated",r.Scrolled="scrolled",r.ScrolledContinuous="scrolled-continuous"})(uL=sn.OverflowEnum||(sn.OverflowEnum={}));var dL;(function(r){r.Left="left",r.Right="right",r.Center="center"})(dL=sn.PageEnum||(sn.PageEnum={}));var hL;(function(r){r.Auto="auto",r.Both="both",r.None="none",r.Landscape="landscape"})(hL=sn.SpreadEnum||(sn.SpreadEnum={}));sn.PropertiesSupportedKeys=["contains","layout","orientation","overflow","page","spread","encrypted","media-overlay"];var Yi=class{};An.__decorate([(0,fr.JsonProperty)("contains"),(0,fr.JsonElementType)(String),An.__metadata("design:type",Array)],Yi.prototype,"Contains",void 0);An.__decorate([(0,fr.JsonProperty)("layout"),An.__metadata("design:type",String)],Yi.prototype,"Layout",void 0);An.__decorate([(0,fr.JsonProperty)("orientation"),An.__metadata("design:type",String)],Yi.prototype,"Orientation",void 0);An.__decorate([(0,fr.JsonProperty)("overflow"),An.__metadata("design:type",String)],Yi.prototype,"Overflow",void 0);An.__decorate([(0,fr.JsonProperty)("page"),An.__metadata("design:type",String)],Yi.prototype,"Page",void 0);An.__decorate([(0,fr.JsonProperty)("spread"),An.__metadata("design:type",String)],Yi.prototype,"Spread",void 0);An.__decorate([(0,fr.JsonProperty)("encrypted"),An.__metadata("design:type",aL.Encrypted)],Yi.prototype,"Encrypted",void 0);An.__decorate([(0,fr.JsonProperty)("media-overlay"),An.__metadata("design:type",String)],Yi.prototype,"MediaOverlay",void 0);Yi=An.__decorate([(0,fr.JsonObject)()],Yi);sn.Properties=Yi});var za=ve(Du=>{H();"use strict";var Nu;Object.defineProperty(Du,"__esModule",{value:!0});Du.Link=void 0;var jt=hr(),mn=Un(),fL=Vs(),pL=Tv(),gL=wp(),mL="properties",yL="children",bL="alternate",Mn=Nu=class{get Href(){return this.Href1}set Href(t){this.Href1=t,this._urlDecoded=void 0}get HrefDecoded(){if(this._urlDecoded)return this._urlDecoded;if(this._urlDecoded!==null){if(!this.Href){this._urlDecoded=null;return}return this._urlDecoded=(0,pL.tryDecodeURI)(this.Href),this._urlDecoded?this._urlDecoded:void 0}}set HrefDecoded(t){this._urlDecoded=t}setHrefDecoded(t){this.Href=t,this.HrefDecoded=t}AddRels(t){t.forEach(n=>{this.AddRel(n)})}AddRel(t){this.HasRel(t)||(this.Rel?this.Rel.push(t):this.Rel=[t])}HasRel(t){return this.Rel&&this.Rel.indexOf(t)>=0}_OnDeserialized(){!this.Href&&(!this.Children||!this.Children.length)&&console.log("Link.Href is not set! (and no child Links)")}};jt.__decorate([(0,mn.JsonProperty)("type"),jt.__metadata("design:type",String)],Mn.prototype,"TypeLink",void 0);jt.__decorate([(0,mn.JsonProperty)("height"),jt.__metadata("design:type",Number)],Mn.prototype,"Height",void 0);jt.__decorate([(0,mn.JsonProperty)("width"),jt.__metadata("design:type",Number)],Mn.prototype,"Width",void 0);jt.__decorate([(0,mn.JsonProperty)("title"),jt.__metadata("design:type",String)],Mn.prototype,"Title",void 0);jt.__decorate([(0,mn.JsonProperty)(mL),jt.__metadata("design:type",gL.Properties)],Mn.prototype,"Properties",void 0);jt.__decorate([(0,mn.JsonProperty)("duration"),jt.__metadata("design:type",Number)],Mn.prototype,"Duration",void 0);jt.__decorate([(0,mn.JsonProperty)("bitrate"),jt.__metadata("design:type",Number)],Mn.prototype,"Bitrate",void 0);jt.__decorate([(0,mn.JsonProperty)("templated"),jt.__metadata("design:type",Boolean)],Mn.prototype,"Templated",void 0);jt.__decorate([(0,mn.JsonProperty)(yL),(0,mn.JsonElementType)(Nu),jt.__metadata("design:type",Array)],Mn.prototype,"Children",void 0);jt.__decorate([(0,mn.JsonProperty)(bL),(0,mn.JsonElementType)(Nu),jt.__metadata("design:type",Array)],Mn.prototype,"Alternate",void 0);jt.__decorate([(0,mn.JsonProperty)("rel"),(0,mn.JsonConverter)(fL.JsonStringConverter),(0,mn.JsonElementType)(String),jt.__metadata("design:type",Array)],Mn.prototype,"Rel",void 0);jt.__decorate([(0,mn.JsonProperty)("href"),jt.__metadata("design:type",String)],Mn.prototype,"Href1",void 0);jt.__decorate([(0,mn.OnDeserialized)(),jt.__metadata("design:type",Function),jt.__metadata("design:paramtypes",[]),jt.__metadata("design:returntype",void 0)],Mn.prototype,"_OnDeserialized",null);Mn=Nu=jt.__decorate([(0,mn.JsonObject)()],Mn);Du.Link=Mn});var Fu=ve(ju=>{H();"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.Contributor=void 0;var cn=hr(),Ni=Un(),vL=Vs(),wL=za(),EL="links",Xi=class{get SortAs(){return this.SortAs2?this.SortAs2:this.SortAs1}set SortAs(t){t&&(this.SortAs1=void 0,this.SortAs2=t)}_OnDeserialized(){this.Name||console.log("Contributor.Name is not set!")}};cn.__decorate([(0,Ni.JsonProperty)("name"),cn.__metadata("design:type",Object)],Xi.prototype,"Name",void 0);cn.__decorate([(0,Ni.JsonProperty)("sortAs"),cn.__metadata("design:type",String)],Xi.prototype,"SortAs2",void 0);cn.__decorate([(0,Ni.JsonProperty)("sort_as"),cn.__metadata("design:type",Object)],Xi.prototype,"SortAs1",void 0);cn.__decorate([(0,Ni.JsonProperty)("role"),(0,Ni.JsonConverter)(vL.JsonStringConverter),(0,Ni.JsonElementType)(String),cn.__metadata("design:type",Array)],Xi.prototype,"Role",void 0);cn.__decorate([(0,Ni.JsonProperty)("identifier"),cn.__metadata("design:type",String)],Xi.prototype,"Identifier",void 0);cn.__decorate([(0,Ni.JsonProperty)("position"),cn.__metadata("design:type",Number)],Xi.prototype,"Position",void 0);cn.__decorate([(0,Ni.JsonProperty)(EL),(0,Ni.JsonElementType)(wL.Link),cn.__metadata("design:type",Array)],Xi.prototype,"Links",void 0);cn.__decorate([(0,Ni.OnDeserialized)(),cn.__metadata("design:type",Function),cn.__metadata("design:paramtypes",[]),cn.__metadata("design:returntype",void 0)],Xi.prototype,"_OnDeserialized",null);Xi=cn.__decorate([(0,Ni.JsonObject)()],Xi);ju.Contributor=Xi});var Ep=ve(pr=>{H();"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.TaJsonSerialize=pr.TaJsonDeserialize=pr.KeyToPreserveUnknownJSON=void 0;var Yv=Un();pr.KeyToPreserveUnknownJSON="AdditionalJSON";function _L(r,t){return Yv.JSON.deserialize(r,t,{keyToPreserveUnknownJSON:pr.KeyToPreserveUnknownJSON})}pr.TaJsonDeserialize=_L;function SL(r){return Yv.JSON.serialize(r,{keyToPreserveUnknownJSON:pr.KeyToPreserveUnknownJSON})}pr.TaJsonSerialize=SL});var _p=ve(Hu=>{H();"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.JsonContributorConverter=void 0;var Xv=Ep(),Zv=Fu(),Qv=class{serialize(t){return t.Name&&!t.SortAs&&(!t.Role||!t.Role.length)&&!t.Identifier&&typeof t.Position=="undefined"&&(!t.Links||!t.Links.length)&&typeof t.Name=="string"?t.Name:(0,Xv.TaJsonSerialize)(t)}deserialize(t){if(typeof t=="string"){let n=new Zv.Contributor;return n.Name=t,n}return(0,Xv.TaJsonDeserialize)(t,Zv.Contributor)}collapseArrayWithSingleItem(){return!0}};Hu.JsonContributorConverter=Qv});var nw=ve(Uu=>{H();"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.BelongsTo=void 0;var Va=hr(),Qo=Un(),ew=Fu(),tw=_p(),AL="series",xL="collection",Ja=class{};Va.__decorate([(0,Qo.JsonProperty)(AL),(0,Qo.JsonElementType)(ew.Contributor),(0,Qo.JsonConverter)(tw.JsonContributorConverter),Va.__metadata("design:type",Array)],Ja.prototype,"Series",void 0);Va.__decorate([(0,Qo.JsonProperty)(xL),(0,Qo.JsonElementType)(ew.Contributor),(0,Qo.JsonConverter)(tw.JsonContributorConverter),Va.__metadata("design:type",Array)],Ja.prototype,"Collection",void 0);Ja=Va.__decorate([(0,Qo.JsonObject)()],Ja);Uu.BelongsTo=Ja});var iw=ve($u=>{H();"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.MediaOverlay=void 0;var Ka=hr(),Sp=Un(),Ya=class{};Ka.__decorate([(0,Sp.JsonProperty)("active-class"),Ka.__metadata("design:type",String)],Ya.prototype,"ActiveClass",void 0);Ka.__decorate([(0,Sp.JsonProperty)("playback-active-class"),Ka.__metadata("design:type",String)],Ya.prototype,"PlaybackActiveClass",void 0);Ya=Ka.__decorate([(0,Sp.JsonObject)()],Ya);$u.MediaOverlay=Ya});var Ap=ve(qu=>{H();"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.Subject=void 0;var xn=hr(),$r=Un(),CL=za(),TL="links",gr=class{get SortAs(){return this.SortAs2?this.SortAs2:this.SortAs1}set SortAs(t){t&&(this.SortAs1=void 0,this.SortAs2=t)}_OnDeserialized(){this.Name||console.log("Subject.Name is not set!")}};xn.__decorate([(0,$r.JsonProperty)("name"),xn.__metadata("design:type",Object)],gr.prototype,"Name",void 0);xn.__decorate([(0,$r.JsonProperty)("sortAs"),xn.__metadata("design:type",String)],gr.prototype,"SortAs2",void 0);xn.__decorate([(0,$r.JsonProperty)("sort_as"),xn.__metadata("design:type",Object)],gr.prototype,"SortAs1",void 0);xn.__decorate([(0,$r.JsonProperty)("scheme"),xn.__metadata("design:type",String)],gr.prototype,"Scheme",void 0);xn.__decorate([(0,$r.JsonProperty)("code"),xn.__metadata("design:type",String)],gr.prototype,"Code",void 0);xn.__decorate([(0,$r.JsonProperty)(TL),(0,$r.JsonElementType)(CL.Link),xn.__metadata("design:type",Array)],gr.prototype,"Links",void 0);xn.__decorate([(0,$r.OnDeserialized)(),xn.__metadata("design:type",Function),xn.__metadata("design:paramtypes",[]),xn.__metadata("design:returntype",void 0)],gr.prototype,"_OnDeserialized",null);gr=xn.__decorate([(0,$r.JsonObject)()],gr);qu.Subject=gr});var aw=ve(Wu=>{H();"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.JsonSubjectConverter=void 0;var rw=Ep(),ow=Ap(),sw=class{serialize(t){return t.Name&&!t.SortAs&&!t.Scheme&&!t.Code&&(!t.Links||!t.Links.length)&&typeof t.Name=="string"?t.Name:(0,rw.TaJsonSerialize)(t)}deserialize(t){if(typeof t=="string"){let n=new ow.Subject;return n.Name=t,n}return(0,rw.TaJsonDeserialize)(t,ow.Subject)}collapseArrayWithSingleItem(){return!0}};Wu.JsonSubjectConverter=sw});var lw=ve(qr=>{H();"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.Metadata=qr.MetadataSupportedKeys=qr.DirectionEnum=void 0;var De=hr(),Ne=Un(),mr=Vs(),OL=nw(),yi=Fu(),bi=_p(),RL=iw(),PL=wp(),ML=Ap(),kL=aw(),LL;(function(r){r.Auto="auto",r.RTL="rtl",r.LTR="ltr"})(LL=qr.DirectionEnum||(qr.DirectionEnum={}));qr.MetadataSupportedKeys=["dcterms:modified","accessMode","accessibilityFeature","accessibilityHazard","accessibilitySummary","accessModeSufficient","accessibilityAPI","accessibilityControl","certifiedBy","certifierCredential","certifierReport","conformsTo","title","subtitle","identifier","author","translator","editor","artist","illustrator","letterer","penciler","colorist","inker","narrator","contributor","publisher","imprint","language","modified","published","sortAs","description","readingProgression","direction","belongsTo","duration","numberOfPages","rights","rendition","source","subject"];var lt=class{get SortAs(){return this.SortAs2?this.SortAs2:this.SortAs1}set SortAs(t){t&&(this.SortAs1=void 0,this.SortAs2=t)}get Direction(){return this.Direction2?this.Direction2:this.Direction1}set Direction(t){t&&(this.Direction1=void 0,this.Direction2=t)}get BelongsTo(){return this.BelongsTo2?this.BelongsTo2:this.BelongsTo1}set BelongsTo(t){t&&(this.BelongsTo1=void 0,this.BelongsTo2=t)}_OnDeserialized(){this.Title||console.log("Metadata.Title is not set!")}};De.__decorate([(0,Ne.JsonProperty)("accessMode"),(0,Ne.JsonConverter)(mr.JsonStringConverter),(0,Ne.JsonElementType)(String),De.__metadata("design:type",Array)],lt.prototype,"AccessMode",void 0);De.__decorate([(0,Ne.JsonProperty)("accessibilityFeature"),(0,Ne.JsonConverter)(mr.JsonStringConverter),(0,Ne.JsonElementType)(String),De.__metadata("design:type",Array)],lt.prototype,"AccessibilityFeature",void 0);De.__decorate([(0,Ne.JsonProperty)("accessibilityHazard"),(0,Ne.JsonConverter)(mr.JsonStringConverter),(0,Ne.JsonElementType)(String),De.__metadata("design:type",Array)],lt.prototype,"AccessibilityHazard",void 0);De.__decorate([(0,Ne.JsonProperty)("accessibilitySummary"),De.__metadata("design:type",Object)],lt.prototype,"AccessibilitySummary",void 0);De.__decorate([(0,Ne.JsonProperty)("accessModeSufficient"),(0,Ne.JsonElementType)(Array),De.__metadata("design:type",Array)],lt.prototype,"AccessModeSufficient",void 0);De.__decorate([(0,Ne.JsonProperty)("accessibilityAPI"),(0,Ne.JsonConverter)(mr.JsonStringConverter),(0,Ne.JsonElementType)(String),De.__metadata("design:type",Array)],lt.prototype,"AccessibilityAPI",void 0);De.__decorate([(0,Ne.JsonProperty)("accessibilityControl"),(0,Ne.JsonConverter)(mr.JsonStringConverter),(0,Ne.JsonElementType)(String),De.__metadata("design:type",Array)],lt.prototype,"AccessibilityControl",void 0);De.__decorate([(0,Ne.JsonProperty)("certifiedBy"),(0,Ne.JsonConverter)(mr.JsonStringConverter),(0,Ne.JsonElementType)(String),De.__metadata("design:type",Array)],lt.prototype,"CertifiedBy",void 0);De.__decorate([(0,Ne.JsonProperty)("certifierCredential"),(0,Ne.JsonConverter)(mr.JsonStringConverter),(0,Ne.JsonElementType)(String),De.__metadata("design:type",Array)],lt.prototype,"CertifierCredential",void 0);De.__decorate([(0,Ne.JsonProperty)("certifierReport"),(0,Ne.JsonConverter)(mr.JsonStringConverter),(0,Ne.JsonElementType)(String),De.__metadata("design:type",Array)],lt.prototype,"CertifierReport",void 0);De.__decorate([(0,Ne.JsonProperty)("conformsTo"),(0,Ne.JsonConverter)(mr.JsonStringConverter),(0,Ne.JsonElementType)(String),De.__metadata("design:type",Array)],lt.prototype,"ConformsTo",void 0);De.__decorate([(0,Ne.JsonProperty)("@type"),De.__metadata("design:type",String)],lt.prototype,"RDFType",void 0);De.__decorate([(0,Ne.JsonProperty)("title"),De.__metadata("design:type",Object)],lt.prototype,"Title",void 0);De.__decorate([(0,Ne.JsonProperty)("subtitle"),De.__metadata("design:type",Object)],lt.prototype,"SubTitle",void 0);De.__decorate([(0,Ne.JsonProperty)("identifier"),De.__metadata("design:type",String)],lt.prototype,"Identifier",void 0);De.__decorate([(0,Ne.JsonProperty)("author"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Author",void 0);De.__decorate([(0,Ne.JsonProperty)("translator"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Translator",void 0);De.__decorate([(0,Ne.JsonProperty)("editor"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Editor",void 0);De.__decorate([(0,Ne.JsonProperty)("artist"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Artist",void 0);De.__decorate([(0,Ne.JsonProperty)("illustrator"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Illustrator",void 0);De.__decorate([(0,Ne.JsonProperty)("letterer"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Letterer",void 0);De.__decorate([(0,Ne.JsonProperty)("penciler"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Penciler",void 0);De.__decorate([(0,Ne.JsonProperty)("colorist"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Colorist",void 0);De.__decorate([(0,Ne.JsonProperty)("inker"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Inker",void 0);De.__decorate([(0,Ne.JsonProperty)("narrator"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Narrator",void 0);De.__decorate([(0,Ne.JsonProperty)("contributor"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Contributor",void 0);De.__decorate([(0,Ne.JsonProperty)("publisher"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Publisher",void 0);De.__decorate([(0,Ne.JsonProperty)("imprint"),(0,Ne.JsonElementType)(yi.Contributor),(0,Ne.JsonConverter)(bi.JsonContributorConverter),De.__metadata("design:type",Array)],lt.prototype,"Imprint",void 0);De.__decorate([(0,Ne.JsonProperty)("language"),(0,Ne.JsonElementType)(String),(0,Ne.JsonConverter)(mr.JsonStringConverter),De.__metadata("design:type",Array)],lt.prototype,"Language",void 0);De.__decorate([(0,Ne.JsonProperty)("modified"),De.__metadata("design:type",Date)],lt.prototype,"Modified",void 0);De.__decorate([(0,Ne.JsonProperty)("published"),De.__metadata("design:type",Date)],lt.prototype,"PublicationDate",void 0);De.__decorate([(0,Ne.JsonProperty)("sortAs"),De.__metadata("design:type",String)],lt.prototype,"SortAs2",void 0);De.__decorate([(0,Ne.JsonProperty)("sort_as"),De.__metadata("design:type",Object)],lt.prototype,"SortAs1",void 0);De.__decorate([(0,Ne.JsonProperty)("description"),De.__metadata("design:type",String)],lt.prototype,"Description",void 0);De.__decorate([(0,Ne.JsonProperty)("readingProgression"),De.__metadata("design:type",String)],lt.prototype,"Direction2",void 0);De.__decorate([(0,Ne.JsonProperty)("direction"),De.__metadata("design:type",Object)],lt.prototype,"Direction1",void 0);De.__decorate([(0,Ne.JsonProperty)("belongsTo"),De.__metadata("design:type",OL.BelongsTo)],lt.prototype,"BelongsTo2",void 0);De.__decorate([(0,Ne.JsonProperty)("belongs_to"),De.__metadata("design:type",Object)],lt.prototype,"BelongsTo1",void 0);De.__decorate([(0,Ne.JsonProperty)("duration"),De.__metadata("design:type",Number)],lt.prototype,"Duration",void 0);De.__decorate([(0,Ne.JsonProperty)("numberOfPages"),De.__metadata("design:type",Number)],lt.prototype,"NumberOfPages",void 0);De.__decorate([(0,Ne.JsonProperty)("media-overlay"),De.__metadata("design:type",RL.MediaOverlay)],lt.prototype,"MediaOverlay",void 0);De.__decorate([(0,Ne.JsonProperty)("rights"),De.__metadata("design:type",String)],lt.prototype,"Rights",void 0);De.__decorate([(0,Ne.JsonProperty)("rendition"),De.__metadata("design:type",PL.Properties)],lt.prototype,"Rendition",void 0);De.__decorate([(0,Ne.JsonProperty)("source"),De.__metadata("design:type",String)],lt.prototype,"Source",void 0);De.__decorate([(0,Ne.JsonProperty)("subject"),(0,Ne.JsonConverter)(kL.JsonSubjectConverter),(0,Ne.JsonElementType)(ML.Subject),De.__metadata("design:type",Array)],lt.prototype,"Subject",void 0);De.__decorate([(0,Ne.OnDeserialized)(),De.__metadata("design:type",Function),De.__metadata("design:paramtypes",[]),De.__metadata("design:returntype",void 0)],lt.prototype,"_OnDeserialized",null);lt=De.__decorate([(0,Ne.JsonObject)()],lt);qr.Metadata=lt});var cw=ve(Gu=>{H();"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.Publication=void 0;var Tt=hr(),IL=Ub(),Bt=Un(),BL=Vs(),NL=lw(),vi=za(),DL=IL("r2:shared#models/publication"),jL="metadata",FL="links",HL="readingOrder",UL="spine",$L="resources",qL="toc",WL="page-list",GL="pageList",zL="landmarks",VL="loi",JL="loa",KL="lov",YL="lot",yn=class{get Spine(){return this.Spine2?this.Spine2:this.Spine1}set Spine(t){t&&(this.Spine1=void 0,this.Spine2=t)}get PageList(){return this.PageList2?this.PageList2:this.PageList1}set PageList(t){t&&(this.PageList1=void 0,this.PageList2=t)}freeDestroy(){if(DL("freeDestroy: Publication"),this.Internal){let t=this.findFromInternal("zip");t&&t.Value.freeDestroy()}}findFromInternal(t){if(this.Internal){let n=this.Internal.find(i=>i.Name===t);if(n)return n}}AddToInternal(t,n){let i=this.findFromInternal(t);if(i)i.Value=n;else{this.Internal||(this.Internal=[]);let o={Name:t,Value:n};this.Internal.push(o)}}GetCover(){return this.searchLinkByRel("cover")}GetNavDoc(){return this.searchLinkByRel("contents")}searchLinkByRel(t){if(this.Resources){let n=this.Resources.find(i=>i.HasRel(t));if(n)return n}if(this.Spine){let n=this.Spine.find(i=>i.HasRel(t));if(n)return n}if(this.Links){let n=this.Links.find(i=>i.HasRel(t));if(n)return n}}AddLink(t,n,i,o){let s=new vi.Link;s.AddRels(n),s.setHrefDecoded(i),s.TypeLink=t,typeof o!="undefined"&&(s.Templated=o),this.Links||(this.Links=[]),this.Links.push(s)}_OnDeserialized(){this.Metadata||console.log("Publication.Metadata is not set!"),this.Spine||console.log("Publication.Spine/ReadingOrder is not set!")}};Tt.__decorate([(0,Bt.JsonProperty)("@context"),(0,Bt.JsonElementType)(String),(0,Bt.JsonConverter)(BL.JsonStringConverter),Tt.__metadata("design:type",Array)],yn.prototype,"Context",void 0);Tt.__decorate([(0,Bt.JsonProperty)(jL),Tt.__metadata("design:type",NL.Metadata)],yn.prototype,"Metadata",void 0);Tt.__decorate([(0,Bt.JsonProperty)(FL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Array)],yn.prototype,"Links",void 0);Tt.__decorate([(0,Bt.JsonProperty)(HL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Array)],yn.prototype,"Spine2",void 0);Tt.__decorate([(0,Bt.JsonProperty)(UL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Object)],yn.prototype,"Spine1",void 0);Tt.__decorate([(0,Bt.JsonProperty)($L),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Array)],yn.prototype,"Resources",void 0);Tt.__decorate([(0,Bt.JsonProperty)(qL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Array)],yn.prototype,"TOC",void 0);Tt.__decorate([(0,Bt.JsonProperty)(GL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Array)],yn.prototype,"PageList2",void 0);Tt.__decorate([(0,Bt.JsonProperty)(WL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Object)],yn.prototype,"PageList1",void 0);Tt.__decorate([(0,Bt.JsonProperty)(zL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Array)],yn.prototype,"Landmarks",void 0);Tt.__decorate([(0,Bt.JsonProperty)(VL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Array)],yn.prototype,"LOI",void 0);Tt.__decorate([(0,Bt.JsonProperty)(JL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Array)],yn.prototype,"LOA",void 0);Tt.__decorate([(0,Bt.JsonProperty)(KL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Array)],yn.prototype,"LOV",void 0);Tt.__decorate([(0,Bt.JsonProperty)(YL),(0,Bt.JsonElementType)(vi.Link),Tt.__metadata("design:type",Array)],yn.prototype,"LOT",void 0);Tt.__decorate([(0,Bt.OnDeserialized)(),Tt.__metadata("design:type",Function),Tt.__metadata("design:paramtypes",[]),Tt.__metadata("design:returntype",void 0)],yn.prototype,"_OnDeserialized",null);yn=Tt.__decorate([(0,Bt.JsonObject)()],yn);Gu.Publication=yn});var yw=ve((pj,ZL)=>{ZL.exports={"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}});var xp=ve(Za=>{H();"use strict";var QL=Za&&Za.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Za,"__esModule",{value:!0});var bw=QL(yw()),eI=String.fromCodePoint||function(r){var t="";return r>65535&&(r-=65536,t+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),t+=String.fromCharCode(r),t};function tI(r){return r>=55296&&r<=57343||r>1114111?"\uFFFD":(r in bw.default&&(r=bw.default[r]),eI(r))}Za.default=tI});var zu=ve((mj,nI)=>{nI.exports={Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",amp:"&",AMP:"&",andand:"\u2A55",And:"\u2A53",and:"\u2227",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angmsd:"\u2221",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",apacir:"\u2A6F",ap:"\u2248",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsolb:"\u29C5",bsol:"\\",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",cap:"\u2229",Cap:"\u22D2",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25CB",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cup:"\u222A",Cup:"\u22D3",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21A1",dArr:"\u21D3",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21CA",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21D3",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21BD",DownRightTeeVector:"\u295F",DownRightVectorBar:"\u2957",DownRightVector:"\u21C1",DownTeeArrow:"\u21A7",DownTee:"\u22A4",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",Ecirc:"\xCA",ecirc:"\xEA",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",gescc:"\u2AA9",ges:"\u2A7E",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2AA5",gl:"\u2277",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gt:">",GT:">",Gt:"\u226B",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",harrcir:"\u2948",harr:"\u2194",hArr:"\u21D4",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",incare:"\u2105",in:"\u2208",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",intcal:"\u22BA",int:"\u222B",Int:"\u222C",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larrb:"\u21E4",larrbfs:"\u291F",larr:"\u2190",Larr:"\u219E",lArr:"\u21D0",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",latail:"\u2919",lAtail:"\u291B",lat:"\u2AAB",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",LeftArrowBar:"\u21E4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21D0",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21C3",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTeeArrow:"\u21A4",LeftTee:"\u22A3",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangleBar:"\u29CF",LeftTriangle:"\u22B2",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21BF",LeftVectorBar:"\u2952",LeftVector:"\u21BC",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",lescc:"\u2AA8",les:"\u2A7D",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21C7",ll:"\u226A",Ll:"\u22D8",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoustache:"\u23B0",lmoust:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftrightarrow:"\u27F7",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longmapsto:"\u27FC",longrightarrow:"\u27F6",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",lt:"<",LT:"<",Lt:"\u226A",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midast:"*",midcir:"\u2AF0",mid:"\u2223",middot:"\xB7",minusb:"\u229F",minus:"\u2212",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266E",naturals:"\u2115",natur:"\u266E",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangle:"\u22EA",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangle:"\u22EB",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",nprec:"\u2280",npreceq:"\u2AAF\u0338",npre:"\u2AAF\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",Ocirc:"\xD4",ocirc:"\xF4",ocir:"\u229A",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",orarr:"\u21BB",Or:"\u2A54",or:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",otimesas:"\u2A36",Otimes:"\u2A37",otimes:"\u2297",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",para:"\xB6",parallel:"\u2225",par:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plus:"+",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",prap:"\u2AB7",Pr:"\u2ABB",pr:"\u227A",prcue:"\u227C",precapprox:"\u2AB7",prec:"\u227A",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",pre:"\u2AAF",prE:"\u2AB3",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportional:"\u221D",Proportion:"\u2237",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21A0",rArr:"\u21D2",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",Re:"\u211C",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrowBar:"\u21E5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21D2",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVectorBar:"\u2955",RightDownVector:"\u21C2",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTeeArrow:"\u21A6",RightTee:"\u22A2",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangleBar:"\u29D0",RightTriangle:"\u22B3",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVectorBar:"\u2954",RightUpVector:"\u21BE",RightVectorBar:"\u2953",RightVector:"\u21C0",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoustache:"\u23B1",rmoust:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2ABC",sc:"\u227B",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdotb:"\u22A1",sdot:"\u22C5",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",solbar:"\u233F",solb:"\u29C4",sol:"/",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squ:"\u25A1",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succapprox:"\u2AB8",succ:"\u227B",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",sup:"\u2283",Sup:"\u22D1",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2A31",timesb:"\u22A0",times:"\xD7",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",topbot:"\u2336",topcir:"\u2AF1",top:"\u22A4",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",uarr:"\u2191",Uarr:"\u219F",uArr:"\u21D1",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21D1",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21D5",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTeeArrow:"\u21A5",UpTee:"\u22A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",veebar:"\u22BB",vee:"\u2228",Vee:"\u22C1",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xharr:"\u27F7",xhArr:"\u27FA",Xi:"\u039E",xi:"\u03BE",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",yuml:"\xFF",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",zfr:"\u{1D537}",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}});var Cp=ve((yj,iI)=>{iI.exports={Aacute:"\xC1",aacute:"\xE1",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",AElig:"\xC6",aelig:"\xE6",Agrave:"\xC0",agrave:"\xE0",amp:"&",AMP:"&",Aring:"\xC5",aring:"\xE5",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",brvbar:"\xA6",Ccedil:"\xC7",ccedil:"\xE7",cedil:"\xB8",cent:"\xA2",copy:"\xA9",COPY:"\xA9",curren:"\xA4",deg:"\xB0",divide:"\xF7",Eacute:"\xC9",eacute:"\xE9",Ecirc:"\xCA",ecirc:"\xEA",Egrave:"\xC8",egrave:"\xE8",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",frac12:"\xBD",frac14:"\xBC",frac34:"\xBE",gt:">",GT:">",Iacute:"\xCD",iacute:"\xED",Icirc:"\xCE",icirc:"\xEE",iexcl:"\xA1",Igrave:"\xCC",igrave:"\xEC",iquest:"\xBF",Iuml:"\xCF",iuml:"\xEF",laquo:"\xAB",lt:"<",LT:"<",macr:"\xAF",micro:"\xB5",middot:"\xB7",nbsp:"\xA0",not:"\xAC",Ntilde:"\xD1",ntilde:"\xF1",Oacute:"\xD3",oacute:"\xF3",Ocirc:"\xD4",ocirc:"\xF4",Ograve:"\xD2",ograve:"\xF2",ordf:"\xAA",ordm:"\xBA",Oslash:"\xD8",oslash:"\xF8",Otilde:"\xD5",otilde:"\xF5",Ouml:"\xD6",ouml:"\xF6",para:"\xB6",plusmn:"\xB1",pound:"\xA3",quot:'"',QUOT:'"',raquo:"\xBB",reg:"\xAE",REG:"\xAE",sect:"\xA7",shy:"\xAD",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",szlig:"\xDF",THORN:"\xDE",thorn:"\xFE",times:"\xD7",Uacute:"\xDA",uacute:"\xFA",Ucirc:"\xDB",ucirc:"\xFB",Ugrave:"\xD9",ugrave:"\xF9",uml:"\xA8",Uuml:"\xDC",uuml:"\xFC",Yacute:"\xDD",yacute:"\xFD",yen:"\xA5",yuml:"\xFF"}});var Vu=ve((bj,rI)=>{rI.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}});var Rp=ve(Qa=>{H();"use strict";var Ju=Qa&&Qa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qa,"__esModule",{value:!0});var oI=Ju(xp()),sI=Ju(zu()),Tp=Ju(Cp()),aI=Ju(Vu());function Di(r){return r===" "||r===`
`||r==="	"||r==="\f"||r==="\r"}function Op(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"}function bn(r,t,n){var i=r.toLowerCase();return r===i?function(o,s){s===i?o._state=t:(o._state=n,o._index--)}:function(o,s){s===i||s===r?o._state=t:(o._state=n,o._index--)}}function Zi(r,t){var n=r.toLowerCase();return function(i,o){o===n||o===r?i._state=t:(i._state=3,i._index--)}}var lI=bn("C",24,16),cI=bn("D",25,16),uI=bn("A",26,16),dI=bn("T",27,16),hI=bn("A",28,16),fI=Zi("R",35),pI=Zi("I",36),gI=Zi("P",37),mI=Zi("T",38),yI=bn("R",40,1),bI=bn("I",41,1),vI=bn("P",42,1),wI=bn("T",43,1),EI=Zi("Y",45),_I=Zi("L",46),SI=Zi("E",47),AI=bn("Y",49,1),xI=bn("L",50,1),CI=bn("E",51,1),TI=Zi("I",54),OI=Zi("T",55),RI=Zi("L",56),PI=Zi("E",57),MI=bn("I",58,1),kI=bn("T",59,1),LI=bn("L",60,1),II=bn("E",61,1),BI=bn("#",63,64),NI=bn("X",66,65),DI=function(){function r(t,n){var i;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=n,this.xmlMode=!!(t==null?void 0:t.xmlMode),this.decodeEntities=(i=t==null?void 0:t.decodeEntities)!==null&&i!==void 0?i:!0}return r.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},r.prototype.write=function(t){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=t,this.parse()},r.prototype.end=function(t){this.ended&&this.cbs.onerror(Error(".end() after done!")),t&&this.write(t),this.ended=!0,this.running&&this.finish()},r.prototype.pause=function(){this.running=!1},r.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},r.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},r.prototype.stateText=function(t){t==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):this.decodeEntities&&t==="&"&&(this.special===1||this.special===4)&&(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},r.prototype.stateBeforeTagName=function(t){t==="/"?this._state=5:t==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):t===">"||this.special!==1||Di(t)?this._state=1:t==="!"?(this._state=15,this.sectionStart=this._index+1):t==="?"?(this._state=17,this.sectionStart=this._index+1):Op(t)?(this._state=!this.xmlMode&&(t==="s"||t==="S")?32:!this.xmlMode&&(t==="t"||t==="T")?52:3,this.sectionStart=this._index):this._state=1},r.prototype.stateInTagName=function(t){(t==="/"||t===">"||Di(t))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},r.prototype.stateBeforeClosingTagName=function(t){Di(t)||(t===">"?this._state=1:this.special!==1?this.special!==4&&(t==="s"||t==="S")?this._state=33:this.special===4&&(t==="t"||t==="T")?this._state=53:(this._state=1,this._index--):Op(t)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},r.prototype.stateInClosingTagName=function(t){(t===">"||Di(t))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},r.prototype.stateAfterClosingTagName=function(t){t===">"&&(this._state=1,this.sectionStart=this._index+1)},r.prototype.stateBeforeAttributeName=function(t){t===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):t==="/"?this._state=4:Di(t)||(this._state=9,this.sectionStart=this._index)},r.prototype.stateInSelfClosingTag=function(t){t===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):Di(t)||(this._state=8,this._index--)},r.prototype.stateInAttributeName=function(t){(t==="="||t==="/"||t===">"||Di(t))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},r.prototype.stateAfterAttributeName=function(t){t==="="?this._state=11:t==="/"||t===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):Di(t)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},r.prototype.stateBeforeAttributeValue=function(t){t==='"'?(this._state=12,this.sectionStart=this._index+1):t==="'"?(this._state=13,this.sectionStart=this._index+1):Di(t)||(this._state=14,this.sectionStart=this._index,this._index--)},r.prototype.handleInAttributeValue=function(t,n){t===n?(this.emitToken("onattribdata"),this.cbs.onattribend(n),this._state=8):this.decodeEntities&&t==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},r.prototype.stateInAttributeValueDoubleQuotes=function(t){this.handleInAttributeValue(t,'"')},r.prototype.stateInAttributeValueSingleQuotes=function(t){this.handleInAttributeValue(t,"'")},r.prototype.stateInAttributeValueNoQuotes=function(t){Di(t)||t===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&t==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},r.prototype.stateBeforeDeclaration=function(t){this._state=t==="["?23:t==="-"?18:16},r.prototype.stateInDeclaration=function(t){t===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},r.prototype.stateInProcessingInstruction=function(t){t===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},r.prototype.stateBeforeComment=function(t){t==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},r.prototype.stateInComment=function(t){t==="-"&&(this._state=21)},r.prototype.stateInSpecialComment=function(t){t===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},r.prototype.stateAfterComment1=function(t){t==="-"?this._state=22:this._state=19},r.prototype.stateAfterComment2=function(t){t===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):t!=="-"&&(this._state=19)},r.prototype.stateBeforeCdata6=function(t){t==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},r.prototype.stateInCdata=function(t){t==="]"&&(this._state=30)},r.prototype.stateAfterCdata1=function(t){t==="]"?this._state=31:this._state=29},r.prototype.stateAfterCdata2=function(t){t===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):t!=="]"&&(this._state=29)},r.prototype.stateBeforeSpecialS=function(t){t==="c"||t==="C"?this._state=34:t==="t"||t==="T"?this._state=44:(this._state=3,this._index--)},r.prototype.stateBeforeSpecialSEnd=function(t){this.special===2&&(t==="c"||t==="C")?this._state=39:this.special===3&&(t==="t"||t==="T")?this._state=48:this._state=1},r.prototype.stateBeforeSpecialLast=function(t,n){(t==="/"||t===">"||Di(t))&&(this.special=n),this._state=3,this._index--},r.prototype.stateAfterSpecialLast=function(t,n){t===">"||Di(t)?(this.special=1,this._state=6,this.sectionStart=this._index-n,this._index--):this._state=1},r.prototype.parseFixedEntity=function(t){if(t===void 0&&(t=this.xmlMode?aI.default:sI.default),this.sectionStart+1<this._index){var n=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(t,n)&&(this.emitPartial(t[n]),this.sectionStart=this._index+1)}},r.prototype.parseLegacyEntity=function(){for(var t=this.sectionStart+1,n=Math.min(this._index-t,6);n>=2;){var i=this.buffer.substr(t,n);if(Object.prototype.hasOwnProperty.call(Tp.default,i)){this.emitPartial(Tp.default[i]),this.sectionStart+=n+1;return}n--}},r.prototype.stateInNamedEntity=function(t){t===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(t<"0"||t>"9")&&!Op(t)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?t!=="="&&this.parseFixedEntity(Tp.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},r.prototype.decodeNumericEntity=function(t,n,i){var o=this.sectionStart+t;if(o!==this._index){var s=this.buffer.substring(o,this._index),l=parseInt(s,n);this.emitPartial(oI.default(l)),this.sectionStart=i?this._index+1:this._index}this._state=this.baseState},r.prototype.stateInNumericEntity=function(t){t===";"?this.decodeNumericEntity(2,10,!0):(t<"0"||t>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},r.prototype.stateInHexEntity=function(t){t===";"?this.decodeNumericEntity(3,16,!0):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},r.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},r.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var t=this.buffer.charAt(this._index);this._state===1?this.stateText(t):this._state===12?this.stateInAttributeValueDoubleQuotes(t):this._state===9?this.stateInAttributeName(t):this._state===19?this.stateInComment(t):this._state===20?this.stateInSpecialComment(t):this._state===8?this.stateBeforeAttributeName(t):this._state===3?this.stateInTagName(t):this._state===6?this.stateInClosingTagName(t):this._state===2?this.stateBeforeTagName(t):this._state===10?this.stateAfterAttributeName(t):this._state===13?this.stateInAttributeValueSingleQuotes(t):this._state===11?this.stateBeforeAttributeValue(t):this._state===5?this.stateBeforeClosingTagName(t):this._state===7?this.stateAfterClosingTagName(t):this._state===32?this.stateBeforeSpecialS(t):this._state===21?this.stateAfterComment1(t):this._state===14?this.stateInAttributeValueNoQuotes(t):this._state===4?this.stateInSelfClosingTag(t):this._state===16?this.stateInDeclaration(t):this._state===15?this.stateBeforeDeclaration(t):this._state===22?this.stateAfterComment2(t):this._state===18?this.stateBeforeComment(t):this._state===33?this.stateBeforeSpecialSEnd(t):this._state===53?MI(this,t):this._state===39?yI(this,t):this._state===40?bI(this,t):this._state===41?vI(this,t):this._state===34?fI(this,t):this._state===35?pI(this,t):this._state===36?gI(this,t):this._state===37?mI(this,t):this._state===38?this.stateBeforeSpecialLast(t,2):this._state===42?wI(this,t):this._state===43?this.stateAfterSpecialLast(t,6):this._state===44?EI(this,t):this._state===29?this.stateInCdata(t):this._state===45?_I(this,t):this._state===46?SI(this,t):this._state===47?this.stateBeforeSpecialLast(t,3):this._state===48?AI(this,t):this._state===49?xI(this,t):this._state===50?CI(this,t):this._state===51?this.stateAfterSpecialLast(t,5):this._state===52?TI(this,t):this._state===54?OI(this,t):this._state===55?RI(this,t):this._state===56?PI(this,t):this._state===57?this.stateBeforeSpecialLast(t,4):this._state===58?kI(this,t):this._state===59?LI(this,t):this._state===60?II(this,t):this._state===61?this.stateAfterSpecialLast(t,5):this._state===17?this.stateInProcessingInstruction(t):this._state===64?this.stateInNamedEntity(t):this._state===23?lI(this,t):this._state===62?BI(this,t):this._state===24?cI(this,t):this._state===25?uI(this,t):this._state===30?this.stateAfterCdata1(t):this._state===31?this.stateAfterCdata2(t):this._state===26?dI(this,t):this._state===27?hI(this,t):this._state===28?this.stateBeforeCdata6(t):this._state===66?this.stateInHexEntity(t):this._state===65?this.stateInNumericEntity(t):this._state===63?NI(this,t):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},r.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},r.prototype.handleTrailingData=function(){var t=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(t):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(t):this._state===64&&!this.xmlMode?(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===65&&!this.xmlMode?(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===66&&!this.xmlMode?(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(t)},r.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},r.prototype.emitToken=function(t){this.cbs[t](this.getSection()),this.sectionStart=-1},r.prototype.emitPartial=function(t){this.baseState!==1?this.cbs.onattribdata(t):this.cbs.ontext(t)},r}();Qa.default=DI});var Mp=ve(Zs=>{H();"use strict";var jI=Zs&&Zs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.Parser=void 0;var FI=jI(Rp()),Xs=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ut=new Set(["p"]),vw={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:Ut,h1:Ut,h2:Ut,h3:Ut,h4:Ut,h5:Ut,h6:Ut,select:Xs,input:Xs,output:Xs,button:Xs,datalist:Xs,textarea:Xs,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:Ut,article:Ut,aside:Ut,blockquote:Ut,details:Ut,div:Ut,dl:Ut,fieldset:Ut,figcaption:Ut,figure:Ut,footer:Ut,form:Ut,header:Ut,hr:Ut,main:Ut,nav:Ut,ol:Ut,pre:Ut,section:Ut,table:Ut,ul:Ut,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},Pp=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),ww=new Set(["math","svg"]),Ew=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),HI=/\s|\//,UI=function(){function r(t,n){n===void 0&&(n={});var i,o,s,l,u;this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=n,this.cbs=t??{},this.lowerCaseTagNames=(i=n.lowerCaseTags)!==null&&i!==void 0?i:!n.xmlMode,this.lowerCaseAttributeNames=(o=n.lowerCaseAttributeNames)!==null&&o!==void 0?o:!n.xmlMode,this.tokenizer=new((s=n.Tokenizer)!==null&&s!==void 0?s:FI.default)(this.options,this),(u=(l=this.cbs).onparserinit)===null||u===void 0||u.call(l,this)}return r.prototype.updatePosition=function(t){this.endIndex===null?this.tokenizer.sectionStart<=t?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},r.prototype.ontext=function(t){var n,i;this.updatePosition(1),this.endIndex--,(i=(n=this.cbs).ontext)===null||i===void 0||i.call(n,t)},r.prototype.onopentagname=function(t){var n,i;if(this.lowerCaseTagNames&&(t=t.toLowerCase()),this.tagname=t,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(vw,t))for(var o=void 0;this.stack.length>0&&vw[t].has(o=this.stack[this.stack.length-1]);)this.onclosetag(o);(this.options.xmlMode||!Pp.has(t))&&(this.stack.push(t),ww.has(t)?this.foreignContext.push(!0):Ew.has(t)&&this.foreignContext.push(!1)),(i=(n=this.cbs).onopentagname)===null||i===void 0||i.call(n,t),this.cbs.onopentag&&(this.attribs={})},r.prototype.onopentagend=function(){var t,n;this.updatePosition(1),this.attribs&&((n=(t=this.cbs).onopentag)===null||n===void 0||n.call(t,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&Pp.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},r.prototype.onclosetag=function(t){if(this.updatePosition(1),this.lowerCaseTagNames&&(t=t.toLowerCase()),(ww.has(t)||Ew.has(t))&&this.foreignContext.pop(),this.stack.length&&(this.options.xmlMode||!Pp.has(t))){var n=this.stack.lastIndexOf(t);if(n!==-1)if(this.cbs.onclosetag)for(n=this.stack.length-n;n--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=n;else t==="p"&&!this.options.xmlMode&&(this.onopentagname(t),this.closeCurrentTag())}else!this.options.xmlMode&&(t==="br"||t==="p")&&(this.onopentagname(t),this.closeCurrentTag())},r.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},r.prototype.closeCurrentTag=function(){var t,n,i=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===i&&((n=(t=this.cbs).onclosetag)===null||n===void 0||n.call(t,i),this.stack.pop())},r.prototype.onattribname=function(t){this.lowerCaseAttributeNames&&(t=t.toLowerCase()),this.attribname=t},r.prototype.onattribdata=function(t){this.attribvalue+=t},r.prototype.onattribend=function(t){var n,i;(i=(n=this.cbs).onattribute)===null||i===void 0||i.call(n,this.attribname,this.attribvalue,t),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},r.prototype.getInstructionName=function(t){var n=t.search(HI),i=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(i=i.toLowerCase()),i},r.prototype.ondeclaration=function(t){if(this.cbs.onprocessinginstruction){var n=this.getInstructionName(t);this.cbs.onprocessinginstruction("!"+n,"!"+t)}},r.prototype.onprocessinginstruction=function(t){if(this.cbs.onprocessinginstruction){var n=this.getInstructionName(t);this.cbs.onprocessinginstruction("?"+n,"?"+t)}},r.prototype.oncomment=function(t){var n,i,o,s;this.updatePosition(4),(i=(n=this.cbs).oncomment)===null||i===void 0||i.call(n,t),(s=(o=this.cbs).oncommentend)===null||s===void 0||s.call(o)},r.prototype.oncdata=function(t){var n,i,o,s,l,u;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((i=(n=this.cbs).oncdatastart)===null||i===void 0||i.call(n),(s=(o=this.cbs).ontext)===null||s===void 0||s.call(o,t),(u=(l=this.cbs).oncdataend)===null||u===void 0||u.call(l)):this.oncomment("[CDATA["+t+"]]")},r.prototype.onerror=function(t){var n,i;(i=(n=this.cbs).onerror)===null||i===void 0||i.call(n,t)},r.prototype.onend=function(){var t,n;if(this.cbs.onclosetag)for(var i=this.stack.length;i>0;this.cbs.onclosetag(this.stack[--i]));(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)},r.prototype.reset=function(){var t,n,i,o;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(o=(i=this.cbs).onparserinit)===null||o===void 0||o.call(i,this)},r.prototype.parseComplete=function(t){this.reset(),this.end(t)},r.prototype.write=function(t){this.tokenizer.write(t)},r.prototype.end=function(t){this.tokenizer.end(t)},r.prototype.pause=function(){this.tokenizer.pause()},r.prototype.resume=function(){this.tokenizer.resume()},r.prototype.parseChunk=function(t){this.write(t)},r.prototype.done=function(t){this.end(t)},r}();Zs.Parser=UI});var Qs=ve(Gt=>{H();"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.Doctype=Gt.CDATA=Gt.Tag=Gt.Style=Gt.Script=Gt.Comment=Gt.Directive=Gt.Text=Gt.Root=Gt.isTag=Gt.ElementType=void 0;var Ei;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(Ei=Gt.ElementType||(Gt.ElementType={}));function $I(r){return r.type===Ei.Tag||r.type===Ei.Script||r.type===Ei.Style}Gt.isTag=$I;Gt.Root=Ei.Root;Gt.Text=Ei.Text;Gt.Directive=Ei.Directive;Gt.Comment=Ei.Comment;Gt.Script=Ei.Script;Gt.Style=Ei.Style;Gt.Tag=Ei.Tag;Gt.CDATA=Ei.CDATA;Gt.Doctype=Ei.Doctype});var Bp=ve(vt=>{H();"use strict";var es=vt&&vt.__extends||function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),el=vt&&vt.__assign||function(){return el=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},el.apply(this,arguments)};Object.defineProperty(vt,"__esModule",{value:!0});vt.cloneNode=vt.hasChildren=vt.isDocument=vt.isDirective=vt.isComment=vt.isText=vt.isCDATA=vt.isTag=vt.Element=vt.Document=vt.NodeWithChildren=vt.ProcessingInstruction=vt.Comment=vt.Text=vt.DataNode=vt.Node=void 0;var en=Qs(),qI=new Map([[en.ElementType.Tag,1],[en.ElementType.Script,1],[en.ElementType.Style,1],[en.ElementType.Directive,1],[en.ElementType.Text,3],[en.ElementType.CDATA,4],[en.ElementType.Comment,8],[en.ElementType.Root,9]]),kp=function(){function r(t){this.type=t,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(r.prototype,"nodeType",{get:function(){var t;return(t=qI.get(this.type))!==null&&t!==void 0?t:1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),r.prototype.cloneNode=function(t){return t===void 0&&(t=!1),Lp(this,t)},r}();vt.Node=kp;var Ku=function(r){es(t,r);function t(n,i){var o=r.call(this,n)||this;return o.data=i,o}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(kp);vt.DataNode=Ku;var _w=function(r){es(t,r);function t(n){return r.call(this,en.ElementType.Text,n)||this}return t}(Ku);vt.Text=_w;var Sw=function(r){es(t,r);function t(n){return r.call(this,en.ElementType.Comment,n)||this}return t}(Ku);vt.Comment=Sw;var Aw=function(r){es(t,r);function t(n,i){var o=r.call(this,en.ElementType.Directive,i)||this;return o.name=n,o}return t}(Ku);vt.ProcessingInstruction=Aw;var Yu=function(r){es(t,r);function t(n,i){var o=r.call(this,n)||this;return o.children=i,o}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(kp);vt.NodeWithChildren=Yu;var xw=function(r){es(t,r);function t(n){return r.call(this,en.ElementType.Root,n)||this}return t}(Yu);vt.Document=xw;var Cw=function(r){es(t,r);function t(n,i,o,s){o===void 0&&(o=[]),s===void 0&&(s=n==="script"?en.ElementType.Script:n==="style"?en.ElementType.Style:en.ElementType.Tag);var l=r.call(this,s,o)||this;return l.name=n,l.attribs=i,l}return Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(i){var o,s;return{name:i,value:n.attribs[i],namespace:(o=n["x-attribsNamespace"])===null||o===void 0?void 0:o[i],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[i]}})},enumerable:!1,configurable:!0}),t}(Yu);vt.Element=Cw;function Tw(r){return(0,en.isTag)(r)}vt.isTag=Tw;function Ow(r){return r.type===en.ElementType.CDATA}vt.isCDATA=Ow;function Rw(r){return r.type===en.ElementType.Text}vt.isText=Rw;function Pw(r){return r.type===en.ElementType.Comment}vt.isComment=Pw;function Mw(r){return r.type===en.ElementType.Directive}vt.isDirective=Mw;function kw(r){return r.type===en.ElementType.Root}vt.isDocument=kw;function WI(r){return Object.prototype.hasOwnProperty.call(r,"children")}vt.hasChildren=WI;function Lp(r,t){t===void 0&&(t=!1);var n;if(Rw(r))n=new _w(r.data);else if(Pw(r))n=new Sw(r.data);else if(Tw(r)){var i=t?Ip(r.children):[],o=new Cw(r.name,el({},r.attribs),i);i.forEach(function(d){return d.parent=o}),r.namespace!=null&&(o.namespace=r.namespace),r["x-attribsNamespace"]&&(o["x-attribsNamespace"]=el({},r["x-attribsNamespace"])),r["x-attribsPrefix"]&&(o["x-attribsPrefix"]=el({},r["x-attribsPrefix"])),n=o}else if(Ow(r)){var i=t?Ip(r.children):[],s=new Yu(en.ElementType.CDATA,i);i.forEach(function(h){return h.parent=s}),n=s}else if(kw(r)){var i=t?Ip(r.children):[],l=new xw(i);i.forEach(function(h){return h.parent=l}),r["x-mode"]&&(l["x-mode"]=r["x-mode"]),n=l}else if(Mw(r)){var u=new Aw(r.name,r.data);r["x-name"]!=null&&(u["x-name"]=r["x-name"],u["x-publicId"]=r["x-publicId"],u["x-systemId"]=r["x-systemId"]),n=u}else throw new Error("Not implemented yet: ".concat(r.type));return n.startIndex=r.startIndex,n.endIndex=r.endIndex,r.sourceCodeLocation!=null&&(n.sourceCodeLocation=r.sourceCodeLocation),n}vt.cloneNode=Lp;function Ip(r){for(var t=r.map(function(i){return Lp(i,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}});var zr=ve(yr=>{H();"use strict";var GI=yr&&yr.__createBinding||(Object.create?function(r,t,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(r,i,o)}:function(r,t,n,i){i===void 0&&(i=n),r[i]=t[n]}),zI=yr&&yr.__exportStar||function(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&GI(t,r,n)};Object.defineProperty(yr,"__esModule",{value:!0});yr.DomHandler=void 0;var Xu=Qs(),vo=Bp();zI(Bp(),yr);var Lw=/\s+/g,Iw={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},Bw=function(){function r(t,n,i){this.dom=[],this.root=new vo.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(i=n,n=Iw),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??Iw,this.elementCB=i??null}return r.prototype.onparserinit=function(t){this.parser=t},r.prototype.onreset=function(){this.dom=[],this.root=new vo.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},r.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},r.prototype.onerror=function(t){this.handleCallback(t)},r.prototype.onclosetag=function(){this.lastNode=null;var t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)},r.prototype.onopentag=function(t,n){var i=this.options.xmlMode?Xu.ElementType.Tag:void 0,o=new vo.Element(t,n,void 0,i);this.addNode(o),this.tagStack.push(o)},r.prototype.ontext=function(t){var n=this.options.normalizeWhitespace,i=this.lastNode;if(i&&i.type===Xu.ElementType.Text)n?i.data=(i.data+t).replace(Lw," "):i.data+=t,this.options.withEndIndices&&(i.endIndex=this.parser.endIndex);else{n&&(t=t.replace(Lw," "));var o=new vo.Text(t);this.addNode(o),this.lastNode=o}},r.prototype.oncomment=function(t){if(this.lastNode&&this.lastNode.type===Xu.ElementType.Comment){this.lastNode.data+=t;return}var n=new vo.Comment(t);this.addNode(n),this.lastNode=n},r.prototype.oncommentend=function(){this.lastNode=null},r.prototype.oncdatastart=function(){var t=new vo.Text(""),n=new vo.NodeWithChildren(Xu.ElementType.CDATA,[t]);this.addNode(n),t.parent=n,this.lastNode=t},r.prototype.oncdataend=function(){this.lastNode=null},r.prototype.onprocessinginstruction=function(t,n){var i=new vo.ProcessingInstruction(t,n);this.addNode(i)},r.prototype.handleCallback=function(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t},r.prototype.addNode=function(t){var n=this.tagStack[this.tagStack.length-1],i=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),i&&(t.prev=i,i.next=t),t.parent=n,this.lastNode=null},r}();yr.DomHandler=Bw;yr.default=Bw});var Dp=ve(br=>{H();"use strict";var Zu=br&&br.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(br,"__esModule",{value:!0});br.decodeHTML=br.decodeHTMLStrict=br.decodeXML=void 0;var Np=Zu(zu()),VI=Zu(Cp()),JI=Zu(Vu()),Nw=Zu(xp()),KI=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;br.decodeXML=Dw(JI.default);br.decodeHTMLStrict=Dw(Np.default);function Dw(r){var t=Fw(r);return function(n){return String(n).replace(KI,t)}}var jw=function(r,t){return r<t?1:-1};br.decodeHTML=function(){for(var r=Object.keys(VI.default).sort(jw),t=Object.keys(Np.default).sort(jw),n=0,i=0;n<t.length;n++)r[i]===t[n]?(t[n]+=";?",i++):t[n]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=Fw(Np.default);function l(u){return u.substr(-1)!==";"&&(u+=";"),s(u)}return function(u){return String(u).replace(o,l)}}();function Fw(r){return function(n){if(n.charAt(1)==="#"){var i=n.charAt(2);return i==="X"||i==="x"?Nw.default(parseInt(n.substr(3),16)):Nw.default(parseInt(n.substr(2),10))}return r[n.slice(1,-1)]||n}}});var Fp=ve(Kn=>{H();"use strict";var Hw=Kn&&Kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.escapeUTF8=Kn.escape=Kn.encodeNonAsciiHTML=Kn.encodeHTML=Kn.encodeXML=void 0;var YI=Hw(Vu()),Uw=qw(YI.default),$w=Ww(Uw);Kn.encodeXML=Vw(Uw);var XI=Hw(zu()),jp=qw(XI.default),ZI=Ww(jp);Kn.encodeHTML=eB(jp,ZI);Kn.encodeNonAsciiHTML=Vw(jp);function qw(r){return Object.keys(r).sort().reduce(function(t,n){return t[r[n]]="&"+n+";",t},{})}function Ww(r){for(var t=[],n=[],i=0,o=Object.keys(r);i<o.length;i++){var s=o[i];s.length===1?t.push("\\"+s):n.push(s)}t.sort();for(var l=0;l<t.length-1;l++){for(var u=l;u<t.length-1&&t[u].charCodeAt(1)+1===t[u+1].charCodeAt(1);)u+=1;var d=1+u-l;d<3||t.splice(l,d,t[l]+"-"+t[u])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}var Gw=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,QI=String.prototype.codePointAt!=null?function(r){return r.codePointAt(0)}:function(r){return(r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536};function Qu(r){return"&#x"+(r.length>1?QI(r):r.charCodeAt(0)).toString(16).toUpperCase()+";"}function eB(r,t){return function(n){return n.replace(t,function(i){return r[i]}).replace(Gw,Qu)}}var zw=new RegExp($w.source+"|"+Gw.source,"g");function tB(r){return r.replace(zw,Qu)}Kn.escape=tB;function nB(r){return r.replace($w,Qu)}Kn.escapeUTF8=nB;function Vw(r){return function(t){return t.replace(zw,function(n){return r[n]||Qu(n)})}}});var Kw=ve(wt=>{H();"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.decodeXMLStrict=wt.decodeHTML5Strict=wt.decodeHTML4Strict=wt.decodeHTML5=wt.decodeHTML4=wt.decodeHTMLStrict=wt.decodeHTML=wt.decodeXML=wt.encodeHTML5=wt.encodeHTML4=wt.escapeUTF8=wt.escape=wt.encodeNonAsciiHTML=wt.encodeHTML=wt.encodeXML=wt.encode=wt.decodeStrict=wt.decode=void 0;var ed=Dp(),Jw=Fp();function iB(r,t){return(!t||t<=0?ed.decodeXML:ed.decodeHTML)(r)}wt.decode=iB;function rB(r,t){return(!t||t<=0?ed.decodeXML:ed.decodeHTMLStrict)(r)}wt.decodeStrict=rB;function oB(r,t){return(!t||t<=0?Jw.encodeXML:Jw.encodeHTML)(r)}wt.encode=oB;var ts=Fp();Object.defineProperty(wt,"encodeXML",{enumerable:!0,get:function(){return ts.encodeXML}});Object.defineProperty(wt,"encodeHTML",{enumerable:!0,get:function(){return ts.encodeHTML}});Object.defineProperty(wt,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return ts.encodeNonAsciiHTML}});Object.defineProperty(wt,"escape",{enumerable:!0,get:function(){return ts.escape}});Object.defineProperty(wt,"escapeUTF8",{enumerable:!0,get:function(){return ts.escapeUTF8}});Object.defineProperty(wt,"encodeHTML4",{enumerable:!0,get:function(){return ts.encodeHTML}});Object.defineProperty(wt,"encodeHTML5",{enumerable:!0,get:function(){return ts.encodeHTML}});var wo=Dp();Object.defineProperty(wt,"decodeXML",{enumerable:!0,get:function(){return wo.decodeXML}});Object.defineProperty(wt,"decodeHTML",{enumerable:!0,get:function(){return wo.decodeHTML}});Object.defineProperty(wt,"decodeHTMLStrict",{enumerable:!0,get:function(){return wo.decodeHTMLStrict}});Object.defineProperty(wt,"decodeHTML4",{enumerable:!0,get:function(){return wo.decodeHTML}});Object.defineProperty(wt,"decodeHTML5",{enumerable:!0,get:function(){return wo.decodeHTML}});Object.defineProperty(wt,"decodeHTML4Strict",{enumerable:!0,get:function(){return wo.decodeHTMLStrict}});Object.defineProperty(wt,"decodeHTML5Strict",{enumerable:!0,get:function(){return wo.decodeHTMLStrict}});Object.defineProperty(wt,"decodeXMLStrict",{enumerable:!0,get:function(){return wo.decodeXML}})});var Yw=ve(ea=>{H();"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.attributeNames=ea.elementNames=void 0;ea.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]);ea.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])});var e2=ve(Qi=>{H();"use strict";var ta=Qi&&Qi.__assign||function(){return ta=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},ta.apply(this,arguments)},sB=Qi&&Qi.__createBinding||(Object.create?function(r,t,n,i){i===void 0&&(i=n),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[n]}})}:function(r,t,n,i){i===void 0&&(i=n),r[i]=t[n]}),aB=Qi&&Qi.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),lB=Qi&&Qi.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var n in r)n!=="default"&&Object.prototype.hasOwnProperty.call(r,n)&&sB(t,r,n);return aB(t,r),t};Object.defineProperty(Qi,"__esModule",{value:!0});var Vr=lB(Qs()),Xw=Kw(),Zw=Yw(),cB=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function uB(r,t){if(!!r)return Object.keys(r).map(function(n){var i,o,s=(i=r[n])!==null&&i!==void 0?i:"";return t.xmlMode==="foreign"&&(n=(o=Zw.attributeNames.get(n))!==null&&o!==void 0?o:n),!t.emptyAttrs&&!t.xmlMode&&s===""?n:n+'="'+(t.decodeEntities?Xw.encodeXML(s):s.replace(/"/g,"&quot;"))+'"'}).join(" ")}var Qw=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Hp(r,t){t===void 0&&(t={});for(var n=Array.isArray(r)||r.cheerio?r:[r],i="",o=0;o<n.length;o++)i+=dB(n[o],t);return i}Qi.default=Hp;function dB(r,t){switch(r.type){case Vr.Root:return Hp(r.children,t);case Vr.Directive:case Vr.Doctype:return gB(r);case Vr.Comment:return bB(r);case Vr.CDATA:return yB(r);case Vr.Script:case Vr.Style:case Vr.Tag:return pB(r,t);case Vr.Text:return mB(r,t)}}var hB=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),fB=new Set(["svg","math"]);function pB(r,t){var n;t.xmlMode==="foreign"&&(r.name=(n=Zw.elementNames.get(r.name))!==null&&n!==void 0?n:r.name,r.parent&&hB.has(r.parent.name)&&(t=ta(ta({},t),{xmlMode:!1}))),!t.xmlMode&&fB.has(r.name)&&(t=ta(ta({},t),{xmlMode:"foreign"}));var i="<"+r.name,o=uB(r.attribs,t);return o&&(i+=" "+o),r.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&Qw.has(r.name))?(t.xmlMode||(i+=" "),i+="/>"):(i+=">",r.children.length>0&&(i+=Hp(r.children,t)),(t.xmlMode||!Qw.has(r.name))&&(i+="</"+r.name+">")),i}function gB(r){return"<"+r.data+">"}function mB(r,t){var n=r.data||"";return t.decodeEntities&&!(r.parent&&cB.has(r.parent.name))&&(n=Xw.encodeXML(n)),n}function yB(r){return"<![CDATA["+r.children[0].data+"]]>"}function bB(r){return"<!--"+r.data+"-->"}});var qp=ve(Yn=>{H();"use strict";var vB=Yn&&Yn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.innerText=Yn.textContent=Yn.getText=Yn.getInnerHTML=Yn.getOuterHTML=void 0;var vr=zr(),wB=vB(e2()),EB=Qs();function t2(r,t){return(0,wB.default)(r,t)}Yn.getOuterHTML=t2;function _B(r,t){return(0,vr.hasChildren)(r)?r.children.map(function(n){return t2(n,t)}).join(""):""}Yn.getInnerHTML=_B;function td(r){return Array.isArray(r)?r.map(td).join(""):(0,vr.isTag)(r)?r.name==="br"?`
`:td(r.children):(0,vr.isCDATA)(r)?td(r.children):(0,vr.isText)(r)?r.data:""}Yn.getText=td;function Up(r){return Array.isArray(r)?r.map(Up).join(""):(0,vr.hasChildren)(r)&&!(0,vr.isComment)(r)?Up(r.children):(0,vr.isText)(r)?r.data:""}Yn.textContent=Up;function $p(r){return Array.isArray(r)?r.map($p).join(""):(0,vr.hasChildren)(r)&&(r.type===EB.ElementType.Tag||(0,vr.isCDATA)(r))?$p(r.children):(0,vr.isText)(r)?r.data:""}Yn.innerText=$p});var o2=ve(vn=>{H();"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.prevElementSibling=vn.nextElementSibling=vn.getName=vn.hasAttrib=vn.getAttributeValue=vn.getSiblings=vn.getParent=vn.getChildren=void 0;var n2=zr(),SB=[];function i2(r){var t;return(t=r.children)!==null&&t!==void 0?t:SB}vn.getChildren=i2;function r2(r){return r.parent||null}vn.getParent=r2;function AB(r){var t,n,i=r2(r);if(i!=null)return i2(i);for(var o=[r],s=r.prev,l=r.next;s!=null;)o.unshift(s),t=s,s=t.prev;for(;l!=null;)o.push(l),n=l,l=n.next;return o}vn.getSiblings=AB;function xB(r,t){var n;return(n=r.attribs)===null||n===void 0?void 0:n[t]}vn.getAttributeValue=xB;function CB(r,t){return r.attribs!=null&&Object.prototype.hasOwnProperty.call(r.attribs,t)&&r.attribs[t]!=null}vn.hasAttrib=CB;function TB(r){return r.name}vn.getName=TB;function OB(r){for(var t,n=r.next;n!==null&&!(0,n2.isTag)(n);)t=n,n=t.next;return n}vn.nextElementSibling=OB;function RB(r){for(var t,n=r.prev;n!==null&&!(0,n2.isTag)(n);)t=n,n=t.prev;return n}vn.prevElementSibling=RB});var s2=ve(Xn=>{H();"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.prepend=Xn.prependChild=Xn.append=Xn.appendChild=Xn.replaceElement=Xn.removeElement=void 0;function tl(r){if(r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),r.parent){var t=r.parent.children;t.splice(t.lastIndexOf(r),1)}}Xn.removeElement=tl;function PB(r,t){var n=t.prev=r.prev;n&&(n.next=t);var i=t.next=r.next;i&&(i.prev=t);var o=t.parent=r.parent;if(o){var s=o.children;s[s.lastIndexOf(r)]=t}}Xn.replaceElement=PB;function MB(r,t){if(tl(t),t.next=null,t.parent=r,r.children.push(t)>1){var n=r.children[r.children.length-2];n.next=t,t.prev=n}else t.prev=null}Xn.appendChild=MB;function kB(r,t){tl(t);var n=r.parent,i=r.next;if(t.next=i,t.prev=r,r.next=t,t.parent=n,i){if(i.prev=t,n){var o=n.children;o.splice(o.lastIndexOf(i),0,t)}}else n&&n.children.push(t)}Xn.append=kB;function LB(r,t){if(tl(t),t.parent=r,t.prev=null,r.children.unshift(t)!==1){var n=r.children[1];n.prev=t,t.next=n}else t.next=null}Xn.prependChild=LB;function IB(r,t){tl(t);var n=r.parent;if(n){var i=n.children;i.splice(i.indexOf(r),0,t)}r.prev&&(r.prev.next=t),t.parent=n,t.prev=r.prev,t.next=r,r.prev=t}Xn.prepend=IB});var Gp=ve(Zn=>{H();"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.findAll=Zn.existsOne=Zn.findOne=Zn.findOneChild=Zn.find=Zn.filter=void 0;var nl=zr();function BB(r,t,n,i){return n===void 0&&(n=!0),i===void 0&&(i=1/0),Array.isArray(t)||(t=[t]),Wp(r,t,n,i)}Zn.filter=BB;function Wp(r,t,n,i){for(var o=[],s=0,l=t;s<l.length;s++){var u=l[s];if(r(u)&&(o.push(u),--i<=0))break;if(n&&(0,nl.hasChildren)(u)&&u.children.length>0){var d=Wp(r,u.children,n,i);if(o.push.apply(o,d),i-=d.length,i<=0)break}}return o}Zn.find=Wp;function NB(r,t){return t.find(r)}Zn.findOneChild=NB;function a2(r,t,n){n===void 0&&(n=!0);for(var i=null,o=0;o<t.length&&!i;o++){var s=t[o];if((0,nl.isTag)(s))r(s)?i=s:n&&s.children.length>0&&(i=a2(r,s.children));else continue}return i}Zn.findOne=a2;function l2(r,t){return t.some(function(n){return(0,nl.isTag)(n)&&(r(n)||n.children.length>0&&l2(r,n.children))})}Zn.existsOne=l2;function DB(r,t){for(var n,i=[],o=t.filter(nl.isTag),s;s=o.shift();){var l=(n=s.children)===null||n===void 0?void 0:n.filter(nl.isTag);l&&l.length>0&&o.unshift.apply(o,l),r(s)&&i.push(s)}return i}Zn.findAll=DB});var zp=ve(ji=>{H();"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.getElementsByTagType=ji.getElementsByTagName=ji.getElementById=ji.getElements=ji.testElement=void 0;var ns=zr(),nd=Gp(),id={tag_name:function(r){return typeof r=="function"?function(t){return(0,ns.isTag)(t)&&r(t.name)}:r==="*"?ns.isTag:function(t){return(0,ns.isTag)(t)&&t.name===r}},tag_type:function(r){return typeof r=="function"?function(t){return r(t.type)}:function(t){return t.type===r}},tag_contains:function(r){return typeof r=="function"?function(t){return(0,ns.isText)(t)&&r(t.data)}:function(t){return(0,ns.isText)(t)&&t.data===r}}};function c2(r,t){return typeof t=="function"?function(n){return(0,ns.isTag)(n)&&t(n.attribs[r])}:function(n){return(0,ns.isTag)(n)&&n.attribs[r]===t}}function jB(r,t){return function(n){return r(n)||t(n)}}function u2(r){var t=Object.keys(r).map(function(n){var i=r[n];return Object.prototype.hasOwnProperty.call(id,n)?id[n](i):c2(n,i)});return t.length===0?null:t.reduce(jB)}function FB(r,t){var n=u2(r);return n?n(t):!0}ji.testElement=FB;function HB(r,t,n,i){i===void 0&&(i=1/0);var o=u2(r);return o?(0,nd.filter)(o,t,n,i):[]}ji.getElements=HB;function UB(r,t,n){return n===void 0&&(n=!0),Array.isArray(t)||(t=[t]),(0,nd.findOne)(c2("id",r),t,n)}ji.getElementById=UB;function $B(r,t,n,i){return n===void 0&&(n=!0),i===void 0&&(i=1/0),(0,nd.filter)(id.tag_name(r),t,n,i)}ji.getElementsByTagName=$B;function qB(r,t,n,i){return n===void 0&&(n=!0),i===void 0&&(i=1/0),(0,nd.filter)(id.tag_type(r),t,n,i)}ji.getElementsByTagType=qB});var f2=ve(Eo=>{H();"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.uniqueSort=Eo.compareDocumentPosition=Eo.removeSubsets=void 0;var d2=zr();function WB(r){for(var t=r.length;--t>=0;){var n=r[t];if(t>0&&r.lastIndexOf(n,t-1)>=0){r.splice(t,1);continue}for(var i=n.parent;i;i=i.parent)if(r.includes(i)){r.splice(t,1);break}}return r}Eo.removeSubsets=WB;function h2(r,t){var n=[],i=[];if(r===t)return 0;for(var o=(0,d2.hasChildren)(r)?r:r.parent;o;)n.unshift(o),o=o.parent;for(o=(0,d2.hasChildren)(t)?t:t.parent;o;)i.unshift(o),o=o.parent;for(var s=Math.min(n.length,i.length),l=0;l<s&&n[l]===i[l];)l++;if(l===0)return 1;var u=n[l-1],d=u.children,h=n[l],y=i[l];return d.indexOf(h)>d.indexOf(y)?u===t?4|16:4:u===r?2|8:2}Eo.compareDocumentPosition=h2;function GB(r){return r=r.filter(function(t,n,i){return!i.includes(t,n+1)}),r.sort(function(t,n){var i=h2(t,n);return i&2?-1:i&4?1:0}),r}Eo.uniqueSort=GB});var g2=ve(od=>{H();"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.getFeed=void 0;var zB=qp(),il=zp();function VB(r){var t=rd(ZB,r);return t?t.name==="feed"?JB(t):KB(t):null}od.getFeed=VB;function JB(r){var t,n=r.children,i={type:"atom",items:(0,il.getElementsByTagName)("entry",n).map(function(l){var u,d=l.children,h={media:p2(d)};Qn(h,"id","id",d),Qn(h,"title","title",d);var y=(u=rd("link",d))===null||u===void 0?void 0:u.attribs.href;y&&(h.link=y);var b=is("summary",d)||is("content",d);b&&(h.description=b);var w=is("updated",d);return w&&(h.pubDate=new Date(w)),h})};Qn(i,"id","id",n),Qn(i,"title","title",n);var o=(t=rd("link",n))===null||t===void 0?void 0:t.attribs.href;o&&(i.link=o),Qn(i,"description","subtitle",n);var s=is("updated",n);return s&&(i.updated=new Date(s)),Qn(i,"author","email",n,!0),i}function KB(r){var t,n,i=(n=(t=rd("channel",r.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],o={type:r.name.substr(0,3),id:"",items:(0,il.getElementsByTagName)("item",r.children).map(function(l){var u=l.children,d={media:p2(u)};Qn(d,"id","guid",u),Qn(d,"title","title",u),Qn(d,"link","link",u),Qn(d,"description","description",u);var h=is("pubDate",u);return h&&(d.pubDate=new Date(h)),d})};Qn(o,"title","title",i),Qn(o,"link","link",i),Qn(o,"description","description",i);var s=is("lastBuildDate",i);return s&&(o.updated=new Date(s)),Qn(o,"author","managingEditor",i,!0),o}var YB=["url","type","lang"],XB=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function p2(r){return(0,il.getElementsByTagName)("media:content",r).map(function(t){for(var n=t.attribs,i={medium:n.medium,isDefault:!!n.isDefault},o=0,s=YB;o<s.length;o++){var l=s[o];n[l]&&(i[l]=n[l])}for(var u=0,d=XB;u<d.length;u++){var l=d[u];n[l]&&(i[l]=parseInt(n[l],10))}return n.expression&&(i.expression=n.expression),i})}function rd(r,t){return(0,il.getElementsByTagName)(r,t,!0,1)[0]}function is(r,t,n){return n===void 0&&(n=!1),(0,zB.textContent)((0,il.getElementsByTagName)(r,t,n,1)).trim()}function Qn(r,t,n,i,o){o===void 0&&(o=!1);var s=is(n,i,o);s&&(r[t]=s)}function ZB(r){return r==="rss"||r==="feed"||r==="rdf:RDF"}});var Vp=ve(zt=>{H();"use strict";var QB=zt&&zt.__createBinding||(Object.create?function(r,t,n,i){i===void 0&&(i=n),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[n]}})}:function(r,t,n,i){i===void 0&&(i=n),r[i]=t[n]}),rs=zt&&zt.__exportStar||function(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&QB(t,r,n)};Object.defineProperty(zt,"__esModule",{value:!0});zt.hasChildren=zt.isDocument=zt.isComment=zt.isText=zt.isCDATA=zt.isTag=void 0;rs(qp(),zt);rs(o2(),zt);rs(s2(),zt);rs(Gp(),zt);rs(zp(),zt);rs(f2(),zt);rs(g2(),zt);var na=zr();Object.defineProperty(zt,"isTag",{enumerable:!0,get:function(){return na.isTag}});Object.defineProperty(zt,"isCDATA",{enumerable:!0,get:function(){return na.isCDATA}});Object.defineProperty(zt,"isText",{enumerable:!0,get:function(){return na.isText}});Object.defineProperty(zt,"isComment",{enumerable:!0,get:function(){return na.isComment}});Object.defineProperty(zt,"isDocument",{enumerable:!0,get:function(){return na.isDocument}});Object.defineProperty(zt,"hasChildren",{enumerable:!0,get:function(){return na.hasChildren}})});var Kp=ve(kn=>{H();"use strict";var eN=kn&&kn.__extends||function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),tN=kn&&kn.__createBinding||(Object.create?function(r,t,n,i){i===void 0&&(i=n),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[n]}})}:function(r,t,n,i){i===void 0&&(i=n),r[i]=t[n]}),nN=kn&&kn.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),iN=kn&&kn.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var n in r)n!=="default"&&Object.prototype.hasOwnProperty.call(r,n)&&tN(t,r,n);return nN(t,r),t},rN=kn&&kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kn,"__esModule",{value:!0});kn.parseFeed=kn.FeedHandler=void 0;var oN=rN(zr()),sd=iN(Vp()),sN=Mp(),m2;(function(r){r[r.image=0]="image",r[r.audio=1]="audio",r[r.video=2]="video",r[r.document=3]="document",r[r.executable=4]="executable"})(m2||(m2={}));var y2;(function(r){r[r.sample=0]="sample",r[r.full=1]="full",r[r.nonstop=2]="nonstop"})(y2||(y2={}));var b2=function(r){eN(t,r);function t(n,i){var o=this;return typeof n=="object"&&(n=void 0,i=n),o=r.call(this,n,i)||this,o}return t.prototype.onend=function(){var n,i,o=ad(aN,this.dom);if(!o){this.handleCallback(new Error("couldn't find root of feed"));return}var s={};if(o.name==="feed"){var l=o.children;s.type="atom",ei(s,"id","id",l),ei(s,"title","title",l);var u=w2("href",ad("link",l));u&&(s.link=u),ei(s,"description","subtitle",l);var d=os("updated",l);d&&(s.updated=new Date(d)),ei(s,"author","email",l,!0),s.items=Jp("entry",l).map(function(h){var y={},b=h.children;ei(y,"id","id",b),ei(y,"title","title",b);var w=w2("href",ad("link",b));w&&(y.link=w);var p=os("summary",b)||os("content",b);p&&(y.description=p);var m=os("updated",b);return m&&(y.pubDate=new Date(m)),y.media=v2(b),y})}else{var l=(i=(n=ad("channel",o.children))===null||n===void 0?void 0:n.children)!==null&&i!==void 0?i:[];s.type=o.name.substr(0,3),s.id="",ei(s,"title","title",l),ei(s,"link","link",l),ei(s,"description","description",l);var d=os("lastBuildDate",l);d&&(s.updated=new Date(d)),ei(s,"author","managingEditor",l,!0),s.items=Jp("item",o.children).map(function(b){var w={},p=b.children;ei(w,"id","guid",p),ei(w,"title","title",p),ei(w,"link","link",p),ei(w,"description","description",p);var m=os("pubDate",p);return m&&(w.pubDate=new Date(m)),w.media=v2(p),w})}this.feed=s,this.handleCallback(null)},t}(oN.default);kn.FeedHandler=b2;function v2(r){return Jp("media:content",r).map(function(t){var n={medium:t.attribs.medium,isDefault:!!t.attribs.isDefault};return t.attribs.url&&(n.url=t.attribs.url),t.attribs.fileSize&&(n.fileSize=parseInt(t.attribs.fileSize,10)),t.attribs.type&&(n.type=t.attribs.type),t.attribs.expression&&(n.expression=t.attribs.expression),t.attribs.bitrate&&(n.bitrate=parseInt(t.attribs.bitrate,10)),t.attribs.framerate&&(n.framerate=parseInt(t.attribs.framerate,10)),t.attribs.samplingrate&&(n.samplingrate=parseInt(t.attribs.samplingrate,10)),t.attribs.channels&&(n.channels=parseInt(t.attribs.channels,10)),t.attribs.duration&&(n.duration=parseInt(t.attribs.duration,10)),t.attribs.height&&(n.height=parseInt(t.attribs.height,10)),t.attribs.width&&(n.width=parseInt(t.attribs.width,10)),t.attribs.lang&&(n.lang=t.attribs.lang),n})}function Jp(r,t){return sd.getElementsByTagName(r,t,!0)}function ad(r,t){return sd.getElementsByTagName(r,t,!0,1)[0]}function os(r,t,n){return n===void 0&&(n=!1),sd.getText(sd.getElementsByTagName(r,t,n,1)).trim()}function w2(r,t){if(!t)return null;var n=t.attribs;return n[r]}function ei(r,t,n,i,o){o===void 0&&(o=!1);var s=os(n,i,o);s&&(r[t]=s)}function aN(r){return r==="rss"||r==="feed"||r==="rdf:RDF"}function lN(r,t){t===void 0&&(t={xmlMode:!0});var n=new b2(t);return new sN.Parser(n,t).end(r),n.feed}kn.parseFeed=lN});var A2=ve(Ot=>{H();"use strict";var E2=Ot&&Ot.__createBinding||(Object.create?function(r,t,n,i){i===void 0&&(i=n),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[n]}})}:function(r,t,n,i){i===void 0&&(i=n),r[i]=t[n]}),cN=Ot&&Ot.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),_2=Ot&&Ot.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var n in r)n!=="default"&&Object.prototype.hasOwnProperty.call(r,n)&&E2(t,r,n);return cN(t,r),t},uN=Ot&&Ot.__exportStar||function(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&E2(t,r,n)},dN=Ot&&Ot.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.RssHandler=Ot.DefaultHandler=Ot.DomUtils=Ot.ElementType=Ot.Tokenizer=Ot.createDomStream=Ot.parseDOM=Ot.parseDocument=Ot.DomHandler=Ot.Parser=void 0;var Yp=Mp();Object.defineProperty(Ot,"Parser",{enumerable:!0,get:function(){return Yp.Parser}});var ld=zr();Object.defineProperty(Ot,"DomHandler",{enumerable:!0,get:function(){return ld.DomHandler}});Object.defineProperty(Ot,"DefaultHandler",{enumerable:!0,get:function(){return ld.DomHandler}});function S2(r,t){var n=new ld.DomHandler(void 0,t);return new Yp.Parser(n,t).end(r),n.root}Ot.parseDocument=S2;function hN(r,t){return S2(r,t).children}Ot.parseDOM=hN;function fN(r,t,n){var i=new ld.DomHandler(r,t,n);return new Yp.Parser(i,t)}Ot.createDomStream=fN;var pN=Rp();Object.defineProperty(Ot,"Tokenizer",{enumerable:!0,get:function(){return dN(pN).default}});var gN=_2(Qs());Ot.ElementType=gN;uN(Kp(),Ot);Ot.DomUtils=_2(Vp());var mN=Kp();Object.defineProperty(Ot,"RssHandler",{enumerable:!0,get:function(){return mN.FeedHandler}})});var C2=ve((Fj,x2)=>{H();"use strict";x2.exports=r=>{if(typeof r!="string")throw new TypeError("Expected a string");return r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var O2=ve(T2=>{H();function Jr(r){if(typeof r!="object")return r;var t,n,i=Object.prototype.toString.call(r);if(i==="[object Object]"){if(r.constructor!==Object&&typeof r.constructor=="function"){n=new r.constructor;for(t in r)n.hasOwnProperty(t)&&n[t]!==r[t]&&(n[t]=Jr(r[t]))}else{n={};for(t in r)t==="__proto__"?Object.defineProperty(n,t,{value:Jr(r[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=Jr(r[t])}return n}if(i==="[object Array]"){for(t=r.length,n=Array(t);t--;)n[t]=Jr(r[t]);return n}return i==="[object Set]"?(n=new Set,r.forEach(function(o){n.add(Jr(o))}),n):i==="[object Map]"?(n=new Map,r.forEach(function(o,s){n.set(Jr(s),Jr(o))}),n):i==="[object Date]"?new Date(+r):i==="[object RegExp]"?(n=new RegExp(r.source,r.flags),n.lastIndex=r.lastIndex,n):i==="[object DataView]"?new r.constructor(Jr(r.buffer)):i==="[object ArrayBuffer]"?r.slice(0):i.slice(-6)==="Array]"?new r.constructor(r):r}T2.klona=Jr});var P2=ve(Xp=>{H();"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});function R2(r){return Object.prototype.toString.call(r)==="[object Object]"}function yN(r){var t,n;return R2(r)===!1?!1:(t=r.constructor,t===void 0?!0:(n=t.prototype,!(R2(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}Xp.isPlainObject=yN});var I2=ve(($j,L2)=>{H();"use strict";var bN=function(t){return vN(t)&&!wN(t)};function vN(r){return!!r&&typeof r=="object"}function wN(r){var t=Object.prototype.toString.call(r);return t==="[object RegExp]"||t==="[object Date]"||SN(r)}var EN=typeof Symbol=="function"&&Symbol.for,_N=EN?Symbol.for("react.element"):60103;function SN(r){return r.$$typeof===_N}function AN(r){return Array.isArray(r)?[]:{}}function rl(r,t){return t.clone!==!1&&t.isMergeableObject(r)?ia(AN(r),r,t):r}function xN(r,t,n){return r.concat(t).map(function(i){return rl(i,n)})}function CN(r,t){if(!t.customMerge)return ia;var n=t.customMerge(r);return typeof n=="function"?n:ia}function TN(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(t){return r.propertyIsEnumerable(t)}):[]}function M2(r){return Object.keys(r).concat(TN(r))}function k2(r,t){try{return t in r}catch(n){return!1}}function ON(r,t){return k2(r,t)&&!(Object.hasOwnProperty.call(r,t)&&Object.propertyIsEnumerable.call(r,t))}function RN(r,t,n){var i={};return n.isMergeableObject(r)&&M2(r).forEach(function(o){i[o]=rl(r[o],n)}),M2(t).forEach(function(o){ON(r,o)||(k2(r,o)&&n.isMergeableObject(t[o])?i[o]=CN(o,n)(r[o],t[o],n):i[o]=rl(t[o],n))}),i}function ia(r,t,n){n=n||{},n.arrayMerge=n.arrayMerge||xN,n.isMergeableObject=n.isMergeableObject||bN,n.cloneUnlessOtherwiseSpecified=rl;var i=Array.isArray(t),o=Array.isArray(r),s=i===o;return s?i?n.arrayMerge(r,t,n):RN(r,t,n):rl(t,n)}ia.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(i,o){return ia(i,o,n)},{})};var PN=ia;L2.exports=PN});var N2=ve((B2,cd)=>{H();(function(r,t){typeof define=="function"&&define.amd?define([],t):typeof cd=="object"&&cd.exports?cd.exports=t():r.parseSrcset=t()})(B2,function(){return function(r){function t(C){return C===" "||C==="	"||C===`
`||C==="\f"||C==="\r"}function n(C){var O,E=C.exec(r.substring(f));if(E)return O=E[0],f+=O.length,O}for(var i=r.length,o=/^[ \t\n\r\u000c]+/,s=/^[, \t\n\r\u000c]+/,l=/^[^ \t\n\r\u000c]+/,u=/[,]+$/,d=/^\d+$/,h=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,y,b,w,p,m,f=0,g=[];;){if(n(s),f>=i)return g;y=n(l),b=[],y.slice(-1)===","?(y=y.replace(u,""),A()):v()}function v(){for(n(o),w="",p="in descriptor";;){if(m=r.charAt(f),p==="in descriptor")if(t(m))w&&(b.push(w),w="",p="after descriptor");else if(m===","){f+=1,w&&b.push(w),A();return}else if(m==="(")w=w+m,p="in parens";else if(m===""){w&&b.push(w),A();return}else w=w+m;else if(p==="in parens")if(m===")")w=w+m,p="in descriptor";else if(m===""){b.push(w),A();return}else w=w+m;else if(p==="after descriptor"&&!t(m))if(m===""){A();return}else p="in descriptor",f-=1;f+=1}}function A(){var C=!1,O,E,T,B,M={},D,U,I,N,q;for(B=0;B<b.length;B++)D=b[B],U=D[D.length-1],I=D.substring(0,D.length-1),N=parseInt(I,10),q=parseFloat(I),d.test(I)&&U==="w"?((O||E)&&(C=!0),N===0?C=!0:O=N):h.test(I)&&U==="x"?((O||E||T)&&(C=!0),q<0?C=!0:E=q):d.test(I)&&U==="h"?((T||E)&&(C=!0),N===0?C=!0:T=N):C=!0;C?console&&console.log&&console.log("Invalid srcset descriptor found in '"+r+"' at '"+D+"'."):(M.url=y,O&&(M.w=O),E&&(M.d=E),T&&(M.h=T),g.push(M))}}})});var j2=ve((qj,Zp)=>{H();var Vt=String,D2=function(){return{isColorSupported:!1,reset:Vt,bold:Vt,dim:Vt,italic:Vt,underline:Vt,inverse:Vt,hidden:Vt,strikethrough:Vt,black:Vt,red:Vt,green:Vt,yellow:Vt,blue:Vt,magenta:Vt,cyan:Vt,white:Vt,gray:Vt,bgBlack:Vt,bgRed:Vt,bgGreen:Vt,bgYellow:Vt,bgBlue:Vt,bgMagenta:Vt,bgCyan:Vt,bgWhite:Vt}};Zp.exports=D2();Zp.exports.createColors=D2});var Qp=ve(()=>{H()});var ud=ve((zj,U2)=>{H();"use strict";var F2=j2(),H2=Qp(),ra=class extends Error{constructor(t,n,i,o,s,l){super(t);this.name="CssSyntaxError",this.reason=t,s&&(this.file=s),o&&(this.source=o),l&&(this.plugin=l),typeof n!="undefined"&&typeof i!="undefined"&&(typeof n=="number"?(this.line=n,this.column=i):(this.line=n.line,this.column=n.column,this.endLine=i.line,this.endColumn=i.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,ra)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(t){if(!this.source)return"";let n=this.source;t==null&&(t=F2.isColorSupported),H2&&t&&(n=H2(n));let i=n.split(/\r?\n/),o=Math.max(this.line-3,0),s=Math.min(this.line+2,i.length),l=String(s).length,u,d;if(t){let{bold:h,red:y,gray:b}=F2.createColors(!0);u=w=>h(y(w)),d=w=>b(w)}else u=d=h=>h;return i.slice(o,s).map((h,y)=>{let b=o+1+y,w=" "+(" "+b).slice(-l)+" | ";if(b===this.line){let p=d(w.replace(/\d/g," "))+h.slice(0,this.column-1).replace(/[^\t]/g," ");return u(">")+d(w)+h+`
 `+p+u("^")}return" "+d(w)+h}).join(`
`)}toString(){let t=this.showSourceCode();return t&&(t=`

`+t+`
`),this.name+": "+this.message+t}};U2.exports=ra;ra.default=ra});var dd=ve((Vj,e0)=>{H();"use strict";e0.exports.isClean=Symbol("isClean");e0.exports.my=Symbol("my")});var t0=ve((Jj,q2)=>{H();"use strict";var $2={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function MN(r){return r[0].toUpperCase()+r.slice(1)}var hd=class{constructor(t){this.builder=t}stringify(t,n){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,n)}document(t){this.body(t)}root(t){this.body(t),t.raws.after&&this.builder(t.raws.after)}comment(t){let n=this.raw(t,"left","commentLeft"),i=this.raw(t,"right","commentRight");this.builder("/*"+n+t.text+i+"*/",t)}decl(t,n){let i=this.raw(t,"between","colon"),o=t.prop+i+this.rawValue(t,"value");t.important&&(o+=t.raws.important||" !important"),n&&(o+=";"),this.builder(o,t)}rule(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")}atrule(t,n){let i="@"+t.name,o=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName!="undefined"?i+=t.raws.afterName:o&&(i+=" "),t.nodes)this.block(t,i+o);else{let s=(t.raws.between||"")+(n?";":"");this.builder(i+o+s,t)}}body(t){let n=t.nodes.length-1;for(;n>0&&t.nodes[n].type==="comment";)n-=1;let i=this.raw(t,"semicolon");for(let o=0;o<t.nodes.length;o++){let s=t.nodes[o],l=this.raw(s,"before");l&&this.builder(l),this.stringify(s,n!==o||i)}}block(t,n){let i=this.raw(t,"between","beforeOpen");this.builder(n+i+"{",t,"start");let o;t.nodes&&t.nodes.length?(this.body(t),o=this.raw(t,"after")):o=this.raw(t,"after","emptyBody"),o&&this.builder(o),this.builder("}",t,"end")}raw(t,n,i){let o;if(i||(i=n),n&&(o=t.raws[n],typeof o!="undefined"))return o;let s=t.parent;if(i==="before"&&(!s||s.type==="root"&&s.first===t||s&&s.type==="document"))return"";if(!s)return $2[i];let l=t.root();if(l.rawCache||(l.rawCache={}),typeof l.rawCache[i]!="undefined")return l.rawCache[i];if(i==="before"||i==="after")return this.beforeAfter(t,i);{let u="raw"+MN(i);this[u]?o=this[u](l,t):l.walk(d=>{if(o=d.raws[n],typeof o!="undefined")return!1})}return typeof o=="undefined"&&(o=$2[i]),l.rawCache[i]=o,o}rawSemicolon(t){let n;return t.walk(i=>{if(i.nodes&&i.nodes.length&&i.last.type==="decl"&&(n=i.raws.semicolon,typeof n!="undefined"))return!1}),n}rawEmptyBody(t){let n;return t.walk(i=>{if(i.nodes&&i.nodes.length===0&&(n=i.raws.after,typeof n!="undefined"))return!1}),n}rawIndent(t){if(t.raws.indent)return t.raws.indent;let n;return t.walk(i=>{let o=i.parent;if(o&&o!==t&&o.parent&&o.parent===t&&typeof i.raws.before!="undefined"){let s=i.raws.before.split(`
`);return n=s[s.length-1],n=n.replace(/\S/g,""),!1}}),n}rawBeforeComment(t,n){let i;return t.walkComments(o=>{if(typeof o.raws.before!="undefined")return i=o.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i=="undefined"?i=this.raw(n,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeDecl(t,n){let i;return t.walkDecls(o=>{if(typeof o.raws.before!="undefined")return i=o.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i=="undefined"?i=this.raw(n,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeRule(t){let n;return t.walk(i=>{if(i.nodes&&(i.parent!==t||t.first!==i)&&typeof i.raws.before!="undefined")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n}rawBeforeClose(t){let n;return t.walk(i=>{if(i.nodes&&i.nodes.length>0&&typeof i.raws.after!="undefined")return n=i.raws.after,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(t){let n;return t.walk(i=>{if(i.type!=="decl"&&(n=i.raws.between,typeof n!="undefined"))return!1}),n}rawColon(t){let n;return t.walkDecls(i=>{if(typeof i.raws.between!="undefined")return n=i.raws.between.replace(/[^\s:]/g,""),!1}),n}beforeAfter(t,n){let i;t.type==="decl"?i=this.raw(t,null,"beforeDecl"):t.type==="comment"?i=this.raw(t,null,"beforeComment"):n==="before"?i=this.raw(t,null,"beforeRule"):i=this.raw(t,null,"beforeClose");let o=t.parent,s=0;for(;o&&o.type!=="root";)s+=1,o=o.parent;if(i.includes(`
`)){let l=this.raw(t,null,"indent");if(l.length)for(let u=0;u<s;u++)i+=l}return i}rawValue(t,n){let i=t[n],o=t.raws[n];return o&&o.value===i?o.raw:i}};q2.exports=hd;hd.default=hd});var ol=ve((Kj,W2)=>{H();"use strict";var kN=t0();function n0(r,t){new kN(t).stringify(r)}W2.exports=n0;n0.default=n0});var sl=ve((Yj,G2)=>{H();"use strict";var{isClean:fd,my:LN}=dd(),IN=ud(),BN=t0(),NN=ol();function i0(r,t){let n=new r.constructor;for(let i in r){if(!Object.prototype.hasOwnProperty.call(r,i)||i==="proxyCache")continue;let o=r[i],s=typeof o;i==="parent"&&s==="object"?t&&(n[i]=t):i==="source"?n[i]=o:Array.isArray(o)?n[i]=o.map(l=>i0(l,n)):(s==="object"&&o!==null&&(o=i0(o)),n[i]=o)}return n}var pd=class{constructor(t={}){this.raws={},this[fd]=!1,this[LN]=!0;for(let n in t)if(n==="nodes"){this.nodes=[];for(let i of t[n])typeof i.clone=="function"?this.append(i.clone()):this.append(i)}else this[n]=t[n]}error(t,n={}){if(this.source){let{start:i,end:o}=this.rangeBy(n);return this.source.input.error(t,{line:i.line,column:i.column},{line:o.line,column:o.column},n)}return new IN(t)}warn(t,n,i){let o={node:this};for(let s in i)o[s]=i[s];return t.warn(n,o)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(t=NN){t.stringify&&(t=t.stringify);let n="";return t(this,i=>{n+=i}),n}assign(t={}){for(let n in t)this[n]=t[n];return this}clone(t={}){let n=i0(this);for(let i in t)n[i]=t[i];return n}cloneBefore(t={}){let n=this.clone(t);return this.parent.insertBefore(this,n),n}cloneAfter(t={}){let n=this.clone(t);return this.parent.insertAfter(this,n),n}replaceWith(...t){if(this.parent){let n=this,i=!1;for(let o of t)o===this?i=!0:i?(this.parent.insertAfter(n,o),n=o):this.parent.insertBefore(n,o);i||this.remove()}return this}next(){if(!this.parent)return;let t=this.parent.index(this);return this.parent.nodes[t+1]}prev(){if(!this.parent)return;let t=this.parent.index(this);return this.parent.nodes[t-1]}before(t){return this.parent.insertBefore(this,t),this}after(t){return this.parent.insertAfter(this,t),this}root(){let t=this;for(;t.parent&&t.parent.type!=="document";)t=t.parent;return t}raw(t,n){return new BN().raw(this,t,n)}cleanRaws(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between}toJSON(t,n){let i={},o=n==null;n=n||new Map;let s=0;for(let l in this){if(!Object.prototype.hasOwnProperty.call(this,l)||l==="parent"||l==="proxyCache")continue;let u=this[l];if(Array.isArray(u))i[l]=u.map(d=>typeof d=="object"&&d.toJSON?d.toJSON(null,n):d);else if(typeof u=="object"&&u.toJSON)i[l]=u.toJSON(null,n);else if(l==="source"){let d=n.get(u.input);d==null&&(d=s,n.set(u.input,s),s++),i[l]={inputId:d,start:u.start,end:u.end}}else i[l]=u}return o&&(i.inputs=[...n.keys()].map(l=>l.toJSON())),i}positionInside(t){let n=this.toString(),i=this.source.start.column,o=this.source.start.line;for(let s=0;s<t;s++)n[s]===`
`?(i=1,o+=1):i+=1;return{line:o,column:i}}positionBy(t){let n=this.source.start;if(t.index)n=this.positionInside(t.index);else if(t.word){let i=this.toString().indexOf(t.word);i!==-1&&(n=this.positionInside(i))}return n}rangeBy(t){let n={line:this.source.start.line,column:this.source.start.column},i=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:n.line,column:n.column+1};if(t.word){let o=this.toString().indexOf(t.word);o!==-1&&(n=this.positionInside(o),i=this.positionInside(o+t.word.length))}else t.start?n={line:t.start.line,column:t.start.column}:t.index&&(n=this.positionInside(t.index)),t.end?i={line:t.end.line,column:t.end.column}:t.endIndex?i=this.positionInside(t.endIndex):t.index&&(i=this.positionInside(t.index+1));return(i.line<n.line||i.line===n.line&&i.column<=n.column)&&(i={line:n.line,column:n.column+1}),{start:n,end:i}}getProxyProcessor(){return{set(t,n,i){return t[n]===i||(t[n]=i,(n==="prop"||n==="value"||n==="name"||n==="params"||n==="important"||n==="text")&&t.markDirty()),!0},get(t,n){return n==="proxyOf"?t:n==="root"?()=>t.root().toProxy():t[n]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){let n=this.source;t.stack=t.stack.replace(/\n\s{4}at /,`$&${n.input.from}:${n.start.line}:${n.start.column}$&`)}return t}markDirty(){if(this[fd]){this[fd]=!1;let t=this;for(;t=t.parent;)t[fd]=!1}}get proxyOf(){return this}};G2.exports=pd;pd.default=pd});var al=ve((Xj,z2)=>{H();"use strict";var DN=sl(),gd=class extends DN{constructor(t){t&&typeof t.value!="undefined"&&typeof t.value!="string"&&(t=Yt(et({},t),{value:String(t.value)}));super(t);this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};z2.exports=gd;gd.default=gd});var md=ve(()=>{H()});var ll=ve(()=>{H()});var yd=ve(()=>{H()});var J2=ve((rF,V2)=>{H();var jN="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",FN=(r,t=21)=>(n=t)=>{let i="",o=n;for(;o--;)i+=r[Math.random()*r.length|0];return i},HN=(r=21)=>{let t="",n=r;for(;n--;)t+=jN[Math.random()*64|0];return t};V2.exports={nanoid:HN,customAlphabet:FN}});var bd=ve(()=>{H()});var o0=ve((aF,X2)=>{H();"use strict";var{SourceMapConsumer:K2,SourceMapGenerator:Y2}=md(),{existsSync:UN,readFileSync:$N}=bd(),{dirname:r0,join:qN}=ll();function WN(r){return Buffer?Buffer.from(r,"base64").toString():window.atob(r)}var vd=class{constructor(t,n){if(n.map===!1)return;this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");let i=n.map?n.map.prev:void 0,o=this.loadMap(n.from,i);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=r0(this.mapFile)),o&&(this.text=o)}consumer(){return this.consumerCache||(this.consumerCache=new K2(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(t,n){return t?t.substr(0,n.length)===n:!1}getAnnotationURL(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(t){let n=t.match(/\/\*\s*# sourceMappingURL=/gm);if(!n)return;let i=t.lastIndexOf(n.pop()),o=t.indexOf("*/",i);i>-1&&o>-1&&(this.annotation=this.getAnnotationURL(t.substring(i,o)))}decodeInline(t){let n=/^data:application\/json;charset=utf-?8;base64,/,i=/^data:application\/json;base64,/,o=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/;if(o.test(t)||s.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(n.test(t)||i.test(t))return WN(t.substr(RegExp.lastMatch.length));let l=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)}loadFile(t){if(this.root=r0(t),UN(t))return this.mapFile=t,$N(t,"utf-8").toString().trim()}loadMap(t,n){if(n===!1)return!1;if(n){if(typeof n=="string")return n;if(typeof n=="function"){let i=n(t);if(i){let o=this.loadFile(i);if(!o)throw new Error("Unable to load previous source map: "+i.toString());return o}}else{if(n instanceof K2)return Y2.fromSourceMap(n).toString();if(n instanceof Y2)return n.toString();if(this.isMap(n))return JSON.stringify(n);throw new Error("Unsupported previous source map format: "+n.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let i=this.annotation;return t&&(i=qN(r0(t),i)),this.loadFile(i)}}}isMap(t){return typeof t!="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)}};X2.exports=vd;vd.default=vd});var ul=ve((lF,tE)=>{H();"use strict";var{SourceMapConsumer:GN,SourceMapGenerator:zN}=md(),{fileURLToPath:Z2,pathToFileURL:wd}=yd(),{resolve:s0,isAbsolute:a0}=ll(),{nanoid:VN}=J2(),l0=Qp(),Q2=ud(),JN=o0(),c0=Symbol("fromOffsetCache"),KN=Boolean(GN&&zN),eE=Boolean(s0&&a0),cl=class{constructor(t,n={}){if(t===null||typeof t=="undefined"||typeof t=="object"&&!t.toString)throw new Error(`PostCSS received ${t} instead of CSS string`);if(this.css=t.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,n.from&&(!eE||/^\w+:\/\//.test(n.from)||a0(n.from)?this.file=n.from:this.file=s0(n.from)),eE&&KN){let i=new JN(this.css,n);if(i.text){this.map=i;let o=i.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+VN(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(t){let n,i;if(this[c0])i=this[c0];else{let s=this.css.split(`
`);i=new Array(s.length);let l=0;for(let u=0,d=s.length;u<d;u++)i[u]=l,l+=s[u].length+1;this[c0]=i}n=i[i.length-1];let o=0;if(t>=n)o=i.length-1;else{let s=i.length-2,l;for(;o<s;)if(l=o+(s-o>>1),t<i[l])s=l-1;else if(t>=i[l+1])o=l+1;else{o=l;break}}return{line:o+1,col:t-i[o]+1}}error(t,n,i,o={}){let s,l,u;if(n&&typeof n=="object"){let h=n,y=i;if(typeof n.offset=="number"){let b=this.fromOffset(h.offset);n=b.line,i=b.col}else n=h.line,i=h.column;if(typeof y.offset=="number"){let b=this.fromOffset(y.offset);l=b.line,u=b.col}else l=y.line,u=y.column}else if(!i){let h=this.fromOffset(n);n=h.line,i=h.col}let d=this.origin(n,i,l,u);return d?s=new Q2(t,d.endLine===void 0?d.line:{line:d.line,column:d.column},d.endLine===void 0?d.column:{line:d.endLine,column:d.endColumn},d.source,d.file,o.plugin):s=new Q2(t,l===void 0?n:{line:n,column:i},l===void 0?i:{line:l,column:u},this.css,this.file,o.plugin),s.input={line:n,column:i,endLine:l,endColumn:u,source:this.css},this.file&&(wd&&(s.input.url=wd(this.file).toString()),s.input.file=this.file),s}origin(t,n,i,o){if(!this.map)return!1;let s=this.map.consumer(),l=s.originalPositionFor({line:t,column:n});if(!l.source)return!1;let u;typeof i=="number"&&(u=s.originalPositionFor({line:i,column:o}));let d;a0(l.source)?d=wd(l.source):d=new URL(l.source,this.map.consumer().sourceRoot||wd(this.map.mapFile));let h={url:d.toString(),line:l.line,column:l.column,endLine:u&&u.line,endColumn:u&&u.column};if(d.protocol==="file:")if(Z2)h.file=Z2(d);else throw new Error("file: protocol is not available in this PostCSS build");let y=s.sourceContentFor(l.source);return y&&(h.source=y),h}mapResolve(t){return/^\w+:\/\//.test(t)?t:s0(this.map.consumer().sourceRoot||this.map.root||".",t)}get from(){return this.file||this.id}toJSON(){let t={};for(let n of["hasBOM","css","file","id"])this[n]!=null&&(t[n]=this[n]);return this.map&&(t.map=et({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t}};tE.exports=cl;cl.default=cl;l0&&l0.registerInput&&l0.registerInput(cl)});var u0=ve((cF,lE)=>{H();"use strict";var{SourceMapConsumer:nE,SourceMapGenerator:Ed}=md(),{dirname:_d,resolve:iE,relative:rE,sep:oE}=ll(),{pathToFileURL:sE}=yd(),YN=ul(),XN=Boolean(nE&&Ed),ZN=Boolean(_d&&iE&&rE&&oE),aE=class{constructor(t,n,i,o){this.stringify=t,this.mapOpts=i.map||{},this.root=n,this.opts=i,this.css=o}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(t=>{if(t.source&&t.source.input.map){let n=t.source.input.map;this.previousMaps.includes(n)||this.previousMaps.push(n)}});else{let t=new YN(this.css,this.opts);t.map&&this.previousMaps.push(t.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let t=this.mapOpts.annotation;return typeof t!="undefined"&&t!==!0?!1:this.previous().length?this.previous().some(n=>n.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(t=>t.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let t;for(let n=this.root.nodes.length-1;n>=0;n--)t=this.root.nodes[n],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(n)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let t={};if(this.root)this.root.walk(n=>{if(n.source){let i=n.source.input.from;i&&!t[i]&&(t[i]=!0,this.map.setSourceContent(this.toUrl(this.path(i)),n.source.input.css))}});else if(this.css){let n=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(n,this.css)}}applyPrevMaps(){for(let t of this.previous()){let n=this.toUrl(this.path(t.file)),i=t.root||_d(t.file),o;this.mapOpts.sourcesContent===!1?(o=new nE(t.text),o.sourcesContent&&(o.sourcesContent=o.sourcesContent.map(()=>null))):o=t.consumer(),this.map.applySourceMap(o,n,this.toUrl(this.path(i)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(t=>t.annotation):!0}toBase64(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))}addAnnotation(){let t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";let n=`
`;this.css.includes(`\r
`)&&(n=`\r
`),this.css+=n+"/*# sourceMappingURL="+t+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=Ed.fromSourceMap(t)}else this.map=new Ed({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(t){if(t.indexOf("<")===0||/^\w+:\/\//.test(t)||this.mapOpts.absolute)return t;let n=this.opts.to?_d(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(n=_d(iE(n,this.mapOpts.annotation))),t=rE(n,t),t}toUrl(t){return oE==="\\"&&(t=t.replace(/\\/g,"/")),encodeURI(t).replace(/[#?]/g,encodeURIComponent)}sourcePath(t){if(this.mapOpts.from)return this.toUrl(this.mapOpts.from);if(this.mapOpts.absolute){if(sE)return sE(t.source.input.from).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}else return this.toUrl(this.path(t.source.input.from))}generateString(){this.css="",this.map=new Ed({file:this.outputFile()});let t=1,n=1,i="<no source>",o={source:"",generated:{line:0,column:0},original:{line:0,column:0}},s,l;this.stringify(this.root,(u,d,h)=>{if(this.css+=u,d&&h!=="end"&&(o.generated.line=t,o.generated.column=n-1,d.source&&d.source.start?(o.source=this.sourcePath(d),o.original.line=d.source.start.line,o.original.column=d.source.start.column-1,this.map.addMapping(o)):(o.source=i,o.original.line=1,o.original.column=0,this.map.addMapping(o))),s=u.match(/\n/g),s?(t+=s.length,l=u.lastIndexOf(`
`),n=u.length-l):n+=u.length,d&&h!=="start"){let y=d.parent||{raws:{}};(d.type!=="decl"||d!==y.last||y.raws.semicolon)&&(d.source&&d.source.end?(o.source=this.sourcePath(d),o.original.line=d.source.end.line,o.original.column=d.source.end.column-1,o.generated.line=t,o.generated.column=n-2,this.map.addMapping(o)):(o.source=i,o.original.line=1,o.original.column=0,o.generated.line=t,o.generated.column=n-1,this.map.addMapping(o)))}})}generate(){if(this.clearAnnotation(),ZN&&XN&&this.isMap())return this.generateMap();{let t="";return this.stringify(this.root,n=>{t+=n}),[t]}}};lE.exports=aE});var dl=ve((uF,cE)=>{H();"use strict";var QN=sl(),Sd=class extends QN{constructor(t){super(t);this.type="comment"}};cE.exports=Sd;Sd.default=Sd});var _o=ve((dF,yE)=>{H();"use strict";var{isClean:uE,my:dE}=dd(),hE=al(),fE=dl(),e6=sl(),pE,d0,h0;function gE(r){return r.map(t=>(t.nodes&&(t.nodes=gE(t.nodes)),delete t.source,t))}function mE(r){if(r[uE]=!1,r.proxyOf.nodes)for(let t of r.proxyOf.nodes)mE(t)}var er=class extends e6{push(t){return t.parent=this,this.proxyOf.nodes.push(t),this}each(t){if(!this.proxyOf.nodes)return;let n=this.getIterator(),i,o;for(;this.indexes[n]<this.proxyOf.nodes.length&&(i=this.indexes[n],o=t(this.proxyOf.nodes[i],i),o!==!1);)this.indexes[n]+=1;return delete this.indexes[n],o}walk(t){return this.each((n,i)=>{let o;try{o=t(n,i)}catch(s){throw n.addToError(s)}return o!==!1&&n.walk&&(o=n.walk(t)),o})}walkDecls(t,n){return n?t instanceof RegExp?this.walk((i,o)=>{if(i.type==="decl"&&t.test(i.prop))return n(i,o)}):this.walk((i,o)=>{if(i.type==="decl"&&i.prop===t)return n(i,o)}):(n=t,this.walk((i,o)=>{if(i.type==="decl")return n(i,o)}))}walkRules(t,n){return n?t instanceof RegExp?this.walk((i,o)=>{if(i.type==="rule"&&t.test(i.selector))return n(i,o)}):this.walk((i,o)=>{if(i.type==="rule"&&i.selector===t)return n(i,o)}):(n=t,this.walk((i,o)=>{if(i.type==="rule")return n(i,o)}))}walkAtRules(t,n){return n?t instanceof RegExp?this.walk((i,o)=>{if(i.type==="atrule"&&t.test(i.name))return n(i,o)}):this.walk((i,o)=>{if(i.type==="atrule"&&i.name===t)return n(i,o)}):(n=t,this.walk((i,o)=>{if(i.type==="atrule")return n(i,o)}))}walkComments(t){return this.walk((n,i)=>{if(n.type==="comment")return t(n,i)})}append(...t){for(let n of t){let i=this.normalize(n,this.last);for(let o of i)this.proxyOf.nodes.push(o)}return this.markDirty(),this}prepend(...t){t=t.reverse();for(let n of t){let i=this.normalize(n,this.first,"prepend").reverse();for(let o of i)this.proxyOf.nodes.unshift(o);for(let o in this.indexes)this.indexes[o]=this.indexes[o]+i.length}return this.markDirty(),this}cleanRaws(t){if(super.cleanRaws(t),this.nodes)for(let n of this.nodes)n.cleanRaws(t)}insertBefore(t,n){t=this.index(t);let i=t===0?"prepend":!1,o=this.normalize(n,this.proxyOf.nodes[t],i).reverse();for(let l of o)this.proxyOf.nodes.splice(t,0,l);let s;for(let l in this.indexes)s=this.indexes[l],t<=s&&(this.indexes[l]=s+o.length);return this.markDirty(),this}insertAfter(t,n){t=this.index(t);let i=this.normalize(n,this.proxyOf.nodes[t]).reverse();for(let s of i)this.proxyOf.nodes.splice(t+1,0,s);let o;for(let s in this.indexes)o=this.indexes[s],t<o&&(this.indexes[s]=o+i.length);return this.markDirty(),this}removeChild(t){t=this.index(t),this.proxyOf.nodes[t].parent=void 0,this.proxyOf.nodes.splice(t,1);let n;for(let i in this.indexes)n=this.indexes[i],n>=t&&(this.indexes[i]=n-1);return this.markDirty(),this}removeAll(){for(let t of this.proxyOf.nodes)t.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(t,n,i){return i||(i=n,n={}),this.walkDecls(o=>{n.props&&!n.props.includes(o.prop)||n.fast&&!o.value.includes(n.fast)||(o.value=o.value.replace(t,i))}),this.markDirty(),this}every(t){return this.nodes.every(t)}some(t){return this.nodes.some(t)}index(t){return typeof t=="number"?t:(t.proxyOf&&(t=t.proxyOf),this.proxyOf.nodes.indexOf(t))}get first(){if(!!this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(!!this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(t,n){if(typeof t=="string")t=gE(pE(t).nodes);else if(Array.isArray(t)){t=t.slice(0);for(let o of t)o.parent&&o.parent.removeChild(o,"ignore")}else if(t.type==="root"&&this.type!=="document"){t=t.nodes.slice(0);for(let o of t)o.parent&&o.parent.removeChild(o,"ignore")}else if(t.type)t=[t];else if(t.prop){if(typeof t.value=="undefined")throw new Error("Value field is missed in node creation");typeof t.value!="string"&&(t.value=String(t.value)),t=[new hE(t)]}else if(t.selector)t=[new d0(t)];else if(t.name)t=[new h0(t)];else if(t.text)t=[new fE(t)];else throw new Error("Unknown node type in node creation");return t.map(o=>(o[dE]||er.rebuild(o),o=o.proxyOf,o.parent&&o.parent.removeChild(o),o[uE]&&mE(o),typeof o.raws.before=="undefined"&&n&&typeof n.raws.before!="undefined"&&(o.raws.before=n.raws.before.replace(/\S/g,"")),o.parent=this,o))}getProxyProcessor(){return{set(t,n,i){return t[n]===i||(t[n]=i,(n==="name"||n==="params"||n==="selector")&&t.markDirty()),!0},get(t,n){return n==="proxyOf"?t:t[n]?n==="each"||typeof n=="string"&&n.startsWith("walk")?(...i)=>t[n](...i.map(o=>typeof o=="function"?(s,l)=>o(s.toProxy(),l):o)):n==="every"||n==="some"?i=>t[n]((o,...s)=>i(o.toProxy(),...s)):n==="root"?()=>t.root().toProxy():n==="nodes"?t.nodes.map(i=>i.toProxy()):n==="first"||n==="last"?t[n].toProxy():t[n]:t[n]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let t=this.lastEach;return this.indexes[t]=0,t}};er.registerParse=r=>{pE=r};er.registerRule=r=>{d0=r};er.registerAtRule=r=>{h0=r};yE.exports=er;er.default=er;er.rebuild=r=>{r.type==="atrule"?Object.setPrototypeOf(r,h0.prototype):r.type==="rule"?Object.setPrototypeOf(r,d0.prototype):r.type==="decl"?Object.setPrototypeOf(r,hE.prototype):r.type==="comment"&&Object.setPrototypeOf(r,fE.prototype),r[dE]=!0,r.nodes&&r.nodes.forEach(t=>{er.rebuild(t)})}});var Ad=ve((hF,wE)=>{H();"use strict";var t6=_o(),bE,vE,oa=class extends t6{constructor(t){super(et({type:"document"},t));this.nodes||(this.nodes=[])}toResult(t={}){return new bE(new vE,this,t).stringify()}};oa.registerLazyResult=r=>{bE=r};oa.registerProcessor=r=>{vE=r};wE.exports=oa;oa.default=oa});var f0=ve((fF,_E)=>{H();"use strict";var EE={};_E.exports=function(t){EE[t]||(EE[t]=!0,typeof console!="undefined"&&console.warn&&console.warn(t))}});var p0=ve((pF,SE)=>{H();"use strict";var xd=class{constructor(t,n={}){if(this.type="warning",this.text=t,n.node&&n.node.source){let i=n.node.rangeBy(n);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in n)this[i]=n[i]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};SE.exports=xd;xd.default=xd});var Td=ve((gF,AE)=>{H();"use strict";var n6=p0(),Cd=class{constructor(t,n,i){this.processor=t,this.messages=[],this.root=n,this.opts=i,this.css=void 0,this.map=void 0}toString(){return this.css}warn(t,n={}){n.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(n.plugin=this.lastPlugin.postcssPlugin);let i=new n6(t,n);return this.messages.push(i),i}warnings(){return this.messages.filter(t=>t.type==="warning")}get content(){return this.css}};AE.exports=Cd;Cd.default=Cd});var RE=ve((mF,OE)=>{H();"use strict";var g0="'".charCodeAt(0),xE='"'.charCodeAt(0),Od="\\".charCodeAt(0),CE="/".charCodeAt(0),Rd=`
`.charCodeAt(0),hl=" ".charCodeAt(0),Pd="\f".charCodeAt(0),Md="	".charCodeAt(0),kd="\r".charCodeAt(0),i6="[".charCodeAt(0),r6="]".charCodeAt(0),o6="(".charCodeAt(0),s6=")".charCodeAt(0),a6="{".charCodeAt(0),l6="}".charCodeAt(0),c6=";".charCodeAt(0),u6="*".charCodeAt(0),d6=":".charCodeAt(0),h6="@".charCodeAt(0),Ld=/[\t\n\f\r "#'()/;[\\\]{}]/g,Id=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,f6=/.[\n"'(/\\]/,TE=/[\da-f]/i;OE.exports=function(t,n={}){let i=t.css.valueOf(),o=n.ignoreErrors,s,l,u,d,h,y,b,w,p,m,f=i.length,g=0,v=[],A=[];function C(){return g}function O(M){throw t.error("Unclosed "+M,g)}function E(){return A.length===0&&g>=f}function T(M){if(A.length)return A.pop();if(g>=f)return;let D=M?M.ignoreUnclosed:!1;switch(s=i.charCodeAt(g),s){case Rd:case hl:case Md:case kd:case Pd:{l=g;do l+=1,s=i.charCodeAt(l);while(s===hl||s===Rd||s===Md||s===kd||s===Pd);m=["space",i.slice(g,l)],g=l-1;break}case i6:case r6:case a6:case l6:case d6:case c6:case s6:{let U=String.fromCharCode(s);m=[U,U,g];break}case o6:{if(w=v.length?v.pop()[1]:"",p=i.charCodeAt(g+1),w==="url"&&p!==g0&&p!==xE&&p!==hl&&p!==Rd&&p!==Md&&p!==Pd&&p!==kd){l=g;do{if(y=!1,l=i.indexOf(")",l+1),l===-1)if(o||D){l=g;break}else O("bracket");for(b=l;i.charCodeAt(b-1)===Od;)b-=1,y=!y}while(y);m=["brackets",i.slice(g,l+1),g,l],g=l}else l=i.indexOf(")",g+1),d=i.slice(g,l+1),l===-1||f6.test(d)?m=["(","(",g]:(m=["brackets",d,g,l],g=l);break}case g0:case xE:{u=s===g0?"'":'"',l=g;do{if(y=!1,l=i.indexOf(u,l+1),l===-1)if(o||D){l=g+1;break}else O("string");for(b=l;i.charCodeAt(b-1)===Od;)b-=1,y=!y}while(y);m=["string",i.slice(g,l+1),g,l],g=l;break}case h6:{Ld.lastIndex=g+1,Ld.test(i),Ld.lastIndex===0?l=i.length-1:l=Ld.lastIndex-2,m=["at-word",i.slice(g,l+1),g,l],g=l;break}case Od:{for(l=g,h=!0;i.charCodeAt(l+1)===Od;)l+=1,h=!h;if(s=i.charCodeAt(l+1),h&&s!==CE&&s!==hl&&s!==Rd&&s!==Md&&s!==kd&&s!==Pd&&(l+=1,TE.test(i.charAt(l)))){for(;TE.test(i.charAt(l+1));)l+=1;i.charCodeAt(l+1)===hl&&(l+=1)}m=["word",i.slice(g,l+1),g,l],g=l;break}default:{s===CE&&i.charCodeAt(g+1)===u6?(l=i.indexOf("*/",g+2)+1,l===0&&(o||D?l=i.length:O("comment")),m=["comment",i.slice(g,l+1),g,l],g=l):(Id.lastIndex=g+1,Id.test(i),Id.lastIndex===0?l=i.length-1:l=Id.lastIndex-2,m=["word",i.slice(g,l+1),g,l],v.push(m),g=l);break}}return g++,m}function B(M){A.push(M)}return{back:B,nextToken:T,endOfFile:E,position:C}}});var Bd=ve((yF,ME)=>{H();"use strict";var PE=_o(),fl=class extends PE{constructor(t){super(t);this.type="atrule"}append(...t){return this.proxyOf.nodes||(this.nodes=[]),super.append(...t)}prepend(...t){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...t)}};ME.exports=fl;fl.default=fl;PE.registerAtRule(fl)});var aa=ve((bF,IE)=>{H();"use strict";var p6=_o(),kE,LE,sa=class extends p6{constructor(t){super(t);this.type="root",this.nodes||(this.nodes=[])}removeChild(t,n){let i=this.index(t);return!n&&i===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[i].raws.before),super.removeChild(t)}normalize(t,n,i){let o=super.normalize(t);if(n){if(i==="prepend")this.nodes.length>1?n.raws.before=this.nodes[1].raws.before:delete n.raws.before;else if(this.first!==n)for(let s of o)s.raws.before=n.raws.before}return o}toResult(t={}){return new kE(new LE,this,t).stringify()}};sa.registerLazyResult=r=>{kE=r};sa.registerProcessor=r=>{LE=r};IE.exports=sa;sa.default=sa});var m0=ve((vF,BE)=>{H();"use strict";var pl={split(r,t,n){let i=[],o="",s=!1,l=0,u=!1,d=!1;for(let h of r)d?d=!1:h==="\\"?d=!0:u?h===u&&(u=!1):h==='"'||h==="'"?u=h:h==="("?l+=1:h===")"?l>0&&(l-=1):l===0&&t.includes(h)&&(s=!0),s?(o!==""&&i.push(o.trim()),o="",s=!1):o+=h;return(n||o!=="")&&i.push(o.trim()),i},space(r){let t=[" ",`
`,"	"];return pl.split(r,t)},comma(r){return pl.split(r,[","],!0)}};BE.exports=pl;pl.default=pl});var Nd=ve((wF,DE)=>{H();"use strict";var NE=_o(),g6=m0(),gl=class extends NE{constructor(t){super(t);this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return g6.comma(this.selector)}set selectors(t){let n=this.selector?this.selector.match(/,\s*/):null,i=n?n[0]:","+this.raw("between","beforeOpen");this.selector=t.join(i)}};DE.exports=gl;gl.default=gl;NE.registerRule(gl)});var $E=ve((EF,UE)=>{H();"use strict";var m6=al(),y6=RE(),b6=dl(),v6=Bd(),w6=aa(),jE=Nd(),FE={empty:!0,space:!0};function E6(r){for(let t=r.length-1;t>=0;t--){let n=r[t],i=n[3]||n[2];if(i)return i}}var HE=class{constructor(t){this.input=t,this.root=new w6,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:t,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=y6(this.input)}parse(){let t;for(;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()}comment(t){let n=new b6;this.init(n,t[2]),n.source.end=this.getPosition(t[3]||t[2]);let i=t[1].slice(2,-2);if(/^\s*$/.test(i))n.text="",n.raws.left=i,n.raws.right="";else{let o=i.match(/^(\s*)([^]*\S)(\s*)$/);n.text=o[2],n.raws.left=o[1],n.raws.right=o[3]}}emptyRule(t){let n=new jE;this.init(n,t[2]),n.selector="",n.raws.between="",this.current=n}other(t){let n=!1,i=null,o=!1,s=null,l=[],u=t[1].startsWith("--"),d=[],h=t;for(;h;){if(i=h[0],d.push(h),i==="("||i==="[")s||(s=h),l.push(i==="("?")":"]");else if(u&&o&&i==="{")s||(s=h),l.push("}");else if(l.length===0)if(i===";")if(o){this.decl(d,u);return}else break;else if(i==="{"){this.rule(d);return}else if(i==="}"){this.tokenizer.back(d.pop()),n=!0;break}else i===":"&&(o=!0);else i===l[l.length-1]&&(l.pop(),l.length===0&&(s=null));h=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(n=!0),l.length>0&&this.unclosedBracket(s),n&&o){if(!u)for(;d.length&&(h=d[d.length-1][0],!(h!=="space"&&h!=="comment"));)this.tokenizer.back(d.pop());this.decl(d,u)}else this.unknownWord(d)}rule(t){t.pop();let n=new jE;this.init(n,t[0][2]),n.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(n,"selector",t),this.current=n}decl(t,n){let i=new m6;this.init(i,t[0][2]);let o=t[t.length-1];for(o[0]===";"&&(this.semicolon=!0,t.pop()),i.source.end=this.getPosition(o[3]||o[2]||E6(t));t[0][0]!=="word";)t.length===1&&this.unknownWord(t),i.raws.before+=t.shift()[1];for(i.source.start=this.getPosition(t[0][2]),i.prop="";t.length;){let h=t[0][0];if(h===":"||h==="space"||h==="comment")break;i.prop+=t.shift()[1]}i.raws.between="";let s;for(;t.length;)if(s=t.shift(),s[0]===":"){i.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),i.raws.between+=s[1];(i.prop[0]==="_"||i.prop[0]==="*")&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let l=[],u;for(;t.length&&(u=t[0][0],!(u!=="space"&&u!=="comment"));)l.push(t.shift());this.precheckMissedSemicolon(t);for(let h=t.length-1;h>=0;h--){if(s=t[h],s[1].toLowerCase()==="!important"){i.important=!0;let y=this.stringFrom(t,h);y=this.spacesFromEnd(t)+y,y!==" !important"&&(i.raws.important=y);break}else if(s[1].toLowerCase()==="important"){let y=t.slice(0),b="";for(let w=h;w>0;w--){let p=y[w][0];if(b.trim().indexOf("!")===0&&p!=="space")break;b=y.pop()[1]+b}b.trim().indexOf("!")===0&&(i.important=!0,i.raws.important=b,t=y)}if(s[0]!=="space"&&s[0]!=="comment")break}t.some(h=>h[0]!=="space"&&h[0]!=="comment")&&(i.raws.between+=l.map(h=>h[1]).join(""),l=[]),this.raw(i,"value",l.concat(t),n),i.value.includes(":")&&!n&&this.checkMissedSemicolon(t)}atrule(t){let n=new v6;n.name=t[1].slice(1),n.name===""&&this.unnamedAtrule(n,t),this.init(n,t[2]);let i,o,s,l=!1,u=!1,d=[],h=[];for(;!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),i=t[0],i==="("||i==="["?h.push(i==="("?")":"]"):i==="{"&&h.length>0?h.push("}"):i===h[h.length-1]&&h.pop(),h.length===0)if(i===";"){n.source.end=this.getPosition(t[2]),this.semicolon=!0;break}else if(i==="{"){u=!0;break}else if(i==="}"){if(d.length>0){for(s=d.length-1,o=d[s];o&&o[0]==="space";)o=d[--s];o&&(n.source.end=this.getPosition(o[3]||o[2]))}this.end(t);break}else d.push(t);else d.push(t);if(this.tokenizer.endOfFile()){l=!0;break}}n.raws.between=this.spacesAndCommentsFromEnd(d),d.length?(n.raws.afterName=this.spacesAndCommentsFromStart(d),this.raw(n,"params",d),l&&(t=d[d.length-1],n.source.end=this.getPosition(t[3]||t[2]),this.spaces=n.raws.between,n.raws.between="")):(n.raws.afterName="",n.params=""),u&&(n.nodes=[],this.current=n)}end(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current=this.current.parent):this.unexpectedClose(t)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(t){if(this.spaces+=t[1],this.current.nodes){let n=this.current.nodes[this.current.nodes.length-1];n&&n.type==="rule"&&!n.raws.ownSemicolon&&(n.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(t){let n=this.input.fromOffset(t);return{offset:t,line:n.line,column:n.col}}init(t,n){this.current.push(t),t.source={start:this.getPosition(n),input:this.input},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)}raw(t,n,i,o){let s,l,u=i.length,d="",h=!0,y,b;for(let w=0;w<u;w+=1)s=i[w],l=s[0],l==="space"&&w===u-1&&!o?h=!1:l==="comment"?(b=i[w-1]?i[w-1][0]:"empty",y=i[w+1]?i[w+1][0]:"empty",!FE[b]&&!FE[y]?d.slice(-1)===","?h=!1:d+=s[1]:h=!1):d+=s[1];if(!h){let w=i.reduce((p,m)=>p+m[1],"");t.raws[n]={value:d,raw:w}}t[n]=d}spacesAndCommentsFromEnd(t){let n,i="";for(;t.length&&(n=t[t.length-1][0],!(n!=="space"&&n!=="comment"));)i=t.pop()[1]+i;return i}spacesAndCommentsFromStart(t){let n,i="";for(;t.length&&(n=t[0][0],!(n!=="space"&&n!=="comment"));)i+=t.shift()[1];return i}spacesFromEnd(t){let n,i="";for(;t.length&&(n=t[t.length-1][0],n==="space");)i=t.pop()[1]+i;return i}stringFrom(t,n){let i="";for(let o=n;o<t.length;o++)i+=t[o][1];return t.splice(n,t.length-n),i}colon(t){let n=0,i,o,s;for(let[l,u]of t.entries()){if(i=u,o=i[0],o==="("&&(n+=1),o===")"&&(n-=1),n===0&&o===":")if(!s)this.doubleColon(i);else{if(s[0]==="word"&&s[1]==="progid")continue;return l}s=i}return!1}unclosedBracket(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})}unknownWord(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})}unexpectedClose(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})}unclosedBlock(){let t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)}doubleColon(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})}unnamedAtrule(t,n){throw this.input.error("At-rule without name",{offset:n[2]},{offset:n[2]+n[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(t){let n=this.colon(t);if(n===!1)return;let i=0,o;for(let s=n-1;s>=0&&(o=t[s],!(o[0]!=="space"&&(i+=1,i===2)));s--);throw this.input.error("Missed semicolon",o[0]==="word"?o[3]+1:o[2])}};UE.exports=HE});var jd=ve((_F,qE)=>{H();"use strict";var _6=_o(),S6=$E(),A6=ul();function Dd(r,t){let n=new A6(r,t),i=new S6(n);try{i.parse()}catch(o){throw o}return i.root}qE.exports=Dd;Dd.default=Dd;_6.registerParse(Dd)});var v0=ve((AF,VE)=>{H();"use strict";var{isClean:wr,my:x6}=dd(),C6=u0(),T6=ol(),O6=_o(),R6=Ad(),SF=f0(),WE=Td(),P6=jd(),M6=aa(),k6={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},L6={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},I6={postcssPlugin:!0,prepare:!0,Once:!0},la=0;function ml(r){return typeof r=="object"&&typeof r.then=="function"}function GE(r){let t=!1,n=k6[r.type];return r.type==="decl"?t=r.prop.toLowerCase():r.type==="atrule"&&(t=r.name.toLowerCase()),t&&r.append?[n,n+"-"+t,la,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:r.append?[n,la,n+"Exit"]:[n,n+"Exit"]}function zE(r){let t;return r.type==="document"?t=["Document",la,"DocumentExit"]:r.type==="root"?t=["Root",la,"RootExit"]:t=GE(r),{node:r,events:t,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function y0(r){return r[wr]=!1,r.nodes&&r.nodes.forEach(t=>y0(t)),r}var b0={},Kr=class{constructor(t,n,i){this.stringified=!1,this.processed=!1;let o;if(typeof n=="object"&&n!==null&&(n.type==="root"||n.type==="document"))o=y0(n);else if(n instanceof Kr||n instanceof WE)o=y0(n.root),n.map&&(typeof i.map=="undefined"&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=n.map);else{let s=P6;i.syntax&&(s=i.syntax.parse),i.parser&&(s=i.parser),s.parse&&(s=s.parse);try{o=s(n,i)}catch(l){this.processed=!0,this.error=l}o&&!o[x6]&&O6.rebuild(o)}this.result=new WE(t,o,i),this.helpers=Yt(et({},b0),{result:this.result,postcss:b0}),this.plugins=this.processor.plugins.map(s=>typeof s=="object"&&s.prepare?et(et({},s),s.prepare(this.result)):s)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(t,n){return this.async().then(t,n)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let t of this.plugins){let n=this.runOnRoot(t);if(ml(n))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[wr];)t[wr]=!0,this.walkSync(t);if(this.listeners.OnceExit)if(t.type==="document")for(let n of t.nodes)this.visitSync(this.listeners.OnceExit,n);else this.visitSync(this.listeners.OnceExit,t)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let t=this.result.opts,n=T6;t.syntax&&(n=t.syntax.stringify),t.stringifier&&(n=t.stringifier),n.stringify&&(n=n.stringify);let o=new C6(n,this.result.root,this.result.opts).generate();return this.result.css=o[0],this.result.map=o[1],this.result}walkSync(t){t[wr]=!0;let n=GE(t);for(let i of n)if(i===la)t.nodes&&t.each(o=>{o[wr]||this.walkSync(o)});else{let o=this.listeners[i];if(o&&this.visitSync(o,t.toProxy()))return}}visitSync(t,n){for(let[i,o]of t){this.result.lastPlugin=i;let s;try{s=o(n,this.helpers)}catch(l){throw this.handleError(l,n.proxyOf)}if(n.type!=="root"&&n.type!=="document"&&!n.parent)return!0;if(ml(s))throw this.getAsyncError()}}runOnRoot(t){this.result.lastPlugin=t;try{if(typeof t=="object"&&t.Once){if(this.result.root.type==="document"){let n=this.result.root.nodes.map(i=>t.Once(i,this.helpers));return ml(n[0])?Promise.all(n):n}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(n){throw this.handleError(n)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(t,n){let i=this.result.lastPlugin;try{n&&n.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin?(t.plugin=i.postcssPlugin,t.setMessage()):i.postcssVersion}catch(o){console&&console.error&&console.error(o)}return t}async runAsync(){this.plugin=0;for(let t=0;t<this.plugins.length;t++){let n=this.plugins[t],i=this.runOnRoot(n);if(ml(i))try{await i}catch(o){throw this.handleError(o)}}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[wr];){t[wr]=!0;let n=[zE(t)];for(;n.length>0;){let i=this.visitTick(n);if(ml(i))try{await i}catch(o){let s=n[n.length-1].node;throw this.handleError(o,s)}}}if(this.listeners.OnceExit)for(let[n,i]of this.listeners.OnceExit){this.result.lastPlugin=n;try{if(t.type==="document"){let o=t.nodes.map(s=>i(s,this.helpers));await Promise.all(o)}else await i(t,this.helpers)}catch(o){throw this.handleError(o)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let t=(n,i,o)=>{this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push([n,o])};for(let n of this.plugins)if(typeof n=="object")for(let i in n){if(!L6[i]&&/^[A-Z]/.test(i))throw new Error(`Unknown event ${i} in ${n.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!I6[i])if(typeof n[i]=="object")for(let o in n[i])o==="*"?t(n,i,n[i][o]):t(n,i+"-"+o.toLowerCase(),n[i][o]);else typeof n[i]=="function"&&t(n,i,n[i])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(t){let n=t[t.length-1],{node:i,visitors:o}=n;if(i.type!=="root"&&i.type!=="document"&&!i.parent){t.pop();return}if(o.length>0&&n.visitorIndex<o.length){let[l,u]=o[n.visitorIndex];n.visitorIndex+=1,n.visitorIndex===o.length&&(n.visitors=[],n.visitorIndex=0),this.result.lastPlugin=l;try{return u(i.toProxy(),this.helpers)}catch(d){throw this.handleError(d,i)}}if(n.iterator!==0){let l=n.iterator,u;for(;u=i.nodes[i.indexes[l]];)if(i.indexes[l]+=1,!u[wr]){u[wr]=!0,t.push(zE(u));return}n.iterator=0,delete i.indexes[l]}let s=n.events;for(;n.eventIndex<s.length;){let l=s[n.eventIndex];if(n.eventIndex+=1,l===la){i.nodes&&i.nodes.length&&(i[wr]=!0,n.iterator=i.getIterator());return}else if(this.listeners[l]){n.visitors=this.listeners[l];return}}t.pop()}};Kr.registerPostcss=r=>{b0=r};VE.exports=Kr;Kr.default=Kr;M6.registerLazyResult(Kr);R6.registerLazyResult(Kr)});var KE=ve((CF,JE)=>{H();"use strict";var B6=u0(),N6=ol(),xF=f0(),D6=jd(),j6=Td(),Fd=class{constructor(t,n,i){n=n.toString(),this.stringified=!1,this._processor=t,this._css=n,this._opts=i,this._map=void 0;let o,s=N6;this.result=new j6(this._processor,o,this._opts),this.result.css=n;let l=this;Object.defineProperty(this.result,"root",{get(){return l.root}});let u=new B6(s,o,this._opts,n);if(u.isMap()){let[d,h]=u.generate();d&&(this.result.css=d),h&&(this.result.map=h)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let t,n=D6;try{t=n(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=t,t}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(t,n){return this.async().then(t,n)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}};JE.exports=Fd;Fd.default=Fd});var XE=ve((TF,YE)=>{H();"use strict";var F6=KE(),H6=v0(),U6=Ad(),$6=aa(),ca=class{constructor(t=[]){this.version="8.4.12",this.plugins=this.normalize(t)}use(t){return this.plugins=this.plugins.concat(this.normalize([t])),this}process(t,n={}){return this.plugins.length===0&&typeof n.parser=="undefined"&&typeof n.stringifier=="undefined"&&typeof n.syntax=="undefined"?new F6(this,t,n):new H6(this,t,n)}normalize(t){let n=[];for(let i of t)if(i.postcss===!0?i=i():i.postcss&&(i=i.postcss),typeof i=="object"&&Array.isArray(i.plugins))n=n.concat(i.plugins);else if(typeof i=="object"&&i.postcssPlugin)n.push(i);else if(typeof i=="function")n.push(i);else if(!(typeof i=="object"&&(i.parse||i.stringify)))throw new Error(i+" is not a PostCSS plugin");return n}};YE.exports=ca;ca.default=ca;$6.registerProcessor(ca);U6.registerProcessor(ca)});var QE=ve((OF,ZE)=>{H();"use strict";var q6=al(),W6=o0(),G6=dl(),z6=Bd(),V6=ul(),J6=aa(),K6=Nd();function yl(r,t){if(Array.isArray(r))return r.map(l=>yl(l));let o=r,{inputs:n}=o,i=go(o,["inputs"]);if(n){t=[];for(let l of n){let u=Yt(et({},l),{__proto__:V6.prototype});u.map&&(u.map=Yt(et({},u.map),{__proto__:W6.prototype})),t.push(u)}}if(i.nodes&&(i.nodes=r.nodes.map(l=>yl(l,t))),i.source){let s=i.source,{inputId:l}=s,u=go(s,["inputId"]);i.source=u,l!=null&&(i.source.input=t[l])}if(i.type==="root")return new J6(i);if(i.type==="decl")return new q6(i);if(i.type==="rule")return new K6(i);if(i.type==="comment")return new G6(i);if(i.type==="atrule")return new z6(i);throw new Error("Unknown node type: "+r.type)}ZE.exports=yl;yl.default=yl});var a_=ve((RF,s_)=>{H();"use strict";var Y6=ud(),e_=al(),X6=v0(),Z6=_o(),w0=XE(),Q6=ol(),e5=QE(),t_=Ad(),t5=p0(),n_=dl(),i_=Bd(),n5=Td(),i5=ul(),r5=jd(),o5=m0(),r_=Nd(),o_=aa(),s5=sl();function Ft(...r){return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new w0(r)}Ft.plugin=function(t,n){console&&console.warn&&(console.warn(t+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(t+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));function i(...s){let l=n(...s);return l.postcssPlugin=t,l.postcssVersion=new w0().version,l}let o;return Object.defineProperty(i,"postcss",{get(){return o||(o=i()),o}}),i.process=function(s,l,u){return Ft([i(u)]).process(s,l)},i};Ft.stringify=Q6;Ft.parse=r5;Ft.fromJSON=e5;Ft.list=o5;Ft.comment=r=>new n_(r);Ft.atRule=r=>new i_(r);Ft.decl=r=>new e_(r);Ft.rule=r=>new r_(r);Ft.root=r=>new o_(r);Ft.document=r=>new t_(r);Ft.CssSyntaxError=Y6;Ft.Declaration=e_;Ft.Container=Z6;Ft.Processor=w0;Ft.Document=t_;Ft.Comment=n_;Ft.Warning=t5;Ft.AtRule=i_;Ft.Result=n5;Ft.Input=i5;Ft.Rule=r_;Ft.Root=o_;Ft.Node=s5;X6.registerPostcss(Ft);s_.exports=Ft;Ft.default=Ft});var E0=ve((PF,u_)=>{H();var a5=A2(),l5=C2(),{klona:c5}=O2(),{isPlainObject:u5}=P2(),l_=I2(),d5=N2(),{parse:h5}=a_(),f5=["img","audio","video","picture","svg","object","map","iframe","embed"],p5=["script","style"];function bl(r,t){r&&Object.keys(r).forEach(function(n){t(r[n],n)})}function Yr(r,t){return{}.hasOwnProperty.call(r,t)}function c_(r,t){let n=[];return bl(r,function(i){t(i)&&n.push(i)}),n}function g5(r){for(let t in r)if(Yr(r,t))return!1;return!0}function m5(r){return r.map(function(t){if(!t.url)throw new Error("URL missing");return t.url+(t.w?` ${t.w}w`:"")+(t.h?` ${t.h}h`:"")+(t.d?` ${t.d}x`:"")}).join(", ")}u_.exports=vl;var y5=/^[^\0\t\n\f\r /<=>]+$/;function vl(r,t,n){let i="",o="";function s(I,N){let q=this;this.tag=I,this.attribs=N||{},this.tagPosition=i.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(p.length){let z=p[p.length-1];z.text+=q.text}},this.updateParentNodeMediaChildren=function(){p.length&&f5.includes(this.tag)&&p[p.length-1].mediaChildren.push(this.tag)}}t=Object.assign({},vl.defaults,t),t.parser=Object.assign({},b5,t.parser),p5.forEach(function(I){t.allowedTags&&t.allowedTags.indexOf(I)>-1&&!t.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${I}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});let l=t.nonTextTags||["script","style","textarea","option"],u,d;t.allowedAttributes&&(u={},d={},bl(t.allowedAttributes,function(I,N){u[N]=[];let q=[];I.forEach(function(z){typeof z=="string"&&z.indexOf("*")>=0?q.push(l5(z).replace(/\\\*/g,".*")):u[N].push(z)}),d[N]=new RegExp("^("+q.join("|")+")$")}));let h={};bl(t.allowedClasses,function(I,N){u&&(Yr(u,N)||(u[N]=[]),u[N].push("class")),h[N]=I});let y={},b;bl(t.transformTags,function(I,N){let q;typeof I=="function"?q=I:typeof I=="string"&&(q=vl.simpleTransform(I)),N==="*"?b=q:y[N]=q});let w,p,m,f,g,v,A=!1;O();let C=new a5.Parser({onopentag:function(I,N){if(t.enforceHtmlBoundary&&I==="html"&&O(),g){v++;return}let q=new s(I,N);p.push(q);let z=!1,ne=!!q.text,oe;if(Yr(y,I)&&(oe=y[I](I,N),q.attribs=N=oe.attribs,oe.text!==void 0&&(q.innerText=oe.text),I!==oe.tagName&&(q.name=I=oe.tagName,f[w]=oe.tagName)),b&&(oe=b(I,N),q.attribs=N=oe.attribs,I!==oe.tagName&&(q.name=I=oe.tagName,f[w]=oe.tagName)),(t.allowedTags&&t.allowedTags.indexOf(I)===-1||t.disallowedTagsMode==="recursiveEscape"&&!g5(m)||t.nestingLimit!=null&&w>=t.nestingLimit)&&(z=!0,m[w]=!0,t.disallowedTagsMode==="discard"&&l.indexOf(I)!==-1&&(g=!0,v=1),m[w]=!0),w++,z){if(t.disallowedTagsMode==="discard")return;o=i,i=""}i+="<"+I,(!u||Yr(u,I)||u["*"])&&bl(N,function(ae,te){if(!y5.test(te)){delete q.attribs[te];return}let le,xe=!1;if(!u||Yr(u,I)&&u[I].indexOf(te)!==-1||u["*"]&&u["*"].indexOf(te)!==-1||Yr(d,I)&&d[I].test(te)||d["*"]&&d["*"].test(te))xe=!0;else if(u&&u[I]){for(let fe of u[I])if(u5(fe)&&fe.name&&fe.name===te){xe=!0;let J="";if(fe.multiple===!0){let j=ae.split(" ");for(let k of j)fe.values.indexOf(k)!==-1&&(J===""?J=k:J+=" "+k)}else fe.values.indexOf(ae)>=0&&(J=ae);ae=J}}if(xe){if(t.allowedSchemesAppliedToAttributes.indexOf(te)!==-1&&T(I,ae)){delete q.attribs[te];return}if(I==="iframe"&&te==="src"){let fe=!0;try{if(ae=ae.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),ae.startsWith("relative:"))throw new Error("relative: exploit attempt");let J="relative://relative-site";for(let x=0;x<100;x++)J+=`/${x}`;let j=new URL(ae,J);if(j&&j.hostname==="relative-site"&&j.protocol==="relative:")fe=Yr(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){let x=(t.allowedIframeHostnames||[]).find(function(L){return L===j.hostname}),R=(t.allowedIframeDomains||[]).find(function(L){return j.hostname===L||j.hostname.endsWith(`.${L}`)});fe=x||R}}catch(J){fe=!1}if(!fe){delete q.attribs[te];return}}if(te==="srcset")try{if(le=d5(ae),le.forEach(function(fe){T("srcset",fe.url)&&(fe.evil=!0)}),le=c_(le,function(fe){return!fe.evil}),le.length)ae=m5(c_(le,function(fe){return!fe.evil})),q.attribs[te]=ae;else{delete q.attribs[te];return}}catch(fe){delete q.attribs[te];return}if(te==="class"){let fe=h[I],J=h["*"];if(fe&&J?ae=U(ae,l_(fe,J)):ae=U(ae,fe||J),!ae.length){delete q.attribs[te];return}}if(te==="style")try{let fe=h5(I+" {"+ae+"}"),J=B(fe,t.allowedStyles);if(ae=M(J),ae.length===0){delete q.attribs[te];return}}catch(fe){delete q.attribs[te];return}i+=" "+te,ae&&ae.length&&(i+='="'+E(ae,!0)+'"')}else delete q.attribs[te]}),t.selfClosing.indexOf(I)!==-1?i+=" />":(i+=">",q.innerText&&!ne&&!t.textFilter&&(i+=E(q.innerText),A=!0)),z&&(i=o+E(i),o="")},ontext:function(I){if(g)return;let N=p[p.length-1],q;if(N&&(q=N.tag,I=N.innerText!==void 0?N.innerText:I),t.disallowedTagsMode==="discard"&&(q==="script"||q==="style"))i+=I;else{let z=E(I,!1);t.textFilter&&!A?i+=t.textFilter(z,q):A||(i+=z)}if(p.length){let z=p[p.length-1];z.text+=I}},onclosetag:function(I){if(g)if(v--,!v)g=!1;else return;let N=p.pop();if(!N)return;g=t.enforceHtmlBoundary?I==="html":!1,w--;let q=m[w];if(q){if(delete m[w],t.disallowedTagsMode==="discard"){N.updateParentNodeText();return}o=i,i=""}if(f[w]&&(I=f[w],delete f[w]),t.exclusiveFilter&&t.exclusiveFilter(N)){i=i.substr(0,N.tagPosition);return}if(N.updateParentNodeMediaChildren(),N.updateParentNodeText(),t.selfClosing.indexOf(I)!==-1){q&&(i=o,o="");return}i+="</"+I+">",q&&(i=o+E(i),o="")}},t.parser);return C.write(r),C.end(),i;function O(){i="",w=0,p=[],m={},f={},g=!1,v=0}function E(I,N){return typeof I!="string"&&(I=I+""),t.parser.decodeEntities&&(I=I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),N&&(I=I.replace(/"/g,"&quot;"))),I=I.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),N&&(I=I.replace(/"/g,"&quot;")),I}function T(I,N){N=N.replace(/[\x00-\x20]+/g,""),N=N.replace(/<!--.*?-->/g,"");let q=N.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!q)return N.match(/^[/\\]{2}/)?!t.allowProtocolRelative:!1;let z=q[1].toLowerCase();return Yr(t.allowedSchemesByTag,I)?t.allowedSchemesByTag[I].indexOf(z)===-1:!t.allowedSchemes||t.allowedSchemes.indexOf(z)===-1}function B(I,N){if(!N)return I;let q=c5(I),z=I.nodes[0],ne;return N[z.selector]&&N["*"]?ne=l_(N[z.selector],N["*"]):ne=N[z.selector]||N["*"],ne&&(q.nodes[0].nodes=z.nodes.reduce(D(ne),[])),q}function M(I){return I.nodes[0].nodes.reduce(function(N,q){return N.push(q.prop+":"+q.value),N},[]).join(";")}function D(I){return function(N,q){return Yr(I,q.prop)&&I[q.prop].some(function(ne){return ne.test(q.value)})&&N.push(q),N}}function U(I,N){return N?(I=I.split(/\s+/),I.filter(function(q){return N.indexOf(q)!==-1}).join(" ")):I}}var b5={decodeEntities:!0};vl.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1};vl.simpleTransform=function(r,t,n){return n=n===void 0?!0:n,t=t||{},function(i,o){let s;if(n)for(s in t)o[s]=t[s];else o=t;return{tagName:r,attribs:o}}}});var Jt=ve((h_,Hd)=>{H();(function(r,t){"use strict";typeof define=="function"&&define.amd?define(t):typeof Hd=="object"&&Hd.exports?Hd.exports=t():r.log=t()})(h_,function(){"use strict";var r=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function o(m,f){var g=m[f];if(typeof g.bind=="function")return g.bind(m);try{return Function.prototype.bind.call(g,m)}catch(v){return function(){return Function.prototype.apply.apply(g,[m,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(m){return m==="debug"&&(m="log"),typeof console===t?!1:m==="trace"&&n?s:console[m]!==void 0?o(console,m):console.log!==void 0?o(console,"log"):r}function u(m,f){for(var g=0;g<i.length;g++){var v=i[g];this[v]=g<m?r:this.methodFactory(v,m,f)}this.log=this.debug}function d(m,f,g){return function(){typeof console!==t&&(u.call(this,f,g),this[m].apply(this,arguments))}}function h(m,f,g){return l(m)||d.apply(this,arguments)}function y(m,f,g){var v=this,A;f=f??"WARN";var C="loglevel";typeof m=="string"?C+=":"+m:typeof m=="symbol"&&(C=void 0);function O(M){var D=(i[M]||"silent").toUpperCase();if(!(typeof window===t||!C)){try{window.localStorage[C]=D;return}catch(U){}try{window.document.cookie=encodeURIComponent(C)+"="+D+";"}catch(U){}}}function E(){var M;if(!(typeof window===t||!C)){try{M=window.localStorage[C]}catch(I){}if(typeof M===t)try{var D=window.document.cookie,U=D.indexOf(encodeURIComponent(C)+"=");U!==-1&&(M=/^([^;]+)/.exec(D.slice(U))[1])}catch(I){}return v.levels[M]===void 0&&(M=void 0),M}}function T(){if(!(typeof window===t||!C)){try{window.localStorage.removeItem(C);return}catch(M){}try{window.document.cookie=encodeURIComponent(C)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(M){}}}v.name=m,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=g||h,v.getLevel=function(){return A},v.setLevel=function(M,D){if(typeof M=="string"&&v.levels[M.toUpperCase()]!==void 0&&(M=v.levels[M.toUpperCase()]),typeof M=="number"&&M>=0&&M<=v.levels.SILENT){if(A=M,D!==!1&&O(M),u.call(v,M,m),typeof console===t&&M<v.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+M},v.setDefaultLevel=function(M){f=M,E()||v.setLevel(M,!1)},v.resetLevel=function(){v.setLevel(f,!1),T()},v.enableAll=function(M){v.setLevel(v.levels.TRACE,M)},v.disableAll=function(M){v.setLevel(v.levels.SILENT,M)};var B=E();B==null&&(B=f),v.setLevel(B,!1)}var b=new y,w={};b.getLogger=function(f){if(typeof f!="symbol"&&typeof f!="string"||f==="")throw new TypeError("You must supply a name when creating a logger.");var g=w[f];return g||(g=w[f]=new y(f,b.getLevel(),b.methodFactory)),g};var p=typeof window!==t?window.log:void 0;return b.noConflict=function(){return typeof window!==t&&window.log===b&&(window.log=p),b},b.getLoggers=function(){return w},b.default=b,b})});var So=ve((DF,p_)=>{H();function _0(r,t,n){var i,o,s,l,u;t==null&&(t=100);function d(){var y=Date.now()-l;y<t&&y>=0?i=setTimeout(d,t-y):(i=null,n||(u=r.apply(s,o),s=o=null))}var h=function(){s=this,o=arguments,l=Date.now();var y=n&&!i;return i||(i=setTimeout(d,t)),y&&(u=r.apply(s,o),s=o=null),u};return h.clear=function(){i&&(clearTimeout(i),i=null)},h.flush=function(){i&&(u=r.apply(s,o),s=o=null,clearTimeout(i),i=null)},h}_0.debounce=_0;p_.exports=_0});var M_=ve((xH,P_)=>{H();"use strict";var M5={},k5=M5.hasOwnProperty,L5=function(t,n){if(!t)return n;var i={};for(var o in n)i[o]=k5.call(t,o)?t[o]:n[o];return i},I5=/[ -,\.\/:-@\[-\^`\{-~]/,B5=/[ -,\.\/:-@\[\]\^`\{-~]/,N5=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,R0=function r(t,n){n=L5(n,r.options),n.quotes!="single"&&n.quotes!="double"&&(n.quotes="single");for(var i=n.quotes=="double"?'"':"'",o=n.isIdentifier,s=t.charAt(0),l="",u=0,d=t.length;u<d;){var h=t.charAt(u++),y=h.charCodeAt(),b=void 0;if(y<32||y>126){if(y>=55296&&y<=56319&&u<d){var w=t.charCodeAt(u++);(w&64512)==56320?y=((y&1023)<<10)+(w&1023)+65536:u--}b="\\"+y.toString(16).toUpperCase()+" "}else n.escapeEverything?I5.test(h)?b="\\"+h:b="\\"+y.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(h)?b="\\"+y.toString(16).toUpperCase()+" ":h=="\\"||!o&&(h=='"'&&i==h||h=="'"&&i==h)||o&&B5.test(h)?b="\\"+h:b=h;l+=b}return o&&(/^-[-\d]/.test(l)?l="\\-"+l.slice(1):/\d/.test(s)&&(l="\\3"+s+" "+l.slice(1))),l=l.replace(N5,function(p,m,f){return m&&m.length%2?p:(m||"")+f}),!o&&n.wrap?i+l+i:l};R0.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};R0.version="3.0.0";P_.exports=R0});var Kd=ve((da,El)=>{H();(function(){var r,t="4.17.21",n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",h=1,y=2,b=4,w=1,p=2,m=1,f=2,g=4,v=8,A=16,C=32,O=64,E=128,T=256,B=512,M=30,D="...",U=800,I=16,N=1,q=2,z=3,ne=1/0,oe=9007199254740991,ae=17976931348623157e292,te=0/0,le=4294967295,xe=le-1,fe=le>>>1,J=[["ary",E],["bind",m],["bindKey",f],["curry",v],["curryRight",A],["flip",B],["partial",C],["partialRight",O],["rearg",T]],j="[object Arguments]",k="[object Array]",x="[object AsyncFunction]",R="[object Boolean]",L="[object Date]",F="[object DOMException]",W="[object Error]",V="[object Function]",Z="[object GeneratorFunction]",ee="[object Map]",ie="[object Number]",ue="[object Null]",de="[object Object]",ye="[object Promise]",ke="[object Proxy]",He="[object RegExp]",_e="[object Set]",be="[object String]",se="[object Symbol]",Ce="[object Undefined]",Re="[object WeakMap]",Y="[object WeakSet]",we="[object ArrayBuffer]",Ae="[object DataView]",Oe="[object Float32Array]",Be="[object Float64Array]",ot="[object Int8Array]",ze="[object Int16Array]",Je="[object Int32Array]",Ge="[object Uint8Array]",pe="[object Uint8ClampedArray]",Q="[object Uint16Array]",ce="[object Uint32Array]",Ue=/\b__p \+= '';/g,ut=/\b(__p \+=) '' \+/g,Nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pt=/&(?:amp|lt|gt|quot|#39);/g,Wn=/[&<>"']/g,rr=RegExp(Pt.source),xi=RegExp(Wn.source),dn=/<%-([\s\S]+?)%>/g,qi=/<%([\s\S]+?)%>/g,ai=/<%=([\s\S]+?)%>/g,io=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zt=/^\w*$/,xr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,or=/[\\^$.*+?()[\]{}|]/g,No=RegExp(or.source),sr=/^\s+/,Cr=/\s/,hn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nn=/\{\n\/\* \[wrapped with (.+)\] \*/,Wi=/,? & /,$l=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dx=/[()=,{}\[\]\/\s]/,hx=/\\(\\)?/g,fx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tg=/\w*$/,px=/^[-+]0x[0-9a-f]+$/i,gx=/^0b[01]+$/i,mx=/^\[object .+?Constructor\]$/,yx=/^0o[0-7]+$/i,bx=/^(?:0|[1-9]\d*)$/,vx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ql=/($^)/,wx=/['\n\r\u2028\u2029\\]/g,Wl="\\ud800-\\udfff",Ex="\\u0300-\\u036f",_x="\\ufe20-\\ufe2f",Sx="\\u20d0-\\u20ff",Og=Ex+_x+Sx,Rg="\\u2700-\\u27bf",Pg="a-z\\xdf-\\xf6\\xf8-\\xff",Ax="\\xac\\xb1\\xd7\\xf7",xx="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Cx="\\u2000-\\u206f",Tx=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mg="A-Z\\xc0-\\xd6\\xd8-\\xde",kg="\\ufe0e\\ufe0f",Lg=Ax+xx+Cx+Tx,Ah="['\u2019]",Ox="["+Wl+"]",Ig="["+Lg+"]",Gl="["+Og+"]",Bg="\\d+",Rx="["+Rg+"]",Ng="["+Pg+"]",Dg="[^"+Wl+Lg+Bg+Rg+Pg+Mg+"]",xh="\\ud83c[\\udffb-\\udfff]",Px="(?:"+Gl+"|"+xh+")",jg="[^"+Wl+"]",Ch="(?:\\ud83c[\\udde6-\\uddff]){2}",Th="[\\ud800-\\udbff][\\udc00-\\udfff]",ws="["+Mg+"]",Fg="\\u200d",Hg="(?:"+Ng+"|"+Dg+")",Mx="(?:"+ws+"|"+Dg+")",Ug="(?:"+Ah+"(?:d|ll|m|re|s|t|ve))?",$g="(?:"+Ah+"(?:D|LL|M|RE|S|T|VE))?",qg=Px+"?",Wg="["+kg+"]?",kx="(?:"+Fg+"(?:"+[jg,Ch,Th].join("|")+")"+Wg+qg+")*",Lx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ix="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gg=Wg+qg+kx,Bx="(?:"+[Rx,Ch,Th].join("|")+")"+Gg,Nx="(?:"+[jg+Gl+"?",Gl,Ch,Th,Ox].join("|")+")",Dx=RegExp(Ah,"g"),jx=RegExp(Gl,"g"),Oh=RegExp(xh+"(?="+xh+")|"+Nx+Gg,"g"),Fx=RegExp([ws+"?"+Ng+"+"+Ug+"(?="+[Ig,ws,"$"].join("|")+")",Mx+"+"+$g+"(?="+[Ig,ws+Hg,"$"].join("|")+")",ws+"?"+Hg+"+"+Ug,ws+"+"+$g,Ix,Lx,Bg,Bx].join("|"),"g"),Hx=RegExp("["+Fg+Wl+Og+kg+"]"),Ux=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$x=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qx=-1,Wt={};Wt[Oe]=Wt[Be]=Wt[ot]=Wt[ze]=Wt[Je]=Wt[Ge]=Wt[pe]=Wt[Q]=Wt[ce]=!0,Wt[j]=Wt[k]=Wt[we]=Wt[R]=Wt[Ae]=Wt[L]=Wt[W]=Wt[V]=Wt[ee]=Wt[ie]=Wt[de]=Wt[He]=Wt[_e]=Wt[be]=Wt[Re]=!1;var qt={};qt[j]=qt[k]=qt[we]=qt[Ae]=qt[R]=qt[L]=qt[Oe]=qt[Be]=qt[ot]=qt[ze]=qt[Je]=qt[ee]=qt[ie]=qt[de]=qt[He]=qt[_e]=qt[be]=qt[se]=qt[Ge]=qt[pe]=qt[Q]=qt[ce]=!0,qt[W]=qt[V]=qt[Re]=!1;var Wx={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Gx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Vx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jx=parseFloat,Kx=parseInt,zg=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Yx=typeof self=="object"&&self&&self.Object===Object&&self,fn=zg||Yx||Function("return this")(),Rh=typeof da=="object"&&da&&!da.nodeType&&da,Do=Rh&&typeof El=="object"&&El&&!El.nodeType&&El,Vg=Do&&Do.exports===Rh,Ph=Vg&&zg.process,Ci=function(){try{var he=Do&&Do.require&&Do.require("util").types;return he||Ph&&Ph.binding&&Ph.binding("util")}catch(Te){}}(),Jg=Ci&&Ci.isArrayBuffer,Kg=Ci&&Ci.isDate,Yg=Ci&&Ci.isMap,Xg=Ci&&Ci.isRegExp,Zg=Ci&&Ci.isSet,Qg=Ci&&Ci.isTypedArray;function li(he,Te,Se){switch(Se.length){case 0:return he.call(Te);case 1:return he.call(Te,Se[0]);case 2:return he.call(Te,Se[0],Se[1]);case 3:return he.call(Te,Se[0],Se[1],Se[2])}return he.apply(Te,Se)}function Xx(he,Te,Se,We){for(var ht=-1,Mt=he==null?0:he.length;++ht<Mt;){var an=he[ht];Te(We,an,Se(an),he)}return We}function Ti(he,Te){for(var Se=-1,We=he==null?0:he.length;++Se<We&&Te(he[Se],Se,he)!==!1;);return he}function Zx(he,Te){for(var Se=he==null?0:he.length;Se--&&Te(he[Se],Se,he)!==!1;);return he}function em(he,Te){for(var Se=-1,We=he==null?0:he.length;++Se<We;)if(!Te(he[Se],Se,he))return!1;return!0}function ro(he,Te){for(var Se=-1,We=he==null?0:he.length,ht=0,Mt=[];++Se<We;){var an=he[Se];Te(an,Se,he)&&(Mt[ht++]=an)}return Mt}function zl(he,Te){var Se=he==null?0:he.length;return!!Se&&Es(he,Te,0)>-1}function Mh(he,Te,Se){for(var We=-1,ht=he==null?0:he.length;++We<ht;)if(Se(Te,he[We]))return!0;return!1}function Kt(he,Te){for(var Se=-1,We=he==null?0:he.length,ht=Array(We);++Se<We;)ht[Se]=Te(he[Se],Se,he);return ht}function oo(he,Te){for(var Se=-1,We=Te.length,ht=he.length;++Se<We;)he[ht+Se]=Te[Se];return he}function kh(he,Te,Se,We){var ht=-1,Mt=he==null?0:he.length;for(We&&Mt&&(Se=he[++ht]);++ht<Mt;)Se=Te(Se,he[ht],ht,he);return Se}function Qx(he,Te,Se,We){var ht=he==null?0:he.length;for(We&&ht&&(Se=he[--ht]);ht--;)Se=Te(Se,he[ht],ht,he);return Se}function Lh(he,Te){for(var Se=-1,We=he==null?0:he.length;++Se<We;)if(Te(he[Se],Se,he))return!0;return!1}var eC=Ih("length");function tC(he){return he.split("")}function nC(he){return he.match($l)||[]}function tm(he,Te,Se){var We;return Se(he,function(ht,Mt,an){if(Te(ht,Mt,an))return We=Mt,!1}),We}function Vl(he,Te,Se,We){for(var ht=he.length,Mt=Se+(We?1:-1);We?Mt--:++Mt<ht;)if(Te(he[Mt],Mt,he))return Mt;return-1}function Es(he,Te,Se){return Te===Te?pC(he,Te,Se):Vl(he,nm,Se)}function iC(he,Te,Se,We){for(var ht=Se-1,Mt=he.length;++ht<Mt;)if(We(he[ht],Te))return ht;return-1}function nm(he){return he!==he}function im(he,Te){var Se=he==null?0:he.length;return Se?Nh(he,Te)/Se:te}function Ih(he){return function(Te){return Te==null?r:Te[he]}}function Bh(he){return function(Te){return he==null?r:he[Te]}}function rm(he,Te,Se,We,ht){return ht(he,function(Mt,an,$t){Se=We?(We=!1,Mt):Te(Se,Mt,an,$t)}),Se}function rC(he,Te){var Se=he.length;for(he.sort(Te);Se--;)he[Se]=he[Se].value;return he}function Nh(he,Te){for(var Se,We=-1,ht=he.length;++We<ht;){var Mt=Te(he[We]);Mt!==r&&(Se=Se===r?Mt:Se+Mt)}return Se}function Dh(he,Te){for(var Se=-1,We=Array(he);++Se<he;)We[Se]=Te(Se);return We}function oC(he,Te){return Kt(Te,function(Se){return[Se,he[Se]]})}function om(he){return he&&he.slice(0,cm(he)+1).replace(sr,"")}function ci(he){return function(Te){return he(Te)}}function jh(he,Te){return Kt(Te,function(Se){return he[Se]})}function xa(he,Te){return he.has(Te)}function sm(he,Te){for(var Se=-1,We=he.length;++Se<We&&Es(Te,he[Se],0)>-1;);return Se}function am(he,Te){for(var Se=he.length;Se--&&Es(Te,he[Se],0)>-1;);return Se}function sC(he,Te){for(var Se=he.length,We=0;Se--;)he[Se]===Te&&++We;return We}var aC=Bh(Wx),lC=Bh(Gx);function cC(he){return"\\"+Vx[he]}function uC(he,Te){return he==null?r:he[Te]}function _s(he){return Hx.test(he)}function dC(he){return Ux.test(he)}function hC(he){for(var Te,Se=[];!(Te=he.next()).done;)Se.push(Te.value);return Se}function Fh(he){var Te=-1,Se=Array(he.size);return he.forEach(function(We,ht){Se[++Te]=[ht,We]}),Se}function lm(he,Te){return function(Se){return he(Te(Se))}}function so(he,Te){for(var Se=-1,We=he.length,ht=0,Mt=[];++Se<We;){var an=he[Se];(an===Te||an===d)&&(he[Se]=d,Mt[ht++]=Se)}return Mt}function Jl(he){var Te=-1,Se=Array(he.size);return he.forEach(function(We){Se[++Te]=We}),Se}function fC(he){var Te=-1,Se=Array(he.size);return he.forEach(function(We){Se[++Te]=[We,We]}),Se}function pC(he,Te,Se){for(var We=Se-1,ht=he.length;++We<ht;)if(he[We]===Te)return We;return-1}function gC(he,Te,Se){for(var We=Se+1;We--;)if(he[We]===Te)return We;return We}function Ss(he){return _s(he)?yC(he):eC(he)}function Gi(he){return _s(he)?bC(he):tC(he)}function cm(he){for(var Te=he.length;Te--&&Cr.test(he.charAt(Te)););return Te}var mC=Bh(zx);function yC(he){for(var Te=Oh.lastIndex=0;Oh.test(he);)++Te;return Te}function bC(he){return he.match(Oh)||[]}function vC(he){return he.match(Fx)||[]}var wC=function he(Te){Te=Te==null?fn:ao.defaults(fn.Object(),Te,ao.pick(fn,$x));var Se=Te.Array,We=Te.Date,ht=Te.Error,Mt=Te.Function,an=Te.Math,$t=Te.Object,Hh=Te.RegExp,EC=Te.String,Oi=Te.TypeError,Kl=Se.prototype,_C=Mt.prototype,As=$t.prototype,Yl=Te["__core-js_shared__"],Xl=_C.toString,Dt=As.hasOwnProperty,SC=0,um=function(){var a=/[^.]+$/.exec(Yl&&Yl.keys&&Yl.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Zl=As.toString,AC=Xl.call($t),xC=fn._,CC=Hh("^"+Xl.call(Dt).replace(or,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ql=Vg?Te.Buffer:r,lo=Te.Symbol,ec=Te.Uint8Array,dm=Ql?Ql.allocUnsafe:r,tc=lm($t.getPrototypeOf,$t),hm=$t.create,fm=As.propertyIsEnumerable,nc=Kl.splice,pm=lo?lo.isConcatSpreadable:r,Ca=lo?lo.iterator:r,jo=lo?lo.toStringTag:r,ic=function(){try{var a=qo($t,"defineProperty");return a({},"",{}),a}catch(c){}}(),TC=Te.clearTimeout!==fn.clearTimeout&&Te.clearTimeout,OC=We&&We.now!==fn.Date.now&&We.now,RC=Te.setTimeout!==fn.setTimeout&&Te.setTimeout,rc=an.ceil,oc=an.floor,Uh=$t.getOwnPropertySymbols,PC=Ql?Ql.isBuffer:r,gm=Te.isFinite,MC=Kl.join,kC=lm($t.keys,$t),ln=an.max,Rn=an.min,LC=We.now,IC=Te.parseInt,mm=an.random,BC=Kl.reverse,$h=qo(Te,"DataView"),Ta=qo(Te,"Map"),qh=qo(Te,"Promise"),xs=qo(Te,"Set"),Oa=qo(Te,"WeakMap"),Ra=qo($t,"create"),sc=Oa&&new Oa,Cs={},NC=Wo($h),DC=Wo(Ta),jC=Wo(qh),FC=Wo(xs),HC=Wo(Oa),ac=lo?lo.prototype:r,Pa=ac?ac.valueOf:r,ym=ac?ac.toString:r;function G(a){if(Qt(a)&&!ft(a)&&!(a instanceof At)){if(a instanceof Ri)return a;if(Dt.call(a,"__wrapped__"))return by(a)}return new Ri(a)}var Ts=function(){function a(){}return function(c){if(!Xt(c))return{};if(hm)return hm(c);a.prototype=c;var S=new a;return a.prototype=r,S}}();function lc(){}function Ri(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=r}G.templateSettings={escape:dn,evaluate:qi,interpolate:ai,variable:"",imports:{_:G}},G.prototype=lc.prototype,G.prototype.constructor=G,Ri.prototype=Ts(lc.prototype),Ri.prototype.constructor=Ri;function At(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function UC(){var a=new At(this.__wrapped__);return a.__actions__=Gn(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Gn(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Gn(this.__views__),a}function $C(){if(this.__filtered__){var a=new At(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function qC(){var a=this.__wrapped__.value(),c=this.__dir__,S=ft(a),P=c<0,$=S?a.length:0,K=tO(0,$,this.__views__),X=K.start,re=K.end,ge=re-X,Pe=P?re:X-1,Me=this.__iteratees__,Le=Me.length,$e=0,Ye=Rn(ge,this.__takeCount__);if(!S||!P&&$==ge&&Ye==ge)return Um(a,this.__actions__);var st=[];e:for(;ge--&&$e<Ye;){Pe+=c;for(var gt=-1,at=a[Pe];++gt<Le;){var Et=Me[gt],xt=Et.iteratee,hi=Et.type,Fn=xt(at);if(hi==q)at=Fn;else if(!Fn){if(hi==N)continue e;break e}}st[$e++]=at}return st}At.prototype=Ts(lc.prototype),At.prototype.constructor=At;function Fo(a){var c=-1,S=a==null?0:a.length;for(this.clear();++c<S;){var P=a[c];this.set(P[0],P[1])}}function WC(){this.__data__=Ra?Ra(null):{},this.size=0}function GC(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function zC(a){var c=this.__data__;if(Ra){var S=c[a];return S===l?r:S}return Dt.call(c,a)?c[a]:r}function VC(a){var c=this.__data__;return Ra?c[a]!==r:Dt.call(c,a)}function JC(a,c){var S=this.__data__;return this.size+=this.has(a)?0:1,S[a]=Ra&&c===r?l:c,this}Fo.prototype.clear=WC,Fo.prototype.delete=GC,Fo.prototype.get=zC,Fo.prototype.has=VC,Fo.prototype.set=JC;function Tr(a){var c=-1,S=a==null?0:a.length;for(this.clear();++c<S;){var P=a[c];this.set(P[0],P[1])}}function KC(){this.__data__=[],this.size=0}function YC(a){var c=this.__data__,S=cc(c,a);if(S<0)return!1;var P=c.length-1;return S==P?c.pop():nc.call(c,S,1),--this.size,!0}function XC(a){var c=this.__data__,S=cc(c,a);return S<0?r:c[S][1]}function ZC(a){return cc(this.__data__,a)>-1}function QC(a,c){var S=this.__data__,P=cc(S,a);return P<0?(++this.size,S.push([a,c])):S[P][1]=c,this}Tr.prototype.clear=KC,Tr.prototype.delete=YC,Tr.prototype.get=XC,Tr.prototype.has=ZC,Tr.prototype.set=QC;function Or(a){var c=-1,S=a==null?0:a.length;for(this.clear();++c<S;){var P=a[c];this.set(P[0],P[1])}}function eT(){this.size=0,this.__data__={hash:new Fo,map:new(Ta||Tr),string:new Fo}}function tT(a){var c=Ec(this,a).delete(a);return this.size-=c?1:0,c}function nT(a){return Ec(this,a).get(a)}function iT(a){return Ec(this,a).has(a)}function rT(a,c){var S=Ec(this,a),P=S.size;return S.set(a,c),this.size+=S.size==P?0:1,this}Or.prototype.clear=eT,Or.prototype.delete=tT,Or.prototype.get=nT,Or.prototype.has=iT,Or.prototype.set=rT;function Ho(a){var c=-1,S=a==null?0:a.length;for(this.__data__=new Or;++c<S;)this.add(a[c])}function oT(a){return this.__data__.set(a,l),this}function sT(a){return this.__data__.has(a)}Ho.prototype.add=Ho.prototype.push=oT,Ho.prototype.has=sT;function zi(a){var c=this.__data__=new Tr(a);this.size=c.size}function aT(){this.__data__=new Tr,this.size=0}function lT(a){var c=this.__data__,S=c.delete(a);return this.size=c.size,S}function cT(a){return this.__data__.get(a)}function uT(a){return this.__data__.has(a)}function dT(a,c){var S=this.__data__;if(S instanceof Tr){var P=S.__data__;if(!Ta||P.length<n-1)return P.push([a,c]),this.size=++S.size,this;S=this.__data__=new Or(P)}return S.set(a,c),this.size=S.size,this}zi.prototype.clear=aT,zi.prototype.delete=lT,zi.prototype.get=cT,zi.prototype.has=uT,zi.prototype.set=dT;function bm(a,c){var S=ft(a),P=!S&&Go(a),$=!S&&!P&&po(a),K=!S&&!P&&!$&&Ms(a),X=S||P||$||K,re=X?Dh(a.length,EC):[],ge=re.length;for(var Pe in a)(c||Dt.call(a,Pe))&&!(X&&(Pe=="length"||$&&(Pe=="offset"||Pe=="parent")||K&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||kr(Pe,ge)))&&re.push(Pe);return re}function vm(a){var c=a.length;return c?a[ef(0,c-1)]:r}function hT(a,c){return _c(Gn(a),Uo(c,0,a.length))}function fT(a){return _c(Gn(a))}function Wh(a,c,S){(S!==r&&!Vi(a[c],S)||S===r&&!(c in a))&&Rr(a,c,S)}function Ma(a,c,S){var P=a[c];(!(Dt.call(a,c)&&Vi(P,S))||S===r&&!(c in a))&&Rr(a,c,S)}function cc(a,c){for(var S=a.length;S--;)if(Vi(a[S][0],c))return S;return-1}function pT(a,c,S,P){return co(a,function($,K,X){c(P,$,S($),X)}),P}function wm(a,c){return a&&lr(c,pn(c),a)}function gT(a,c){return a&&lr(c,Vn(c),a)}function Rr(a,c,S){c=="__proto__"&&ic?ic(a,c,{configurable:!0,enumerable:!0,value:S,writable:!0}):a[c]=S}function Gh(a,c){for(var S=-1,P=c.length,$=Se(P),K=a==null;++S<P;)$[S]=K?r:Cf(a,c[S]);return $}function Uo(a,c,S){return a===a&&(S!==r&&(a=a<=S?a:S),c!==r&&(a=a>=c?a:c)),a}function Pi(a,c,S,P,$,K){var X,re=c&h,ge=c&y,Pe=c&b;if(S&&(X=$?S(a,P,$,K):S(a)),X!==r)return X;if(!Xt(a))return a;var Me=ft(a);if(Me){if(X=iO(a),!re)return Gn(a,X)}else{var Le=Pn(a),$e=Le==V||Le==Z;if(po(a))return Wm(a,re);if(Le==de||Le==j||$e&&!$){if(X=ge||$e?{}:cy(a),!re)return ge?zT(a,gT(X,a)):GT(a,wm(X,a))}else{if(!qt[Le])return $?a:{};X=rO(a,Le,re)}}K||(K=new zi);var Ye=K.get(a);if(Ye)return Ye;K.set(a,X),jy(a)?a.forEach(function(at){X.add(Pi(at,c,S,at,a,K))}):Ny(a)&&a.forEach(function(at,Et){X.set(Et,Pi(at,c,S,Et,a,K))});var st=Pe?ge?hf:df:ge?Vn:pn,gt=Me?r:st(a);return Ti(gt||a,function(at,Et){gt&&(Et=at,at=a[Et]),Ma(X,Et,Pi(at,c,S,Et,a,K))}),X}function mT(a){var c=pn(a);return function(S){return Em(S,a,c)}}function Em(a,c,S){var P=S.length;if(a==null)return!P;for(a=$t(a);P--;){var $=S[P],K=c[$],X=a[$];if(X===r&&!($ in a)||!K(X))return!1}return!0}function _m(a,c,S){if(typeof a!="function")throw new Oi(o);return ja(function(){a.apply(r,S)},c)}function ka(a,c,S,P){var $=-1,K=zl,X=!0,re=a.length,ge=[],Pe=c.length;if(!re)return ge;S&&(c=Kt(c,ci(S))),P?(K=Mh,X=!1):c.length>=n&&(K=xa,X=!1,c=new Ho(c));e:for(;++$<re;){var Me=a[$],Le=S==null?Me:S(Me);if(Me=P||Me!==0?Me:0,X&&Le===Le){for(var $e=Pe;$e--;)if(c[$e]===Le)continue e;ge.push(Me)}else K(c,Le,P)||ge.push(Me)}return ge}var co=Km(ar),Sm=Km(Vh,!0);function yT(a,c){var S=!0;return co(a,function(P,$,K){return S=!!c(P,$,K),S}),S}function uc(a,c,S){for(var P=-1,$=a.length;++P<$;){var K=a[P],X=c(K);if(X!=null&&(re===r?X===X&&!di(X):S(X,re)))var re=X,ge=K}return ge}function bT(a,c,S,P){var $=a.length;for(S=pt(S),S<0&&(S=-S>$?0:$+S),P=P===r||P>$?$:pt(P),P<0&&(P+=$),P=S>P?0:Hy(P);S<P;)a[S++]=c;return a}function Am(a,c){var S=[];return co(a,function(P,$,K){c(P,$,K)&&S.push(P)}),S}function En(a,c,S,P,$){var K=-1,X=a.length;for(S||(S=sO),$||($=[]);++K<X;){var re=a[K];c>0&&S(re)?c>1?En(re,c-1,S,P,$):oo($,re):P||($[$.length]=re)}return $}var zh=Ym(),xm=Ym(!0);function ar(a,c){return a&&zh(a,c,pn)}function Vh(a,c){return a&&xm(a,c,pn)}function dc(a,c){return ro(c,function(S){return Lr(a[S])})}function $o(a,c){c=ho(c,a);for(var S=0,P=c.length;a!=null&&S<P;)a=a[cr(c[S++])];return S&&S==P?a:r}function Cm(a,c,S){var P=c(a);return ft(a)?P:oo(P,S(a))}function Dn(a){return a==null?a===r?Ce:ue:jo&&jo in $t(a)?eO(a):fO(a)}function Jh(a,c){return a>c}function vT(a,c){return a!=null&&Dt.call(a,c)}function wT(a,c){return a!=null&&c in $t(a)}function ET(a,c,S){return a>=Rn(c,S)&&a<ln(c,S)}function Kh(a,c,S){for(var P=S?Mh:zl,$=a[0].length,K=a.length,X=K,re=Se(K),ge=1/0,Pe=[];X--;){var Me=a[X];X&&c&&(Me=Kt(Me,ci(c))),ge=Rn(Me.length,ge),re[X]=!S&&(c||$>=120&&Me.length>=120)?new Ho(X&&Me):r}Me=a[0];var Le=-1,$e=re[0];e:for(;++Le<$&&Pe.length<ge;){var Ye=Me[Le],st=c?c(Ye):Ye;if(Ye=S||Ye!==0?Ye:0,!($e?xa($e,st):P(Pe,st,S))){for(X=K;--X;){var gt=re[X];if(!(gt?xa(gt,st):P(a[X],st,S)))continue e}$e&&$e.push(st),Pe.push(Ye)}}return Pe}function _T(a,c,S,P){return ar(a,function($,K,X){c(P,S($),K,X)}),P}function La(a,c,S){c=ho(c,a),a=fy(a,c);var P=a==null?a:a[cr(ki(c))];return P==null?r:li(P,a,S)}function Tm(a){return Qt(a)&&Dn(a)==j}function ST(a){return Qt(a)&&Dn(a)==we}function AT(a){return Qt(a)&&Dn(a)==L}function Ia(a,c,S,P,$){return a===c?!0:a==null||c==null||!Qt(a)&&!Qt(c)?a!==a&&c!==c:xT(a,c,S,P,Ia,$)}function xT(a,c,S,P,$,K){var X=ft(a),re=ft(c),ge=X?k:Pn(a),Pe=re?k:Pn(c);ge=ge==j?de:ge,Pe=Pe==j?de:Pe;var Me=ge==de,Le=Pe==de,$e=ge==Pe;if($e&&po(a)){if(!po(c))return!1;X=!0,Me=!1}if($e&&!Me)return K||(K=new zi),X||Ms(a)?sy(a,c,S,P,$,K):ZT(a,c,ge,S,P,$,K);if(!(S&w)){var Ye=Me&&Dt.call(a,"__wrapped__"),st=Le&&Dt.call(c,"__wrapped__");if(Ye||st){var gt=Ye?a.value():a,at=st?c.value():c;return K||(K=new zi),$(gt,at,S,P,K)}}return $e?(K||(K=new zi),QT(a,c,S,P,$,K)):!1}function CT(a){return Qt(a)&&Pn(a)==ee}function Yh(a,c,S,P){var $=S.length,K=$,X=!P;if(a==null)return!K;for(a=$t(a);$--;){var re=S[$];if(X&&re[2]?re[1]!==a[re[0]]:!(re[0]in a))return!1}for(;++$<K;){re=S[$];var ge=re[0],Pe=a[ge],Me=re[1];if(X&&re[2]){if(Pe===r&&!(ge in a))return!1}else{var Le=new zi;if(P)var $e=P(Pe,Me,ge,a,c,Le);if(!($e===r?Ia(Me,Pe,w|p,P,Le):$e))return!1}}return!0}function Om(a){if(!Xt(a)||lO(a))return!1;var c=Lr(a)?CC:mx;return c.test(Wo(a))}function TT(a){return Qt(a)&&Dn(a)==He}function OT(a){return Qt(a)&&Pn(a)==_e}function RT(a){return Qt(a)&&Oc(a.length)&&!!Wt[Dn(a)]}function Rm(a){return typeof a=="function"?a:a==null?Jn:typeof a=="object"?ft(a)?km(a[0],a[1]):Mm(a):Xy(a)}function Xh(a){if(!Da(a))return kC(a);var c=[];for(var S in $t(a))Dt.call(a,S)&&S!="constructor"&&c.push(S);return c}function PT(a){if(!Xt(a))return hO(a);var c=Da(a),S=[];for(var P in a)P=="constructor"&&(c||!Dt.call(a,P))||S.push(P);return S}function Zh(a,c){return a<c}function Pm(a,c){var S=-1,P=zn(a)?Se(a.length):[];return co(a,function($,K,X){P[++S]=c($,K,X)}),P}function Mm(a){var c=pf(a);return c.length==1&&c[0][2]?dy(c[0][0],c[0][1]):function(S){return S===a||Yh(S,a,c)}}function km(a,c){return mf(a)&&uy(c)?dy(cr(a),c):function(S){var P=Cf(S,a);return P===r&&P===c?Tf(S,a):Ia(c,P,w|p)}}function hc(a,c,S,P,$){a!==c&&zh(c,function(K,X){if($||($=new zi),Xt(K))MT(a,c,X,S,hc,P,$);else{var re=P?P(bf(a,X),K,X+"",a,c,$):r;re===r&&(re=K),Wh(a,X,re)}},Vn)}function MT(a,c,S,P,$,K,X){var re=bf(a,S),ge=bf(c,S),Pe=X.get(ge);if(Pe){Wh(a,S,Pe);return}var Me=K?K(re,ge,S+"",a,c,X):r,Le=Me===r;if(Le){var $e=ft(ge),Ye=!$e&&po(ge),st=!$e&&!Ye&&Ms(ge);Me=ge,$e||Ye||st?ft(re)?Me=re:nn(re)?Me=Gn(re):Ye?(Le=!1,Me=Wm(ge,!0)):st?(Le=!1,Me=Gm(ge,!0)):Me=[]:Fa(ge)||Go(ge)?(Me=re,Go(re)?Me=Uy(re):(!Xt(re)||Lr(re))&&(Me=cy(ge))):Le=!1}Le&&(X.set(ge,Me),$(Me,ge,P,K,X),X.delete(ge)),Wh(a,S,Me)}function Lm(a,c){var S=a.length;if(!!S)return c+=c<0?S:0,kr(c,S)?a[c]:r}function Im(a,c,S){c.length?c=Kt(c,function(K){return ft(K)?function(X){return $o(X,K.length===1?K[0]:K)}:K}):c=[Jn];var P=-1;c=Kt(c,ci(tt()));var $=Pm(a,function(K,X,re){var ge=Kt(c,function(Pe){return Pe(K)});return{criteria:ge,index:++P,value:K}});return rC($,function(K,X){return WT(K,X,S)})}function kT(a,c){return Bm(a,c,function(S,P){return Tf(a,P)})}function Bm(a,c,S){for(var P=-1,$=c.length,K={};++P<$;){var X=c[P],re=$o(a,X);S(re,X)&&Ba(K,ho(X,a),re)}return K}function LT(a){return function(c){return $o(c,a)}}function Qh(a,c,S,P){var $=P?iC:Es,K=-1,X=c.length,re=a;for(a===c&&(c=Gn(c)),S&&(re=Kt(a,ci(S)));++K<X;)for(var ge=0,Pe=c[K],Me=S?S(Pe):Pe;(ge=$(re,Me,ge,P))>-1;)re!==a&&nc.call(re,ge,1),nc.call(a,ge,1);return a}function Nm(a,c){for(var S=a?c.length:0,P=S-1;S--;){var $=c[S];if(S==P||$!==K){var K=$;kr($)?nc.call(a,$,1):rf(a,$)}}return a}function ef(a,c){return a+oc(mm()*(c-a+1))}function IT(a,c,S,P){for(var $=-1,K=ln(rc((c-a)/(S||1)),0),X=Se(K);K--;)X[P?K:++$]=a,a+=S;return X}function tf(a,c){var S="";if(!a||c<1||c>oe)return S;do c%2&&(S+=a),c=oc(c/2),c&&(a+=a);while(c);return S}function mt(a,c){return vf(hy(a,c,Jn),a+"")}function BT(a){return vm(ks(a))}function NT(a,c){var S=ks(a);return _c(S,Uo(c,0,S.length))}function Ba(a,c,S,P){if(!Xt(a))return a;c=ho(c,a);for(var $=-1,K=c.length,X=K-1,re=a;re!=null&&++$<K;){var ge=cr(c[$]),Pe=S;if(ge==="__proto__"||ge==="constructor"||ge==="prototype")return a;if($!=X){var Me=re[ge];Pe=P?P(Me,ge,re):r,Pe===r&&(Pe=Xt(Me)?Me:kr(c[$+1])?[]:{})}Ma(re,ge,Pe),re=re[ge]}return a}var Dm=sc?function(a,c){return sc.set(a,c),a}:Jn,DT=ic?function(a,c){return ic(a,"toString",{configurable:!0,enumerable:!1,value:Rf(c),writable:!0})}:Jn;function jT(a){return _c(ks(a))}function Mi(a,c,S){var P=-1,$=a.length;c<0&&(c=-c>$?0:$+c),S=S>$?$:S,S<0&&(S+=$),$=c>S?0:S-c>>>0,c>>>=0;for(var K=Se($);++P<$;)K[P]=a[P+c];return K}function FT(a,c){var S;return co(a,function(P,$,K){return S=c(P,$,K),!S}),!!S}function fc(a,c,S){var P=0,$=a==null?P:a.length;if(typeof c=="number"&&c===c&&$<=fe){for(;P<$;){var K=P+$>>>1,X=a[K];X!==null&&!di(X)&&(S?X<=c:X<c)?P=K+1:$=K}return $}return nf(a,c,Jn,S)}function nf(a,c,S,P){var $=0,K=a==null?0:a.length;if(K===0)return 0;c=S(c);for(var X=c!==c,re=c===null,ge=di(c),Pe=c===r;$<K;){var Me=oc(($+K)/2),Le=S(a[Me]),$e=Le!==r,Ye=Le===null,st=Le===Le,gt=di(Le);if(X)var at=P||st;else Pe?at=st&&(P||$e):re?at=st&&$e&&(P||!Ye):ge?at=st&&$e&&!Ye&&(P||!gt):Ye||gt?at=!1:at=P?Le<=c:Le<c;at?$=Me+1:K=Me}return Rn(K,xe)}function jm(a,c){for(var S=-1,P=a.length,$=0,K=[];++S<P;){var X=a[S],re=c?c(X):X;if(!S||!Vi(re,ge)){var ge=re;K[$++]=X===0?0:X}}return K}function Fm(a){return typeof a=="number"?a:di(a)?te:+a}function ui(a){if(typeof a=="string")return a;if(ft(a))return Kt(a,ui)+"";if(di(a))return ym?ym.call(a):"";var c=a+"";return c=="0"&&1/a==-ne?"-0":c}function uo(a,c,S){var P=-1,$=zl,K=a.length,X=!0,re=[],ge=re;if(S)X=!1,$=Mh;else if(K>=n){var Pe=c?null:YT(a);if(Pe)return Jl(Pe);X=!1,$=xa,ge=new Ho}else ge=c?[]:re;e:for(;++P<K;){var Me=a[P],Le=c?c(Me):Me;if(Me=S||Me!==0?Me:0,X&&Le===Le){for(var $e=ge.length;$e--;)if(ge[$e]===Le)continue e;c&&ge.push(Le),re.push(Me)}else $(ge,Le,S)||(ge!==re&&ge.push(Le),re.push(Me))}return re}function rf(a,c){return c=ho(c,a),a=fy(a,c),a==null||delete a[cr(ki(c))]}function Hm(a,c,S,P){return Ba(a,c,S($o(a,c)),P)}function pc(a,c,S,P){for(var $=a.length,K=P?$:-1;(P?K--:++K<$)&&c(a[K],K,a););return S?Mi(a,P?0:K,P?K+1:$):Mi(a,P?K+1:0,P?$:K)}function Um(a,c){var S=a;return S instanceof At&&(S=S.value()),kh(c,function(P,$){return $.func.apply($.thisArg,oo([P],$.args))},S)}function of(a,c,S){var P=a.length;if(P<2)return P?uo(a[0]):[];for(var $=-1,K=Se(P);++$<P;)for(var X=a[$],re=-1;++re<P;)re!=$&&(K[$]=ka(K[$]||X,a[re],c,S));return uo(En(K,1),c,S)}function $m(a,c,S){for(var P=-1,$=a.length,K=c.length,X={};++P<$;){var re=P<K?c[P]:r;S(X,a[P],re)}return X}function sf(a){return nn(a)?a:[]}function af(a){return typeof a=="function"?a:Jn}function ho(a,c){return ft(a)?a:mf(a,c)?[a]:yy(Lt(a))}var HT=mt;function fo(a,c,S){var P=a.length;return S=S===r?P:S,!c&&S>=P?a:Mi(a,c,S)}var qm=TC||function(a){return fn.clearTimeout(a)};function Wm(a,c){if(c)return a.slice();var S=a.length,P=dm?dm(S):new a.constructor(S);return a.copy(P),P}function lf(a){var c=new a.constructor(a.byteLength);return new ec(c).set(new ec(a)),c}function UT(a,c){var S=c?lf(a.buffer):a.buffer;return new a.constructor(S,a.byteOffset,a.byteLength)}function $T(a){var c=new a.constructor(a.source,Tg.exec(a));return c.lastIndex=a.lastIndex,c}function qT(a){return Pa?$t(Pa.call(a)):{}}function Gm(a,c){var S=c?lf(a.buffer):a.buffer;return new a.constructor(S,a.byteOffset,a.length)}function zm(a,c){if(a!==c){var S=a!==r,P=a===null,$=a===a,K=di(a),X=c!==r,re=c===null,ge=c===c,Pe=di(c);if(!re&&!Pe&&!K&&a>c||K&&X&&ge&&!re&&!Pe||P&&X&&ge||!S&&ge||!$)return 1;if(!P&&!K&&!Pe&&a<c||Pe&&S&&$&&!P&&!K||re&&S&&$||!X&&$||!ge)return-1}return 0}function WT(a,c,S){for(var P=-1,$=a.criteria,K=c.criteria,X=$.length,re=S.length;++P<X;){var ge=zm($[P],K[P]);if(ge){if(P>=re)return ge;var Pe=S[P];return ge*(Pe=="desc"?-1:1)}}return a.index-c.index}function Vm(a,c,S,P){for(var $=-1,K=a.length,X=S.length,re=-1,ge=c.length,Pe=ln(K-X,0),Me=Se(ge+Pe),Le=!P;++re<ge;)Me[re]=c[re];for(;++$<X;)(Le||$<K)&&(Me[S[$]]=a[$]);for(;Pe--;)Me[re++]=a[$++];return Me}function Jm(a,c,S,P){for(var $=-1,K=a.length,X=-1,re=S.length,ge=-1,Pe=c.length,Me=ln(K-re,0),Le=Se(Me+Pe),$e=!P;++$<Me;)Le[$]=a[$];for(var Ye=$;++ge<Pe;)Le[Ye+ge]=c[ge];for(;++X<re;)($e||$<K)&&(Le[Ye+S[X]]=a[$++]);return Le}function Gn(a,c){var S=-1,P=a.length;for(c||(c=Se(P));++S<P;)c[S]=a[S];return c}function lr(a,c,S,P){var $=!S;S||(S={});for(var K=-1,X=c.length;++K<X;){var re=c[K],ge=P?P(S[re],a[re],re,S,a):r;ge===r&&(ge=a[re]),$?Rr(S,re,ge):Ma(S,re,ge)}return S}function GT(a,c){return lr(a,gf(a),c)}function zT(a,c){return lr(a,ay(a),c)}function gc(a,c){return function(S,P){var $=ft(S)?Xx:pT,K=c?c():{};return $(S,a,tt(P,2),K)}}function Os(a){return mt(function(c,S){var P=-1,$=S.length,K=$>1?S[$-1]:r,X=$>2?S[2]:r;for(K=a.length>3&&typeof K=="function"?($--,K):r,X&&jn(S[0],S[1],X)&&(K=$<3?r:K,$=1),c=$t(c);++P<$;){var re=S[P];re&&a(c,re,P,K)}return c})}function Km(a,c){return function(S,P){if(S==null)return S;if(!zn(S))return a(S,P);for(var $=S.length,K=c?$:-1,X=$t(S);(c?K--:++K<$)&&P(X[K],K,X)!==!1;);return S}}function Ym(a){return function(c,S,P){for(var $=-1,K=$t(c),X=P(c),re=X.length;re--;){var ge=X[a?re:++$];if(S(K[ge],ge,K)===!1)break}return c}}function VT(a,c,S){var P=c&m,$=Na(a);function K(){var X=this&&this!==fn&&this instanceof K?$:a;return X.apply(P?S:this,arguments)}return K}function Xm(a){return function(c){c=Lt(c);var S=_s(c)?Gi(c):r,P=S?S[0]:c.charAt(0),$=S?fo(S,1).join(""):c.slice(1);return P[a]()+$}}function Rs(a){return function(c){return kh(Ky(Jy(c).replace(Dx,"")),a,"")}}function Na(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var S=Ts(a.prototype),P=a.apply(S,c);return Xt(P)?P:S}}function JT(a,c,S){var P=Na(a);function $(){for(var K=arguments.length,X=Se(K),re=K,ge=Ps($);re--;)X[re]=arguments[re];var Pe=K<3&&X[0]!==ge&&X[K-1]!==ge?[]:so(X,ge);if(K-=Pe.length,K<S)return ny(a,c,mc,$.placeholder,r,X,Pe,r,r,S-K);var Me=this&&this!==fn&&this instanceof $?P:a;return li(Me,this,X)}return $}function Zm(a){return function(c,S,P){var $=$t(c);if(!zn(c)){var K=tt(S,3);c=pn(c),S=function(re){return K($[re],re,$)}}var X=a(c,S,P);return X>-1?$[K?c[X]:X]:r}}function Qm(a){return Mr(function(c){var S=c.length,P=S,$=Ri.prototype.thru;for(a&&c.reverse();P--;){var K=c[P];if(typeof K!="function")throw new Oi(o);if($&&!X&&wc(K)=="wrapper")var X=new Ri([],!0)}for(P=X?P:S;++P<S;){K=c[P];var re=wc(K),ge=re=="wrapper"?ff(K):r;ge&&yf(ge[0])&&ge[1]==(E|v|C|T)&&!ge[4].length&&ge[9]==1?X=X[wc(ge[0])].apply(X,ge[3]):X=K.length==1&&yf(K)?X[re]():X.thru(K)}return function(){var Pe=arguments,Me=Pe[0];if(X&&Pe.length==1&&ft(Me))return X.plant(Me).value();for(var Le=0,$e=S?c[Le].apply(this,Pe):Me;++Le<S;)$e=c[Le].call(this,$e);return $e}})}function mc(a,c,S,P,$,K,X,re,ge,Pe){var Me=c&E,Le=c&m,$e=c&f,Ye=c&(v|A),st=c&B,gt=$e?r:Na(a);function at(){for(var Et=arguments.length,xt=Se(Et),hi=Et;hi--;)xt[hi]=arguments[hi];if(Ye)var Fn=Ps(at),fi=sC(xt,Fn);if(P&&(xt=Vm(xt,P,$,Ye)),K&&(xt=Jm(xt,K,X,Ye)),Et-=fi,Ye&&Et<Pe){var rn=so(xt,Fn);return ny(a,c,mc,at.placeholder,S,xt,rn,re,ge,Pe-Et)}var Ji=Le?S:this,Br=$e?Ji[a]:a;return Et=xt.length,re?xt=pO(xt,re):st&&Et>1&&xt.reverse(),Me&&ge<Et&&(xt.length=ge),this&&this!==fn&&this instanceof at&&(Br=gt||Na(Br)),Br.apply(Ji,xt)}return at}function ey(a,c){return function(S,P){return _T(S,a,c(P),{})}}function yc(a,c){return function(S,P){var $;if(S===r&&P===r)return c;if(S!==r&&($=S),P!==r){if($===r)return P;typeof S=="string"||typeof P=="string"?(S=ui(S),P=ui(P)):(S=Fm(S),P=Fm(P)),$=a(S,P)}return $}}function cf(a){return Mr(function(c){return c=Kt(c,ci(tt())),mt(function(S){var P=this;return a(c,function($){return li($,P,S)})})})}function bc(a,c){c=c===r?" ":ui(c);var S=c.length;if(S<2)return S?tf(c,a):c;var P=tf(c,rc(a/Ss(c)));return _s(c)?fo(Gi(P),0,a).join(""):P.slice(0,a)}function KT(a,c,S,P){var $=c&m,K=Na(a);function X(){for(var re=-1,ge=arguments.length,Pe=-1,Me=P.length,Le=Se(Me+ge),$e=this&&this!==fn&&this instanceof X?K:a;++Pe<Me;)Le[Pe]=P[Pe];for(;ge--;)Le[Pe++]=arguments[++re];return li($e,$?S:this,Le)}return X}function ty(a){return function(c,S,P){return P&&typeof P!="number"&&jn(c,S,P)&&(S=P=r),c=Ir(c),S===r?(S=c,c=0):S=Ir(S),P=P===r?c<S?1:-1:Ir(P),IT(c,S,P,a)}}function vc(a){return function(c,S){return typeof c=="string"&&typeof S=="string"||(c=Li(c),S=Li(S)),a(c,S)}}function ny(a,c,S,P,$,K,X,re,ge,Pe){var Me=c&v,Le=Me?X:r,$e=Me?r:X,Ye=Me?K:r,st=Me?r:K;c|=Me?C:O,c&=~(Me?O:C),c&g||(c&=~(m|f));var gt=[a,c,$,Ye,Le,st,$e,re,ge,Pe],at=S.apply(r,gt);return yf(a)&&py(at,gt),at.placeholder=P,gy(at,a,c)}function uf(a){var c=an[a];return function(S,P){if(S=Li(S),P=P==null?0:Rn(pt(P),292),P&&gm(S)){var $=(Lt(S)+"e").split("e"),K=c($[0]+"e"+(+$[1]+P));return $=(Lt(K)+"e").split("e"),+($[0]+"e"+(+$[1]-P))}return c(S)}}var YT=xs&&1/Jl(new xs([,-0]))[1]==ne?function(a){return new xs(a)}:kf;function iy(a){return function(c){var S=Pn(c);return S==ee?Fh(c):S==_e?fC(c):oC(c,a(c))}}function Pr(a,c,S,P,$,K,X,re){var ge=c&f;if(!ge&&typeof a!="function")throw new Oi(o);var Pe=P?P.length:0;if(Pe||(c&=~(C|O),P=$=r),X=X===r?X:ln(pt(X),0),re=re===r?re:pt(re),Pe-=$?$.length:0,c&O){var Me=P,Le=$;P=$=r}var $e=ge?r:ff(a),Ye=[a,c,S,P,$,Me,Le,K,X,re];if($e&&dO(Ye,$e),a=Ye[0],c=Ye[1],S=Ye[2],P=Ye[3],$=Ye[4],re=Ye[9]=Ye[9]===r?ge?0:a.length:ln(Ye[9]-Pe,0),!re&&c&(v|A)&&(c&=~(v|A)),!c||c==m)var st=VT(a,c,S);else c==v||c==A?st=JT(a,c,re):(c==C||c==(m|C))&&!$.length?st=KT(a,c,S,P):st=mc.apply(r,Ye);var gt=$e?Dm:py;return gy(gt(st,Ye),a,c)}function ry(a,c,S,P){return a===r||Vi(a,As[S])&&!Dt.call(P,S)?c:a}function oy(a,c,S,P,$,K){return Xt(a)&&Xt(c)&&(K.set(c,a),hc(a,c,r,oy,K),K.delete(c)),a}function XT(a){return Fa(a)?r:a}function sy(a,c,S,P,$,K){var X=S&w,re=a.length,ge=c.length;if(re!=ge&&!(X&&ge>re))return!1;var Pe=K.get(a),Me=K.get(c);if(Pe&&Me)return Pe==c&&Me==a;var Le=-1,$e=!0,Ye=S&p?new Ho:r;for(K.set(a,c),K.set(c,a);++Le<re;){var st=a[Le],gt=c[Le];if(P)var at=X?P(gt,st,Le,c,a,K):P(st,gt,Le,a,c,K);if(at!==r){if(at)continue;$e=!1;break}if(Ye){if(!Lh(c,function(Et,xt){if(!xa(Ye,xt)&&(st===Et||$(st,Et,S,P,K)))return Ye.push(xt)})){$e=!1;break}}else if(!(st===gt||$(st,gt,S,P,K))){$e=!1;break}}return K.delete(a),K.delete(c),$e}function ZT(a,c,S,P,$,K,X){switch(S){case Ae:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case we:return!(a.byteLength!=c.byteLength||!K(new ec(a),new ec(c)));case R:case L:case ie:return Vi(+a,+c);case W:return a.name==c.name&&a.message==c.message;case He:case be:return a==c+"";case ee:var re=Fh;case _e:var ge=P&w;if(re||(re=Jl),a.size!=c.size&&!ge)return!1;var Pe=X.get(a);if(Pe)return Pe==c;P|=p,X.set(a,c);var Me=sy(re(a),re(c),P,$,K,X);return X.delete(a),Me;case se:if(Pa)return Pa.call(a)==Pa.call(c)}return!1}function QT(a,c,S,P,$,K){var X=S&w,re=df(a),ge=re.length,Pe=df(c),Me=Pe.length;if(ge!=Me&&!X)return!1;for(var Le=ge;Le--;){var $e=re[Le];if(!(X?$e in c:Dt.call(c,$e)))return!1}var Ye=K.get(a),st=K.get(c);if(Ye&&st)return Ye==c&&st==a;var gt=!0;K.set(a,c),K.set(c,a);for(var at=X;++Le<ge;){$e=re[Le];var Et=a[$e],xt=c[$e];if(P)var hi=X?P(xt,Et,$e,c,a,K):P(Et,xt,$e,a,c,K);if(!(hi===r?Et===xt||$(Et,xt,S,P,K):hi)){gt=!1;break}at||(at=$e=="constructor")}if(gt&&!at){var Fn=a.constructor,fi=c.constructor;Fn!=fi&&"constructor"in a&&"constructor"in c&&!(typeof Fn=="function"&&Fn instanceof Fn&&typeof fi=="function"&&fi instanceof fi)&&(gt=!1)}return K.delete(a),K.delete(c),gt}function Mr(a){return vf(hy(a,r,Ey),a+"")}function df(a){return Cm(a,pn,gf)}function hf(a){return Cm(a,Vn,ay)}var ff=sc?function(a){return sc.get(a)}:kf;function wc(a){for(var c=a.name+"",S=Cs[c],P=Dt.call(Cs,c)?S.length:0;P--;){var $=S[P],K=$.func;if(K==null||K==a)return $.name}return c}function Ps(a){var c=Dt.call(G,"placeholder")?G:a;return c.placeholder}function tt(){var a=G.iteratee||Pf;return a=a===Pf?Rm:a,arguments.length?a(arguments[0],arguments[1]):a}function Ec(a,c){var S=a.__data__;return aO(c)?S[typeof c=="string"?"string":"hash"]:S.map}function pf(a){for(var c=pn(a),S=c.length;S--;){var P=c[S],$=a[P];c[S]=[P,$,uy($)]}return c}function qo(a,c){var S=uC(a,c);return Om(S)?S:r}function eO(a){var c=Dt.call(a,jo),S=a[jo];try{a[jo]=r;var P=!0}catch(K){}var $=Zl.call(a);return P&&(c?a[jo]=S:delete a[jo]),$}var gf=Uh?function(a){return a==null?[]:(a=$t(a),ro(Uh(a),function(c){return fm.call(a,c)}))}:Lf,ay=Uh?function(a){for(var c=[];a;)oo(c,gf(a)),a=tc(a);return c}:Lf,Pn=Dn;($h&&Pn(new $h(new ArrayBuffer(1)))!=Ae||Ta&&Pn(new Ta)!=ee||qh&&Pn(qh.resolve())!=ye||xs&&Pn(new xs)!=_e||Oa&&Pn(new Oa)!=Re)&&(Pn=function(a){var c=Dn(a),S=c==de?a.constructor:r,P=S?Wo(S):"";if(P)switch(P){case NC:return Ae;case DC:return ee;case jC:return ye;case FC:return _e;case HC:return Re}return c});function tO(a,c,S){for(var P=-1,$=S.length;++P<$;){var K=S[P],X=K.size;switch(K.type){case"drop":a+=X;break;case"dropRight":c-=X;break;case"take":c=Rn(c,a+X);break;case"takeRight":a=ln(a,c-X);break}}return{start:a,end:c}}function nO(a){var c=a.match(Nn);return c?c[1].split(Wi):[]}function ly(a,c,S){c=ho(c,a);for(var P=-1,$=c.length,K=!1;++P<$;){var X=cr(c[P]);if(!(K=a!=null&&S(a,X)))break;a=a[X]}return K||++P!=$?K:($=a==null?0:a.length,!!$&&Oc($)&&kr(X,$)&&(ft(a)||Go(a)))}function iO(a){var c=a.length,S=new a.constructor(c);return c&&typeof a[0]=="string"&&Dt.call(a,"index")&&(S.index=a.index,S.input=a.input),S}function cy(a){return typeof a.constructor=="function"&&!Da(a)?Ts(tc(a)):{}}function rO(a,c,S){var P=a.constructor;switch(c){case we:return lf(a);case R:case L:return new P(+a);case Ae:return UT(a,S);case Oe:case Be:case ot:case ze:case Je:case Ge:case pe:case Q:case ce:return Gm(a,S);case ee:return new P;case ie:case be:return new P(a);case He:return $T(a);case _e:return new P;case se:return qT(a)}}function oO(a,c){var S=c.length;if(!S)return a;var P=S-1;return c[P]=(S>1?"& ":"")+c[P],c=c.join(S>2?", ":" "),a.replace(hn,`{
/* [wrapped with `+c+`] */
`)}function sO(a){return ft(a)||Go(a)||!!(pm&&a&&a[pm])}function kr(a,c){var S=typeof a;return c=c??oe,!!c&&(S=="number"||S!="symbol"&&bx.test(a))&&a>-1&&a%1==0&&a<c}function jn(a,c,S){if(!Xt(S))return!1;var P=typeof c;return(P=="number"?zn(S)&&kr(c,S.length):P=="string"&&c in S)?Vi(S[c],a):!1}function mf(a,c){if(ft(a))return!1;var S=typeof a;return S=="number"||S=="symbol"||S=="boolean"||a==null||di(a)?!0:Zt.test(a)||!io.test(a)||c!=null&&a in $t(c)}function aO(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function yf(a){var c=wc(a),S=G[c];if(typeof S!="function"||!(c in At.prototype))return!1;if(a===S)return!0;var P=ff(S);return!!P&&a===P[0]}function lO(a){return!!um&&um in a}var cO=Yl?Lr:If;function Da(a){var c=a&&a.constructor,S=typeof c=="function"&&c.prototype||As;return a===S}function uy(a){return a===a&&!Xt(a)}function dy(a,c){return function(S){return S==null?!1:S[a]===c&&(c!==r||a in $t(S))}}function uO(a){var c=Cc(a,function(P){return S.size===u&&S.clear(),P}),S=c.cache;return c}function dO(a,c){var S=a[1],P=c[1],$=S|P,K=$<(m|f|E),X=P==E&&S==v||P==E&&S==T&&a[7].length<=c[8]||P==(E|T)&&c[7].length<=c[8]&&S==v;if(!(K||X))return a;P&m&&(a[2]=c[2],$|=S&m?0:g);var re=c[3];if(re){var ge=a[3];a[3]=ge?Vm(ge,re,c[4]):re,a[4]=ge?so(a[3],d):c[4]}return re=c[5],re&&(ge=a[5],a[5]=ge?Jm(ge,re,c[6]):re,a[6]=ge?so(a[5],d):c[6]),re=c[7],re&&(a[7]=re),P&E&&(a[8]=a[8]==null?c[8]:Rn(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=$,a}function hO(a){var c=[];if(a!=null)for(var S in $t(a))c.push(S);return c}function fO(a){return Zl.call(a)}function hy(a,c,S){return c=ln(c===r?a.length-1:c,0),function(){for(var P=arguments,$=-1,K=ln(P.length-c,0),X=Se(K);++$<K;)X[$]=P[c+$];$=-1;for(var re=Se(c+1);++$<c;)re[$]=P[$];return re[c]=S(X),li(a,this,re)}}function fy(a,c){return c.length<2?a:$o(a,Mi(c,0,-1))}function pO(a,c){for(var S=a.length,P=Rn(c.length,S),$=Gn(a);P--;){var K=c[P];a[P]=kr(K,S)?$[K]:r}return a}function bf(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var py=my(Dm),ja=RC||function(a,c){return fn.setTimeout(a,c)},vf=my(DT);function gy(a,c,S){var P=c+"";return vf(a,oO(P,gO(nO(P),S)))}function my(a){var c=0,S=0;return function(){var P=LC(),$=I-(P-S);if(S=P,$>0){if(++c>=U)return arguments[0]}else c=0;return a.apply(r,arguments)}}function _c(a,c){var S=-1,P=a.length,$=P-1;for(c=c===r?P:c;++S<c;){var K=ef(S,$),X=a[K];a[K]=a[S],a[S]=X}return a.length=c,a}var yy=uO(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(xr,function(S,P,$,K){c.push($?K.replace(hx,"$1"):P||S)}),c});function cr(a){if(typeof a=="string"||di(a))return a;var c=a+"";return c=="0"&&1/a==-ne?"-0":c}function Wo(a){if(a!=null){try{return Xl.call(a)}catch(c){}try{return a+""}catch(c){}}return""}function gO(a,c){return Ti(J,function(S){var P="_."+S[0];c&S[1]&&!zl(a,P)&&a.push(P)}),a.sort()}function by(a){if(a instanceof At)return a.clone();var c=new Ri(a.__wrapped__,a.__chain__);return c.__actions__=Gn(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function mO(a,c,S){(S?jn(a,c,S):c===r)?c=1:c=ln(pt(c),0);var P=a==null?0:a.length;if(!P||c<1)return[];for(var $=0,K=0,X=Se(rc(P/c));$<P;)X[K++]=Mi(a,$,$+=c);return X}function yO(a){for(var c=-1,S=a==null?0:a.length,P=0,$=[];++c<S;){var K=a[c];K&&($[P++]=K)}return $}function bO(){var a=arguments.length;if(!a)return[];for(var c=Se(a-1),S=arguments[0],P=a;P--;)c[P-1]=arguments[P];return oo(ft(S)?Gn(S):[S],En(c,1))}var vO=mt(function(a,c){return nn(a)?ka(a,En(c,1,nn,!0)):[]}),wO=mt(function(a,c){var S=ki(c);return nn(S)&&(S=r),nn(a)?ka(a,En(c,1,nn,!0),tt(S,2)):[]}),EO=mt(function(a,c){var S=ki(c);return nn(S)&&(S=r),nn(a)?ka(a,En(c,1,nn,!0),r,S):[]});function _O(a,c,S){var P=a==null?0:a.length;return P?(c=S||c===r?1:pt(c),Mi(a,c<0?0:c,P)):[]}function SO(a,c,S){var P=a==null?0:a.length;return P?(c=S||c===r?1:pt(c),c=P-c,Mi(a,0,c<0?0:c)):[]}function AO(a,c){return a&&a.length?pc(a,tt(c,3),!0,!0):[]}function xO(a,c){return a&&a.length?pc(a,tt(c,3),!0):[]}function CO(a,c,S,P){var $=a==null?0:a.length;return $?(S&&typeof S!="number"&&jn(a,c,S)&&(S=0,P=$),bT(a,c,S,P)):[]}function vy(a,c,S){var P=a==null?0:a.length;if(!P)return-1;var $=S==null?0:pt(S);return $<0&&($=ln(P+$,0)),Vl(a,tt(c,3),$)}function wy(a,c,S){var P=a==null?0:a.length;if(!P)return-1;var $=P-1;return S!==r&&($=pt(S),$=S<0?ln(P+$,0):Rn($,P-1)),Vl(a,tt(c,3),$,!0)}function Ey(a){var c=a==null?0:a.length;return c?En(a,1):[]}function TO(a){var c=a==null?0:a.length;return c?En(a,ne):[]}function OO(a,c){var S=a==null?0:a.length;return S?(c=c===r?1:pt(c),En(a,c)):[]}function RO(a){for(var c=-1,S=a==null?0:a.length,P={};++c<S;){var $=a[c];P[$[0]]=$[1]}return P}function _y(a){return a&&a.length?a[0]:r}function PO(a,c,S){var P=a==null?0:a.length;if(!P)return-1;var $=S==null?0:pt(S);return $<0&&($=ln(P+$,0)),Es(a,c,$)}function MO(a){var c=a==null?0:a.length;return c?Mi(a,0,-1):[]}var kO=mt(function(a){var c=Kt(a,sf);return c.length&&c[0]===a[0]?Kh(c):[]}),LO=mt(function(a){var c=ki(a),S=Kt(a,sf);return c===ki(S)?c=r:S.pop(),S.length&&S[0]===a[0]?Kh(S,tt(c,2)):[]}),IO=mt(function(a){var c=ki(a),S=Kt(a,sf);return c=typeof c=="function"?c:r,c&&S.pop(),S.length&&S[0]===a[0]?Kh(S,r,c):[]});function BO(a,c){return a==null?"":MC.call(a,c)}function ki(a){var c=a==null?0:a.length;return c?a[c-1]:r}function NO(a,c,S){var P=a==null?0:a.length;if(!P)return-1;var $=P;return S!==r&&($=pt(S),$=$<0?ln(P+$,0):Rn($,P-1)),c===c?gC(a,c,$):Vl(a,nm,$,!0)}function DO(a,c){return a&&a.length?Lm(a,pt(c)):r}var jO=mt(Sy);function Sy(a,c){return a&&a.length&&c&&c.length?Qh(a,c):a}function FO(a,c,S){return a&&a.length&&c&&c.length?Qh(a,c,tt(S,2)):a}function HO(a,c,S){return a&&a.length&&c&&c.length?Qh(a,c,r,S):a}var UO=Mr(function(a,c){var S=a==null?0:a.length,P=Gh(a,c);return Nm(a,Kt(c,function($){return kr($,S)?+$:$}).sort(zm)),P});function $O(a,c){var S=[];if(!(a&&a.length))return S;var P=-1,$=[],K=a.length;for(c=tt(c,3);++P<K;){var X=a[P];c(X,P,a)&&(S.push(X),$.push(P))}return Nm(a,$),S}function wf(a){return a==null?a:BC.call(a)}function qO(a,c,S){var P=a==null?0:a.length;return P?(S&&typeof S!="number"&&jn(a,c,S)?(c=0,S=P):(c=c==null?0:pt(c),S=S===r?P:pt(S)),Mi(a,c,S)):[]}function WO(a,c){return fc(a,c)}function GO(a,c,S){return nf(a,c,tt(S,2))}function zO(a,c){var S=a==null?0:a.length;if(S){var P=fc(a,c);if(P<S&&Vi(a[P],c))return P}return-1}function VO(a,c){return fc(a,c,!0)}function JO(a,c,S){return nf(a,c,tt(S,2),!0)}function KO(a,c){var S=a==null?0:a.length;if(S){var P=fc(a,c,!0)-1;if(Vi(a[P],c))return P}return-1}function YO(a){return a&&a.length?jm(a):[]}function XO(a,c){return a&&a.length?jm(a,tt(c,2)):[]}function ZO(a){var c=a==null?0:a.length;return c?Mi(a,1,c):[]}function QO(a,c,S){return a&&a.length?(c=S||c===r?1:pt(c),Mi(a,0,c<0?0:c)):[]}function e4(a,c,S){var P=a==null?0:a.length;return P?(c=S||c===r?1:pt(c),c=P-c,Mi(a,c<0?0:c,P)):[]}function t4(a,c){return a&&a.length?pc(a,tt(c,3),!1,!0):[]}function n4(a,c){return a&&a.length?pc(a,tt(c,3)):[]}var i4=mt(function(a){return uo(En(a,1,nn,!0))}),r4=mt(function(a){var c=ki(a);return nn(c)&&(c=r),uo(En(a,1,nn,!0),tt(c,2))}),o4=mt(function(a){var c=ki(a);return c=typeof c=="function"?c:r,uo(En(a,1,nn,!0),r,c)});function s4(a){return a&&a.length?uo(a):[]}function a4(a,c){return a&&a.length?uo(a,tt(c,2)):[]}function l4(a,c){return c=typeof c=="function"?c:r,a&&a.length?uo(a,r,c):[]}function Ef(a){if(!(a&&a.length))return[];var c=0;return a=ro(a,function(S){if(nn(S))return c=ln(S.length,c),!0}),Dh(c,function(S){return Kt(a,Ih(S))})}function Ay(a,c){if(!(a&&a.length))return[];var S=Ef(a);return c==null?S:Kt(S,function(P){return li(c,r,P)})}var c4=mt(function(a,c){return nn(a)?ka(a,c):[]}),u4=mt(function(a){return of(ro(a,nn))}),d4=mt(function(a){var c=ki(a);return nn(c)&&(c=r),of(ro(a,nn),tt(c,2))}),h4=mt(function(a){var c=ki(a);return c=typeof c=="function"?c:r,of(ro(a,nn),r,c)}),f4=mt(Ef);function p4(a,c){return $m(a||[],c||[],Ma)}function g4(a,c){return $m(a||[],c||[],Ba)}var m4=mt(function(a){var c=a.length,S=c>1?a[c-1]:r;return S=typeof S=="function"?(a.pop(),S):r,Ay(a,S)});function xy(a){var c=G(a);return c.__chain__=!0,c}function y4(a,c){return c(a),a}function Sc(a,c){return c(a)}var b4=Mr(function(a){var c=a.length,S=c?a[0]:0,P=this.__wrapped__,$=function(K){return Gh(K,a)};return c>1||this.__actions__.length||!(P instanceof At)||!kr(S)?this.thru($):(P=P.slice(S,+S+(c?1:0)),P.__actions__.push({func:Sc,args:[$],thisArg:r}),new Ri(P,this.__chain__).thru(function(K){return c&&!K.length&&K.push(r),K}))});function v4(){return xy(this)}function w4(){return new Ri(this.value(),this.__chain__)}function E4(){this.__values__===r&&(this.__values__=Fy(this.value()));var a=this.__index__>=this.__values__.length,c=a?r:this.__values__[this.__index__++];return{done:a,value:c}}function _4(){return this}function S4(a){for(var c,S=this;S instanceof lc;){var P=by(S);P.__index__=0,P.__values__=r,c?$.__wrapped__=P:c=P;var $=P;S=S.__wrapped__}return $.__wrapped__=a,c}function A4(){var a=this.__wrapped__;if(a instanceof At){var c=a;return this.__actions__.length&&(c=new At(this)),c=c.reverse(),c.__actions__.push({func:Sc,args:[wf],thisArg:r}),new Ri(c,this.__chain__)}return this.thru(wf)}function x4(){return Um(this.__wrapped__,this.__actions__)}var C4=gc(function(a,c,S){Dt.call(a,S)?++a[S]:Rr(a,S,1)});function T4(a,c,S){var P=ft(a)?em:yT;return S&&jn(a,c,S)&&(c=r),P(a,tt(c,3))}function O4(a,c){var S=ft(a)?ro:Am;return S(a,tt(c,3))}var R4=Zm(vy),P4=Zm(wy);function M4(a,c){return En(Ac(a,c),1)}function k4(a,c){return En(Ac(a,c),ne)}function L4(a,c,S){return S=S===r?1:pt(S),En(Ac(a,c),S)}function Cy(a,c){var S=ft(a)?Ti:co;return S(a,tt(c,3))}function Ty(a,c){var S=ft(a)?Zx:Sm;return S(a,tt(c,3))}var I4=gc(function(a,c,S){Dt.call(a,S)?a[S].push(c):Rr(a,S,[c])});function B4(a,c,S,P){a=zn(a)?a:ks(a),S=S&&!P?pt(S):0;var $=a.length;return S<0&&(S=ln($+S,0)),Rc(a)?S<=$&&a.indexOf(c,S)>-1:!!$&&Es(a,c,S)>-1}var N4=mt(function(a,c,S){var P=-1,$=typeof c=="function",K=zn(a)?Se(a.length):[];return co(a,function(X){K[++P]=$?li(c,X,S):La(X,c,S)}),K}),D4=gc(function(a,c,S){Rr(a,S,c)});function Ac(a,c){var S=ft(a)?Kt:Pm;return S(a,tt(c,3))}function j4(a,c,S,P){return a==null?[]:(ft(c)||(c=c==null?[]:[c]),S=P?r:S,ft(S)||(S=S==null?[]:[S]),Im(a,c,S))}var F4=gc(function(a,c,S){a[S?0:1].push(c)},function(){return[[],[]]});function H4(a,c,S){var P=ft(a)?kh:rm,$=arguments.length<3;return P(a,tt(c,4),S,$,co)}function U4(a,c,S){var P=ft(a)?Qx:rm,$=arguments.length<3;return P(a,tt(c,4),S,$,Sm)}function $4(a,c){var S=ft(a)?ro:Am;return S(a,Tc(tt(c,3)))}function q4(a){var c=ft(a)?vm:BT;return c(a)}function W4(a,c,S){(S?jn(a,c,S):c===r)?c=1:c=pt(c);var P=ft(a)?hT:NT;return P(a,c)}function G4(a){var c=ft(a)?fT:jT;return c(a)}function z4(a){if(a==null)return 0;if(zn(a))return Rc(a)?Ss(a):a.length;var c=Pn(a);return c==ee||c==_e?a.size:Xh(a).length}function V4(a,c,S){var P=ft(a)?Lh:FT;return S&&jn(a,c,S)&&(c=r),P(a,tt(c,3))}var J4=mt(function(a,c){if(a==null)return[];var S=c.length;return S>1&&jn(a,c[0],c[1])?c=[]:S>2&&jn(c[0],c[1],c[2])&&(c=[c[0]]),Im(a,En(c,1),[])}),xc=OC||function(){return fn.Date.now()};function K4(a,c){if(typeof c!="function")throw new Oi(o);return a=pt(a),function(){if(--a<1)return c.apply(this,arguments)}}function Oy(a,c,S){return c=S?r:c,c=a&&c==null?a.length:c,Pr(a,E,r,r,r,r,c)}function Ry(a,c){var S;if(typeof c!="function")throw new Oi(o);return a=pt(a),function(){return--a>0&&(S=c.apply(this,arguments)),a<=1&&(c=r),S}}var _f=mt(function(a,c,S){var P=m;if(S.length){var $=so(S,Ps(_f));P|=C}return Pr(a,P,c,S,$)}),Py=mt(function(a,c,S){var P=m|f;if(S.length){var $=so(S,Ps(Py));P|=C}return Pr(c,P,a,S,$)});function My(a,c,S){c=S?r:c;var P=Pr(a,v,r,r,r,r,r,c);return P.placeholder=My.placeholder,P}function ky(a,c,S){c=S?r:c;var P=Pr(a,A,r,r,r,r,r,c);return P.placeholder=ky.placeholder,P}function Ly(a,c,S){var P,$,K,X,re,ge,Pe=0,Me=!1,Le=!1,$e=!0;if(typeof a!="function")throw new Oi(o);c=Li(c)||0,Xt(S)&&(Me=!!S.leading,Le="maxWait"in S,K=Le?ln(Li(S.maxWait)||0,c):K,$e="trailing"in S?!!S.trailing:$e);function Ye(rn){var Ji=P,Br=$;return P=$=r,Pe=rn,X=a.apply(Br,Ji),X}function st(rn){return Pe=rn,re=ja(Et,c),Me?Ye(rn):X}function gt(rn){var Ji=rn-ge,Br=rn-Pe,Zy=c-Ji;return Le?Rn(Zy,K-Br):Zy}function at(rn){var Ji=rn-ge,Br=rn-Pe;return ge===r||Ji>=c||Ji<0||Le&&Br>=K}function Et(){var rn=xc();if(at(rn))return xt(rn);re=ja(Et,gt(rn))}function xt(rn){return re=r,$e&&P?Ye(rn):(P=$=r,X)}function hi(){re!==r&&qm(re),Pe=0,P=ge=$=re=r}function Fn(){return re===r?X:xt(xc())}function fi(){var rn=xc(),Ji=at(rn);if(P=arguments,$=this,ge=rn,Ji){if(re===r)return st(ge);if(Le)return qm(re),re=ja(Et,c),Ye(ge)}return re===r&&(re=ja(Et,c)),X}return fi.cancel=hi,fi.flush=Fn,fi}var Y4=mt(function(a,c){return _m(a,1,c)}),X4=mt(function(a,c,S){return _m(a,Li(c)||0,S)});function Z4(a){return Pr(a,B)}function Cc(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new Oi(o);var S=function(){var P=arguments,$=c?c.apply(this,P):P[0],K=S.cache;if(K.has($))return K.get($);var X=a.apply(this,P);return S.cache=K.set($,X)||K,X};return S.cache=new(Cc.Cache||Or),S}Cc.Cache=Or;function Tc(a){if(typeof a!="function")throw new Oi(o);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function Q4(a){return Ry(2,a)}var eR=HT(function(a,c){c=c.length==1&&ft(c[0])?Kt(c[0],ci(tt())):Kt(En(c,1),ci(tt()));var S=c.length;return mt(function(P){for(var $=-1,K=Rn(P.length,S);++$<K;)P[$]=c[$].call(this,P[$]);return li(a,this,P)})}),Sf=mt(function(a,c){var S=so(c,Ps(Sf));return Pr(a,C,r,c,S)}),Iy=mt(function(a,c){var S=so(c,Ps(Iy));return Pr(a,O,r,c,S)}),tR=Mr(function(a,c){return Pr(a,T,r,r,r,c)});function nR(a,c){if(typeof a!="function")throw new Oi(o);return c=c===r?c:pt(c),mt(a,c)}function iR(a,c){if(typeof a!="function")throw new Oi(o);return c=c==null?0:ln(pt(c),0),mt(function(S){var P=S[c],$=fo(S,0,c);return P&&oo($,P),li(a,this,$)})}function rR(a,c,S){var P=!0,$=!0;if(typeof a!="function")throw new Oi(o);return Xt(S)&&(P="leading"in S?!!S.leading:P,$="trailing"in S?!!S.trailing:$),Ly(a,c,{leading:P,maxWait:c,trailing:$})}function oR(a){return Oy(a,1)}function sR(a,c){return Sf(af(c),a)}function aR(){if(!arguments.length)return[];var a=arguments[0];return ft(a)?a:[a]}function lR(a){return Pi(a,b)}function cR(a,c){return c=typeof c=="function"?c:r,Pi(a,b,c)}function uR(a){return Pi(a,h|b)}function dR(a,c){return c=typeof c=="function"?c:r,Pi(a,h|b,c)}function hR(a,c){return c==null||Em(a,c,pn(c))}function Vi(a,c){return a===c||a!==a&&c!==c}var fR=vc(Jh),pR=vc(function(a,c){return a>=c}),Go=Tm(function(){return arguments}())?Tm:function(a){return Qt(a)&&Dt.call(a,"callee")&&!fm.call(a,"callee")},ft=Se.isArray,gR=Jg?ci(Jg):ST;function zn(a){return a!=null&&Oc(a.length)&&!Lr(a)}function nn(a){return Qt(a)&&zn(a)}function mR(a){return a===!0||a===!1||Qt(a)&&Dn(a)==R}var po=PC||If,yR=Kg?ci(Kg):AT;function bR(a){return Qt(a)&&a.nodeType===1&&!Fa(a)}function vR(a){if(a==null)return!0;if(zn(a)&&(ft(a)||typeof a=="string"||typeof a.splice=="function"||po(a)||Ms(a)||Go(a)))return!a.length;var c=Pn(a);if(c==ee||c==_e)return!a.size;if(Da(a))return!Xh(a).length;for(var S in a)if(Dt.call(a,S))return!1;return!0}function wR(a,c){return Ia(a,c)}function ER(a,c,S){S=typeof S=="function"?S:r;var P=S?S(a,c):r;return P===r?Ia(a,c,r,S):!!P}function Af(a){if(!Qt(a))return!1;var c=Dn(a);return c==W||c==F||typeof a.message=="string"&&typeof a.name=="string"&&!Fa(a)}function _R(a){return typeof a=="number"&&gm(a)}function Lr(a){if(!Xt(a))return!1;var c=Dn(a);return c==V||c==Z||c==x||c==ke}function By(a){return typeof a=="number"&&a==pt(a)}function Oc(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=oe}function Xt(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function Qt(a){return a!=null&&typeof a=="object"}var Ny=Yg?ci(Yg):CT;function SR(a,c){return a===c||Yh(a,c,pf(c))}function AR(a,c,S){return S=typeof S=="function"?S:r,Yh(a,c,pf(c),S)}function xR(a){return Dy(a)&&a!=+a}function CR(a){if(cO(a))throw new ht(i);return Om(a)}function TR(a){return a===null}function OR(a){return a==null}function Dy(a){return typeof a=="number"||Qt(a)&&Dn(a)==ie}function Fa(a){if(!Qt(a)||Dn(a)!=de)return!1;var c=tc(a);if(c===null)return!0;var S=Dt.call(c,"constructor")&&c.constructor;return typeof S=="function"&&S instanceof S&&Xl.call(S)==AC}var xf=Xg?ci(Xg):TT;function RR(a){return By(a)&&a>=-oe&&a<=oe}var jy=Zg?ci(Zg):OT;function Rc(a){return typeof a=="string"||!ft(a)&&Qt(a)&&Dn(a)==be}function di(a){return typeof a=="symbol"||Qt(a)&&Dn(a)==se}var Ms=Qg?ci(Qg):RT;function PR(a){return a===r}function MR(a){return Qt(a)&&Pn(a)==Re}function kR(a){return Qt(a)&&Dn(a)==Y}var LR=vc(Zh),IR=vc(function(a,c){return a<=c});function Fy(a){if(!a)return[];if(zn(a))return Rc(a)?Gi(a):Gn(a);if(Ca&&a[Ca])return hC(a[Ca]());var c=Pn(a),S=c==ee?Fh:c==_e?Jl:ks;return S(a)}function Ir(a){if(!a)return a===0?a:0;if(a=Li(a),a===ne||a===-ne){var c=a<0?-1:1;return c*ae}return a===a?a:0}function pt(a){var c=Ir(a),S=c%1;return c===c?S?c-S:c:0}function Hy(a){return a?Uo(pt(a),0,le):0}function Li(a){if(typeof a=="number")return a;if(di(a))return te;if(Xt(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=Xt(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=om(a);var S=gx.test(a);return S||yx.test(a)?Kx(a.slice(2),S?2:8):px.test(a)?te:+a}function Uy(a){return lr(a,Vn(a))}function BR(a){return a?Uo(pt(a),-oe,oe):a===0?a:0}function Lt(a){return a==null?"":ui(a)}var NR=Os(function(a,c){if(Da(c)||zn(c)){lr(c,pn(c),a);return}for(var S in c)Dt.call(c,S)&&Ma(a,S,c[S])}),$y=Os(function(a,c){lr(c,Vn(c),a)}),Pc=Os(function(a,c,S,P){lr(c,Vn(c),a,P)}),DR=Os(function(a,c,S,P){lr(c,pn(c),a,P)}),jR=Mr(Gh);function FR(a,c){var S=Ts(a);return c==null?S:wm(S,c)}var HR=mt(function(a,c){a=$t(a);var S=-1,P=c.length,$=P>2?c[2]:r;for($&&jn(c[0],c[1],$)&&(P=1);++S<P;)for(var K=c[S],X=Vn(K),re=-1,ge=X.length;++re<ge;){var Pe=X[re],Me=a[Pe];(Me===r||Vi(Me,As[Pe])&&!Dt.call(a,Pe))&&(a[Pe]=K[Pe])}return a}),UR=mt(function(a){return a.push(r,oy),li(qy,r,a)});function $R(a,c){return tm(a,tt(c,3),ar)}function qR(a,c){return tm(a,tt(c,3),Vh)}function WR(a,c){return a==null?a:zh(a,tt(c,3),Vn)}function GR(a,c){return a==null?a:xm(a,tt(c,3),Vn)}function zR(a,c){return a&&ar(a,tt(c,3))}function VR(a,c){return a&&Vh(a,tt(c,3))}function JR(a){return a==null?[]:dc(a,pn(a))}function KR(a){return a==null?[]:dc(a,Vn(a))}function Cf(a,c,S){var P=a==null?r:$o(a,c);return P===r?S:P}function YR(a,c){return a!=null&&ly(a,c,vT)}function Tf(a,c){return a!=null&&ly(a,c,wT)}var XR=ey(function(a,c,S){c!=null&&typeof c.toString!="function"&&(c=Zl.call(c)),a[c]=S},Rf(Jn)),ZR=ey(function(a,c,S){c!=null&&typeof c.toString!="function"&&(c=Zl.call(c)),Dt.call(a,c)?a[c].push(S):a[c]=[S]},tt),QR=mt(La);function pn(a){return zn(a)?bm(a):Xh(a)}function Vn(a){return zn(a)?bm(a,!0):PT(a)}function e3(a,c){var S={};return c=tt(c,3),ar(a,function(P,$,K){Rr(S,c(P,$,K),P)}),S}function t3(a,c){var S={};return c=tt(c,3),ar(a,function(P,$,K){Rr(S,$,c(P,$,K))}),S}var n3=Os(function(a,c,S){hc(a,c,S)}),qy=Os(function(a,c,S,P){hc(a,c,S,P)}),i3=Mr(function(a,c){var S={};if(a==null)return S;var P=!1;c=Kt(c,function(K){return K=ho(K,a),P||(P=K.length>1),K}),lr(a,hf(a),S),P&&(S=Pi(S,h|y|b,XT));for(var $=c.length;$--;)rf(S,c[$]);return S});function r3(a,c){return Wy(a,Tc(tt(c)))}var o3=Mr(function(a,c){return a==null?{}:kT(a,c)});function Wy(a,c){if(a==null)return{};var S=Kt(hf(a),function(P){return[P]});return c=tt(c),Bm(a,S,function(P,$){return c(P,$[0])})}function s3(a,c,S){c=ho(c,a);var P=-1,$=c.length;for($||($=1,a=r);++P<$;){var K=a==null?r:a[cr(c[P])];K===r&&(P=$,K=S),a=Lr(K)?K.call(a):K}return a}function a3(a,c,S){return a==null?a:Ba(a,c,S)}function l3(a,c,S,P){return P=typeof P=="function"?P:r,a==null?a:Ba(a,c,S,P)}var Gy=iy(pn),zy=iy(Vn);function c3(a,c,S){var P=ft(a),$=P||po(a)||Ms(a);if(c=tt(c,4),S==null){var K=a&&a.constructor;$?S=P?new K:[]:Xt(a)?S=Lr(K)?Ts(tc(a)):{}:S={}}return($?Ti:ar)(a,function(X,re,ge){return c(S,X,re,ge)}),S}function u3(a,c){return a==null?!0:rf(a,c)}function d3(a,c,S){return a==null?a:Hm(a,c,af(S))}function h3(a,c,S,P){return P=typeof P=="function"?P:r,a==null?a:Hm(a,c,af(S),P)}function ks(a){return a==null?[]:jh(a,pn(a))}function f3(a){return a==null?[]:jh(a,Vn(a))}function p3(a,c,S){return S===r&&(S=c,c=r),S!==r&&(S=Li(S),S=S===S?S:0),c!==r&&(c=Li(c),c=c===c?c:0),Uo(Li(a),c,S)}function g3(a,c,S){return c=Ir(c),S===r?(S=c,c=0):S=Ir(S),a=Li(a),ET(a,c,S)}function m3(a,c,S){if(S&&typeof S!="boolean"&&jn(a,c,S)&&(c=S=r),S===r&&(typeof c=="boolean"?(S=c,c=r):typeof a=="boolean"&&(S=a,a=r)),a===r&&c===r?(a=0,c=1):(a=Ir(a),c===r?(c=a,a=0):c=Ir(c)),a>c){var P=a;a=c,c=P}if(S||a%1||c%1){var $=mm();return Rn(a+$*(c-a+Jx("1e-"+(($+"").length-1))),c)}return ef(a,c)}var y3=Rs(function(a,c,S){return c=c.toLowerCase(),a+(S?Vy(c):c)});function Vy(a){return Of(Lt(a).toLowerCase())}function Jy(a){return a=Lt(a),a&&a.replace(vx,aC).replace(jx,"")}function b3(a,c,S){a=Lt(a),c=ui(c);var P=a.length;S=S===r?P:Uo(pt(S),0,P);var $=S;return S-=c.length,S>=0&&a.slice(S,$)==c}function v3(a){return a=Lt(a),a&&xi.test(a)?a.replace(Wn,lC):a}function w3(a){return a=Lt(a),a&&No.test(a)?a.replace(or,"\\$&"):a}var E3=Rs(function(a,c,S){return a+(S?"-":"")+c.toLowerCase()}),_3=Rs(function(a,c,S){return a+(S?" ":"")+c.toLowerCase()}),S3=Xm("toLowerCase");function A3(a,c,S){a=Lt(a),c=pt(c);var P=c?Ss(a):0;if(!c||P>=c)return a;var $=(c-P)/2;return bc(oc($),S)+a+bc(rc($),S)}function x3(a,c,S){a=Lt(a),c=pt(c);var P=c?Ss(a):0;return c&&P<c?a+bc(c-P,S):a}function C3(a,c,S){a=Lt(a),c=pt(c);var P=c?Ss(a):0;return c&&P<c?bc(c-P,S)+a:a}function T3(a,c,S){return S||c==null?c=0:c&&(c=+c),IC(Lt(a).replace(sr,""),c||0)}function O3(a,c,S){return(S?jn(a,c,S):c===r)?c=1:c=pt(c),tf(Lt(a),c)}function R3(){var a=arguments,c=Lt(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var P3=Rs(function(a,c,S){return a+(S?"_":"")+c.toLowerCase()});function M3(a,c,S){return S&&typeof S!="number"&&jn(a,c,S)&&(c=S=r),S=S===r?le:S>>>0,S?(a=Lt(a),a&&(typeof c=="string"||c!=null&&!xf(c))&&(c=ui(c),!c&&_s(a))?fo(Gi(a),0,S):a.split(c,S)):[]}var k3=Rs(function(a,c,S){return a+(S?" ":"")+Of(c)});function L3(a,c,S){return a=Lt(a),S=S==null?0:Uo(pt(S),0,a.length),c=ui(c),a.slice(S,S+c.length)==c}function I3(a,c,S){var P=G.templateSettings;S&&jn(a,c,S)&&(c=r),a=Lt(a),c=Pc({},c,P,ry);var $=Pc({},c.imports,P.imports,ry),K=pn($),X=jh($,K),re,ge,Pe=0,Me=c.interpolate||ql,Le="__p += '",$e=Hh((c.escape||ql).source+"|"+Me.source+"|"+(Me===ai?fx:ql).source+"|"+(c.evaluate||ql).source+"|$","g"),Ye="//# sourceURL="+(Dt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qx+"]")+`
`;a.replace($e,function(at,Et,xt,hi,Fn,fi){return xt||(xt=hi),Le+=a.slice(Pe,fi).replace(wx,cC),Et&&(re=!0,Le+=`' +
__e(`+Et+`) +
'`),Fn&&(ge=!0,Le+=`';
`+Fn+`;
__p += '`),xt&&(Le+=`' +
((__t = (`+xt+`)) == null ? '' : __t) +
'`),Pe=fi+at.length,at}),Le+=`';
`;var st=Dt.call(c,"variable")&&c.variable;if(!st)Le=`with (obj) {
`+Le+`
}
`;else if(dx.test(st))throw new ht(s);Le=(ge?Le.replace(Ue,""):Le).replace(ut,"$1").replace(Nt,"$1;"),Le="function("+(st||"obj")+`) {
`+(st?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(re?", __e = _.escape":"")+(ge?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Le+`return __p
}`;var gt=Yy(function(){return Mt(K,Ye+"return "+Le).apply(r,X)});if(gt.source=Le,Af(gt))throw gt;return gt}function B3(a){return Lt(a).toLowerCase()}function N3(a){return Lt(a).toUpperCase()}function D3(a,c,S){if(a=Lt(a),a&&(S||c===r))return om(a);if(!a||!(c=ui(c)))return a;var P=Gi(a),$=Gi(c),K=sm(P,$),X=am(P,$)+1;return fo(P,K,X).join("")}function j3(a,c,S){if(a=Lt(a),a&&(S||c===r))return a.slice(0,cm(a)+1);if(!a||!(c=ui(c)))return a;var P=Gi(a),$=am(P,Gi(c))+1;return fo(P,0,$).join("")}function F3(a,c,S){if(a=Lt(a),a&&(S||c===r))return a.replace(sr,"");if(!a||!(c=ui(c)))return a;var P=Gi(a),$=sm(P,Gi(c));return fo(P,$).join("")}function H3(a,c){var S=M,P=D;if(Xt(c)){var $="separator"in c?c.separator:$;S="length"in c?pt(c.length):S,P="omission"in c?ui(c.omission):P}a=Lt(a);var K=a.length;if(_s(a)){var X=Gi(a);K=X.length}if(S>=K)return a;var re=S-Ss(P);if(re<1)return P;var ge=X?fo(X,0,re).join(""):a.slice(0,re);if($===r)return ge+P;if(X&&(re+=ge.length-re),xf($)){if(a.slice(re).search($)){var Pe,Me=ge;for($.global||($=Hh($.source,Lt(Tg.exec($))+"g")),$.lastIndex=0;Pe=$.exec(Me);)var Le=Pe.index;ge=ge.slice(0,Le===r?re:Le)}}else if(a.indexOf(ui($),re)!=re){var $e=ge.lastIndexOf($);$e>-1&&(ge=ge.slice(0,$e))}return ge+P}function U3(a){return a=Lt(a),a&&rr.test(a)?a.replace(Pt,mC):a}var $3=Rs(function(a,c,S){return a+(S?" ":"")+c.toUpperCase()}),Of=Xm("toUpperCase");function Ky(a,c,S){return a=Lt(a),c=S?r:c,c===r?dC(a)?vC(a):nC(a):a.match(c)||[]}var Yy=mt(function(a,c){try{return li(a,r,c)}catch(S){return Af(S)?S:new ht(S)}}),q3=Mr(function(a,c){return Ti(c,function(S){S=cr(S),Rr(a,S,_f(a[S],a))}),a});function W3(a){var c=a==null?0:a.length,S=tt();return a=c?Kt(a,function(P){if(typeof P[1]!="function")throw new Oi(o);return[S(P[0]),P[1]]}):[],mt(function(P){for(var $=-1;++$<c;){var K=a[$];if(li(K[0],this,P))return li(K[1],this,P)}})}function G3(a){return mT(Pi(a,h))}function Rf(a){return function(){return a}}function z3(a,c){return a==null||a!==a?c:a}var V3=Qm(),J3=Qm(!0);function Jn(a){return a}function Pf(a){return Rm(typeof a=="function"?a:Pi(a,h))}function K3(a){return Mm(Pi(a,h))}function Y3(a,c){return km(a,Pi(c,h))}var X3=mt(function(a,c){return function(S){return La(S,a,c)}}),Z3=mt(function(a,c){return function(S){return La(a,S,c)}});function Mf(a,c,S){var P=pn(c),$=dc(c,P);S==null&&!(Xt(c)&&($.length||!P.length))&&(S=c,c=a,a=this,$=dc(c,pn(c)));var K=!(Xt(S)&&"chain"in S)||!!S.chain,X=Lr(a);return Ti($,function(re){var ge=c[re];a[re]=ge,X&&(a.prototype[re]=function(){var Pe=this.__chain__;if(K||Pe){var Me=a(this.__wrapped__),Le=Me.__actions__=Gn(this.__actions__);return Le.push({func:ge,args:arguments,thisArg:a}),Me.__chain__=Pe,Me}return ge.apply(a,oo([this.value()],arguments))})}),a}function Q3(){return fn._===this&&(fn._=xC),this}function kf(){}function eP(a){return a=pt(a),mt(function(c){return Lm(c,a)})}var tP=cf(Kt),nP=cf(em),iP=cf(Lh);function Xy(a){return mf(a)?Ih(cr(a)):LT(a)}function rP(a){return function(c){return a==null?r:$o(a,c)}}var oP=ty(),sP=ty(!0);function Lf(){return[]}function If(){return!1}function aP(){return{}}function lP(){return""}function cP(){return!0}function uP(a,c){if(a=pt(a),a<1||a>oe)return[];var S=le,P=Rn(a,le);c=tt(c),a-=le;for(var $=Dh(P,c);++S<a;)c(S);return $}function dP(a){return ft(a)?Kt(a,cr):di(a)?[a]:Gn(yy(Lt(a)))}function hP(a){var c=++SC;return Lt(a)+c}var fP=yc(function(a,c){return a+c},0),pP=uf("ceil"),gP=yc(function(a,c){return a/c},1),mP=uf("floor");function yP(a){return a&&a.length?uc(a,Jn,Jh):r}function bP(a,c){return a&&a.length?uc(a,tt(c,2),Jh):r}function vP(a){return im(a,Jn)}function wP(a,c){return im(a,tt(c,2))}function EP(a){return a&&a.length?uc(a,Jn,Zh):r}function _P(a,c){return a&&a.length?uc(a,tt(c,2),Zh):r}var SP=yc(function(a,c){return a*c},1),AP=uf("round"),xP=yc(function(a,c){return a-c},0);function CP(a){return a&&a.length?Nh(a,Jn):0}function TP(a,c){return a&&a.length?Nh(a,tt(c,2)):0}return G.after=K4,G.ary=Oy,G.assign=NR,G.assignIn=$y,G.assignInWith=Pc,G.assignWith=DR,G.at=jR,G.before=Ry,G.bind=_f,G.bindAll=q3,G.bindKey=Py,G.castArray=aR,G.chain=xy,G.chunk=mO,G.compact=yO,G.concat=bO,G.cond=W3,G.conforms=G3,G.constant=Rf,G.countBy=C4,G.create=FR,G.curry=My,G.curryRight=ky,G.debounce=Ly,G.defaults=HR,G.defaultsDeep=UR,G.defer=Y4,G.delay=X4,G.difference=vO,G.differenceBy=wO,G.differenceWith=EO,G.drop=_O,G.dropRight=SO,G.dropRightWhile=AO,G.dropWhile=xO,G.fill=CO,G.filter=O4,G.flatMap=M4,G.flatMapDeep=k4,G.flatMapDepth=L4,G.flatten=Ey,G.flattenDeep=TO,G.flattenDepth=OO,G.flip=Z4,G.flow=V3,G.flowRight=J3,G.fromPairs=RO,G.functions=JR,G.functionsIn=KR,G.groupBy=I4,G.initial=MO,G.intersection=kO,G.intersectionBy=LO,G.intersectionWith=IO,G.invert=XR,G.invertBy=ZR,G.invokeMap=N4,G.iteratee=Pf,G.keyBy=D4,G.keys=pn,G.keysIn=Vn,G.map=Ac,G.mapKeys=e3,G.mapValues=t3,G.matches=K3,G.matchesProperty=Y3,G.memoize=Cc,G.merge=n3,G.mergeWith=qy,G.method=X3,G.methodOf=Z3,G.mixin=Mf,G.negate=Tc,G.nthArg=eP,G.omit=i3,G.omitBy=r3,G.once=Q4,G.orderBy=j4,G.over=tP,G.overArgs=eR,G.overEvery=nP,G.overSome=iP,G.partial=Sf,G.partialRight=Iy,G.partition=F4,G.pick=o3,G.pickBy=Wy,G.property=Xy,G.propertyOf=rP,G.pull=jO,G.pullAll=Sy,G.pullAllBy=FO,G.pullAllWith=HO,G.pullAt=UO,G.range=oP,G.rangeRight=sP,G.rearg=tR,G.reject=$4,G.remove=$O,G.rest=nR,G.reverse=wf,G.sampleSize=W4,G.set=a3,G.setWith=l3,G.shuffle=G4,G.slice=qO,G.sortBy=J4,G.sortedUniq=YO,G.sortedUniqBy=XO,G.split=M3,G.spread=iR,G.tail=ZO,G.take=QO,G.takeRight=e4,G.takeRightWhile=t4,G.takeWhile=n4,G.tap=y4,G.throttle=rR,G.thru=Sc,G.toArray=Fy,G.toPairs=Gy,G.toPairsIn=zy,G.toPath=dP,G.toPlainObject=Uy,G.transform=c3,G.unary=oR,G.union=i4,G.unionBy=r4,G.unionWith=o4,G.uniq=s4,G.uniqBy=a4,G.uniqWith=l4,G.unset=u3,G.unzip=Ef,G.unzipWith=Ay,G.update=d3,G.updateWith=h3,G.values=ks,G.valuesIn=f3,G.without=c4,G.words=Ky,G.wrap=sR,G.xor=u4,G.xorBy=d4,G.xorWith=h4,G.zip=f4,G.zipObject=p4,G.zipObjectDeep=g4,G.zipWith=m4,G.entries=Gy,G.entriesIn=zy,G.extend=$y,G.extendWith=Pc,Mf(G,G),G.add=fP,G.attempt=Yy,G.camelCase=y3,G.capitalize=Vy,G.ceil=pP,G.clamp=p3,G.clone=lR,G.cloneDeep=uR,G.cloneDeepWith=dR,G.cloneWith=cR,G.conformsTo=hR,G.deburr=Jy,G.defaultTo=z3,G.divide=gP,G.endsWith=b3,G.eq=Vi,G.escape=v3,G.escapeRegExp=w3,G.every=T4,G.find=R4,G.findIndex=vy,G.findKey=$R,G.findLast=P4,G.findLastIndex=wy,G.findLastKey=qR,G.floor=mP,G.forEach=Cy,G.forEachRight=Ty,G.forIn=WR,G.forInRight=GR,G.forOwn=zR,G.forOwnRight=VR,G.get=Cf,G.gt=fR,G.gte=pR,G.has=YR,G.hasIn=Tf,G.head=_y,G.identity=Jn,G.includes=B4,G.indexOf=PO,G.inRange=g3,G.invoke=QR,G.isArguments=Go,G.isArray=ft,G.isArrayBuffer=gR,G.isArrayLike=zn,G.isArrayLikeObject=nn,G.isBoolean=mR,G.isBuffer=po,G.isDate=yR,G.isElement=bR,G.isEmpty=vR,G.isEqual=wR,G.isEqualWith=ER,G.isError=Af,G.isFinite=_R,G.isFunction=Lr,G.isInteger=By,G.isLength=Oc,G.isMap=Ny,G.isMatch=SR,G.isMatchWith=AR,G.isNaN=xR,G.isNative=CR,G.isNil=OR,G.isNull=TR,G.isNumber=Dy,G.isObject=Xt,G.isObjectLike=Qt,G.isPlainObject=Fa,G.isRegExp=xf,G.isSafeInteger=RR,G.isSet=jy,G.isString=Rc,G.isSymbol=di,G.isTypedArray=Ms,G.isUndefined=PR,G.isWeakMap=MR,G.isWeakSet=kR,G.join=BO,G.kebabCase=E3,G.last=ki,G.lastIndexOf=NO,G.lowerCase=_3,G.lowerFirst=S3,G.lt=LR,G.lte=IR,G.max=yP,G.maxBy=bP,G.mean=vP,G.meanBy=wP,G.min=EP,G.minBy=_P,G.stubArray=Lf,G.stubFalse=If,G.stubObject=aP,G.stubString=lP,G.stubTrue=cP,G.multiply=SP,G.nth=DO,G.noConflict=Q3,G.noop=kf,G.now=xc,G.pad=A3,G.padEnd=x3,G.padStart=C3,G.parseInt=T3,G.random=m3,G.reduce=H4,G.reduceRight=U4,G.repeat=O3,G.replace=R3,G.result=s3,G.round=AP,G.runInContext=he,G.sample=q4,G.size=z4,G.snakeCase=P3,G.some=V4,G.sortedIndex=WO,G.sortedIndexBy=GO,G.sortedIndexOf=zO,G.sortedLastIndex=VO,G.sortedLastIndexBy=JO,G.sortedLastIndexOf=KO,G.startCase=k3,G.startsWith=L3,G.subtract=xP,G.sum=CP,G.sumBy=TP,G.template=I3,G.times=uP,G.toFinite=Ir,G.toInteger=pt,G.toLength=Hy,G.toLower=B3,G.toNumber=Li,G.toSafeInteger=BR,G.toString=Lt,G.toUpper=N3,G.trim=D3,G.trimEnd=j3,G.trimStart=F3,G.truncate=H3,G.unescape=U3,G.uniqueId=hP,G.upperCase=$3,G.upperFirst=Of,G.each=Cy,G.eachRight=Ty,G.first=_y,Mf(G,function(){var a={};return ar(G,function(c,S){Dt.call(G.prototype,S)||(a[S]=c)}),a}(),{chain:!1}),G.VERSION=t,Ti(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){G[a].placeholder=G}),Ti(["drop","take"],function(a,c){At.prototype[a]=function(S){S=S===r?1:ln(pt(S),0);var P=this.__filtered__&&!c?new At(this):this.clone();return P.__filtered__?P.__takeCount__=Rn(S,P.__takeCount__):P.__views__.push({size:Rn(S,le),type:a+(P.__dir__<0?"Right":"")}),P},At.prototype[a+"Right"]=function(S){return this.reverse()[a](S).reverse()}}),Ti(["filter","map","takeWhile"],function(a,c){var S=c+1,P=S==N||S==z;At.prototype[a]=function($){var K=this.clone();return K.__iteratees__.push({iteratee:tt($,3),type:S}),K.__filtered__=K.__filtered__||P,K}}),Ti(["head","last"],function(a,c){var S="take"+(c?"Right":"");At.prototype[a]=function(){return this[S](1).value()[0]}}),Ti(["initial","tail"],function(a,c){var S="drop"+(c?"":"Right");At.prototype[a]=function(){return this.__filtered__?new At(this):this[S](1)}}),At.prototype.compact=function(){return this.filter(Jn)},At.prototype.find=function(a){return this.filter(a).head()},At.prototype.findLast=function(a){return this.reverse().find(a)},At.prototype.invokeMap=mt(function(a,c){return typeof a=="function"?new At(this):this.map(function(S){return La(S,a,c)})}),At.prototype.reject=function(a){return this.filter(Tc(tt(a)))},At.prototype.slice=function(a,c){a=pt(a);var S=this;return S.__filtered__&&(a>0||c<0)?new At(S):(a<0?S=S.takeRight(-a):a&&(S=S.drop(a)),c!==r&&(c=pt(c),S=c<0?S.dropRight(-c):S.take(c-a)),S)},At.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},At.prototype.toArray=function(){return this.take(le)},ar(At.prototype,function(a,c){var S=/^(?:filter|find|map|reject)|While$/.test(c),P=/^(?:head|last)$/.test(c),$=G[P?"take"+(c=="last"?"Right":""):c],K=P||/^find/.test(c);!$||(G.prototype[c]=function(){var X=this.__wrapped__,re=P?[1]:arguments,ge=X instanceof At,Pe=re[0],Me=ge||ft(X),Le=function(Et){var xt=$.apply(G,oo([Et],re));return P&&$e?xt[0]:xt};Me&&S&&typeof Pe=="function"&&Pe.length!=1&&(ge=Me=!1);var $e=this.__chain__,Ye=!!this.__actions__.length,st=K&&!$e,gt=ge&&!Ye;if(!K&&Me){X=gt?X:new At(this);var at=a.apply(X,re);return at.__actions__.push({func:Sc,args:[Le],thisArg:r}),new Ri(at,$e)}return st&&gt?a.apply(this,re):(at=this.thru(Le),st?P?at.value()[0]:at.value():at)})}),Ti(["pop","push","shift","sort","splice","unshift"],function(a){var c=Kl[a],S=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",P=/^(?:pop|shift)$/.test(a);G.prototype[a]=function(){var $=arguments;if(P&&!this.__chain__){var K=this.value();return c.apply(ft(K)?K:[],$)}return this[S](function(X){return c.apply(ft(X)?X:[],$)})}}),ar(At.prototype,function(a,c){var S=G[c];if(S){var P=S.name+"";Dt.call(Cs,P)||(Cs[P]=[]),Cs[P].push({name:c,func:S})}}),Cs[mc(r,f).name]=[{name:"wrapper",func:r}],At.prototype.clone=UC,At.prototype.reverse=$C,At.prototype.value=qC,G.prototype.at=b4,G.prototype.chain=v4,G.prototype.commit=w4,G.prototype.next=E4,G.prototype.plant=S4,G.prototype.reverse=A4,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=x4,G.prototype.first=G.prototype.head,Ca&&(G.prototype[Ca]=_4),G},ao=wC();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(fn._=ao,define(function(){return ao})):Do?((Do.exports=ao)._=ao,Rh._=ao):fn._=ao}).call(da)});var q0=ve((JH,$0)=>{H();var U_=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);U_?(H0=new Uint8Array(16),$0.exports=function(){return U_(H0),H0}):(U0=new Array(16),$0.exports=function(){for(var t=0,n;t<16;t++)(t&3)==0&&(n=Math.random()*4294967296),U0[t]=n>>>((t&3)<<3)&255;return U0});var H0,U0});var W0=ve((KH,q_)=>{H();var $_=[];for(xl=0;xl<256;++xl)$_[xl]=(xl+256).toString(16).substr(1);var xl;function K5(r,t){var n=t||0,i=$_;return[i[r[n++]],i[r[n++]],i[r[n++]],i[r[n++]],"-",i[r[n++]],i[r[n++]],"-",i[r[n++]],i[r[n++]],"-",i[r[n++]],i[r[n++]],"-",i[r[n++]],i[r[n++]],i[r[n++]],i[r[n++]],i[r[n++]],i[r[n++]]].join("")}q_.exports=K5});var z_=ve((YH,G_)=>{H();var Y5=q0(),X5=W0(),W_,G0,z0=0,V0=0;function Z5(r,t,n){var i=t&&n||0,o=t||[];r=r||{};var s=r.node||W_,l=r.clockseq!==void 0?r.clockseq:G0;if(s==null||l==null){var u=Y5();s==null&&(s=W_=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),l==null&&(l=G0=(u[6]<<8|u[7])&16383)}var d=r.msecs!==void 0?r.msecs:new Date().getTime(),h=r.nsecs!==void 0?r.nsecs:V0+1,y=d-z0+(h-V0)/1e4;if(y<0&&r.clockseq===void 0&&(l=l+1&16383),(y<0||d>z0)&&r.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");z0=d,V0=h,G0=l,d+=122192928e5;var b=((d&268435455)*1e4+h)%4294967296;o[i++]=b>>>24&255,o[i++]=b>>>16&255,o[i++]=b>>>8&255,o[i++]=b&255;var w=d/4294967296*1e4&268435455;o[i++]=w>>>8&255,o[i++]=w&255,o[i++]=w>>>24&15|16,o[i++]=w>>>16&255,o[i++]=l>>>8|128,o[i++]=l&255;for(var p=0;p<6;++p)o[i+p]=s[p];return t||X5(o)}G_.exports=Z5});var J_=ve((XH,V_)=>{H();var Q5=q0(),e8=W0();function t8(r,t,n){var i=t&&n||0;typeof r=="string"&&(t=r==="binary"?new Array(16):null,r=null),r=r||{};var o=r.random||(r.rng||Q5)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t)for(var s=0;s<16;++s)t[i+s]=o[s];return t||e8(o)}V_.exports=t8});var K0=ve((ZH,Y_)=>{H();var n8=z_(),K_=J_(),J0=K_;J0.v1=n8;J0.v4=K_;Y_.exports=J0});var eS=ve(fa=>{H();"use strict";var X0;Object.defineProperty(fa,"__esModule",{value:!0});fa.MediaOverlayNode=fa.timeStrToSeconds=void 0;var Qr=hr(),To=Un(),r8=Vs();function o8(r){if(!r)return 0;r=r.replace("npt=","");let t=0,n=0,i=0;try{let o=r.indexOf("min");if(o>0){let s=r.substr(0,o);n=parseFloat(s)}else{let s=r.indexOf("ms");if(s>0){let l=r.substr(0,s);i=parseFloat(l)/1e3}else{let l=r.indexOf("s");if(l>0){let u=r.substr(0,l);i=parseFloat(u)}else{let u=r.indexOf("h");if(u>0){let d=r.substr(0,u);t=parseFloat(d)}else{let d=r.split(":");d.length===1?i=parseFloat(d[0]):d.length===2?(n=parseFloat(d[0]),i=parseFloat(d[1])):d.length===3?(t=parseFloat(d[0]),n=parseFloat(d[1]),i=parseFloat(d[2])):(console.log("SMIL TIME CLOCK SYNTAX PARSING ERROR ??"),console.log(r))}}}}}catch(o){return console.log(o),console.log("SMIL TIME CLOCK SYNTAX PARSING ERROR!"),console.log(r),0}return t*3600+n*60+i}fa.timeStrToSeconds=o8;var hs=X0=class{constructor(){this.initialized=!1}};Qr.__decorate([(0,To.JsonProperty)("text"),Qr.__metadata("design:type",String)],hs.prototype,"Text",void 0);Qr.__decorate([(0,To.JsonProperty)("audio"),Qr.__metadata("design:type",String)],hs.prototype,"Audio",void 0);Qr.__decorate([(0,To.JsonProperty)("role"),(0,To.JsonConverter)(r8.JsonStringConverter),(0,To.JsonElementType)(String),Qr.__metadata("design:type",Array)],hs.prototype,"Role",void 0);Qr.__decorate([(0,To.JsonProperty)("narration"),(0,To.JsonElementType)(X0),Qr.__metadata("design:type",Array)],hs.prototype,"Children",void 0);hs=X0=Qr.__decorate([(0,To.JsonObject)()],hs);fa.MediaOverlayNode=hs});var rS=ve(_=>{H();"use strict";var e;_.browser=Object.create(null);e=Object.create(null);e[0]=new RegExp("(Rival IQ, rivaliq.com)");e[1]="Rival IQ";e[2]=0;e[3]=0;e[4]=0;_.browser[0]=e;e=Object.create(null);e[0]=new RegExp("(ESPN)[%20| ]+Radio/(\\d+)\\.(\\d+)\\.(\\d+) CFNetwork");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[1]=e;e=Object.create(null);e[0]=new RegExp("(Antenna)/(\\d+) CFNetwork");e[1]="AntennaPod";e[2]=0;e[3]=0;e[4]=0;_.browser[2]=e;e=Object.create(null);e[0]=new RegExp("(TopPodcasts)Pro/(\\d+) CFNetwork");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[3]=e;e=Object.create(null);e[0]=new RegExp("(MusicDownloader)Lite/(\\d+)\\.(\\d+)\\.(\\d+) CFNetwork");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[4]=e;e=Object.create(null);e[0]=new RegExp("^(.*)-iPad/(\\d+)\\.?(\\d+)?.?(\\d+)?.?(\\d+)? CFNetwork");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[5]=e;e=Object.create(null);e[0]=new RegExp("^(.*)-iPhone/(\\d+)\\.?(\\d+)?.?(\\d+)?.?(\\d+)? CFNetwork");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[6]=e;e=Object.create(null);e[0]=new RegExp("^(.*)/(\\d+)\\.?(\\d+)?.?(\\d+)?.?(\\d+)? CFNetwork");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[7]=e;e=Object.create(null);e[0]=new RegExp("(espn\\.go)");e[1]="ESPN";e[2]=0;e[3]=0;e[4]=0;_.browser[8]=e;e=Object.create(null);e[0]=new RegExp("(espnradio\\.com)");e[1]="ESPN";e[2]=0;e[3]=0;e[4]=0;_.browser[9]=e;e=Object.create(null);e[0]=new RegExp("ESPN APP$");e[1]="ESPN";e[2]=0;e[3]=0;e[4]=0;_.browser[10]=e;e=Object.create(null);e[0]=new RegExp("(audioboom\\.com)");e[1]="AudioBoom";e[2]=0;e[3]=0;e[4]=0;_.browser[11]=e;e=Object.create(null);e[0]=new RegExp(" (Rivo) RHYTHM");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[12]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)(?:/(\\d+)\\.(\\d+)\\.?(\\d+)?)?");e[1]="CFNetwork";e[2]=0;e[3]=0;e[4]=0;_.browser[13]=e;e=Object.create(null);e[0]=new RegExp("(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)");e[1]="PingdomBot";e[2]=0;e[3]=0;e[4]=0;_.browser[14]=e;e=Object.create(null);e[0]=new RegExp("(PingdomTMS)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="PingdomBot";e[2]=0;e[3]=0;e[4]=0;_.browser[15]=e;e=Object.create(null);e[0]=new RegExp("(NewRelicPinger)/(\\d+)\\.(\\d+)");e[1]="NewRelicPingerBot";e[2]=0;e[3]=0;e[4]=0;_.browser[16]=e;e=Object.create(null);e[0]=new RegExp("(\\(StatusCake\\))");e[1]="StatusCakeBot";e[2]=0;e[3]=0;e[4]=0;_.browser[17]=e;e=Object.create(null);e[0]=new RegExp("(facebookexternalhit)/(\\d+)\\.(\\d+)");e[1]="FacebookBot";e[2]=0;e[3]=0;e[4]=0;_.browser[18]=e;e=Object.create(null);e[0]=new RegExp("Google.*/\\+/web/snippet");e[1]="GooglePlusBot";e[2]=0;e[3]=0;e[4]=0;_.browser[19]=e;e=Object.create(null);e[0]=new RegExp("via ggpht.com GoogleImageProxy");e[1]="GmailImageProxy";e[2]=0;e[3]=0;e[4]=0;_.browser[20]=e;e=Object.create(null);e[0]=new RegExp("(Twitterbot)/(\\d+)\\.(\\d+)");e[1]="TwitterBot";e[2]=0;e[3]=0;e[4]=0;_.browser[21]=e;e=Object.create(null);e[0]=new RegExp("/((?:Ant-)?Nutch|[A-z]+[Bb]ot|[A-z]+[Ss]pider|Axtaris|fetchurl|Isara|ShopSalad|Tailsweep)[ \\-](\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[22]=e;e=Object.create(null);e[0]=new RegExp("\\b(008|Altresium|Argus|BaiduMobaider|BoardReader|DNSGroup|DataparkSearch|EDI|Goodzer|Grub|INGRID|Infohelfer|LinkedInBot|LOOQ|Nutch|PathDefender|Peew|PostPost|Steeler|Twitterbot|VSE|WebCrunch|WebZIP|Y!J-BR[A-Z]|YahooSeeker|envolk|sproose|wminer)/(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[23]=e;e=Object.create(null);e[0]=new RegExp("(MSIE) (\\d+)\\.(\\d+)([a-z]\\d?)?;.* MSIECrawler");e[1]="MSIECrawler";e[2]=0;e[3]=0;e[4]=0;_.browser[24]=e;e=Object.create(null);e[0]=new RegExp("(DAVdroid)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[25]=e;e=Object.create(null);e[0]=new RegExp("(Google-HTTP-Java-Client|Apache-HttpClient|http%20client|Python-urllib|HttpMonitor|TLSProber|WinHTTP|JNLP|okhttp)(?:[ /](\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[26]=e;e=Object.create(null);e[0]=new RegExp("(Pinterest(?:bot)?)/(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?[;\\s\\(]+\\+https://www.pinterest.com/bot.html");e[1]="Pinterestbot";e[2]=0;e[3]=0;e[4]=0;_.browser[27]=e;e=Object.create(null);e[0]=new RegExp("(1470\\.net crawler|50\\.nu|8bo Crawler Bot|Aboundex|Accoona-[A-z]+-Agent|AdsBot-Google(?:-[a-z]+)?|altavista|AppEngine-Google|archive.*?\\.org_bot|archiver|Ask Jeeves|[Bb]ai[Dd]u[Ss]pider(?:-[A-Za-z]+)*|bingbot|BingPreview|blitzbot|BlogBridge|Bloglovin|BoardReader(?: [A-Za-z]+)*|boitho.com-dc|BotSeer|\\b\\w*favicon\\w*\\b|\\bYeti(?:-[a-z]+)?|Catchpoint(?: bot)?|[Cc]harlotte|Checklinks|clumboot|Comodo HTTP\\(S\\) Crawler|Comodo-Webinspector-Crawler|ConveraCrawler|CRAWL-E|CrawlConvera|Daumoa(?:-feedfetcher)?|Feed Seeker Bot|Feedbin|findlinks|Flamingo_SearchEngine|FollowSite Bot|furlbot|Genieo|gigabot|GomezAgent|gonzo1|(?:[a-zA-Z]+-)?Googlebot(?:-[a-zA-Z]+)?|Google SketchUp|grub-client|gsa-crawler|heritrix|HiddenMarket|holmes|HooWWWer|htdig|ia_archiver|ICC-Crawler|Icarus6j|ichiro(?:/mobile)?|IconSurf|IlTrovatore(?:-Setaccio)?|InfuzApp|Innovazion Crawler|InternetArchive|IP2[a-z]+Bot|jbot\\b|KaloogaBot|Kraken|Kurzor|larbin|LEIA|LesnikBot|Linguee Bot|LinkAider|LinkedInBot|Lite Bot|Llaut|lycos|Mail\\.RU_Bot|masscan|masidani_bot|Mediapartners-Google|Microsoft .*? Bot|mogimogi|mozDex|MJ12bot|msnbot(?:-media *)?|msrbot|Mtps Feed Aggregation System|netresearch|Netvibes|NewsGator[^/]*|^NING|Nutch[^/]*|Nymesis|ObjectsSearch|Orbiter|OOZBOT|PagePeeker|PagesInventory|PaxleFramework|Peeplo Screenshot Bot|PlantyNet_WebRobot|Pompos|Qwantify|Read%20Later|Reaper|RedCarpet|Retreiver|Riddler|Rival IQ|scooter|Scrapy|Scrubby|searchsight|seekbot|semanticdiscovery|Simpy|SimplePie|SEOstats|SimpleRSS|SiteCon|Slackbot-LinkExpanding|Slack-ImgProxy|Slurp|snappy|Speedy Spider|Squrl Java|Stringer|TheUsefulbot|ThumbShotsBot|Thumbshots\\.ru|Tiny Tiny RSS|TwitterBot|WhatsApp|URL2PNG|Vagabondo|VoilaBot|^vortex|Votay bot|^voyager|WASALive.Bot|Web-sniffer|WebThumb|WeSEE:[A-z]+|WhatWeb|WIRE|WordPress|Wotbox|www\\.almaden\\.ibm\\.com|Xenu(?:.s)? Link Sleuth|Xerka [A-z]+Bot|yacy(?:bot)?|Yahoo[a-z]*Seeker|Yahoo! Slurp|Yandex\\w+|YodaoBot(?:-[A-z]+)?|YottaaMonitor|Yowedo|^Zao|^Zao-Crawler|ZeBot_www\\.ze\\.bz|ZooShot|ZyBorg)(?:[ /]v?(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[28]=e;e=Object.create(null);e[0]=new RegExp("(?:\\/[A-Za-z0-9\\.]+)? *([A-Za-z0-9 \\-_\\!\\[\\]:]*(?:[Aa]rchiver|[Ii]ndexer|[Ss]craper|[Bb]ot|[Ss]pider|[Cc]rawl[a-z]*))/(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[29]=e;e=Object.create(null);e[0]=new RegExp("(?:\\/[A-Za-z0-9\\.]+)? *([A-Za-z0-9 _\\!\\[\\]:]*(?:[Aa]rchiver|[Ii]ndexer|[Ss]craper|[Bb]ot|[Ss]pider|[Cc]rawl[a-z]*)) (\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[30]=e;e=Object.create(null);e[0]=new RegExp("((?:[A-z0-9]+|[A-z\\-]+ ?)?(?: the )?(?:[Ss][Pp][Ii][Dd][Ee][Rr]|[Ss]crape|[A-Za-z0-9-]*(?:[^C][^Uu])[Bb]ot|[Cc][Rr][Aa][Ww][Ll])[A-z0-9]*)(?:(?:[ /]| v)(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[31]=e;e=Object.create(null);e[0]=new RegExp("(HbbTV)/(\\d+)\\.(\\d+)\\.(\\d+) \\(");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[32]=e;e=Object.create(null);e[0]=new RegExp("(Chimera|SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[33]=e;e=Object.create(null);e[0]=new RegExp("\\[FB.*;(FBAV)/(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?");e[1]="Facebook";e[2]=0;e[3]=0;e[4]=0;_.browser[34]=e;e=Object.create(null);e[0]=new RegExp("\\[(Pinterest)/[^\\]]+\\]");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[35]=e;e=Object.create(null);e[0]=new RegExp("(Pinterest)(?: for Android(?: Tablet)?)?/(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[36]=e;e=Object.create(null);e[0]=new RegExp("(PaleMoon)/(\\d+)\\.(\\d+)\\.?(\\d+)?");e[1]="Pale Moon";e[2]=0;e[3]=0;e[4]=0;_.browser[37]=e;e=Object.create(null);e[0]=new RegExp("(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)");e[1]="Firefox Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[38]=e;e=Object.create(null);e[0]=new RegExp("(Fennec)/(\\d+)\\.(\\d+)(pre)");e[1]="Firefox Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[39]=e;e=Object.create(null);e[0]=new RegExp("(Fennec)/(\\d+)\\.(\\d+)");e[1]="Firefox Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[40]=e;e=Object.create(null);e[0]=new RegExp("(?:Mobile|Tablet);.*(Firefox)/(\\d+)\\.(\\d+)");e[1]="Firefox Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[41]=e;e=Object.create(null);e[0]=new RegExp("(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)");e[1]="Firefox ($1)";e[2]=0;e[3]=0;e[4]=0;_.browser[42]=e;e=Object.create(null);e[0]=new RegExp("(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)");e[1]="Firefox Alpha";e[2]=0;e[3]=0;e[4]=0;_.browser[43]=e;e=Object.create(null);e[0]=new RegExp("(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)");e[1]="Firefox Beta";e[2]=0;e[3]=0;e[4]=0;_.browser[44]=e;e=Object.create(null);e[0]=new RegExp("(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)");e[1]="Firefox Alpha";e[2]=0;e[3]=0;e[4]=0;_.browser[45]=e;e=Object.create(null);e[0]=new RegExp("(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)");e[1]="Firefox Beta";e[2]=0;e[3]=0;e[4]=0;_.browser[46]=e;e=Object.create(null);e[0]=new RegExp("(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?");e[1]="Firefox ($1)";e[2]=0;e[3]=0;e[4]=0;_.browser[47]=e;e=Object.create(null);e[0]=new RegExp("(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)");e[1]="MicroB";e[2]=0;e[3]=0;e[4]=0;_.browser[48]=e;e=Object.create(null);e[0]=new RegExp("(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[49]=e;e=Object.create(null);e[0]=new RegExp("(FxiOS)/(\\d+)\\.(\\d+)(\\.(\\d+))?(\\.(\\d+))?");e[1]="Firefox iOS";e[2]=0;e[3]=0;e[4]=0;_.browser[50]=e;e=Object.create(null);e[0]=new RegExp("(Flock)/(\\d+)\\.(\\d+)(b\\d+?)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[51]=e;e=Object.create(null);e[0]=new RegExp("(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[52]=e;e=Object.create(null);e[0]=new RegExp("(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Netscape";e[2]=0;e[3]=0;e[4]=0;_.browser[53]=e;e=Object.create(null);e[0]=new RegExp("(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)");e[1]="Netscape";e[2]=0;e[3]=0;e[4]=0;_.browser[54]=e;e=Object.create(null);e[0]=new RegExp("(Netscape6)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+)?");e[1]="Netscape";e[2]=0;e[3]=0;e[4]=0;_.browser[55]=e;e=Object.create(null);e[0]=new RegExp("(MyIBrow)/(\\d+)\\.(\\d+)");e[1]="My Internet Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[56]=e;e=Object.create(null);e[0]=new RegExp("(UC? ?Browser|UCWEB|U3)[ /]?(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="UC Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[57]=e;e=Object.create(null);e[0]=new RegExp("(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[58]=e;e=Object.create(null);e[0]=new RegExp("(Opera Mini)(?:/att)?/?(\\d+)?(?:\\.(\\d+))?(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[59]=e;e=Object.create(null);e[0]=new RegExp("(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)");e[1]="Opera Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[60]=e;e=Object.create(null);e[0]=new RegExp("(Opera)/(\\d+)\\.(\\d+).+Opera Mobi");e[1]="Opera Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[61]=e;e=Object.create(null);e[0]=new RegExp("Opera Mobi.+(Opera)(?:/|\\s+)(\\d+)\\.(\\d+)");e[1]="Opera Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[62]=e;e=Object.create(null);e[0]=new RegExp("Opera Mobi");e[1]="Opera Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[63]=e;e=Object.create(null);e[0]=new RegExp("(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[64]=e;e=Object.create(null);e[0]=new RegExp("(?:Mobile Safari).*(OPR)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Opera Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[65]=e;e=Object.create(null);e[0]=new RegExp("(?:Chrome).*(OPR)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Opera";e[2]=0;e[3]=0;e[4]=0;_.browser[66]=e;e=Object.create(null);e[0]=new RegExp("(Coast)/(\\d+).(\\d+).(\\d+)");e[1]="Opera Coast";e[2]=0;e[3]=0;e[4]=0;_.browser[67]=e;e=Object.create(null);e[0]=new RegExp("(OPiOS)/(\\d+).(\\d+).(\\d+)");e[1]="Opera Mini";e[2]=0;e[3]=0;e[4]=0;_.browser[68]=e;e=Object.create(null);e[0]=new RegExp("Chrome/.+( MMS)/(\\d+).(\\d+).(\\d+)");e[1]="Opera Neon";e[2]=0;e[3]=0;e[4]=0;_.browser[69]=e;e=Object.create(null);e[0]=new RegExp("(hpw|web)OS/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="webOS Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[70]=e;e=Object.create(null);e[0]=new RegExp("(luakit)");e[1]="LuaKit";e[2]=0;e[3]=0;e[4]=0;_.browser[71]=e;e=Object.create(null);e[0]=new RegExp("(Snowshoe)/(\\d+)\\.(\\d+).(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[72]=e;e=Object.create(null);e[0]=new RegExp("Gecko/\\d+ (Lightning)/(\\d+)\\.(\\d+)\\.?((?:[ab]?\\d+[a-z]*)|(?:\\d*))");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[73]=e;e=Object.create(null);e[0]=new RegExp("(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)");e[1]="Swiftfox";e[2]=0;e[3]=0;e[4]=0;_.browser[74]=e;e=Object.create(null);e[0]=new RegExp("(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)");e[1]="Swiftfox";e[2]=0;e[3]=0;e[4]=0;_.browser[75]=e;e=Object.create(null);e[0]=new RegExp("(rekonq)/(\\d+)\\.(\\d+)\\.?(\\d+)? Safari");e[1]="Rekonq";e[2]=0;e[3]=0;e[4]=0;_.browser[76]=e;e=Object.create(null);e[0]=new RegExp("rekonq");e[1]="Rekonq";e[2]=0;e[3]=0;e[4]=0;_.browser[77]=e;e=Object.create(null);e[0]=new RegExp("(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?");e[1]="Conkeror";e[2]=0;e[3]=0;e[4]=0;_.browser[78]=e;e=Object.create(null);e[0]=new RegExp("(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Konqueror";e[2]=0;e[3]=0;e[4]=0;_.browser[79]=e;e=Object.create(null);e[0]=new RegExp("(WeTab)-Browser");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[80]=e;e=Object.create(null);e[0]=new RegExp("(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Comodo Dragon";e[2]=0;e[3]=0;e[4]=0;_.browser[81]=e;e=Object.create(null);e[0]=new RegExp("(Symphony) (\\d+).(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[82]=e;e=Object.create(null);e[0]=new RegExp("PLAYSTATION 3.+WebKit");e[1]="NetFront NX";e[2]=0;e[3]=0;e[4]=0;_.browser[83]=e;e=Object.create(null);e[0]=new RegExp("PLAYSTATION 3");e[1]="NetFront";e[2]=0;e[3]=0;e[4]=0;_.browser[84]=e;e=Object.create(null);e[0]=new RegExp("(PlayStation Portable)");e[1]="NetFront";e[2]=0;e[3]=0;e[4]=0;_.browser[85]=e;e=Object.create(null);e[0]=new RegExp("(PlayStation Vita)");e[1]="NetFront NX";e[2]=0;e[3]=0;e[4]=0;_.browser[86]=e;e=Object.create(null);e[0]=new RegExp("AppleWebKit.+ (NX)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="NetFront NX";e[2]=0;e[3]=0;e[4]=0;_.browser[87]=e;e=Object.create(null);e[0]=new RegExp("(Nintendo 3DS)");e[1]="NetFront NX";e[2]=0;e[3]=0;e[4]=0;_.browser[88]=e;e=Object.create(null);e[0]=new RegExp("(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?");e[1]="Amazon Silk";e[2]=0;e[3]=0;e[4]=0;_.browser[89]=e;e=Object.create(null);e[0]=new RegExp("(Puffin)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[90]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone .*(Edge)/(\\d+)\\.(\\d+)");e[1]="Edge Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[91]=e;e=Object.create(null);e[0]=new RegExp("(SamsungBrowser)/(\\d+)\\.(\\d+)");e[1]="Samsung Internet";e[2]=0;e[3]=0;e[4]=0;_.browser[92]=e;e=Object.create(null);e[0]=new RegExp("(SznProhlizec)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="Seznam.cz";e[2]=0;e[3]=0;e[4]=0;_.browser[93]=e;e=Object.create(null);e[0]=new RegExp("(coc_coc_browser)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="Coc Coc";e[2]=0;e[3]=0;e[4]=0;_.browser[94]=e;e=Object.create(null);e[0]=new RegExp("(baidubrowser)[/\\s](\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?");e[1]="Baidu Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[95]=e;e=Object.create(null);e[0]=new RegExp("(FlyFlow)/(\\d+)\\.(\\d+)");e[1]="Baidu Explorer";e[2]=0;e[3]=0;e[4]=0;_.browser[96]=e;e=Object.create(null);e[0]=new RegExp("(MxBrowser)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="Maxthon";e[2]=0;e[3]=0;e[4]=0;_.browser[97]=e;e=Object.create(null);e[0]=new RegExp("(Crosswalk)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[98]=e;e=Object.create(null);e[0]=new RegExp("; wv\\).+(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Chrome Mobile WebView";e[2]=0;e[3]=0;e[4]=0;_.browser[99]=e;e=Object.create(null);e[0]=new RegExp("(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Chrome Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[100]=e;e=Object.create(null);e[0]=new RegExp("(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Chrome Mobile iOS";e[2]=0;e[3]=0;e[4]=0;_.browser[101]=e;e=Object.create(null);e[0]=new RegExp("(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile(?:[ /]|$)");e[1]="Chrome Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[102]=e;e=Object.create(null);e[0]=new RegExp(" Mobile .*(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Chrome Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[103]=e;e=Object.create(null);e[0]=new RegExp("(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Chrome Frame";e[2]=0;e[3]=0;e[4]=0;_.browser[104]=e;e=Object.create(null);e[0]=new RegExp("(SLP Browser)/(\\d+)\\.(\\d+)");e[1]="Tizen Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[105]=e;e=Object.create(null);e[0]=new RegExp("(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)");e[1]="Sogou Explorer";e[2]=0;e[3]=0;e[4]=0;_.browser[106]=e;e=Object.create(null);e[0]=new RegExp("(MQQBrowser/Mini)(?:(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?)?");e[1]="QQ Browser Mini";e[2]=0;e[3]=0;e[4]=0;_.browser[107]=e;e=Object.create(null);e[0]=new RegExp("(MQQBrowser)(?:/(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?)?");e[1]="QQ Browser Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[108]=e;e=Object.create(null);e[0]=new RegExp("(QQBrowser)(?:/(\\d+)(?:\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?)?");e[1]="QQ Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[109]=e;e=Object.create(null);e[0]=new RegExp("(Rackspace Monitoring)/(\\d+)\\.(\\d+)");e[1]="RackspaceBot";e[2]=0;e[3]=0;e[4]=0;_.browser[110]=e;e=Object.create(null);e[0]=new RegExp("(PyAMF)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[111]=e;e=Object.create(null);e[0]=new RegExp("(YaBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Yandex Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[112]=e;e=Object.create(null);e[0]=new RegExp("(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+).* MRCHROME");e[1]="Mail.ru Chromium Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[113]=e;e=Object.create(null);e[0]=new RegExp("(AOL) (\\d+)\\.(\\d+); AOLBuild (\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[114]=e;e=Object.create(null);e[0]=new RegExp("(PodCruncher|Downcast)[ /]?(\\d+)\\.?(\\d+)?\\.?(\\d+)?\\.?(\\d+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[115]=e;e=Object.create(null);e[0]=new RegExp(" (BoxNotes)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[116]=e;e=Object.create(null);e[0]=new RegExp("(Slack_SSB)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Slack Desktop Client";e[2]=0;e[3]=0;e[4]=0;_.browser[117]=e;e=Object.create(null);e[0]=new RegExp("(HipChat)/?(\\d+)?");e[1]="HipChat Desktop Client";e[2]=0;e[3]=0;e[4]=0;_.browser[118]=e;e=Object.create(null);e[0]=new RegExp("\\b(MobileIron|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Epiphany|Shiira|Sunrise|Spotify|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iris|UP\\.Browser|Bunjalloo|Google Earth|Raven for Mac|Openwave|MacOutlook|Electron)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[119]=e;e=Object.create(null);e[0]=new RegExp("Microsoft Office Outlook 12\\.\\d+\\.\\d+|MSOffice 12");e[1]="Outlook";e[2]="2007";e[3]=0;e[4]=0;_.browser[120]=e;e=Object.create(null);e[0]=new RegExp("Microsoft Outlook 14\\.\\d+\\.\\d+|MSOffice 14");e[1]="Outlook";e[2]="2010";e[3]=0;e[4]=0;_.browser[121]=e;e=Object.create(null);e[0]=new RegExp("Microsoft Outlook 15\\.\\d+\\.\\d+");e[1]="Outlook";e[2]="2013";e[3]=0;e[4]=0;_.browser[122]=e;e=Object.create(null);e[0]=new RegExp("Microsoft Outlook (?:Mail )?16\\.\\d+\\.\\d+");e[1]="Outlook";e[2]="2016";e[3]=0;e[4]=0;_.browser[123]=e;e=Object.create(null);e[0]=new RegExp("Outlook-Express\\/7\\.0.*");e[1]="Windows Live Mail";e[2]=0;e[3]=0;e[4]=0;_.browser[124]=e;e=Object.create(null);e[0]=new RegExp("(Airmail) (\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[125]=e;e=Object.create(null);e[0]=new RegExp("(Thunderbird)/(\\d+)\\.(\\d+)(?:\\.(\\d+(?:pre)?))?");e[1]="Thunderbird";e[2]=0;e[3]=0;e[4]=0;_.browser[126]=e;e=Object.create(null);e[0]=new RegExp("(Postbox)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Postbox";e[2]=0;e[3]=0;e[4]=0;_.browser[127]=e;e=Object.create(null);e[0]=new RegExp("(Barca(?:Pro)?)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="Barca";e[2]=0;e[3]=0;e[4]=0;_.browser[128]=e;e=Object.create(null);e[0]=new RegExp("(Lotus-Notes)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="Lotus Notes";e[2]=0;e[3]=0;e[4]=0;_.browser[129]=e;e=Object.create(null);e[0]=new RegExp("(Vivaldi)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[130]=e;e=Object.create(null);e[0]=new RegExp("(Edge)/(\\d+)(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[131]=e;e=Object.create(null);e[0]=new RegExp("(brave)/(\\d+)\\.(\\d+)\\.(\\d+) Chrome");e[1]="Brave";e[2]=0;e[3]=0;e[4]=0;_.browser[132]=e;e=Object.create(null);e[0]=new RegExp("(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)[\\d.]* Iron[^/]");e[1]="Iron";e[2]=0;e[3]=0;e[4]=0;_.browser[133]=e;e=Object.create(null);e[0]=new RegExp("\\b(Dolphin)(?: |HDCN/|/INT\\-)(\\d+)\\.(\\d+)\\.?(\\d+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[134]=e;e=Object.create(null);e[0]=new RegExp("(HeadlessChrome)(?:/(\\d+)\\.(\\d+)\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[135]=e;e=Object.create(null);e[0]=new RegExp("(Evolution)/(\\d+)\\.(\\d+)\\.(\\d+\\.\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[136]=e;e=Object.create(null);e[0]=new RegExp("(RCM CardDAV plugin)/(\\d+)\\.(\\d+)\\.(\\d+(?:-dev)?)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[137]=e;e=Object.create(null);e[0]=new RegExp("(bingbot|Bolt|AdobeAIR|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|iTunes|MacAppStore|NetNewsWire|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris|Abrowser|Planetweb|ICE Browser|mDolphin|qutebrowser|Otter|QupZilla|MailBar|kmail2|YahooMobileMail|ExchangeWebServices|ExchangeServicesClient|Dragon|Outlook-iOS-Android)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[138]=e;e=Object.create(null);e[0]=new RegExp("(Chromium|Chrome)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[139]=e;e=Object.create(null);e[0]=new RegExp("(IEMobile)[ /](\\d+)\\.(\\d+)");e[1]="IE Mobile";e[2]=0;e[3]=0;e[4]=0;_.browser[140]=e;e=Object.create(null);e[0]=new RegExp("(BacaBerita App)\\/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[141]=e;e=Object.create(null);e[0]=new RegExp("^(bPod|Pocket Casts|Player FM)$");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[142]=e;e=Object.create(null);e[0]=new RegExp("^(AlexaMediaPlayer|VLC)/(\\d+)\\.(\\d+)\\.([^.\\s]+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[143]=e;e=Object.create(null);e[0]=new RegExp("^(AntennaPod|WMPlayer|Zune|Podkicker|Radio|ExoPlayerDemo|Overcast|PocketTunes|NSPlayer|okhttp|DoggCatcher|QuickNews|QuickTime|Peapod|Podcasts|GoldenPod|VLC|Spotify|Miro|MediaGo|Juice|iPodder|gPodder|Banshee)/(\\d+)\\.(\\d+)\\.?(\\d+)?\\.?(\\d+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[144]=e;e=Object.create(null);e[0]=new RegExp("^(Peapod|Liferea)/([^.\\s]+)\\.([^.\\s]+)?\\.?([^.\\s]+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[145]=e;e=Object.create(null);e[0]=new RegExp("^(bPod|Player FM) BMID/(\\S+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[146]=e;e=Object.create(null);e[0]=new RegExp("^(Podcast ?Addict)/v(\\d+) ");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[147]=e;e=Object.create(null);e[0]=new RegExp("^(Podcast ?Addict) ");e[1]="PodcastAddict";e[2]=0;e[3]=0;e[4]=0;_.browser[148]=e;e=Object.create(null);e[0]=new RegExp("(Replay) AV");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[149]=e;e=Object.create(null);e[0]=new RegExp("(VOX) Music Player");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[150]=e;e=Object.create(null);e[0]=new RegExp("(CITA) RSS Aggregator/(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[151]=e;e=Object.create(null);e[0]=new RegExp("(Pocket Casts)$");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[152]=e;e=Object.create(null);e[0]=new RegExp("(Player FM)$");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[153]=e;e=Object.create(null);e[0]=new RegExp("(LG Player|Doppler|FancyMusic|MediaMonkey|Clementine) (\\d+)\\.(\\d+)\\.?([^.\\s]+)?\\.?([^.\\s]+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[154]=e;e=Object.create(null);e[0]=new RegExp("(philpodder)/(\\d+)\\.(\\d+)\\.?([^.\\s]+)?\\.?([^.\\s]+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[155]=e;e=Object.create(null);e[0]=new RegExp("(Player FM|Pocket Casts|DoggCatcher|Spotify|MediaMonkey|MediaGo|BashPodder)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[156]=e;e=Object.create(null);e[0]=new RegExp("(QuickTime)\\.(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[157]=e;e=Object.create(null);e[0]=new RegExp("(Kinoma)(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[158]=e;e=Object.create(null);e[0]=new RegExp("(Fancy) Cloud Music (\\d+)\\.(\\d+)");e[1]="FancyMusic";e[2]=0;e[3]=0;e[4]=0;_.browser[159]=e;e=Object.create(null);e[0]=new RegExp("EspnDownloadManager");e[1]="ESPN";e[2]=0;e[3]=0;e[4]=0;_.browser[160]=e;e=Object.create(null);e[0]=new RegExp("(ESPN) Radio (\\d+)\\.(\\d+)\\.?(\\d+)? ?[rv:]?(\\d+)? ");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[161]=e;e=Object.create(null);e[0]=new RegExp("(podracer|jPodder) v ?(\\d+)\\.(\\d+)\\.?(\\d+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[162]=e;e=Object.create(null);e[0]=new RegExp("(ZDM)/(\\d+)\\.(\\d+)[; ]?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[163]=e;e=Object.create(null);e[0]=new RegExp("(Zune|BeyondPod) (\\d+)\\.?(\\d+)?[\\);]");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[164]=e;e=Object.create(null);e[0]=new RegExp("(WMPlayer)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[165]=e;e=Object.create(null);e[0]=new RegExp("^(Lavf)");e[1]="WMPlayer";e[2]=0;e[3]=0;e[4]=0;_.browser[166]=e;e=Object.create(null);e[0]=new RegExp("^(RSSRadio)[ /]?(\\d+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[167]=e;e=Object.create(null);e[0]=new RegExp("(RSS_Radio) (\\d+)\\.(\\d+)");e[1]="RSSRadio";e[2]=0;e[3]=0;e[4]=0;_.browser[168]=e;e=Object.create(null);e[0]=new RegExp("(Podkicker) \\S+/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Podkicker";e[2]=0;e[3]=0;e[4]=0;_.browser[169]=e;e=Object.create(null);e[0]=new RegExp("^(HTC) Streaming Player \\S+ / \\S+ / \\S+ / (\\d+)\\.(\\d+)\\.?(\\d+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[170]=e;e=Object.create(null);e[0]=new RegExp("^(Stitcher)/iOS");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[171]=e;e=Object.create(null);e[0]=new RegExp("^(Stitcher)/Android");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[172]=e;e=Object.create(null);e[0]=new RegExp("^(VLC) .*version (\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[173]=e;e=Object.create(null);e[0]=new RegExp(" (VLC) for");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[174]=e;e=Object.create(null);e[0]=new RegExp("(vlc)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="VLC";e[2]=0;e[3]=0;e[4]=0;_.browser[175]=e;e=Object.create(null);e[0]=new RegExp("^(foobar)\\S+/([^.\\s]+)\\.([^.\\s]+)?\\.?([^.\\s]+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[176]=e;e=Object.create(null);e[0]=new RegExp("^(Clementine)\\S+ ([^.\\s]+)\\.([^.\\s]+)?\\.?([^.\\s]+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[177]=e;e=Object.create(null);e[0]=new RegExp("(amarok)/([^.\\s]+)\\.([^.\\s]+)?\\.?([^.\\s]+)?");e[1]="Amarok";e[2]=0;e[3]=0;e[4]=0;_.browser[178]=e;e=Object.create(null);e[0]=new RegExp("(Custom)-Feed Reader");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[179]=e;e=Object.create(null);e[0]=new RegExp("(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[180]=e;e=Object.create(null);e[0]=new RegExp("(iCab|Lunascape|Opera|Android|Jasmine|Polaris|Microsoft SkyDriveSync|The Bat!) (\\d+)\\.(\\d+)\\.?(\\d+)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[181]=e;e=Object.create(null);e[0]=new RegExp("(Kindle)/(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[182]=e;e=Object.create(null);e[0]=new RegExp("(Android) Donut");e[1]=0;e[2]="1";e[3]="2";e[4]=0;_.browser[183]=e;e=Object.create(null);e[0]=new RegExp("(Android) Eclair");e[1]=0;e[2]="2";e[3]="1";e[4]=0;_.browser[184]=e;e=Object.create(null);e[0]=new RegExp("(Android) Froyo");e[1]=0;e[2]="2";e[3]="2";e[4]=0;_.browser[185]=e;e=Object.create(null);e[0]=new RegExp("(Android) Gingerbread");e[1]=0;e[2]="2";e[3]="3";e[4]=0;_.browser[186]=e;e=Object.create(null);e[0]=new RegExp("(Android) Honeycomb");e[1]=0;e[2]="3";e[3]=0;e[4]=0;_.browser[187]=e;e=Object.create(null);e[0]=new RegExp("(MSIE) (\\d+)\\.(\\d+).*XBLWP7");e[1]="IE Large Screen";e[2]=0;e[3]=0;e[4]=0;_.browser[188]=e;e=Object.create(null);e[0]=new RegExp("(Nextcloud)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[189]=e;e=Object.create(null);e[0]=new RegExp("(mirall)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[190]=e;e=Object.create(null);e[0]=new RegExp("(ownCloud-android)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Owncloud";e[2]=0;e[3]=0;e[4]=0;_.browser[191]=e;e=Object.create(null);e[0]=new RegExp("(Obigo)InternetBrowser");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[192]=e;e=Object.create(null);e[0]=new RegExp("(Obigo)\\-Browser");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[193]=e;e=Object.create(null);e[0]=new RegExp("(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?");e[1]="Obigo";e[2]=0;e[3]=0;e[4]=0;_.browser[194]=e;e=Object.create(null);e[0]=new RegExp("(MAXTHON|Maxthon) (\\d+)\\.(\\d+)");e[1]="Maxthon";e[2]=0;e[3]=0;e[4]=0;_.browser[195]=e;e=Object.create(null);e[0]=new RegExp("(Maxthon|MyIE2|Uzbl|Shiira)");e[1]=0;e[2]="0";e[3]=0;e[4]=0;_.browser[196]=e;e=Object.create(null);e[0]=new RegExp("(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[197]=e;e=Object.create(null);e[0]=new RegExp("(NCSA_Mosaic)/(\\d+)\\.(\\d+)");e[1]="NCSA Mosaic";e[2]=0;e[3]=0;e[4]=0;_.browser[198]=e;e=Object.create(null);e[0]=new RegExp("(POLARIS)/(\\d+)\\.(\\d+)");e[1]="Polaris";e[2]=0;e[3]=0;e[4]=0;_.browser[199]=e;e=Object.create(null);e[0]=new RegExp("(Embider)/(\\d+)\\.(\\d+)");e[1]="Polaris";e[2]=0;e[3]=0;e[4]=0;_.browser[200]=e;e=Object.create(null);e[0]=new RegExp("(BonEcho)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+)?");e[1]="Bon Echo";e[2]=0;e[3]=0;e[4]=0;_.browser[201]=e;e=Object.create(null);e[0]=new RegExp("(iPod|iPhone|iPad).+Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*[ +]Safari");e[1]="Mobile Safari";e[2]=0;e[3]=0;e[4]=0;_.browser[202]=e;e=Object.create(null);e[0]=new RegExp("(iPod|iPod touch|iPhone|iPad);.*CPU.*OS[ +](\\d+)_(\\d+)(?:_(\\d+))?.* AppleNews\\/\\d+\\.\\d+\\.\\d+?");e[1]="Mobile Safari UI/WKWebView";e[2]=0;e[3]=0;e[4]=0;_.browser[203]=e;e=Object.create(null);e[0]=new RegExp("(iPod|iPhone|iPad).+Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="Mobile Safari UI/WKWebView";e[2]=0;e[3]=0;e[4]=0;_.browser[204]=e;e=Object.create(null);e[0]=new RegExp("(iPod|iPod touch|iPhone|iPad);.*CPU.*OS[ +](\\d+)_(\\d+)(?:_(\\d+))?.*Mobile.*[ +]Safari");e[1]="Mobile Safari";e[2]=0;e[3]=0;e[4]=0;_.browser[205]=e;e=Object.create(null);e[0]=new RegExp("(iPod|iPod touch|iPhone|iPad);.*CPU.*OS[ +](\\d+)_(\\d+)(?:_(\\d+))?.*Mobile");e[1]="Mobile Safari UI/WKWebView";e[2]=0;e[3]=0;e[4]=0;_.browser[206]=e;e=Object.create(null);e[0]=new RegExp("(iPod|iPhone|iPad).* Safari");e[1]="Mobile Safari";e[2]=0;e[3]=0;e[4]=0;_.browser[207]=e;e=Object.create(null);e[0]=new RegExp("(iPod|iPhone|iPad)");e[1]="Mobile Safari UI/WKWebView";e[2]=0;e[3]=0;e[4]=0;_.browser[208]=e;e=Object.create(null);e[0]=new RegExp("(AvantGo) (\\d+).(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[209]=e;e=Object.create(null);e[0]=new RegExp("(OneBrowser)/(\\d+).(\\d+)");e[1]="ONE Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[210]=e;e=Object.create(null);e[0]=new RegExp("(Avant)");e[1]=0;e[2]="1";e[3]=0;e[4]=0;_.browser[211]=e;e=Object.create(null);e[0]=new RegExp("(QtCarBrowser)");e[1]=0;e[2]="1";e[3]=0;e[4]=0;_.browser[212]=e;e=Object.create(null);e[0]=new RegExp("^(iBrowser/Mini)(\\d+).(\\d+)");e[1]="iBrowser Mini";e[2]=0;e[3]=0;e[4]=0;_.browser[213]=e;e=Object.create(null);e[0]=new RegExp("^(iBrowser|iRAPP)/(\\d+).(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[214]=e;e=Object.create(null);e[0]=new RegExp("^(Nokia)");e[1]="Nokia Services (WAP) Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[215]=e;e=Object.create(null);e[0]=new RegExp("(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)");e[1]="Nokia Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[216]=e;e=Object.create(null);e[0]=new RegExp("(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)");e[1]="Nokia Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[217]=e;e=Object.create(null);e[0]=new RegExp("(NokiaBrowser)/(\\d+)\\.(\\d+)");e[1]="Nokia Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[218]=e;e=Object.create(null);e[0]=new RegExp("(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)");e[1]="Nokia Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[219]=e;e=Object.create(null);e[0]=new RegExp("(Series60)/5\\.0");e[1]="Nokia Browser";e[2]="7";e[3]="0";e[4]=0;_.browser[220]=e;e=Object.create(null);e[0]=new RegExp("(Series60)/(\\d+)\\.(\\d+)");e[1]="Nokia OSS Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[221]=e;e=Object.create(null);e[0]=new RegExp("(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Ovi Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[222]=e;e=Object.create(null);e[0]=new RegExp("(Nokia)[EN]?(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[223]=e;e=Object.create(null);e[0]=new RegExp("(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)");e[1]="BlackBerry WebKit";e[2]=0;e[3]=0;e[4]=0;_.browser[224]=e;e=Object.create(null);e[0]=new RegExp("(Black[bB]erry|BB10).+Version/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="BlackBerry WebKit";e[2]=0;e[3]=0;e[4]=0;_.browser[225]=e;e=Object.create(null);e[0]=new RegExp("(Black[bB]erry)\\s?(\\d+)");e[1]="BlackBerry";e[2]=0;e[3]=0;e[4]=0;_.browser[226]=e;e=Object.create(null);e[0]=new RegExp("(OmniWeb)/v(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[227]=e;e=Object.create(null);e[0]=new RegExp("(Blazer)/(\\d+)\\.(\\d+)");e[1]="Palm Blazer";e[2]=0;e[3]=0;e[4]=0;_.browser[228]=e;e=Object.create(null);e[0]=new RegExp("(Pre)/(\\d+)\\.(\\d+)");e[1]="Palm Pre";e[2]=0;e[3]=0;e[4]=0;_.browser[229]=e;e=Object.create(null);e[0]=new RegExp("(ELinks)/(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[230]=e;e=Object.create(null);e[0]=new RegExp("(ELinks) \\((\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[231]=e;e=Object.create(null);e[0]=new RegExp("(Links) \\((\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[232]=e;e=Object.create(null);e[0]=new RegExp("(QtWeb) Internet Browser/(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[233]=e;e=Object.create(null);e[0]=new RegExp("(PhantomJS)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[234]=e;e=Object.create(null);e[0]=new RegExp("(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Safari");e[1]="WebKit Nightly";e[2]=0;e[3]=0;e[4]=0;_.browser[235]=e;e=Object.create(null);e[0]=new RegExp("(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/");e[1]="Safari";e[2]=0;e[3]=0;e[4]=0;_.browser[236]=e;e=Object.create(null);e[0]=new RegExp("(Safari)/\\d+");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[237]=e;e=Object.create(null);e[0]=new RegExp("(OLPC)/Update(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[238]=e;e=Object.create(null);e[0]=new RegExp("(OLPC)/Update()\\.(\\d+)");e[1]=0;e[2]="0";e[3]=0;e[4]=0;_.browser[239]=e;e=Object.create(null);e[0]=new RegExp("(SEMC\\-Browser)/(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[240]=e;e=Object.create(null);e[0]=new RegExp("(Teleca)");e[1]="Teleca Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[241]=e;e=Object.create(null);e[0]=new RegExp("(Phantom)/V(\\d+)\\.(\\d+)");e[1]="Phantom Browser";e[2]=0;e[3]=0;e[4]=0;_.browser[242]=e;e=Object.create(null);e[0]=new RegExp("(Trident)/(7)\\.(0)");e[1]="IE";e[2]="11";e[3]=0;e[4]=0;_.browser[243]=e;e=Object.create(null);e[0]=new RegExp("(Trident)/(6)\\.(0)");e[1]="IE";e[2]="10";e[3]=0;e[4]=0;_.browser[244]=e;e=Object.create(null);e[0]=new RegExp("(Trident)/(5)\\.(0)");e[1]="IE";e[2]="9";e[3]=0;e[4]=0;_.browser[245]=e;e=Object.create(null);e[0]=new RegExp("(Trident)/(4)\\.(0)");e[1]="IE";e[2]="8";e[3]=0;e[4]=0;_.browser[246]=e;e=Object.create(null);e[0]=new RegExp("(Espial)/(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[247]=e;e=Object.create(null);e[0]=new RegExp("(AppleWebKit)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Apple Mail";e[2]=0;e[3]=0;e[4]=0;_.browser[248]=e;e=Object.create(null);e[0]=new RegExp("(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[249]=e;e=Object.create(null);e[0]=new RegExp("(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[250]=e;e=Object.create(null);e[0]=new RegExp("([MS]?IE) (\\d+)\\.(\\d+)");e[1]="IE";e[2]=0;e[3]=0;e[4]=0;_.browser[251]=e;e=Object.create(null);e[0]=new RegExp("(python-requests)/(\\d+)\\.(\\d+)");e[1]="Python Requests";e[2]=0;e[3]=0;e[4]=0;_.browser[252]=e;e=Object.create(null);e[0]=new RegExp("\\b(Windows-Update-Agent|Microsoft-CryptoAPI|SophosUpdateManager|SophosAgent|Debian APT-HTTP|Ubuntu APT-HTTP|libcurl-agent|libwww-perl|urlgrabber|curl|Wget|OpenBSD ftp|jupdate)(?:[ /](\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[253]=e;e=Object.create(null);e[0]=new RegExp("(Java)[/ ]{0,1}\\d+\\.(\\d+)\\.(\\d+)[_-]*([a-zA-Z0-9]+)*");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[254]=e;e=Object.create(null);e[0]=new RegExp("^(Roku)/DVP-(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[255]=e;e=Object.create(null);e[0]=new RegExp("(Kurio)\\/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Kurio App";e[2]=0;e[3]=0;e[4]=0;_.browser[256]=e;e=Object.create(null);e[0]=new RegExp("^(Box(?: Sync)?)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[257]=e;e=Object.create(null);e[0]=new RegExp("(Wget)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.browser[258]=e;e=Object.create(null);e[0]=new RegExp("(curl)/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="cURL";e[2]=0;e[3]=0;e[4]=0;_.browser[259]=e;_.browser.length=260;_.device=Object.create(null);e=Object.create(null);e[0]=new RegExp("(Rival IQ, rivaliq.com)");e[1]="Spider";e[2]=0;e[3]=0;e[4]=0;_.device[0]=e;e=Object.create(null);e[0]=new RegExp("(?:(?:iPhone|Windows CE|Windows Phone|Android).*(?:(?:Bot|Yeti)-Mobile|YRSpider|BingPreview|bots?/\\d|(?:bot|spider)\\.html)|AdsBot-Google-Mobile.*iPhone)");e[1]="Spider";e[2]=0;e[3]=0;e[4]=0;_.device[1]=e;e=Object.create(null);e[0]=new RegExp("(?:DoCoMo|\\bMOT\\b|\\bLG\\b|Nokia|Samsung|SonyEricsson).*(?:(?:Bot|Yeti)-Mobile|bots?/\\d|(?:bot|crawler)\\.html|(?:jump|google|Wukong)bot|ichiro/mobile|/spider|YahooSeeker)");e[1]="Spider";e[2]=0;e[3]=0;e[4]=0;_.device[2]=e;e=Object.create(null);e[0]=new RegExp("\\bSmartWatch *\\( *([^;]+) *; *([^;]+) *;");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[3]=e;e=Object.create(null);e[0]=new RegExp("Android Application[^\\-]+ - (Sony) ?(Ericsson)? (.+) \\w+ - ");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[4]=e;e=Object.create(null);e[0]=new RegExp("Android Application[^\\-]+ - (?:HTC|HUAWEI|LGE|LENOVO|MEDION|TCT) (HTC|HUAWEI|LG|LENOVO|MEDION|ALCATEL)[ _\\-](.+) \\w+ - ");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[5]=e;e=Object.create(null);e[0]=new RegExp("Android Application[^\\-]+ - ([^ ]+) (.+) \\w+ - ");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[6]=e;e=Object.create(null);e[0]=new RegExp("; *([BLRQ]C\\d{4}[A-Z]+) +Build/");e[1]="3Q $1";e[2]=0;e[3]=0;e[4]=0;_.device[7]=e;e=Object.create(null);e[0]=new RegExp("; *(?:3Q_)([^;/]+) +Build");e[1]="3Q $1";e[2]=0;e[3]=0;e[4]=0;_.device[8]=e;e=Object.create(null);e[0]=new RegExp("Android [34].*; *(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700(?: Lite| 3G)?|A701|B1-A71|A1-\\d{3}|B1-\\d{3}|V360|V370|W500|W500P|W501|W501P|W510|W511|W700|Slider SL101|DA22[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[9]=e;e=Object.create(null);e[0]=new RegExp("; *Acer Iconia Tab ([^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[10]=e;e=Object.create(null);e[0]=new RegExp("; *(Z1[1235]0|E320[^/]*|S500|S510|Liquid[^;/]*|Iconia A\\d+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[11]=e;e=Object.create(null);e[0]=new RegExp("; *(Acer |ACER )([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[12]=e;e=Object.create(null);e[0]=new RegExp("; *(Advent )?(Vega(?:Bean|Comb)?).* Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[13]=e;e=Object.create(null);e[0]=new RegExp("; *(Ainol )?((?:NOVO|[Nn]ovo)[^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[14]=e;e=Object.create(null);e[0]=new RegExp("; *AIRIS[ _\\-]?([^/;\\)]+) *(?:;|\\)|Build)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[15]=e;e=Object.create(null);e[0]=new RegExp("; *(OnePAD[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[16]=e;e=Object.create(null);e[0]=new RegExp("; *Airpad[ \\-]([^;/]+) Build");e[1]="Airpad $1";e[2]=0;e[3]=0;e[4]=0;_.device[17]=e;e=Object.create(null);e[0]=new RegExp("; *(one ?touch) (EVO7|T10|T20) Build");e[1]="Alcatel One Touch $2";e[2]=0;e[3]=0;e[4]=0;_.device[18]=e;e=Object.create(null);e[0]=new RegExp("; *(?:alcatel[ _])?(?:(?:one[ _]?touch[ _])|ot[ \\-])([^;/]+);? Build");e[1]="Alcatel One Touch $1";e[2]=0;e[3]=0;e[4]=0;_.device[19]=e;e=Object.create(null);e[0]=new RegExp("; *(TCL)[ _]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[20]=e;e=Object.create(null);e[0]=new RegExp("; *(Vodafone Smart II|Optimus_Madrid) Build");e[1]="Alcatel $1";e[2]=0;e[3]=0;e[4]=0;_.device[21]=e;e=Object.create(null);e[0]=new RegExp("; *BASE_Lutea_3 Build");e[1]="Alcatel One Touch 998";e[2]=0;e[3]=0;e[4]=0;_.device[22]=e;e=Object.create(null);e[0]=new RegExp("; *BASE_Varia Build");e[1]="Alcatel One Touch 918D";e[2]=0;e[3]=0;e[4]=0;_.device[23]=e;e=Object.create(null);e[0]=new RegExp("; *((?:FINE|Fine)\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[24]=e;e=Object.create(null);e[0]=new RegExp("; *(ALLVIEW[ _]?|Allview[ _]?)((?:Speed|SPEED).*) Build/");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[25]=e;e=Object.create(null);e[0]=new RegExp("; *(ALLVIEW[ _]?|Allview[ _]?)?(AX1_Shine|AX2_Frenzy) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[26]=e;e=Object.create(null);e[0]=new RegExp("; *(ALLVIEW[ _]?|Allview[ _]?)([^;/]*) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[27]=e;e=Object.create(null);e[0]=new RegExp("; *(A13-MID) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[28]=e;e=Object.create(null);e[0]=new RegExp("; *(Allwinner)[ _\\-]?([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[29]=e;e=Object.create(null);e[0]=new RegExp("; *(A651|A701B?|A702|A703|A705|A706|A707|A711|A712|A713|A717|A722|A785|A801|A802|A803|A901|A902|A1002|A1003|A1006|A1007|A9701|A9703|Q710|Q80) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[30]=e;e=Object.create(null);e[0]=new RegExp("; *(?:AMOI|Amoi)[ _]([^;/]+) Build");e[1]="Amoi $1";e[2]=0;e[3]=0;e[4]=0;_.device[31]=e;e=Object.create(null);e[0]=new RegExp("^(?:AMOI|Amoi)[ _]([^;/]+) Linux");e[1]="Amoi $1";e[2]=0;e[3]=0;e[4]=0;_.device[32]=e;e=Object.create(null);e[0]=new RegExp("; *(MW(?:0[789]|10)[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[33]=e;e=Object.create(null);e[0]=new RegExp("; *(G7|M1013|M1015G|M11[CG]?|M-?12[B]?|M15|M19[G]?|M30[ACQ]?|M31[GQ]|M32|M33[GQ]|M36|M37|M38|M701T|M710|M712B|M713|M715G|M716G|M71(?:G|GS|T)?|M72[T]?|M73[T]?|M75[GT]?|M77G|M79T|M7L|M7LN|M81|M810|M81T|M82|M92|M92KS|M92S|M717G|M721|M722G|M723|M725G|M739|M785|M791|M92SK|M93D) Build");e[1]="Aoson $1";e[2]=0;e[3]=0;e[4]=0;_.device[34]=e;e=Object.create(null);e[0]=new RegExp("; *Aoson ([^;/]+) Build");e[1]="Aoson $1";e[2]=0;e[3]=0;e[4]=0;_.device[35]=e;e=Object.create(null);e[0]=new RegExp("; *[Aa]panda[ _\\-]([^;/]+) Build");e[1]="Apanda $1";e[2]=0;e[3]=0;e[4]=0;_.device[36]=e;e=Object.create(null);e[0]=new RegExp("; *(?:ARCHOS|Archos) ?(GAMEPAD.*?)(?: Build|[;/\\(\\)\\-])");e[1]="Archos $1";e[2]=0;e[3]=0;e[4]=0;_.device[37]=e;e=Object.create(null);e[0]=new RegExp("ARCHOS; GOGI; ([^;]+);");e[1]="Archos $1";e[2]=0;e[3]=0;e[4]=0;_.device[38]=e;e=Object.create(null);e[0]=new RegExp("(?:ARCHOS|Archos)[ _]?(.*?)(?: Build|[;/\\(\\)\\-]|$)");e[1]="Archos $1";e[2]=0;e[3]=0;e[4]=0;_.device[39]=e;e=Object.create(null);e[0]=new RegExp("; *(AN(?:7|8|9|10|13)[A-Z0-9]{1,4}) Build");e[1]="Archos $1";e[2]=0;e[3]=0;e[4]=0;_.device[40]=e;e=Object.create(null);e[0]=new RegExp("; *(A28|A32|A43|A70(?:BHT|CHT|HB|S|X)|A101(?:B|C|IT)|A7EB|A7EB-WK|101G9|80G9) Build");e[1]="Archos $1";e[2]=0;e[3]=0;e[4]=0;_.device[41]=e;e=Object.create(null);e[0]=new RegExp("; *(PAD-FMD[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[42]=e;e=Object.create(null);e[0]=new RegExp("; *(BioniQ) ?([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[43]=e;e=Object.create(null);e[0]=new RegExp("; *(AN\\d[^;/]+|ARCHM\\d+) Build");e[1]="Arnova $1";e[2]=0;e[3]=0;e[4]=0;_.device[44]=e;e=Object.create(null);e[0]=new RegExp("; *(?:ARNOVA|Arnova) ?([^;/]+) Build");e[1]="Arnova $1";e[2]=0;e[3]=0;e[4]=0;_.device[45]=e;e=Object.create(null);e[0]=new RegExp("; *(?:ASSISTANT )?(AP)-?([1789]\\d{2}[A-Z]{0,2}|80104) Build");e[1]="Assistant $1-$2";e[2]=0;e[3]=0;e[4]=0;_.device[46]=e;e=Object.create(null);e[0]=new RegExp("; *(ME17\\d[^;/]*|ME3\\d{2}[^;/]+|K00[A-Z]|Nexus 10|Nexus 7(?: 2013)?|PadFone[^;/]*|Transformer[^;/]*|TF\\d{3}[^;/]*|eeepc) Build");e[1]="Asus $1";e[2]=0;e[3]=0;e[4]=0;_.device[47]=e;e=Object.create(null);e[0]=new RegExp("; *ASUS[ _]*([^;/]+) Build");e[1]="Asus $1";e[2]=0;e[3]=0;e[4]=0;_.device[48]=e;e=Object.create(null);e[0]=new RegExp("; *Garmin-Asus ([^;/]+) Build");e[1]="Garmin-Asus $1";e[2]=0;e[3]=0;e[4]=0;_.device[49]=e;e=Object.create(null);e[0]=new RegExp("; *(Garminfone) Build");e[1]="Garmin $1";e[2]=0;e[3]=0;e[4]=0;_.device[50]=e;e=Object.create(null);e[0]=new RegExp("; (@TAB-[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[51]=e;e=Object.create(null);e[0]=new RegExp("; *(T-(?:07|[^0]\\d)[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[52]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Axioo[ _\\-]([^;/]+)|(picopad)[ _\\-]([^;/]+)) Build");e[1]="Axioo $1$2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[53]=e;e=Object.create(null);e[0]=new RegExp("; *(V(?:100|700|800)[^;/]*) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[54]=e;e=Object.create(null);e[0]=new RegExp("; *(IBAK\\-[^;/]*) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[55]=e;e=Object.create(null);e[0]=new RegExp("; *(HY5001|HY6501|X12|X21|I5) Build");e[1]="Bedove $1";e[2]=0;e[3]=0;e[4]=0;_.device[56]=e;e=Object.create(null);e[0]=new RegExp("; *(JC-[^;/]*) Build");e[1]="Benss $1";e[2]=0;e[3]=0;e[4]=0;_.device[57]=e;e=Object.create(null);e[0]=new RegExp("; *(BB) ([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[58]=e;e=Object.create(null);e[0]=new RegExp("; *(BlackBird)[ _](I8.*) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[59]=e;e=Object.create(null);e[0]=new RegExp("; *(BlackBird)[ _](.*) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[60]=e;e=Object.create(null);e[0]=new RegExp("; *([0-9]+BP[EM][^;/]*|Endeavour[^;/]+) Build");e[1]="Blaupunkt $1";e[2]=0;e[3]=0;e[4]=0;_.device[61]=e;e=Object.create(null);e[0]=new RegExp("; *((?:BLU|Blu)[ _\\-])([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[62]=e;e=Object.create(null);e[0]=new RegExp("; *(?:BMOBILE )?(Blu|BLU|DASH [^;/]+|VIVO 4\\.3|TANK 4\\.5) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[63]=e;e=Object.create(null);e[0]=new RegExp("; *(TOUCH\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[64]=e;e=Object.create(null);e[0]=new RegExp("; *(AX5\\d+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[65]=e;e=Object.create(null);e[0]=new RegExp("; *([Bb]q) ([^;/]+);? Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[66]=e;e=Object.create(null);e[0]=new RegExp("; *(Maxwell [^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[67]=e;e=Object.create(null);e[0]=new RegExp("; *((?:B-Tab|B-TAB) ?\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[68]=e;e=Object.create(null);e[0]=new RegExp("; *(Broncho) ([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[69]=e;e=Object.create(null);e[0]=new RegExp("; *CAPTIVA ([^;/]+) Build");e[1]="Captiva $1";e[2]=0;e[3]=0;e[4]=0;_.device[70]=e;e=Object.create(null);e[0]=new RegExp("; *(C771|CAL21|IS11CA) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[71]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Cat|CAT) ([^;/]+) Build");e[1]="Cat $1";e[2]=0;e[3]=0;e[4]=0;_.device[72]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Cat)(Nova.*) Build");e[1]="Cat $1";e[2]=0;e[3]=0;e[4]=0;_.device[73]=e;e=Object.create(null);e[0]=new RegExp("; *(INM8002KP|ADM8000KP_[AB]) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[74]=e;e=Object.create(null);e[0]=new RegExp("; *(?:[Cc]elkon[ _\\*]|CELKON[ _\\*])([^;/\\)]+) ?(?:Build|;|\\))");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[75]=e;e=Object.create(null);e[0]=new RegExp("Build/(?:[Cc]elkon)+_?([^;/_\\)]+)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[76]=e;e=Object.create(null);e[0]=new RegExp("; *(CT)-?(\\d+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[77]=e;e=Object.create(null);e[0]=new RegExp("; *(A19|A19Q|A105|A107[^;/\\)]*) ?(?:Build|;|\\))");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[78]=e;e=Object.create(null);e[0]=new RegExp("; *(TPC[0-9]{4,5}) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[79]=e;e=Object.create(null);e[0]=new RegExp("; *(Cloudfone)[ _](Excite)([^ ][^;/]+) Build");e[1]="$1 $2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[80]=e;e=Object.create(null);e[0]=new RegExp("; *(Excite|ICE)[ _](\\d+[^;/]+) Build");e[1]="Cloudfone $1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[81]=e;e=Object.create(null);e[0]=new RegExp("; *(Cloudfone|CloudPad)[ _]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[82]=e;e=Object.create(null);e[0]=new RegExp("; *((?:Aquila|Clanga|Rapax)[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[83]=e;e=Object.create(null);e[0]=new RegExp("; *(?:CFW-|Kyros )?(MID[0-9]{4}(?:[ABC]|SR|TV)?)(\\(3G\\)-4G| GB 8K| 3G| 8K| GB)? *(?:Build|[;\\)])");e[1]="CobyKyros $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[84]=e;e=Object.create(null);e[0]=new RegExp("; *([^;/]*)Coolpad[ _]([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[85]=e;e=Object.create(null);e[0]=new RegExp("; *(CUBE[ _])?([KU][0-9]+ ?GT.*|A5300) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[86]=e;e=Object.create(null);e[0]=new RegExp("; *CUBOT ([^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[87]=e;e=Object.create(null);e[0]=new RegExp("; *(BOBBY) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[88]=e;e=Object.create(null);e[0]=new RegExp("; *(Dslide [^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[89]=e;e=Object.create(null);e[0]=new RegExp("; *(XCD)[ _]?(28|35) Build");e[1]="Dell $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[90]=e;e=Object.create(null);e[0]=new RegExp("; *(001DL) Build");e[1]="Dell $1";e[2]=0;e[3]=0;e[4]=0;_.device[91]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Dell|DELL) (Streak) Build");e[1]="Dell $1";e[2]=0;e[3]=0;e[4]=0;_.device[92]=e;e=Object.create(null);e[0]=new RegExp("; *(101DL|GS01|Streak Pro[^;/]*) Build");e[1]="Dell $1";e[2]=0;e[3]=0;e[4]=0;_.device[93]=e;e=Object.create(null);e[0]=new RegExp("; *([Ss]treak ?7) Build");e[1]="Dell $1";e[2]=0;e[3]=0;e[4]=0;_.device[94]=e;e=Object.create(null);e[0]=new RegExp("; *(Mini-3iX) Build");e[1]="Dell $1";e[2]=0;e[3]=0;e[4]=0;_.device[95]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Dell|DELL)[ _](Aero|Venue|Thunder|Mini.*|Streak[ _]Pro) Build");e[1]="Dell $1";e[2]=0;e[3]=0;e[4]=0;_.device[96]=e;e=Object.create(null);e[0]=new RegExp("; *Dell[ _]([^;/]+) Build");e[1]="Dell $1";e[2]=0;e[3]=0;e[4]=0;_.device[97]=e;e=Object.create(null);e[0]=new RegExp("; *Dell ([^;/]+) Build");e[1]="Dell $1";e[2]=0;e[3]=0;e[4]=0;_.device[98]=e;e=Object.create(null);e[0]=new RegExp("; *(TA[CD]-\\d+[^;/]*) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[99]=e;e=Object.create(null);e[0]=new RegExp("; *(iP[789]\\d{2}(?:-3G)?|IP10\\d{2}(?:-8GB)?) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[100]=e;e=Object.create(null);e[0]=new RegExp("; *(AirTab)[ _\\-]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[101]=e;e=Object.create(null);e[0]=new RegExp("; *(F\\-\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[102]=e;e=Object.create(null);e[0]=new RegExp("; *(HT-03A) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[103]=e;e=Object.create(null);e[0]=new RegExp("; *(HT\\-\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[104]=e;e=Object.create(null);e[0]=new RegExp("; *(L\\-\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[105]=e;e=Object.create(null);e[0]=new RegExp("; *(N\\-\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[106]=e;e=Object.create(null);e[0]=new RegExp("; *(P\\-\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[107]=e;e=Object.create(null);e[0]=new RegExp("; *(SC\\-\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[108]=e;e=Object.create(null);e[0]=new RegExp("; *(SH\\-\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[109]=e;e=Object.create(null);e[0]=new RegExp("; *(SO\\-\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[110]=e;e=Object.create(null);e[0]=new RegExp("; *(T\\-0[12][^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[111]=e;e=Object.create(null);e[0]=new RegExp("; *(DOOV)[ _]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[112]=e;e=Object.create(null);e[0]=new RegExp("; *(Enot|ENOT)[ -]?([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[113]=e;e=Object.create(null);e[0]=new RegExp("; *[^;/]+ Build/(?:CROSS|Cross)+[ _\\-]([^\\)]+)");e[1]="CROSS $1";e[2]=0;e[3]=0;e[4]=0;_.device[114]=e;e=Object.create(null);e[0]=new RegExp("; *(CROSS|Cross)[ _\\-]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[115]=e;e=Object.create(null);e[0]=new RegExp("; *Explay[_ ](.+?)(?:[\\)]| Build)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[116]=e;e=Object.create(null);e[0]=new RegExp("; *(IQ.*) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[117]=e;e=Object.create(null);e[0]=new RegExp("; *(Fly|FLY)[ _](IQ[^;]+|F[34]\\d+[^;]*);? Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[118]=e;e=Object.create(null);e[0]=new RegExp("; *(M532|Q572|FJL21) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[119]=e;e=Object.create(null);e[0]=new RegExp("; *(G1) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[120]=e;e=Object.create(null);e[0]=new RegExp("; *(Geeksphone) ([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[121]=e;e=Object.create(null);e[0]=new RegExp("; *(G[^F]?FIVE) ([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[122]=e;e=Object.create(null);e[0]=new RegExp("; *(Gionee)[ _\\-]([^;/]+)(?:/[^;/]+)? Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[123]=e;e=Object.create(null);e[0]=new RegExp("; *(GN\\d+[A-Z]?|INFINITY_PASSION|Ctrl_V1) Build");e[1]="Gionee $1";e[2]=0;e[3]=0;e[4]=0;_.device[124]=e;e=Object.create(null);e[0]=new RegExp("; *(E3) Build/JOP40D");e[1]="Gionee $1";e[2]=0;e[3]=0;e[4]=0;_.device[125]=e;e=Object.create(null);e[0]=new RegExp("\\sGIONEE[-\\s_](\\w*)");e[1]="Gionee $1";e[2]=0;e[3]=0;e[4]=0;_.device[126]=e;e=Object.create(null);e[0]=new RegExp("; *((?:FONE|QUANTUM|INSIGNIA) \\d+[^;/]*|PLAYTAB) Build");e[1]="GoClever $1";e[2]=0;e[3]=0;e[4]=0;_.device[127]=e;e=Object.create(null);e[0]=new RegExp("; *GOCLEVER ([^;/]+) Build");e[1]="GoClever $1";e[2]=0;e[3]=0;e[4]=0;_.device[128]=e;e=Object.create(null);e[0]=new RegExp("; *(Glass \\d+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[129]=e;e=Object.create(null);e[0]=new RegExp("; *(Pixel \\w+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[130]=e;e=Object.create(null);e[0]=new RegExp("; *(GSmart)[ -]([^/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[131]=e;e=Object.create(null);e[0]=new RegExp("; *(imx5[13]_[^/]+) Build");e[1]="Freescale $1";e[2]=0;e[3]=0;e[4]=0;_.device[132]=e;e=Object.create(null);e[0]=new RegExp("; *Haier[ _\\-]([^/]+) Build");e[1]="Haier $1";e[2]=0;e[3]=0;e[4]=0;_.device[133]=e;e=Object.create(null);e[0]=new RegExp("; *(PAD1016) Build");e[1]="Haipad $1";e[2]=0;e[3]=0;e[4]=0;_.device[134]=e;e=Object.create(null);e[0]=new RegExp("; *(M701|M7|M8|M9) Build");e[1]="Haipad $1";e[2]=0;e[3]=0;e[4]=0;_.device[135]=e;e=Object.create(null);e[0]=new RegExp("; *(SN\\d+T[^;\\)/]*)(?: Build|[;\\)])");e[1]="Hannspree $1";e[2]=0;e[3]=0;e[4]=0;_.device[136]=e;e=Object.create(null);e[0]=new RegExp("Build/HCL ME Tablet ([^;\\)]+)[\\);]");e[1]="HCLme $1";e[2]=0;e[3]=0;e[4]=0;_.device[137]=e;e=Object.create(null);e[0]=new RegExp("; *([^;\\/]+) Build/HCL");e[1]="HCLme $1";e[2]=0;e[3]=0;e[4]=0;_.device[138]=e;e=Object.create(null);e[0]=new RegExp("; *(MID-?\\d{4}C[EM]) Build");e[1]="Hena $1";e[2]=0;e[3]=0;e[4]=0;_.device[139]=e;e=Object.create(null);e[0]=new RegExp("; *(EG\\d{2,}|HS-[^;/]+|MIRA[^;/]+) Build");e[1]="Hisense $1";e[2]=0;e[3]=0;e[4]=0;_.device[140]=e;e=Object.create(null);e[0]=new RegExp("; *(andromax[^;/]+) Build");e[1]="Hisense $1";e[2]=0;e[3]=0;e[4]=0;_.device[141]=e;e=Object.create(null);e[0]=new RegExp("; *(?:AMAZE[ _](S\\d+)|(S\\d+)[ _]AMAZE) Build");e[1]="AMAZE $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[142]=e;e=Object.create(null);e[0]=new RegExp("; *(PlayBook) Build");e[1]="HP $1";e[2]=0;e[3]=0;e[4]=0;_.device[143]=e;e=Object.create(null);e[0]=new RegExp("; *HP ([^/]+) Build");e[1]="HP $1";e[2]=0;e[3]=0;e[4]=0;_.device[144]=e;e=Object.create(null);e[0]=new RegExp("; *([^/]+_tenderloin) Build");e[1]="HP TouchPad";e[2]=0;e[3]=0;e[4]=0;_.device[145]=e;e=Object.create(null);e[0]=new RegExp("; *(HUAWEI |Huawei-)?([UY][^;/]+) Build/(?:Huawei|HUAWEI)([UY][^\\);]+)\\)");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[146]=e;e=Object.create(null);e[0]=new RegExp("; *([^;/]+) Build[/ ]Huawei(MT1-U06|[A-Z]+\\d+[^\\);]+)[^\\);]*\\)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[147]=e;e=Object.create(null);e[0]=new RegExp("; *(S7|M860) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[148]=e;e=Object.create(null);e[0]=new RegExp("; *((?:HUAWEI|Huawei)[ \\-]?)(MediaPad) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[149]=e;e=Object.create(null);e[0]=new RegExp("; *((?:HUAWEI[ _]?|Huawei[ _])?Ascend[ _])([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[150]=e;e=Object.create(null);e[0]=new RegExp("; *((?:HUAWEI|Huawei)[ _\\-]?)((?:G700-|MT-)[^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[151]=e;e=Object.create(null);e[0]=new RegExp("; *((?:HUAWEI|Huawei)[ _\\-]?)([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[152]=e;e=Object.create(null);e[0]=new RegExp("; *(MediaPad[^;]+|SpringBoard) Build/Huawei");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[153]=e;e=Object.create(null);e[0]=new RegExp("; *([^;]+) Build/(?:Huawei|HUAWEI)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[154]=e;e=Object.create(null);e[0]=new RegExp("; *([Uu])([89]\\d{3}) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[155]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Ideos |IDEOS )(S7) Build");e[1]="Huawei Ideos$1";e[2]=0;e[3]=0;e[4]=0;_.device[156]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Ideos |IDEOS )([^;/]+\\s*|\\s*)Build");e[1]="Huawei Ideos$1";e[2]=0;e[3]=0;e[4]=0;_.device[157]=e;e=Object.create(null);e[0]=new RegExp("; *(Orange Daytona|Pulse|Pulse Mini|Vodafone 858|C8500|C8600|C8650|C8660|Nexus 6P|ATH-.+?) Build[/ ]");e[1]="Huawei $1";e[2]=0;e[3]=0;e[4]=0;_.device[158]=e;e=Object.create(null);e[0]=new RegExp("; *HTC[ _]([^;]+); Windows Phone");e[1]="HTC $1";e[2]=0;e[3]=0;e[4]=0;_.device[159]=e;e=Object.create(null);e[0]=new RegExp("; *(?:HTC[ _/])+([^ _/]+)(?:[/\\\\]1\\.0 | V|/| +)\\d+\\.\\d[\\d\\.]*(?: *Build|\\))");e[1]="HTC $1";e[2]=0;e[3]=0;e[4]=0;_.device[160]=e;e=Object.create(null);e[0]=new RegExp("; *(?:HTC[ _/])+([^ _/]+)(?:[ _/]([^ _/]+))?(?:[/\\\\]1\\.0 | V|/| +)\\d+\\.\\d[\\d\\.]*(?: *Build|\\))");e[1]="HTC $1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[161]=e;e=Object.create(null);e[0]=new RegExp("; *(?:HTC[ _/])+([^ _/]+)(?:[ _/]([^ _/]+)(?:[ _/]([^ _/]+))?)?(?:[/\\\\]1\\.0 | V|/| +)\\d+\\.\\d[\\d\\.]*(?: *Build|\\))");e[1]="HTC $1 $2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[162]=e;e=Object.create(null);e[0]=new RegExp("; *(?:HTC[ _/])+([^ _/]+)(?:[ _/]([^ _/]+)(?:[ _/]([^ _/]+)(?:[ _/]([^ _/]+))?)?)?(?:[/\\\\]1\\.0 | V|/| +)\\d+\\.\\d[\\d\\.]*(?: *Build|\\))");e[1]="HTC $1 $2 $3 $4";e[2]=0;e[3]=0;e[4]=0;_.device[163]=e;e=Object.create(null);e[0]=new RegExp("; *(?:(?:HTC|htc)(?:_blocked)*[ _/])+([^ _/;]+)(?: *Build|[;\\)]| - )");e[1]="HTC $1";e[2]=0;e[3]=0;e[4]=0;_.device[164]=e;e=Object.create(null);e[0]=new RegExp("; *(?:(?:HTC|htc)(?:_blocked)*[ _/])+([^ _/]+)(?:[ _/]([^ _/;\\)]+))?(?: *Build|[;\\)]| - )");e[1]="HTC $1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[165]=e;e=Object.create(null);e[0]=new RegExp("; *(?:(?:HTC|htc)(?:_blocked)*[ _/])+([^ _/]+)(?:[ _/]([^ _/]+)(?:[ _/]([^ _/;\\)]+))?)?(?: *Build|[;\\)]| - )");e[1]="HTC $1 $2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[166]=e;e=Object.create(null);e[0]=new RegExp("; *(?:(?:HTC|htc)(?:_blocked)*[ _/])+([^ _/]+)(?:[ _/]([^ _/]+)(?:[ _/]([^ _/]+)(?:[ _/]([^ /;]+))?)?)?(?: *Build|[;\\)]| - )");e[1]="HTC $1 $2 $3 $4";e[2]=0;e[3]=0;e[4]=0;_.device[167]=e;e=Object.create(null);e[0]=new RegExp("HTC Streaming Player [^\\/]*/[^\\/]*/ htc_([^/]+) /");e[1]="HTC $1";e[2]=0;e[3]=0;e[4]=0;_.device[168]=e;e=Object.create(null);e[0]=new RegExp("(?:[;,] *|^)(?:htccn_chs-)?HTC[ _-]?([^;]+?)(?: *Build|clay|Android|-?Mozilla| Opera| Profile| UNTRUSTED|[;/\\(\\)]|$)");e[1]="HTC $1";e[2]=0;e[3]=0;e[4]=0;_.device[169]=e;e=Object.create(null);e[0]=new RegExp("; *(A6277|ADR6200|ADR6300|ADR6350|ADR6400[A-Z]*|ADR6425[A-Z]*|APX515CKT|ARIA|Desire[^_ ]*|Dream|EndeavorU|Eris|Evo|Flyer|HD2|Hero|HERO200|Hero CDMA|HTL21|Incredible|Inspire[A-Z0-9]*|Legend|Liberty|Nexus ?(?:One|HD2)|One|One S C2|One[ _]?(?:S|V|X\\+?)\\w*|PC36100|PG06100|PG86100|S31HT|Sensation|Wildfire)(?: Build|[/;\\(\\)])");e[1]="HTC $1";e[2]=0;e[3]=0;e[4]=0;_.device[170]=e;e=Object.create(null);e[0]=new RegExp("; *(ADR6200|ADR6400L|ADR6425LVW|Amaze|DesireS?|EndeavorU|Eris|EVO|Evo\\d[A-Z]+|HD2|IncredibleS?|Inspire[A-Z0-9]*|Inspire[A-Z0-9]*|Sensation[A-Z0-9]*|Wildfire)[ _-](.+?)(?:[/;\\)]|Build|MIUI|1\\.0)");e[1]="HTC $1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[171]=e;e=Object.create(null);e[0]=new RegExp("; *HYUNDAI (T\\d[^/]*) Build");e[1]="Hyundai $1";e[2]=0;e[3]=0;e[4]=0;_.device[172]=e;e=Object.create(null);e[0]=new RegExp("; *HYUNDAI ([^;/]+) Build");e[1]="Hyundai $1";e[2]=0;e[3]=0;e[4]=0;_.device[173]=e;e=Object.create(null);e[0]=new RegExp("; *(X700|Hold X|MB-6900) Build");e[1]="Hyundai $1";e[2]=0;e[3]=0;e[4]=0;_.device[174]=e;e=Object.create(null);e[0]=new RegExp("; *(?:iBall[ _\\-])?(Andi)[ _]?(\\d[^;/]*) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[175]=e;e=Object.create(null);e[0]=new RegExp("; *(IBall)(?:[ _]([^;/]+)|) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[176]=e;e=Object.create(null);e[0]=new RegExp("; *(NT-\\d+[^ ;/]*|Net[Tt]AB [^;/]+|Mercury [A-Z]+|iconBIT)(?: S/N:[^;/]+)? Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[177]=e;e=Object.create(null);e[0]=new RegExp("; *(IMO)[ _]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[178]=e;e=Object.create(null);e[0]=new RegExp("; *i-?mobile[ _]([^/]+) Build/");e[1]="i-mobile $1";e[2]=0;e[3]=0;e[4]=0;_.device[179]=e;e=Object.create(null);e[0]=new RegExp("; *(i-(?:style|note)[^/]*) Build/");e[1]="i-mobile $1";e[2]=0;e[3]=0;e[4]=0;_.device[180]=e;e=Object.create(null);e[0]=new RegExp("; *(ImPAD) ?(\\d+(?:.)*) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[181]=e;e=Object.create(null);e[0]=new RegExp("; *(Infinix)[ _]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[182]=e;e=Object.create(null);e[0]=new RegExp("; *(Informer)[ \\-]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[183]=e;e=Object.create(null);e[0]=new RegExp("; *(TAB) ?([78][12]4) Build");e[1]="Intenso $1";e[2]=0;e[3]=0;e[4]=0;_.device[184]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Intex[ _])?(AQUA|Aqua)([ _\\.\\-])([^;/]+) *(?:Build|;)");e[1]="$1$2$3";e[2]=0;e[3]=0;e[4]=0;_.device[185]=e;e=Object.create(null);e[0]=new RegExp("; *(?:INTEX|Intex)(?:[_ ]([^\\ _;/]+))(?:[_ ]([^\\ _;/]+))? *(?:Build|;)");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[186]=e;e=Object.create(null);e[0]=new RegExp("; *([iI]Buddy)[ _]?(Connect)(?:_|\\?_| )?([^;/]*) *(?:Build|;)");e[1]="$1 $2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[187]=e;e=Object.create(null);e[0]=new RegExp("; *(I-Buddy)[ _]([^;/]+) *(?:Build|;)");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[188]=e;e=Object.create(null);e[0]=new RegExp("; *(iOCEAN) ([^/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[189]=e;e=Object.create(null);e[0]=new RegExp("; *(TP\\d+(?:\\.\\d+)?\\-\\d[^;/]+) Build");e[1]="ionik $1";e[2]=0;e[3]=0;e[4]=0;_.device[190]=e;e=Object.create(null);e[0]=new RegExp("; *(M702pro) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[191]=e;e=Object.create(null);e[0]=new RegExp("; *(DE88Plus|MD70) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[192]=e;e=Object.create(null);e[0]=new RegExp("; *IVIO[_\\-]([^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[193]=e;e=Object.create(null);e[0]=new RegExp("; *(TPC-\\d+|JAY-TECH) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[194]=e;e=Object.create(null);e[0]=new RegExp("; *(JY-[^;/]+|G[234]S?) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[195]=e;e=Object.create(null);e[0]=new RegExp("; *(JXD)[ _\\-]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[196]=e;e=Object.create(null);e[0]=new RegExp("; *Karbonn[ _]?([^;/]+) *(?:Build|;)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[197]=e;e=Object.create(null);e[0]=new RegExp("; *([^;]+) Build/Karbonn");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[198]=e;e=Object.create(null);e[0]=new RegExp("; *(A11|A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2|Titanium S\\d) +Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[199]=e;e=Object.create(null);e[0]=new RegExp("; *(IS01|IS03|IS05|IS\\d{2}SH) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[200]=e;e=Object.create(null);e[0]=new RegExp("; *(IS04) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[201]=e;e=Object.create(null);e[0]=new RegExp("; *(IS06|IS\\d{2}PT) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[202]=e;e=Object.create(null);e[0]=new RegExp("; *(IS11S) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[203]=e;e=Object.create(null);e[0]=new RegExp("; *(IS11CA) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[204]=e;e=Object.create(null);e[0]=new RegExp("; *(IS11LG) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[205]=e;e=Object.create(null);e[0]=new RegExp("; *(IS11N) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[206]=e;e=Object.create(null);e[0]=new RegExp("; *(IS11PT) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[207]=e;e=Object.create(null);e[0]=new RegExp("; *(IS12F) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[208]=e;e=Object.create(null);e[0]=new RegExp("; *(IS12M) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[209]=e;e=Object.create(null);e[0]=new RegExp("; *(IS12S) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[210]=e;e=Object.create(null);e[0]=new RegExp("; *(ISW11F) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[211]=e;e=Object.create(null);e[0]=new RegExp("; *(ISW11HT) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[212]=e;e=Object.create(null);e[0]=new RegExp("; *(ISW11K) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[213]=e;e=Object.create(null);e[0]=new RegExp("; *(ISW11M) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[214]=e;e=Object.create(null);e[0]=new RegExp("; *(ISW11SC) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[215]=e;e=Object.create(null);e[0]=new RegExp("; *(ISW12HT) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[216]=e;e=Object.create(null);e[0]=new RegExp("; *(ISW13HT) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[217]=e;e=Object.create(null);e[0]=new RegExp("; *(ISW?[0-9]{2}[A-Z]{0,2}) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[218]=e;e=Object.create(null);e[0]=new RegExp("; *(INFOBAR [^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[219]=e;e=Object.create(null);e[0]=new RegExp("; *(JOYPAD|Joypad)[ _]([^;/]+) Build/");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[220]=e;e=Object.create(null);e[0]=new RegExp("; *(Vox|VOX|Arc|K080) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[221]=e;e=Object.create(null);e[0]=new RegExp("\\b(Kobo Touch)\\b");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[222]=e;e=Object.create(null);e[0]=new RegExp("; *(K-Touch)[ _]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[223]=e;e=Object.create(null);e[0]=new RegExp("; *((?:EV|KM)-S\\d+[A-Z]?) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[224]=e;e=Object.create(null);e[0]=new RegExp("; *(Zio|Hydro|Torque|Event|EVENT|Echo|Milano|Rise|URBANO PROGRESSO|WX04K|WX06K|WX10K|KYL21|101K|C5[12]\\d{2}) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[225]=e;e=Object.create(null);e[0]=new RegExp("; *(?:LAVA[ _])?IRIS[ _\\-]?([^/;\\)]+) *(?:;|\\)|Build)");e[1]="Iris $1";e[2]=0;e[3]=0;e[4]=0;_.device[226]=e;e=Object.create(null);e[0]=new RegExp("; *LAVA[ _]([^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[227]=e;e=Object.create(null);e[0]=new RegExp("; *(?:(Aspire A1)|(?:LEMON|Lemon)[ _]([^;/]+))_? Build");e[1]="Lemon $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[228]=e;e=Object.create(null);e[0]=new RegExp("; *(TAB-1012) Build/");e[1]="Lenco $1";e[2]=0;e[3]=0;e[4]=0;_.device[229]=e;e=Object.create(null);e[0]=new RegExp("; Lenco ([^;/]+) Build/");e[1]="Lenco $1";e[2]=0;e[3]=0;e[4]=0;_.device[230]=e;e=Object.create(null);e[0]=new RegExp("; *(A1_07|A2107A-H|S2005A-H|S1-37AH0) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[231]=e;e=Object.create(null);e[0]=new RegExp("; *(Idea[Tp]ab)[ _]([^;/]+);? Build");e[1]="Lenovo $1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[232]=e;e=Object.create(null);e[0]=new RegExp("; *(Idea(?:Tab|pad)) ?([^;/]+) Build");e[1]="Lenovo $1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[233]=e;e=Object.create(null);e[0]=new RegExp("; *(ThinkPad) ?(Tablet) Build/");e[1]="Lenovo $1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[234]=e;e=Object.create(null);e[0]=new RegExp("; *(?:LNV-)?(?:=?[Ll]enovo[ _\\-]?|LENOVO[ _])+(.+?)(?:Build|[;/\\)])");e[1]="Lenovo $1";e[2]=0;e[3]=0;e[4]=0;_.device[235]=e;e=Object.create(null);e[0]=new RegExp("[;,] (?:Vodafone )?(SmartTab) ?(II) ?(\\d+) Build/");e[1]="Lenovo $1 $2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[236]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Ideapad )?K1 Build/");e[1]="Lenovo Ideapad K1";e[2]=0;e[3]=0;e[4]=0;_.device[237]=e;e=Object.create(null);e[0]=new RegExp("; *(3GC101|3GW10[01]|A390) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[238]=e;e=Object.create(null);e[0]=new RegExp("\\b(?:Lenovo|LENOVO)+[ _\\-]?([^,;:/ ]+)");e[1]="Lenovo $1";e[2]=0;e[3]=0;e[4]=0;_.device[239]=e;e=Object.create(null);e[0]=new RegExp("; *(MFC\\d+)[A-Z]{2}([^;,/]*),? Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[240]=e;e=Object.create(null);e[0]=new RegExp("; *(E[34][0-9]{2}|LS[6-8][0-9]{2}|VS[6-9][0-9]+[^;/]+|Nexus 4|Nexus 5X?|GT540f?|Optimus (?:2X|G|4X HD)|OptimusX4HD) *(?:Build|;)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[241]=e;e=Object.create(null);e[0]=new RegExp("[;:] *(L-\\d+[A-Z]|LGL\\d+[A-Z]?)(?:/V\\d+)? *(?:Build|[;\\)])");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[242]=e;e=Object.create(null);e[0]=new RegExp("; *(LG-)([A-Z]{1,2}\\d{2,}[^,;/\\)\\(]*?)(?:Build| V\\d+|[,;/\\)\\(]|$)");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[243]=e;e=Object.create(null);e[0]=new RegExp("; *(LG[ \\-]|LG)([^;/]+)[;/]? Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[244]=e;e=Object.create(null);e[0]=new RegExp("^(LG)-([^;/]+)/ Mozilla/.*; Android");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[245]=e;e=Object.create(null);e[0]=new RegExp("(Web0S); Linux/(SmartTV)");e[1]="LG $1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[246]=e;e=Object.create(null);e[0]=new RegExp("; *((?:SMB|smb)[^;/]+) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[247]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Malata|MALATA) ([^;/]+) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[248]=e;e=Object.create(null);e[0]=new RegExp("; *(MS[45][0-9]{3}|MID0[568][NS]?|MID[1-9]|MID[78]0[1-9]|MID970[1-9]|MID100[1-9]) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[249]=e;e=Object.create(null);e[0]=new RegExp("; *(M1052|M806|M9000|M9100|M9701|MID100|MID120|MID125|MID130|MID135|MID140|MID701|MID710|MID713|MID727|MID728|MID731|MID732|MID733|MID735|MID736|MID737|MID760|MID800|MID810|MID820|MID830|MID833|MID835|MID860|MID900|MID930|MID933|MID960|MID980) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[250]=e;e=Object.create(null);e[0]=new RegExp("; *(GenxDroid7|MSD7.*|AX\\d.*|Tab 701|Tab 722) Build/");e[1]="Maxx $1";e[2]=0;e[3]=0;e[4]=0;_.device[251]=e;e=Object.create(null);e[0]=new RegExp("; *(M-PP[^;/]+|PhonePad ?\\d{2,}[^;/]+) Build");e[1]="Mediacom $1";e[2]=0;e[3]=0;e[4]=0;_.device[252]=e;e=Object.create(null);e[0]=new RegExp("; *(M-MP[^;/]+|SmartPad ?\\d{2,}[^;/]+) Build");e[1]="Mediacom $1";e[2]=0;e[3]=0;e[4]=0;_.device[253]=e;e=Object.create(null);e[0]=new RegExp("; *(?:MD_)?LIFETAB[ _]([^;/]+) Build");e[1]="Medion Lifetab $1";e[2]=0;e[3]=0;e[4]=0;_.device[254]=e;e=Object.create(null);e[0]=new RegExp("; *MEDION ([^;/]+) Build");e[1]="Medion $1";e[2]=0;e[3]=0;e[4]=0;_.device[255]=e;e=Object.create(null);e[0]=new RegExp("; *(M030|M031|M035|M040|M065|m9) Build");e[1]="Meizu $1";e[2]=0;e[3]=0;e[4]=0;_.device[256]=e;e=Object.create(null);e[0]=new RegExp("; *(?:meizu_|MEIZU )(.+?) *(?:Build|[;\\)])");e[1]="Meizu $1";e[2]=0;e[3]=0;e[4]=0;_.device[257]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Micromax[ _](A111|A240)|(A111|A240)) Build");e[1]="Micromax $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[258]=e;e=Object.create(null);e[0]=new RegExp("; *Micromax[ _](A\\d{2,3}[^;/]*) Build");e[1]="Micromax $1";e[2]=0;e[3]=0;e[4]=0;_.device[259]=e;e=Object.create(null);e[0]=new RegExp("; *(A\\d{2}|A[12]\\d{2}|A90S|A110Q) Build");e[1]="Micromax $1";e[2]=0;e[3]=0;e[4]=0;_.device[260]=e;e=Object.create(null);e[0]=new RegExp("; *Micromax[ _](P\\d{3}[^;/]*) Build");e[1]="Micromax $1";e[2]=0;e[3]=0;e[4]=0;_.device[261]=e;e=Object.create(null);e[0]=new RegExp("; *(P\\d{3}|P\\d{3}\\(Funbook\\)) Build");e[1]="Micromax $1";e[2]=0;e[3]=0;e[4]=0;_.device[262]=e;e=Object.create(null);e[0]=new RegExp("; *(MITO)[ _\\-]?([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[263]=e;e=Object.create(null);e[0]=new RegExp("; *(Cynus)[ _](F5|T\\d|.+?) *(?:Build|[;/\\)])");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[264]=e;e=Object.create(null);e[0]=new RegExp("; *(MODECOM )?(FreeTab) ?([^;/]+) Build");e[1]="$1$2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[265]=e;e=Object.create(null);e[0]=new RegExp("; *(MODECOM )([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[266]=e;e=Object.create(null);e[0]=new RegExp("; *(MZ\\d{3}\\+?|MZ\\d{3} 4G|Xoom|XOOM[^;/]*) Build");e[1]="Motorola $1";e[2]=0;e[3]=0;e[4]=0;_.device[267]=e;e=Object.create(null);e[0]=new RegExp("; *(Milestone )(XT[^;/]*) Build");e[1]="Motorola $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[268]=e;e=Object.create(null);e[0]=new RegExp("; *(Motoroi ?x|Droid X|DROIDX) Build");e[1]="Motorola $1";e[2]=0;e[3]=0;e[4]=0;_.device[269]=e;e=Object.create(null);e[0]=new RegExp("; *(Droid[^;/]*|DROID[^;/]*|Milestone[^;/]*|Photon|Triumph|Devour|Titanium) Build");e[1]="Motorola $1";e[2]=0;e[3]=0;e[4]=0;_.device[270]=e;e=Object.create(null);e[0]=new RegExp("; *(A555|A85[34][^;/]*|A95[356]|ME[58]\\d{2}\\+?|ME600|ME632|ME722|MB\\d{3}\\+?|MT680|MT710|MT870|MT887|MT917|WX435|WX453|WX44[25]|XT\\d{3,4}[A-Z\\+]*|CL[iI]Q|CL[iI]Q XT) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[271]=e;e=Object.create(null);e[0]=new RegExp("; *(Motorola MOT-|Motorola[ _\\-]|MOT\\-?)([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[272]=e;e=Object.create(null);e[0]=new RegExp("; *(Moto[_ ]?|MOT\\-)([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[273]=e;e=Object.create(null);e[0]=new RegExp("; *((?:MP[DQ]C|MPG\\d{1,4}|MP\\d{3,4}|MID(?:(?:10[234]|114|43|7[247]|8[24]|7)C|8[01]1))[^;/]*) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[274]=e;e=Object.create(null);e[0]=new RegExp("; *(?:MSI[ _])?(Primo\\d+|Enjoy[ _\\-][^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[275]=e;e=Object.create(null);e[0]=new RegExp("; *Multilaser[ _]([^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[276]=e;e=Object.create(null);e[0]=new RegExp("; *(My)[_]?(Pad)[ _]([^;/]+) Build");e[1]="$1$2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[277]=e;e=Object.create(null);e[0]=new RegExp("; *(My)\\|?(Phone)[ _]([^;/]+) Build");e[1]="$1$2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[278]=e;e=Object.create(null);e[0]=new RegExp("; *(A\\d+)[ _](Duo)? Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[279]=e;e=Object.create(null);e[0]=new RegExp("; *(myTab[^;/]*) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[280]=e;e=Object.create(null);e[0]=new RegExp("; *(NABI2?-)([^;/]+) Build/");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[281]=e;e=Object.create(null);e[0]=new RegExp("; *(N-\\d+[CDE]) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[282]=e;e=Object.create(null);e[0]=new RegExp("; ?(NEC-)(.*) Build/");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[283]=e;e=Object.create(null);e[0]=new RegExp("; *(LT-NA7) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[284]=e;e=Object.create(null);e[0]=new RegExp("; *(NXM\\d+[A-z0-9_]*|Next\\d[A-z0-9_ \\-]*|NEXT\\d[A-z0-9_ \\-]*|Nextbook [A-z0-9_ ]*|DATAM803HC|M805)(?: Build|[\\);])");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[285]=e;e=Object.create(null);e[0]=new RegExp("; *(Nokia)([ _\\-]*)([^;/]*) Build");e[1]="$1$2$3";e[2]=0;e[3]=0;e[4]=0;_.device[286]=e;e=Object.create(null);e[0]=new RegExp("; *(Nook ?|Barnes & Noble Nook |BN )([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[287]=e;e=Object.create(null);e[0]=new RegExp("; *(NOOK )?(BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[288]=e;e=Object.create(null);e[0]=new RegExp("; Build/(Nook)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[289]=e;e=Object.create(null);e[0]=new RegExp("; *(OP110|OliPad[^;/]+) Build");e[1]="Olivetti $1";e[2]=0;e[3]=0;e[4]=0;_.device[290]=e;e=Object.create(null);e[0]=new RegExp("; *OMEGA[ _\\-](MID[^;/]+) Build");e[1]="Omega $1";e[2]=0;e[3]=0;e[4]=0;_.device[291]=e;e=Object.create(null);e[0]=new RegExp("^(MID7500|MID\\d+) Mozilla/5\\.0 \\(iPad;");e[1]="Omega $1";e[2]=0;e[3]=0;e[4]=0;_.device[292]=e;e=Object.create(null);e[0]=new RegExp("; *((?:CIUS|cius)[^;/]*) Build");e[1]="Openpeak $1";e[2]=0;e[3]=0;e[4]=0;_.device[293]=e;e=Object.create(null);e[0]=new RegExp("; *(Find ?(?:5|7a)|R8[012]\\d{1,2}|T703\\d{0,1}|U70\\d{1,2}T?|X90\\d{1,2}) Build");e[1]="Oppo $1";e[2]=0;e[3]=0;e[4]=0;_.device[294]=e;e=Object.create(null);e[0]=new RegExp("; *OPPO ?([^;/]+) Build/");e[1]="Oppo $1";e[2]=0;e[3]=0;e[4]=0;_.device[295]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Odys\\-|ODYS\\-|ODYS )([^;/]+) Build");e[1]="Odys $1";e[2]=0;e[3]=0;e[4]=0;_.device[296]=e;e=Object.create(null);e[0]=new RegExp("; *(SELECT) ?(7) Build");e[1]="Odys $1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[297]=e;e=Object.create(null);e[0]=new RegExp("; *(PEDI)_(PLUS)_(W) Build");e[1]="Odys $1 $2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[298]=e;e=Object.create(null);e[0]=new RegExp("; *(AEON|BRAVIO|FUSION|FUSION2IN1|Genio|EOS10|IEOS[^;/]*|IRON|Loox|LOOX|LOOX Plus|Motion|NOON|NOON_PRO|NEXT|OPOS|PEDI[^;/]*|PRIME[^;/]*|STUDYTAB|TABLO|Tablet-PC-4|UNO_X8|XELIO[^;/]*|Xelio ?\\d+ ?[Pp]ro|XENO10|XPRESS PRO) Build");e[1]="Odys $1";e[2]=0;e[3]=0;e[4]=0;_.device[299]=e;e=Object.create(null);e[0]=new RegExp("; (ONE [a-zA-Z]\\d+) Build/");e[1]="OnePlus $1";e[2]=0;e[3]=0;e[4]=0;_.device[300]=e;e=Object.create(null);e[0]=new RegExp("; (ONEPLUS [a-zA-Z]\\d+) Build/");e[1]="OnePlus $1";e[2]=0;e[3]=0;e[4]=0;_.device[301]=e;e=Object.create(null);e[0]=new RegExp("; *(TP-\\d+) Build/");e[1]="Orion $1";e[2]=0;e[3]=0;e[4]=0;_.device[302]=e;e=Object.create(null);e[0]=new RegExp("; *(G100W?) Build/");e[1]="PackardBell $1";e[2]=0;e[3]=0;e[4]=0;_.device[303]=e;e=Object.create(null);e[0]=new RegExp("; *(Panasonic)[_ ]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[304]=e;e=Object.create(null);e[0]=new RegExp("; *(FZ-A1B|JT-B1) Build");e[1]="Panasonic $1";e[2]=0;e[3]=0;e[4]=0;_.device[305]=e;e=Object.create(null);e[0]=new RegExp("; *(dL1|DL1) Build");e[1]="Panasonic $1";e[2]=0;e[3]=0;e[4]=0;_.device[306]=e;e=Object.create(null);e[0]=new RegExp("; *(SKY[ _])?(IM\\-[AT]\\d{3}[^;/]+).* Build/");e[1]="Pantech $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[307]=e;e=Object.create(null);e[0]=new RegExp("; *((?:ADR8995|ADR910L|ADR930L|ADR930VW|PTL21|P8000)(?: 4G)?) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[308]=e;e=Object.create(null);e[0]=new RegExp("; *Pantech([^;/]+).* Build/");e[1]="Pantech $1";e[2]=0;e[3]=0;e[4]=0;_.device[309]=e;e=Object.create(null);e[0]=new RegExp("; *(papyre)[ _\\-]([^;/]+) Build/");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[310]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Touchlet )?(X10\\.[^;/]+) Build/");e[1]="Pearl $1";e[2]=0;e[3]=0;e[4]=0;_.device[311]=e;e=Object.create(null);e[0]=new RegExp("; PHICOMM (i800) Build/");e[1]="Phicomm $1";e[2]=0;e[3]=0;e[4]=0;_.device[312]=e;e=Object.create(null);e[0]=new RegExp("; PHICOMM ([^;/]+) Build/");e[1]="Phicomm $1";e[2]=0;e[3]=0;e[4]=0;_.device[313]=e;e=Object.create(null);e[0]=new RegExp("; *(FWS\\d{3}[^;/]+) Build/");e[1]="Phicomm $1";e[2]=0;e[3]=0;e[4]=0;_.device[314]=e;e=Object.create(null);e[0]=new RegExp("; *(D633|D822|D833|T539|T939|V726|W335|W336|W337|W3568|W536|W5510|W626|W632|W6350|W6360|W6500|W732|W736|W737|W7376|W820|W832|W8355|W8500|W8510|W930) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[315]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Philips|PHILIPS)[ _]([^;/]+) Build");e[1]="Philips $1";e[2]=0;e[3]=0;e[4]=0;_.device[316]=e;e=Object.create(null);e[0]=new RegExp("Android 4\\..*; *(M[12356789]|U[12368]|S[123])\\ ?(pro)? Build");e[1]="Pipo $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[317]=e;e=Object.create(null);e[0]=new RegExp("; *(MOMO[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[318]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Polaroid[ _])?((?:MIDC\\d{3,}|PMID\\d{2,}|PTAB\\d{3,})[^;/]*)(\\/[^;/]*)? Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[319]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Polaroid )(Tablet) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[320]=e;e=Object.create(null);e[0]=new RegExp("; *(POMP)[ _\\-](.+?) *(?:Build|[;/\\)])");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[321]=e;e=Object.create(null);e[0]=new RegExp("; *(TB07STA|TB10STA|TB07FTA|TB10FTA) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[322]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Positivo )?((?:YPY|Ypy)[^;/]+) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[323]=e;e=Object.create(null);e[0]=new RegExp("; *(MOB-[^;/]+) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[324]=e;e=Object.create(null);e[0]=new RegExp("; *POV[ _\\-]([^;/]+) Build/");e[1]="POV $1";e[2]=0;e[3]=0;e[4]=0;_.device[325]=e;e=Object.create(null);e[0]=new RegExp("; *((?:TAB-PLAYTAB|TAB-PROTAB|PROTAB|PlayTabPro|Mobii[ _\\-]|TAB-P)[^;/]*) Build/");e[1]="POV $1";e[2]=0;e[3]=0;e[4]=0;_.device[326]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Prestigio )?((?:PAP|PMP)\\d[^;/]+) Build/");e[1]="Prestigio $1";e[2]=0;e[3]=0;e[4]=0;_.device[327]=e;e=Object.create(null);e[0]=new RegExp("; *(PLT[0-9]{4}.*) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[328]=e;e=Object.create(null);e[0]=new RegExp("; *(A2|A5|A8|A900)_?(Classic)? Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[329]=e;e=Object.create(null);e[0]=new RegExp("; *(Q[Mm]obile)_([^_]+)_([^_]+) Build");e[1]="Qmobile $2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[330]=e;e=Object.create(null);e[0]=new RegExp("; *(Q\\-?[Mm]obile)[_ ](A[^;/]+) Build");e[1]="Qmobile $2";e[2]=0;e[3]=0;e[4]=0;_.device[331]=e;e=Object.create(null);e[0]=new RegExp("; *(Q\\-Smart)[ _]([^;/]+) Build/");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[332]=e;e=Object.create(null);e[0]=new RegExp("; *(Q\\-?[Mm]obile)[ _\\-](S[^;/]+) Build/");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[333]=e;e=Object.create(null);e[0]=new RegExp("; *(TA1013) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[334]=e;e=Object.create(null);e[0]=new RegExp("; (RCT\\w+) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[335]=e;e=Object.create(null);e[0]=new RegExp("; *(RK\\d+),? Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[336]=e;e=Object.create(null);e[0]=new RegExp(" Build/(RK\\d+)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[337]=e;e=Object.create(null);e[0]=new RegExp("; *(SAMSUNG |Samsung )?((?:Galaxy (?:Note II|S\\d)|GT-I9082|GT-I9205|GT-N7\\d{3}|SM-N9005)[^;/]*)\\/?[^;/]* Build/");e[1]="Samsung $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[338]=e;e=Object.create(null);e[0]=new RegExp("; *(Google )?(Nexus [Ss](?: 4G)?) Build/");e[1]="Samsung $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[339]=e;e=Object.create(null);e[0]=new RegExp("; *(SAMSUNG |Samsung )([^\\/]*)\\/[^ ]* Build/");e[1]="Samsung $2";e[2]=0;e[3]=0;e[4]=0;_.device[340]=e;e=Object.create(null);e[0]=new RegExp("; *(Galaxy(?: Ace| Nexus| S ?II+|Nexus S| with MCR 1.2| Mini Plus 4G)?) Build/");e[1]="Samsung $1";e[2]=0;e[3]=0;e[4]=0;_.device[341]=e;e=Object.create(null);e[0]=new RegExp("; *(SAMSUNG[ _\\-] *)+([^;/]+) Build");e[1]="Samsung $2";e[2]=0;e[3]=0;e[4]=0;_.device[342]=e;e=Object.create(null);e[0]=new RegExp("; *(SAMSUNG-)?(GT\\-[BINPS]\\d{4}[^\\/]*)(\\/[^ ]*) Build");e[1]="Samsung $1$2$3";e[2]=0;e[3]=0;e[4]=0;_.device[343]=e;e=Object.create(null);e[0]=new RegExp("(?:; *|^)((?:GT\\-[BIiNPS]\\d{4}|I9\\d{2}0[A-Za-z\\+]?\\b)[^;/\\)]*?)(?:Build|Linux|MIUI|[;/\\)])");e[1]="Samsung $1";e[2]=0;e[3]=0;e[4]=0;_.device[344]=e;e=Object.create(null);e[0]=new RegExp("; (SAMSUNG-)([A-Za-z0-9\\-]+).* Build/");e[1]="Samsung $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[345]=e;e=Object.create(null);e[0]=new RegExp("; *((?:SCH|SGH|SHV|SHW|SPH|SC|SM)\\-[A-Za-z0-9 ]+)(/?[^ ]*)? Build");e[1]="Samsung $1";e[2]=0;e[3]=0;e[4]=0;_.device[346]=e;e=Object.create(null);e[0]=new RegExp(" ((?:SCH)\\-[A-Za-z0-9 ]+)(/?[^ ]*)? Build");e[1]="Samsung $1";e[2]=0;e[3]=0;e[4]=0;_.device[347]=e;e=Object.create(null);e[0]=new RegExp("; *(Behold ?(?:2|II)|YP\\-G[^;/]+|EK-GC100|SCL21|I9300) Build");e[1]="Samsung $1";e[2]=0;e[3]=0;e[4]=0;_.device[348]=e;e=Object.create(null);e[0]=new RegExp("; *(SH\\-?\\d\\d[^;/]+|SBM\\d[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[349]=e;e=Object.create(null);e[0]=new RegExp("; *(SHARP[ -])([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[350]=e;e=Object.create(null);e[0]=new RegExp("; *(SPX[_\\-]\\d[^;/]*) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[351]=e;e=Object.create(null);e[0]=new RegExp("; *(SX7\\-PEARL\\.GmbH) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[352]=e;e=Object.create(null);e[0]=new RegExp("; *(SP[T]?\\-\\d{2}[^;/]*) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[353]=e;e=Object.create(null);e[0]=new RegExp("; *(SK\\-.*) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[354]=e;e=Object.create(null);e[0]=new RegExp("; *(?:SKYTEX|SX)-([^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[355]=e;e=Object.create(null);e[0]=new RegExp("; *(IMAGINE [^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[356]=e;e=Object.create(null);e[0]=new RegExp("; *(SmartQ) ?([^;/]+) Build/");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[357]=e;e=Object.create(null);e[0]=new RegExp("; *(WF7C|WF10C|SBT[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[358]=e;e=Object.create(null);e[0]=new RegExp("; *(SBM(?:003SH|005SH|006SH|007SH|102SH)) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[359]=e;e=Object.create(null);e[0]=new RegExp("; *(003P|101P|101P11C|102P) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[360]=e;e=Object.create(null);e[0]=new RegExp("; *(00\\dZ) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[361]=e;e=Object.create(null);e[0]=new RegExp("; HTC(X06HT) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[362]=e;e=Object.create(null);e[0]=new RegExp("; *(001HT|X06HT) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[363]=e;e=Object.create(null);e[0]=new RegExp("; *(201M) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[364]=e;e=Object.create(null);e[0]=new RegExp("; *(ST\\d{4}.*)Build/ST");e[1]="Trekstor $1";e[2]=0;e[3]=0;e[4]=0;_.device[365]=e;e=Object.create(null);e[0]=new RegExp("; *(ST\\d{4}.*) Build/");e[1]="Trekstor $1";e[2]=0;e[3]=0;e[4]=0;_.device[366]=e;e=Object.create(null);e[0]=new RegExp("; *(Sony ?Ericsson ?)([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[367]=e;e=Object.create(null);e[0]=new RegExp("; *((?:SK|ST|E|X|LT|MK|MT|WT)\\d{2}[a-z0-9]*(?:-o)?|R800i|U20i) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[368]=e;e=Object.create(null);e[0]=new RegExp("; *(Xperia (?:A8|Arc|Acro|Active|Live with Walkman|Mini|Neo|Play|Pro|Ray|X\\d+)[^;/]*) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[369]=e;e=Object.create(null);e[0]=new RegExp("; Sony (Tablet[^;/]+) Build");e[1]="Sony $1";e[2]=0;e[3]=0;e[4]=0;_.device[370]=e;e=Object.create(null);e[0]=new RegExp("; Sony ([^;/]+) Build");e[1]="Sony $1";e[2]=0;e[3]=0;e[4]=0;_.device[371]=e;e=Object.create(null);e[0]=new RegExp("; *(Sony)([A-Za-z0-9\\-]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[372]=e;e=Object.create(null);e[0]=new RegExp("; *(Xperia [^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[373]=e;e=Object.create(null);e[0]=new RegExp("; *(C(?:1[0-9]|2[0-9]|53|55|6[0-9])[0-9]{2}|D[25]\\d{3}|D6[56]\\d{2}) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[374]=e;e=Object.create(null);e[0]=new RegExp("; *(SGP\\d{3}|SGPT\\d{2}) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[375]=e;e=Object.create(null);e[0]=new RegExp("; *(NW-Z1000Series) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[376]=e;e=Object.create(null);e[0]=new RegExp("PLAYSTATION 3");e[1]="PlayStation 3";e[2]=0;e[3]=0;e[4]=0;_.device[377]=e;e=Object.create(null);e[0]=new RegExp("(PlayStation (?:Portable|Vita|\\d+))");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[378]=e;e=Object.create(null);e[0]=new RegExp("; *((?:CSL_Spice|Spice|SPICE|CSL)[ _\\-]?)?([Mm][Ii])([ _\\-])?(\\d{3}[^;/]*) Build/");e[1]="$1$2$3$4";e[2]=0;e[3]=0;e[4]=0;_.device[379]=e;e=Object.create(null);e[0]=new RegExp("; *(Sprint )(.+?) *(?:Build|[;/])");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[380]=e;e=Object.create(null);e[0]=new RegExp("\\b(Sprint)[: ]([^;,/ ]+)");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[381]=e;e=Object.create(null);e[0]=new RegExp("; *(TAGI[ ]?)(MID) ?([^;/]+) Build/");e[1]="$1$2$3";e[2]=0;e[3]=0;e[4]=0;_.device[382]=e;e=Object.create(null);e[0]=new RegExp("; *(Oyster500|Opal 800) Build");e[1]="Tecmobile $1";e[2]=0;e[3]=0;e[4]=0;_.device[383]=e;e=Object.create(null);e[0]=new RegExp("; *(TECNO[ _])([^;/]+) Build/");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[384]=e;e=Object.create(null);e[0]=new RegExp("; *Android for (Telechips|Techvision) ([^ ]+) ");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[385]=e;e=Object.create(null);e[0]=new RegExp("; *(T-Hub2) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[386]=e;e=Object.create(null);e[0]=new RegExp("; *(PAD) ?(100[12]) Build/");e[1]="Terra $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[387]=e;e=Object.create(null);e[0]=new RegExp("; *(T[BM]-\\d{3}[^;/]+) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[388]=e;e=Object.create(null);e[0]=new RegExp("; *(tolino [^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[389]=e;e=Object.create(null);e[0]=new RegExp("; *Build/.* (TOLINO_BROWSER)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[390]=e;e=Object.create(null);e[0]=new RegExp("; *(?:CJ[ -])?(ThL|THL)[ -]([^;/]+) Build/");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[391]=e;e=Object.create(null);e[0]=new RegExp("; *(T100|T200|T5|W100|W200|W8s) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[392]=e;e=Object.create(null);e[0]=new RegExp("; *(T-Mobile[ _]G2[ _]Touch) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[393]=e;e=Object.create(null);e[0]=new RegExp("; *(T-Mobile[ _]G2) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[394]=e;e=Object.create(null);e[0]=new RegExp("; *(T-Mobile myTouch Q) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[395]=e;e=Object.create(null);e[0]=new RegExp("; *(T-Mobile myTouch) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[396]=e;e=Object.create(null);e[0]=new RegExp("; *(T-Mobile_Espresso) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[397]=e;e=Object.create(null);e[0]=new RegExp("; *(T-Mobile G1) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[398]=e;e=Object.create(null);e[0]=new RegExp("\\b(T-Mobile ?)?(myTouch)[ _]?([34]G)[ _]?([^\\/]*) (?:Mozilla|Build)");e[1]="$1$2 $3 $4";e[2]=0;e[3]=0;e[4]=0;_.device[399]=e;e=Object.create(null);e[0]=new RegExp("\\b(T-Mobile)_([^_]+)_(.*) Build");e[1]="$1 $2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[400]=e;e=Object.create(null);e[0]=new RegExp("\\b(T-Mobile)[_ ]?(.*?)Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[401]=e;e=Object.create(null);e[0]=new RegExp(" (ATP[0-9]{4}) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[402]=e;e=Object.create(null);e[0]=new RegExp(" *(TOOKY)[ _\\-]([^;/]+) ?(?:Build|;)");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[403]=e;e=Object.create(null);e[0]=new RegExp("\\b(TOSHIBA_AC_AND_AZ|TOSHIBA_FOLIO_AND_A|FOLIO_AND_A)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[404]=e;e=Object.create(null);e[0]=new RegExp("; *([Ff]olio ?100) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[405]=e;e=Object.create(null);e[0]=new RegExp("; *(AT[0-9]{2,3}(?:\\-A|LE\\-A|PE\\-A|SE|a)?|AT7-A|AT1S0|Hikari-iFrame/WDPF-[^;/]+|THRiVE|Thrive) Build/");e[1]="Toshiba $1";e[2]=0;e[3]=0;e[4]=0;_.device[406]=e;e=Object.create(null);e[0]=new RegExp("; *(TM-MID\\d+[^;/]+|TOUCHMATE|MID-750) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[407]=e;e=Object.create(null);e[0]=new RegExp("; *(TM-SM\\d+[^;/]+) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[408]=e;e=Object.create(null);e[0]=new RegExp("; *(A10 [Bb]asic2?) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[409]=e;e=Object.create(null);e[0]=new RegExp("; *(TREQ[ _\\-])([^;/]+) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[410]=e;e=Object.create(null);e[0]=new RegExp("; *(X-?5|X-?3) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[411]=e;e=Object.create(null);e[0]=new RegExp("; *(A502\\+?|A936|A603|X1|X2) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[412]=e;e=Object.create(null);e[0]=new RegExp("(TOUCH(?:TAB|PAD).+?) Build/");e[1]="Versus $1";e[2]=0;e[3]=0;e[4]=0;_.device[413]=e;e=Object.create(null);e[0]=new RegExp("(VERTU) ([^;/]+) Build/");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[414]=e;e=Object.create(null);e[0]=new RegExp("; *(Videocon)[ _\\-]([^;/]+) *(?:Build|;)");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[415]=e;e=Object.create(null);e[0]=new RegExp(" (VT\\d{2}[A-Za-z]*) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[416]=e;e=Object.create(null);e[0]=new RegExp("; *((?:ViewPad|ViewPhone|VSD)[^;/]+) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[417]=e;e=Object.create(null);e[0]=new RegExp("; *(ViewSonic-)([^;/]+) Build/");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[418]=e;e=Object.create(null);e[0]=new RegExp("; *(GTablet.*) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[419]=e;e=Object.create(null);e[0]=new RegExp("; *([Vv]ivo)[ _]([^;/]+) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[420]=e;e=Object.create(null);e[0]=new RegExp("(Vodafone) (.*) Build/");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[421]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Walton[ _\\-])?(Primo[ _\\-][^;/]+) Build");e[1]="Walton $1";e[2]=0;e[3]=0;e[4]=0;_.device[422]=e;e=Object.create(null);e[0]=new RegExp("; *(?:WIKO[ \\-])?(CINK\\+?|BARRY|BLOOM|DARKFULL|DARKMOON|DARKNIGHT|DARKSIDE|FIZZ|HIGHWAY|IGGY|OZZY|RAINBOW|STAIRWAY|SUBLIM|WAX|CINK [^;/]+) Build/");e[1]="Wiko $1";e[2]=0;e[3]=0;e[4]=0;_.device[423]=e;e=Object.create(null);e[0]=new RegExp("; *WellcoM-([^;/]+) Build");e[1]="Wellcom $1";e[2]=0;e[3]=0;e[4]=0;_.device[424]=e;e=Object.create(null);e[0]=new RegExp("(?:(WeTab)-Browser|; (wetab) Build)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[425]=e;e=Object.create(null);e[0]=new RegExp("; *(AT-AS[^;/]+) Build");e[1]="Wolfgang $1";e[2]=0;e[3]=0;e[4]=0;_.device[426]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Woxter|Wxt) ([^;/]+) Build");e[1]="Woxter $1";e[2]=0;e[3]=0;e[4]=0;_.device[427]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Xenta |Luna )?(TAB[234][0-9]{2}|TAB0[78]-\\d{3}|TAB0?9-\\d{3}|TAB1[03]-\\d{3}|SMP\\d{2}-\\d{3}) Build/");e[1]="Yarvik $1";e[2]=0;e[3]=0;e[4]=0;_.device[428]=e;e=Object.create(null);e[0]=new RegExp("; *([A-Z]{2,4})(M\\d{3,}[A-Z]{2})([^;\\)\\/]*)(?: Build|[;\\)])");e[1]="Yifang $1$2$3";e[2]=0;e[3]=0;e[4]=0;_.device[429]=e;e=Object.create(null);e[0]=new RegExp("; *((MI|HM|MI-ONE|Redmi)[ -](NOTE |Note )?[^;/]*) (Build|MIUI)/");e[1]="XiaoMi $1";e[2]=0;e[3]=0;e[4]=0;_.device[430]=e;e=Object.create(null);e[0]=new RegExp("; *XOLO[ _]([^;/]*tab.*) Build");e[1]="Xolo $1";e[2]=0;e[3]=0;e[4]=0;_.device[431]=e;e=Object.create(null);e[0]=new RegExp("; *XOLO[ _]([^;/]+) Build");e[1]="Xolo $1";e[2]=0;e[3]=0;e[4]=0;_.device[432]=e;e=Object.create(null);e[0]=new RegExp("; *(q\\d0{2,3}[a-z]?) Build");e[1]="Xolo $1";e[2]=0;e[3]=0;e[4]=0;_.device[433]=e;e=Object.create(null);e[0]=new RegExp("; *(PAD ?[79]\\d+[^;/]*|TelePAD\\d+[^;/]) Build");e[1]="Xoro $1";e[2]=0;e[3]=0;e[4]=0;_.device[434]=e;e=Object.create(null);e[0]=new RegExp("; *(?:(?:ZOPO|Zopo)[ _]([^;/]+)|(ZP ?(?:\\d{2}[^;/]+|C2))|(C[2379])) Build");e[1]="$1$2$3";e[2]=0;e[3]=0;e[4]=0;_.device[435]=e;e=Object.create(null);e[0]=new RegExp("; *(ZiiLABS) (Zii[^;/]*) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[436]=e;e=Object.create(null);e[0]=new RegExp("; *(Zii)_([^;/]*) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[437]=e;e=Object.create(null);e[0]=new RegExp("; *(ARIZONA|(?:ATLAS|Atlas) W|D930|Grand (?:[SX][^;]*|Era|Memo[^;]*)|JOE|(?:Kis|KIS)\\b[^;]*|Libra|Light [^;]*|N8[056][01]|N850L|N8000|N9[15]\\d{2}|N9810|NX501|Optik|(?:Vip )Racer[^;]*|RacerII|RACERII|San Francisco[^;]*|V9[AC]|V55|V881|Z[679][0-9]{2}[A-z]?) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[438]=e;e=Object.create(null);e[0]=new RegExp("; *([A-Z]\\d+)_USA_[^;]* Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[439]=e;e=Object.create(null);e[0]=new RegExp("; *(SmartTab\\d+)[^;]* Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[440]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Blade|BLADE|ZTE-BLADE)([^;/]*) Build");e[1]="ZTE Blade$1";e[2]=0;e[3]=0;e[4]=0;_.device[441]=e;e=Object.create(null);e[0]=new RegExp("; *(?:Skate|SKATE|ZTE-SKATE)([^;/]*) Build");e[1]="ZTE Skate$1";e[2]=0;e[3]=0;e[4]=0;_.device[442]=e;e=Object.create(null);e[0]=new RegExp("; *(Orange |Optimus )(Monte Carlo|San Francisco) Build");e[1]="$1$2";e[2]=0;e[3]=0;e[4]=0;_.device[443]=e;e=Object.create(null);e[0]=new RegExp("; *(?:ZXY-ZTE_|ZTE\\-U |ZTE[\\- _]|ZTE-C[_ ])([^;/]+) Build");e[1]="ZTE $1";e[2]=0;e[3]=0;e[4]=0;_.device[444]=e;e=Object.create(null);e[0]=new RegExp("; (BASE) (lutea|Lutea 2|Tab[^;]*) Build");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[445]=e;e=Object.create(null);e[0]=new RegExp("; (Avea inTouch 2|soft stone|tmn smart a7|Movistar[ _]Link) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[446]=e;e=Object.create(null);e[0]=new RegExp("; *(vp9plus)\\)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[447]=e;e=Object.create(null);e[0]=new RegExp("; ?(Cloud[ _]Z5|z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900) Build/");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[448]=e;e=Object.create(null);e[0]=new RegExp("; ?(KFOT|Kindle Fire) Build\\b");e[1]="Kindle Fire";e[2]=0;e[3]=0;e[4]=0;_.device[449]=e;e=Object.create(null);e[0]=new RegExp("; ?(KFOTE|Amazon Kindle Fire2) Build\\b");e[1]="Kindle Fire 2";e[2]=0;e[3]=0;e[4]=0;_.device[450]=e;e=Object.create(null);e[0]=new RegExp("; ?(KFTT) Build\\b");e[1]="Kindle Fire HD";e[2]=0;e[3]=0;e[4]=0;_.device[451]=e;e=Object.create(null);e[0]=new RegExp("; ?(KFJWI) Build\\b");e[1]='Kindle Fire HD 8.9" WiFi';e[2]=0;e[3]=0;e[4]=0;_.device[452]=e;e=Object.create(null);e[0]=new RegExp("; ?(KFJWA) Build\\b");e[1]='Kindle Fire HD 8.9" 4G';e[2]=0;e[3]=0;e[4]=0;_.device[453]=e;e=Object.create(null);e[0]=new RegExp("; ?(KFSOWI) Build\\b");e[1]='Kindle Fire HD 7" WiFi';e[2]=0;e[3]=0;e[4]=0;_.device[454]=e;e=Object.create(null);e[0]=new RegExp("; ?(KFTHWI) Build\\b");e[1]='Kindle Fire HDX 7" WiFi';e[2]=0;e[3]=0;e[4]=0;_.device[455]=e;e=Object.create(null);e[0]=new RegExp("; ?(KFTHWA) Build\\b");e[1]='Kindle Fire HDX 7" 4G';e[2]=0;e[3]=0;e[4]=0;_.device[456]=e;e=Object.create(null);e[0]=new RegExp("; ?(KFAPWI) Build\\b");e[1]='Kindle Fire HDX 8.9" WiFi';e[2]=0;e[3]=0;e[4]=0;_.device[457]=e;e=Object.create(null);e[0]=new RegExp("; ?(KFAPWA) Build\\b");e[1]='Kindle Fire HDX 8.9" 4G';e[2]=0;e[3]=0;e[4]=0;_.device[458]=e;e=Object.create(null);e[0]=new RegExp("; ?Amazon ([^;/]+) Build\\b");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[459]=e;e=Object.create(null);e[0]=new RegExp("; ?(Kindle) Build\\b");e[1]="Kindle";e[2]=0;e[3]=0;e[4]=0;_.device[460]=e;e=Object.create(null);e[0]=new RegExp("; ?(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))? Build\\b");e[1]="Kindle Fire";e[2]=0;e[3]=0;e[4]=0;_.device[461]=e;e=Object.create(null);e[0]=new RegExp(" (Kindle)/(\\d+\\.\\d+)");e[1]="Kindle";e[2]=0;e[3]=0;e[4]=0;_.device[462]=e;e=Object.create(null);e[0]=new RegExp(" (Silk|Kindle)/(\\d+)\\.");e[1]="Kindle";e[2]=0;e[3]=0;e[4]=0;_.device[463]=e;e=Object.create(null);e[0]=new RegExp("(sprd)\\-([^/]+)/");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[464]=e;e=Object.create(null);e[0]=new RegExp("; *(H\\d{2}00\\+?) Build");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[465]=e;e=Object.create(null);e[0]=new RegExp("; *(iphone|iPhone5) Build/");e[1]="Xianghe $1";e[2]=0;e[3]=0;e[4]=0;_.device[466]=e;e=Object.create(null);e[0]=new RegExp("; *(e\\d{4}[a-z]?_?v\\d+|v89_[^;/]+)[^;/]+ Build/");e[1]="Xianghe $1";e[2]=0;e[3]=0;e[4]=0;_.device[467]=e;e=Object.create(null);e[0]=new RegExp("\\bUSCC[_\\-]?([^ ;/\\)]+)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[468]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?)?(?:ALCATEL)[^;]*; *([^;,\\)]+)");e[1]="Alcatel $1";e[2]=0;e[3]=0;e[4]=0;_.device[469]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?|WpsLondonTest; ?)?(?:ASUS|Asus)[^;]*; *([^;,\\)]+)");e[1]="Asus $1";e[2]=0;e[3]=0;e[4]=0;_.device[470]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?)?(?:DELL|Dell)[^;]*; *([^;,\\)]+)");e[1]="Dell $1";e[2]=0;e[3]=0;e[4]=0;_.device[471]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?|WpsLondonTest; ?)?(?:HTC|Htc|HTC_blocked[^;]*)[^;]*; *(?:HTC)?([^;,\\)]+)");e[1]="HTC $1";e[2]=0;e[3]=0;e[4]=0;_.device[472]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?)?(?:HUAWEI)[^;]*; *(?:HUAWEI )?([^;,\\)]+)");e[1]="Huawei $1";e[2]=0;e[3]=0;e[4]=0;_.device[473]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?)?(?:LG|Lg)[^;]*; *(?:LG[ \\-])?([^;,\\)]+)");e[1]="LG $1";e[2]=0;e[3]=0;e[4]=0;_.device[474]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?)?(?:rv:11; )?(?:NOKIA|Nokia)[^;]*; *(?:NOKIA ?|Nokia ?|LUMIA ?|[Ll]umia ?)*(\\d{3,}[^;\\)]*)");e[1]="Lumia $1";e[2]=0;e[3]=0;e[4]=0;_.device[475]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?)?(?:NOKIA|Nokia)[^;]*; *(RM-\\d{3,})");e[1]="Nokia $1";e[2]=0;e[3]=0;e[4]=0;_.device[476]=e;e=Object.create(null);e[0]=new RegExp("(?:Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)]|WPDesktop;) ?(?:ARM; ?Touch; ?|Touch; ?)?(?:NOKIA|Nokia)[^;]*; *(?:NOKIA ?|Nokia ?|LUMIA ?|[Ll]umia ?)*([^;\\)]+)");e[1]="Nokia $1";e[2]=0;e[3]=0;e[4]=0;_.device[477]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?)?(?:Microsoft(?: Corporation)?)[^;]*; *([^;,\\)]+)");e[1]="Microsoft $1";e[2]=0;e[3]=0;e[4]=0;_.device[478]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?|WpsLondonTest; ?)?(?:SAMSUNG)[^;]*; *(?:SAMSUNG )?([^;,\\.\\)]+)");e[1]="Samsung $1";e[2]=0;e[3]=0;e[4]=0;_.device[479]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?|WpsLondonTest; ?)?(?:TOSHIBA|FujitsuToshibaMobileCommun)[^;]*; *([^;,\\)]+)");e[1]="Toshiba $1";e[2]=0;e[3]=0;e[4]=0;_.device[480]=e;e=Object.create(null);e[0]=new RegExp("Windows Phone [^;]+; .*?IEMobile/[^;\\)]+[;\\)] ?(?:ARM; ?Touch; ?|Touch; ?|WpsLondonTest; ?)?([^;]+); *([^;,\\)]+)");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[481]=e;e=Object.create(null);e[0]=new RegExp("(?:^|; )SAMSUNG\\-([A-Za-z0-9\\-]+).* Bada/");e[1]="Samsung $1";e[2]=0;e[3]=0;e[4]=0;_.device[482]=e;e=Object.create(null);e[0]=new RegExp("\\(Mobile; ALCATEL ?(One|ONE) ?(Touch|TOUCH) ?([^;/]+)(?:/[^;]+)?; rv:[^\\)]+\\) Gecko/[^\\/]+ Firefox/");e[1]="Alcatel $1 $2 $3";e[2]=0;e[3]=0;e[4]=0;_.device[483]=e;e=Object.create(null);e[0]=new RegExp("\\(Mobile; (?:ZTE([^;]+)|(OpenC)); rv:[^\\)]+\\) Gecko/[^\\/]+ Firefox/");e[1]="ZTE $1$2";e[2]=0;e[3]=0;e[4]=0;_.device[484]=e;e=Object.create(null);e[0]=new RegExp("Nokia(N[0-9]+)([A-z_\\-][A-z0-9_\\-]*)");e[1]="Nokia $1";e[2]=0;e[3]=0;e[4]=0;_.device[485]=e;e=Object.create(null);e[0]=new RegExp("(?:NOKIA|Nokia)(?:\\-| *)(?:([A-Za-z0-9]+)\\-[0-9a-f]{32}|([A-Za-z0-9\\-]+)(?:UCBrowser)|([A-Za-z0-9\\-]+))");e[1]="Nokia $1$2$3";e[2]=0;e[3]=0;e[4]=0;_.device[486]=e;e=Object.create(null);e[0]=new RegExp("Lumia ([A-Za-z0-9\\-]+)");e[1]="Lumia $1";e[2]=0;e[3]=0;e[4]=0;_.device[487]=e;e=Object.create(null);e[0]=new RegExp("\\(Symbian; U; S60 V5; [A-z]{2}\\-[A-z]{2}; (SonyEricsson|Samsung|Nokia|LG)([^;/]+)\\)");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[488]=e;e=Object.create(null);e[0]=new RegExp("\\(Symbian(?:/3)?; U; ([^;]+);");e[1]="Nokia $1";e[2]=0;e[3]=0;e[4]=0;_.device[489]=e;e=Object.create(null);e[0]=new RegExp("BB10; ([A-Za-z0-9\\- ]+)\\)");e[1]="BlackBerry $1";e[2]=0;e[3]=0;e[4]=0;_.device[490]=e;e=Object.create(null);e[0]=new RegExp("Play[Bb]ook.+RIM Tablet OS");e[1]="BlackBerry Playbook";e[2]=0;e[3]=0;e[4]=0;_.device[491]=e;e=Object.create(null);e[0]=new RegExp("Black[Bb]erry ([0-9]+);");e[1]="BlackBerry $1";e[2]=0;e[3]=0;e[4]=0;_.device[492]=e;e=Object.create(null);e[0]=new RegExp("Black[Bb]erry([0-9]+)");e[1]="BlackBerry $1";e[2]=0;e[3]=0;e[4]=0;_.device[493]=e;e=Object.create(null);e[0]=new RegExp("Black[Bb]erry;");e[1]="BlackBerry";e[2]=0;e[3]=0;e[4]=0;_.device[494]=e;e=Object.create(null);e[0]=new RegExp("(Pre|Pixi)/\\d+\\.\\d+");e[1]="Palm $1";e[2]=0;e[3]=0;e[4]=0;_.device[495]=e;e=Object.create(null);e[0]=new RegExp("Palm([0-9]+)");e[1]="Palm $1";e[2]=0;e[3]=0;e[4]=0;_.device[496]=e;e=Object.create(null);e[0]=new RegExp("Treo([A-Za-z0-9]+)");e[1]="Palm Treo $1";e[2]=0;e[3]=0;e[4]=0;_.device[497]=e;e=Object.create(null);e[0]=new RegExp("webOS.*(P160U(?:NA)?)/(\\d+).(\\d+)");e[1]="HP Veer";e[2]=0;e[3]=0;e[4]=0;_.device[498]=e;e=Object.create(null);e[0]=new RegExp("(Touch[Pp]ad)/\\d+\\.\\d+");e[1]="HP TouchPad";e[2]=0;e[3]=0;e[4]=0;_.device[499]=e;e=Object.create(null);e[0]=new RegExp("HPiPAQ([A-Za-z0-9]+)/\\d+.\\d+");e[1]="HP iPAQ $1";e[2]=0;e[3]=0;e[4]=0;_.device[500]=e;e=Object.create(null);e[0]=new RegExp("PDA; (PalmOS)/sony/model ([a-z]+)/Revision");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[501]=e;e=Object.create(null);e[0]=new RegExp("(Apple\\s?TV)");e[1]="AppleTV";e[2]=0;e[3]=0;e[4]=0;_.device[502]=e;e=Object.create(null);e[0]=new RegExp("(QtCarBrowser)");e[1]="Tesla Model S";e[2]=0;e[3]=0;e[4]=0;_.device[503]=e;e=Object.create(null);e[0]=new RegExp("(iPhone|iPad|iPod)(\\d+,\\d+)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[504]=e;e=Object.create(null);e[0]=new RegExp("(iPad)(?:;| Simulator;)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[505]=e;e=Object.create(null);e[0]=new RegExp("(iPod)(?:;| touch;| Simulator;)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[506]=e;e=Object.create(null);e[0]=new RegExp("(iPhone)(?:;| Simulator;)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[507]=e;e=Object.create(null);e[0]=new RegExp("iPhone");e[1]="iPhone";e[2]=0;e[3]=0;e[4]=0;_.device[508]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/.* Darwin/\\d.*\\(((?:Mac|iMac|PowerMac|PowerBook)[^\\d]*)(\\d+)(?:,|%2C)(\\d+)");e[1]="$1$2,$3";e[2]=0;e[3]=0;e[4]=0;_.device[509]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/.* Darwin/\\d+\\.\\d+\\.\\d+ \\(x86_64\\)");e[1]="Mac";e[2]=0;e[3]=0;e[4]=0;_.device[510]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/.* Darwin/\\d");e[1]="iOS-Device";e[2]=0;e[3]=0;e[4]=0;_.device[511]=e;e=Object.create(null);e[0]=new RegExp("acer_([A-Za-z0-9]+)_");e[1]="Acer $1";e[2]=0;e[3]=0;e[4]=0;_.device[512]=e;e=Object.create(null);e[0]=new RegExp("(?:ALCATEL|Alcatel)-([A-Za-z0-9\\-]+)");e[1]="Alcatel $1";e[2]=0;e[3]=0;e[4]=0;_.device[513]=e;e=Object.create(null);e[0]=new RegExp("(?:Amoi|AMOI)\\-([A-Za-z0-9]+)");e[1]="Amoi $1";e[2]=0;e[3]=0;e[4]=0;_.device[514]=e;e=Object.create(null);e[0]=new RegExp("(?:; |\\/|^)((?:Transformer (?:Pad|Prime) |Transformer |PadFone[ _]?)[A-Za-z0-9]*)");e[1]="Asus $1";e[2]=0;e[3]=0;e[4]=0;_.device[515]=e;e=Object.create(null);e[0]=new RegExp("(?:asus.*?ASUS|Asus|ASUS|asus)[\\- ;]*((?:Transformer (?:Pad|Prime) |Transformer |Padfone |Nexus[ _])?[A-Za-z0-9]+)");e[1]="Asus $1";e[2]=0;e[3]=0;e[4]=0;_.device[516]=e;e=Object.create(null);e[0]=new RegExp("\\bBIRD[ \\-\\.]([A-Za-z0-9]+)");e[1]="Bird $1";e[2]=0;e[3]=0;e[4]=0;_.device[517]=e;e=Object.create(null);e[0]=new RegExp("\\bDell ([A-Za-z0-9]+)");e[1]="Dell $1";e[2]=0;e[3]=0;e[4]=0;_.device[518]=e;e=Object.create(null);e[0]=new RegExp("DoCoMo/2\\.0 ([A-Za-z0-9]+)");e[1]="DoCoMo $1";e[2]=0;e[3]=0;e[4]=0;_.device[519]=e;e=Object.create(null);e[0]=new RegExp("([A-Za-z0-9]+)_W;FOMA");e[1]="DoCoMo $1";e[2]=0;e[3]=0;e[4]=0;_.device[520]=e;e=Object.create(null);e[0]=new RegExp("([A-Za-z0-9]+);FOMA");e[1]="DoCoMo $1";e[2]=0;e[3]=0;e[4]=0;_.device[521]=e;e=Object.create(null);e[0]=new RegExp("\\b(?:HTC/|HTC/[a-z0-9]+/)?HTC[ _\\-;]? *(.*?)(?:-?Mozilla|fingerPrint|[;/\\(\\)]|$)");e[1]="HTC $1";e[2]=0;e[3]=0;e[4]=0;_.device[522]=e;e=Object.create(null);e[0]=new RegExp("Huawei([A-Za-z0-9]+)");e[1]="Huawei $1";e[2]=0;e[3]=0;e[4]=0;_.device[523]=e;e=Object.create(null);e[0]=new RegExp("HUAWEI-([A-Za-z0-9]+)");e[1]="Huawei $1";e[2]=0;e[3]=0;e[4]=0;_.device[524]=e;e=Object.create(null);e[0]=new RegExp("vodafone([A-Za-z0-9]+)");e[1]="Huawei Vodafone $1";e[2]=0;e[3]=0;e[4]=0;_.device[525]=e;e=Object.create(null);e[0]=new RegExp("i\\-mate ([A-Za-z0-9]+)");e[1]="i-mate $1";e[2]=0;e[3]=0;e[4]=0;_.device[526]=e;e=Object.create(null);e[0]=new RegExp("Kyocera\\-([A-Za-z0-9]+)");e[1]="Kyocera $1";e[2]=0;e[3]=0;e[4]=0;_.device[527]=e;e=Object.create(null);e[0]=new RegExp("KWC\\-([A-Za-z0-9]+)");e[1]="Kyocera $1";e[2]=0;e[3]=0;e[4]=0;_.device[528]=e;e=Object.create(null);e[0]=new RegExp("Lenovo[_\\-]([A-Za-z0-9]+)");e[1]="Lenovo $1";e[2]=0;e[3]=0;e[4]=0;_.device[529]=e;e=Object.create(null);e[0]=new RegExp("(HbbTV)/[0-9]+\\.[0-9]+\\.[0-9]+ \\([^;]*; *(LG)E *; *([^;]*) *;[^;]*;[^;]*;\\)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[530]=e;e=Object.create(null);e[0]=new RegExp("(HbbTV)/1\\.1\\.1.*CE-HTML/1\\.\\d;(Vendor/)*(THOM[^;]*?)[;\\s](?:.*SW-Version/.*)*(LF[^;]+);?");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[531]=e;e=Object.create(null);e[0]=new RegExp("(HbbTV)(?:/1\\.1\\.1)?(?: ?\\(;;;;;\\))?; *CE-HTML(?:/1\\.\\d)?; *([^ ]+) ([^;]+);");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[532]=e;e=Object.create(null);e[0]=new RegExp("(HbbTV)/1\\.1\\.1 \\(;;;;;\\) Maple_2011");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[533]=e;e=Object.create(null);e[0]=new RegExp("(HbbTV)/[0-9]+\\.[0-9]+\\.[0-9]+ \\([^;]*; *(?:CUS:([^;]*)|([^;]+)) *; *([^;]*) *;.*;");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[534]=e;e=Object.create(null);e[0]=new RegExp("(HbbTV)/[0-9]+\\.[0-9]+\\.[0-9]+");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[535]=e;e=Object.create(null);e[0]=new RegExp('LGE; (?:Media\\/)?([^;]*);[^;]*;[^;]*;?\\); "?LG NetCast(\\.TV|\\.Media|)-\\d+');e[1]="NetCast$2";e[2]=0;e[3]=0;e[4]=0;_.device[536]=e;e=Object.create(null);e[0]=new RegExp("InettvBrowser/[0-9]+\\.[0-9A-Z]+ \\([^;]*;(Sony)([^;]*);[^;]*;[^\\)]*\\)");e[1]="Inettv";e[2]=0;e[3]=0;e[4]=0;_.device[537]=e;e=Object.create(null);e[0]=new RegExp("InettvBrowser/[0-9]+\\.[0-9A-Z]+ \\([^;]*;([^;]*);[^;]*;[^\\)]*\\)");e[1]="Inettv";e[2]=0;e[3]=0;e[4]=0;_.device[538]=e;e=Object.create(null);e[0]=new RegExp("(?:InettvBrowser|TSBNetTV|NETTV|HBBTV)");e[1]="Inettv";e[2]=0;e[3]=0;e[4]=0;_.device[539]=e;e=Object.create(null);e[0]=new RegExp("Series60/\\d\\.\\d (LG)[\\-]?([A-Za-z0-9 \\-]+)");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[540]=e;e=Object.create(null);e[0]=new RegExp("\\b(?:LGE[ \\-]LG\\-(?:AX)?|LGE |LGE?-LG|LGE?[ \\-]|LG[ /\\-]|lg[\\-])([A-Za-z0-9]+)\\b");e[1]="LG $1";e[2]=0;e[3]=0;e[4]=0;_.device[541]=e;e=Object.create(null);e[0]=new RegExp("(?:^LG[\\-]?|^LGE[\\-/]?)([A-Za-z]+[0-9]+[A-Za-z]*)");e[1]="LG $1";e[2]=0;e[3]=0;e[4]=0;_.device[542]=e;e=Object.create(null);e[0]=new RegExp("^LG([0-9]+[A-Za-z]*)");e[1]="LG $1";e[2]=0;e[3]=0;e[4]=0;_.device[543]=e;e=Object.create(null);e[0]=new RegExp("(KIN\\.[^ ]+) (\\d+)\\.(\\d+)");e[1]="Microsoft $1";e[2]=0;e[3]=0;e[4]=0;_.device[544]=e;e=Object.create(null);e[0]=new RegExp("(?:MSIE|XBMC).*\\b(Xbox)\\b");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[545]=e;e=Object.create(null);e[0]=new RegExp("; ARM; Trident/6\\.0; Touch[\\);]");e[1]="Microsoft Surface RT";e[2]=0;e[3]=0;e[4]=0;_.device[546]=e;e=Object.create(null);e[0]=new RegExp("Motorola\\-([A-Za-z0-9]+)");e[1]="Motorola $1";e[2]=0;e[3]=0;e[4]=0;_.device[547]=e;e=Object.create(null);e[0]=new RegExp("MOTO\\-([A-Za-z0-9]+)");e[1]="Motorola $1";e[2]=0;e[3]=0;e[4]=0;_.device[548]=e;e=Object.create(null);e[0]=new RegExp("MOT\\-([A-z0-9][A-z0-9\\-]*)");e[1]="Motorola $1";e[2]=0;e[3]=0;e[4]=0;_.device[549]=e;e=Object.create(null);e[0]=new RegExp("Nintendo WiiU");e[1]="Nintendo Wii U";e[2]=0;e[3]=0;e[4]=0;_.device[550]=e;e=Object.create(null);e[0]=new RegExp("Nintendo (DS|3DS|DSi|Wii);");e[1]="Nintendo $1";e[2]=0;e[3]=0;e[4]=0;_.device[551]=e;e=Object.create(null);e[0]=new RegExp("(?:Pantech|PANTECH)[ _-]?([A-Za-z0-9\\-]+)");e[1]="Pantech $1";e[2]=0;e[3]=0;e[4]=0;_.device[552]=e;e=Object.create(null);e[0]=new RegExp("Philips([A-Za-z0-9]+)");e[1]="Philips $1";e[2]=0;e[3]=0;e[4]=0;_.device[553]=e;e=Object.create(null);e[0]=new RegExp("Philips ([A-Za-z0-9]+)");e[1]="Philips $1";e[2]=0;e[3]=0;e[4]=0;_.device[554]=e;e=Object.create(null);e[0]=new RegExp("(SMART-TV); .* Tizen ");e[1]="Samsung $1";e[2]=0;e[3]=0;e[4]=0;_.device[555]=e;e=Object.create(null);e[0]=new RegExp("SymbianOS/9\\.\\d.* Samsung[/\\-]([A-Za-z0-9 \\-]+)");e[1]="Samsung $1";e[2]=0;e[3]=0;e[4]=0;_.device[556]=e;e=Object.create(null);e[0]=new RegExp("(Samsung)(SGH)(i[0-9]+)");e[1]="$1 $2$3";e[2]=0;e[3]=0;e[4]=0;_.device[557]=e;e=Object.create(null);e[0]=new RegExp("SAMSUNG-ANDROID-MMS/([^;/]+)");e[1]="$1";e[2]=0;e[3]=0;e[4]=0;_.device[558]=e;e=Object.create(null);e[0]=new RegExp("SAMSUNG(?:; |[ -/])([A-Za-z0-9\\-]+)");e[1]="Samsung $1";e[2]=0;e[3]=0;e[4]=0;_.device[559]=e;e=Object.create(null);e[0]=new RegExp("(Dreamcast)");e[1]="Sega $1";e[2]=0;e[3]=0;e[4]=0;_.device[560]=e;e=Object.create(null);e[0]=new RegExp("^SIE-([A-Za-z0-9]+)");e[1]="Siemens $1";e[2]=0;e[3]=0;e[4]=0;_.device[561]=e;e=Object.create(null);e[0]=new RegExp("Softbank/[12]\\.0/([A-Za-z0-9]+)");e[1]="Softbank $1";e[2]=0;e[3]=0;e[4]=0;_.device[562]=e;e=Object.create(null);e[0]=new RegExp("SonyEricsson ?([A-Za-z0-9\\-]+)");e[1]="Ericsson $1";e[2]=0;e[3]=0;e[4]=0;_.device[563]=e;e=Object.create(null);e[0]=new RegExp("Android [^;]+; ([^ ]+) (Sony)/");e[1]="$2 $1";e[2]=0;e[3]=0;e[4]=0;_.device[564]=e;e=Object.create(null);e[0]=new RegExp("(Sony)(?:BDP\\/|\\/)?([^ /;\\)]+)[ /;\\)]");e[1]="$1 $2";e[2]=0;e[3]=0;e[4]=0;_.device[565]=e;e=Object.create(null);e[0]=new RegExp("Puffin/[\\d\\.]+IT");e[1]="iPad";e[2]=0;e[3]=0;e[4]=0;_.device[566]=e;e=Object.create(null);e[0]=new RegExp("Puffin/[\\d\\.]+IP");e[1]="iPhone";e[2]=0;e[3]=0;e[4]=0;_.device[567]=e;e=Object.create(null);e[0]=new RegExp("Puffin/[\\d\\.]+AT");e[1]="Generic Tablet";e[2]=0;e[3]=0;e[4]=0;_.device[568]=e;e=Object.create(null);e[0]=new RegExp("Puffin/[\\d\\.]+AP");e[1]="Generic Smartphone";e[2]=0;e[3]=0;e[4]=0;_.device[569]=e;e=Object.create(null);e[0]=new RegExp("Android[\\- ][\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{0,2}; WOWMobile (.+) Build[/ ]");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.device[570]=e;e=Object.create(null);e[0]=new RegExp("Android[\\- ][\\d]+\\.[\\d]+\\-update1; [A-Za-z]{2}\\-[A-Za-z]{0,2} *; *(.+?) Build[/ ]");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.device[571]=e;e=Object.create(null);e[0]=new RegExp("Android[\\- ][\\d]+(?:\\.[\\d]+){1,2}; *[A-Za-z]{2}[_\\-][A-Za-z]{0,2}\\-? *; *(.+?) Build[/ ]");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.device[572]=e;e=Object.create(null);e[0]=new RegExp("Android[\\- ][\\d]+(?:\\.[\\d]+){1,2}; *[A-Za-z]{0,2}\\- *; *(.+?) Build[/ ]");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.device[573]=e;e=Object.create(null);e[0]=new RegExp("Android[\\- ][\\d]+(?:\\.[\\d]+){1,2}; *[a-z]{0,2}[_\\-]?[A-Za-z]{0,2};? Build[/ ]");e[1]="Generic Smartphone";e[2]=0;e[3]=0;e[4]=0;_.device[574]=e;e=Object.create(null);e[0]=new RegExp("Android[\\- ][\\d]+(?:\\.[\\d]+){1,2}; *\\-?[A-Za-z]{2}; *(.+?) Build[/ ]");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.device[575]=e;e=Object.create(null);e[0]=new RegExp("Android[\\- ][\\d]+(?:\\.[\\d]+){1,2}(?:;.*)?; *(.+?) Build[/ ]");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.device[576]=e;e=Object.create(null);e[0]=new RegExp("(GoogleTV)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.device[577]=e;e=Object.create(null);e[0]=new RegExp("(WebTV)/\\d+.\\d+");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.device[578]=e;e=Object.create(null);e[0]=new RegExp("^(Roku)/DVP-\\d+\\.\\d+");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.device[579]=e;e=Object.create(null);e[0]=new RegExp("(Android 3\\.\\d|Opera Tablet|Tablet; .+Firefox/|Android.*(?:Tab|Pad))");e[1]="Generic Tablet";e[2]=0;e[3]=0;e[4]=0;_.device[580]=e;e=Object.create(null);e[0]=new RegExp("(Symbian|\\bS60(Version|V\\d)|\\bS60\\b|\\((Series 60|Windows Mobile|Palm OS|Bada); Opera Mini|Windows CE|Opera Mobi|BREW|Brew|Mobile; .+Firefox/|iPhone OS|Android|MobileSafari|Windows *Phone|\\(webOS/|PalmOS)");e[1]="Generic Smartphone";e[2]=0;e[3]=0;e[4]=0;_.device[581]=e;e=Object.create(null);e[0]=new RegExp("(hiptop|avantgo|plucker|xiino|blazer|elaine)");e[1]="Generic Smartphone";e[2]=0;e[3]=0;e[4]=0;_.device[582]=e;e=Object.create(null);e[0]=new RegExp("(bot|zao|borg|DBot|oegp|silk|Xenu|zeal|^NING|CCBot|crawl|htdig|lycos|slurp|teoma|voila|yahoo|Sogou|CiBra|Nutch|^Java/|^JNLP/|Daumoa|Genieo|ichiro|larbin|pompos|Scrapy|snappy|speedy|spider|msnbot|msrbot|vortex|^vortex|crawler|favicon|indexer|Riddler|scooter|scraper|scrubby|WhatWeb|WinHTTP|bingbot|BingPreview|openbot|gigabot|furlbot|polybot|seekbot|^voyager|archiver|Icarus6j|mogimogi|Netvibes|blitzbot|altavista|charlotte|findlinks|Retreiver|TLSProber|WordPress|SeznamBot|ProoXiBot|wsr\\-agent|Squrl Java|EtaoSpider|PaperLiBot|SputnikBot|A6\\-Indexer|netresearch|searchsight|baiduspider|YisouSpider|ICC\\-Crawler|http%20client|Python-urllib|dataparksearch|converacrawler|Screaming Frog|AppEngine-Google|YahooCacheSystem|fast\\-webcrawler|Sogou Pic Spider|semanticdiscovery|Innovazion Crawler|facebookexternalhit|Google.*/\\+/web/snippet|Google-HTTP-Java-Client|BlogBridge|IlTrovatore-Setaccio|InternetArchive|GomezAgent|WebThumbnail|heritrix|NewsGator|PagePeeker|Reaper|ZooShot|holmes|NL-Crawler|Pingdom|StatusCake|WhatsApp|masscan|Google Web Preview|Qwantify)");e[1]="Spider";e[2]=0;e[3]=0;e[4]=0;_.device[583]=e;e=Object.create(null);e[0]=new RegExp("^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bmobile|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|dorado|el(?:38|39|48|49|50|55|58|68)|el[3456]\\d{2}dual|erk0|esl8|ex300|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)");e[1]="Generic Feature Phone";e[2]=0;e[3]=0;e[4]=0;_.device[584]=e;e=Object.create(null);e[0]=new RegExp("^(htcp|htcs|htct|htc_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i\\-mobile|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)");e[1]="Generic Feature Phone";e[2]=0;e[3]=0;e[4]=0;_.device[585]=e;e=Object.create(null);e[0]=new RegExp("^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)");e[1]="Generic Feature Phone";e[2]=0;e[3]=0;e[4]=0;_.device[586]=e;e=Object.create(null);e[0]=new RegExp("^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vertu|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda_)");e[1]="Generic Feature Phone";e[2]=0;e[3]=0;e[4]=0;_.device[587]=e;e=Object.create(null);e[0]=new RegExp("^(Ice)$");e[1]="Generic Feature Phone";e[2]=0;e[3]=0;e[4]=0;_.device[588]=e;e=Object.create(null);e[0]=new RegExp("(wap[\\-\\ ]browser|maui|netfront|obigo|teleca|up\\.browser|midp|Opera Mini)");e[1]="Generic Feature Phone";e[2]=0;e[3]=0;e[4]=0;_.device[589]=e;_.device.length=590;_.os=Object.create(null);e=Object.create(null);e[0]=new RegExp("HbbTV/\\d+\\.\\d+\\.\\d+ \\( ;(LG)E ;NetCast 4.0");e[1]=0;e[2]="2013";e[3]=0;e[4]=0;_.os[0]=e;e=Object.create(null);e[0]=new RegExp("HbbTV/\\d+\\.\\d+\\.\\d+ \\( ;(LG)E ;NetCast 3.0");e[1]=0;e[2]="2012";e[3]=0;e[4]=0;_.os[1]=e;e=Object.create(null);e[0]=new RegExp("HbbTV/1.1.1 \\(;;;;;\\) Maple_2011");e[1]="Samsung";e[2]="2011";e[3]=0;e[4]=0;_.os[2]=e;e=Object.create(null);e[0]=new RegExp("HbbTV/\\d+\\.\\d+\\.\\d+ \\(;(Samsung);SmartTV([0-9]{4});.*FXPDEUC");e[1]=0;e[2]=0;e[3]="UE40F7000";e[4]=0;_.os[3]=e;e=Object.create(null);e[0]=new RegExp("HbbTV/\\d+\\.\\d+\\.\\d+ \\(;(Samsung);SmartTV([0-9]{4});.*MST12DEUC");e[1]=0;e[2]=0;e[3]="UE32F4500";e[4]=0;_.os[4]=e;e=Object.create(null);e[0]=new RegExp("HbbTV/1.1.1 \\(; (Philips);.*NETTV/4");e[1]=0;e[2]="2013";e[3]=0;e[4]=0;_.os[5]=e;e=Object.create(null);e[0]=new RegExp("HbbTV/1.1.1 \\(; (Philips);.*NETTV/3");e[1]=0;e[2]="2012";e[3]=0;e[4]=0;_.os[6]=e;e=Object.create(null);e[0]=new RegExp("HbbTV/1.1.1 \\(; (Philips);.*NETTV/2");e[1]=0;e[2]="2011";e[3]=0;e[4]=0;_.os[7]=e;e=Object.create(null);e[0]=new RegExp("HbbTV/\\d+\\.\\d+\\.\\d+.*(firetv)-firefox-plugin (\\d+).(\\d+).(\\d+)");e[1]="FireHbbTV";e[2]=0;e[3]=0;e[4]=0;_.os[8]=e;e=Object.create(null);e[0]=new RegExp("HbbTV/\\d+\\.\\d+\\.\\d+ \\(.*; ?([a-zA-Z]+) ?;.*(201[1-9]).*\\)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[9]=e;e=Object.create(null);e[0]=new RegExp("(Windows Phone) (?:OS[ /])?(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[10]=e;e=Object.create(null);e[0]=new RegExp("(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone)[ +]+(\\d+)[_\\.](\\d+)(?:[_\\.](\\d+))?.*Outlook-iOS-Android");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[11]=e;e=Object.create(null);e[0]=new RegExp("(Android)[ \\-/](\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[12]=e;e=Object.create(null);e[0]=new RegExp("(Android) Donut");e[1]=0;e[2]="1";e[3]="2";e[4]=0;_.os[13]=e;e=Object.create(null);e[0]=new RegExp("(Android) Eclair");e[1]=0;e[2]="2";e[3]="1";e[4]=0;_.os[14]=e;e=Object.create(null);e[0]=new RegExp("(Android) Froyo");e[1]=0;e[2]="2";e[3]="2";e[4]=0;_.os[15]=e;e=Object.create(null);e[0]=new RegExp("(Android) Gingerbread");e[1]=0;e[2]="2";e[3]="3";e[4]=0;_.os[16]=e;e=Object.create(null);e[0]=new RegExp("(Android) Honeycomb");e[1]=0;e[2]="3";e[3]=0;e[4]=0;_.os[17]=e;e=Object.create(null);e[0]=new RegExp("^UCWEB.*; (Adr) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?;");e[1]="Android";e[2]=0;e[3]=0;e[4]=0;_.os[18]=e;e=Object.create(null);e[0]=new RegExp("^UCWEB.*; (iPad|iPh|iPd) OS (\\d+)_(\\d+)(?:_(\\d+))?;");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[19]=e;e=Object.create(null);e[0]=new RegExp("^UCWEB.*; (wds) (\\d+)\\.(\\d+)(?:\\.(\\d+))?;");e[1]="Windows Phone";e[2]=0;e[3]=0;e[4]=0;_.os[20]=e;e=Object.create(null);e[0]=new RegExp("^(JUC).*; ?U; ?(?:Android)?(\\d+)\\.(\\d+)(?:[\\.\\-]([a-z0-9]+))?");e[1]="Android";e[2]=0;e[3]=0;e[4]=0;_.os[21]=e;e=Object.create(null);e[0]=new RegExp("(Silk-Accelerated=[a-z]{4,5})");e[1]="Android";e[2]=0;e[3]=0;e[4]=0;_.os[22]=e;e=Object.create(null);e[0]=new RegExp("(XBLWP7)");e[1]="Windows Phone";e[2]=0;e[3]=0;e[4]=0;_.os[23]=e;e=Object.create(null);e[0]=new RegExp("(Windows ?Mobile)");e[1]="Windows Mobile";e[2]=0;e[3]=0;e[4]=0;_.os[24]=e;e=Object.create(null);e[0]=new RegExp("(Windows (?:NT 5\\.2|NT 5\\.1))");e[1]="Windows";e[2]="XP";e[3]=0;e[4]=0;_.os[25]=e;e=Object.create(null);e[0]=new RegExp("(Windows NT 6\\.1)");e[1]="Windows";e[2]="7";e[3]=0;e[4]=0;_.os[26]=e;e=Object.create(null);e[0]=new RegExp("(Windows NT 6\\.0)");e[1]="Windows";e[2]="Vista";e[3]=0;e[4]=0;_.os[27]=e;e=Object.create(null);e[0]=new RegExp("(Win 9x 4\\.90)");e[1]="Windows";e[2]="ME";e[3]=0;e[4]=0;_.os[28]=e;e=Object.create(null);e[0]=new RegExp("(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000|Windows 3.1)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[29]=e;e=Object.create(null);e[0]=new RegExp("(Windows NT 6\\.2; ARM;)");e[1]="Windows";e[2]="RT";e[3]=0;e[4]=0;_.os[30]=e;e=Object.create(null);e[0]=new RegExp("(Windows NT 6\\.2)");e[1]="Windows";e[2]="8";e[3]=0;e[4]=0;_.os[31]=e;e=Object.create(null);e[0]=new RegExp("(Windows NT 6\\.3; ARM;)");e[1]="Windows";e[2]="RT 8.1";e[3]=0;e[4]=0;_.os[32]=e;e=Object.create(null);e[0]=new RegExp("(Windows NT 6\\.3)");e[1]="Windows";e[2]="8.1";e[3]=0;e[4]=0;_.os[33]=e;e=Object.create(null);e[0]=new RegExp("(Windows NT 6\\.4)");e[1]="Windows";e[2]="10";e[3]=0;e[4]=0;_.os[34]=e;e=Object.create(null);e[0]=new RegExp("(Windows NT 10\\.0)");e[1]="Windows";e[2]="10";e[3]=0;e[4]=0;_.os[35]=e;e=Object.create(null);e[0]=new RegExp("(Windows NT 5\\.0)");e[1]="Windows";e[2]="2000";e[3]=0;e[4]=0;_.os[36]=e;e=Object.create(null);e[0]=new RegExp("(WinNT4.0)");e[1]="Windows";e[2]="NT 4.0";e[3]=0;e[4]=0;_.os[37]=e;e=Object.create(null);e[0]=new RegExp("(Windows ?CE)");e[1]="Windows";e[2]="CE";e[3]=0;e[4]=0;_.os[38]=e;e=Object.create(null);e[0]=new RegExp("Win ?(95|98|3.1|NT|ME|2000)");e[1]="Windows";e[2]="$1";e[3]=0;e[4]=0;_.os[39]=e;e=Object.create(null);e[0]=new RegExp("Win16");e[1]="Windows";e[2]="3.1";e[3]=0;e[4]=0;_.os[40]=e;e=Object.create(null);e[0]=new RegExp("Win32");e[1]="Windows";e[2]="95";e[3]=0;e[4]=0;_.os[41]=e;e=Object.create(null);e[0]=new RegExp("^Box.*Windows/([\\d.]+);");e[1]="Windows";e[2]="$1";e[3]=0;e[4]=0;_.os[42]=e;e=Object.create(null);e[0]=new RegExp("(Tizen)[/ ](\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[43]=e;e=Object.create(null);e[0]=new RegExp("((?:Mac[ +]?|; )OS[ +]X)[\\s+/](?:(\\d+)[_.](\\d+)(?:[_.](\\d+))?|Mach-O)");e[1]="Mac OS X";e[2]=0;e[3]=0;e[4]=0;_.os[44]=e;e=Object.create(null);e[0]=new RegExp(" (Dar)(win)/(9).(\\d+).*\\((?:i386|x86_64|Power Macintosh)\\)");e[1]="Mac OS X";e[2]="10";e[3]="5";e[4]=0;_.os[45]=e;e=Object.create(null);e[0]=new RegExp(" (Dar)(win)/(10).(\\d+).*\\((?:i386|x86_64)\\)");e[1]="Mac OS X";e[2]="10";e[3]="6";e[4]=0;_.os[46]=e;e=Object.create(null);e[0]=new RegExp(" (Dar)(win)/(11).(\\d+).*\\((?:i386|x86_64)\\)");e[1]="Mac OS X";e[2]="10";e[3]="7";e[4]=0;_.os[47]=e;e=Object.create(null);e[0]=new RegExp(" (Dar)(win)/(12).(\\d+).*\\((?:i386|x86_64)\\)");e[1]="Mac OS X";e[2]="10";e[3]="8";e[4]=0;_.os[48]=e;e=Object.create(null);e[0]=new RegExp(" (Dar)(win)/(13).(\\d+).*\\((?:i386|x86_64)\\)");e[1]="Mac OS X";e[2]="10";e[3]="9";e[4]=0;_.os[49]=e;e=Object.create(null);e[0]=new RegExp("Mac_PowerPC");e[1]="Mac OS";e[2]=0;e[3]=0;e[4]=0;_.os[50]=e;e=Object.create(null);e[0]=new RegExp("(?:PPC|Intel) (Mac OS X)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[51]=e;e=Object.create(null);e[0]=new RegExp("^Box.*;(Darwin)/(10)\\.(1\\d)(?:\\.(\\d+))?");e[1]="Mac OS X";e[2]=0;e[3]=0;e[4]=0;_.os[52]=e;e=Object.create(null);e[0]=new RegExp("(Apple\\s?TV)(?:/(\\d+)\\.(\\d+))?");e[1]="ATV OS X";e[2]=0;e[3]=0;e[4]=0;_.os[53]=e;e=Object.create(null);e[0]=new RegExp("(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS)[ +]+(\\d+)[_\\.](\\d+)(?:[_\\.](\\d+))?");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[54]=e;e=Object.create(null);e[0]=new RegExp("(iPhone|iPad|iPod); Opera");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[55]=e;e=Object.create(null);e[0]=new RegExp("(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[56]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)/(5)48\\.0\\.3.* Darwin/11\\.0\\.0");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[57]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)/(5)48\\.(0)\\.4.* Darwin/(1)1\\.0\\.0");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[58]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)/(5)48\\.(1)\\.4");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[59]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)/(4)85\\.1(3)\\.9");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[60]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)/(6)09\\.(1)\\.4");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[61]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)/(6)(0)9");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[62]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)/6(7)2\\.(1)\\.13");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[63]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)/6(7)2\\.(1)\\.(1)4");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[64]=e;e=Object.create(null);e[0]=new RegExp("(CF)(Network)/6(7)(2)\\.1\\.15");e[1]="iOS";e[2]="7";e[3]="1";e[4]=0;_.os[65]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)/6(7)2\\.(0)\\.(?:2|8)");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[66]=e;e=Object.create(null);e[0]=new RegExp("(CFNetwork)/709\\.1");e[1]="iOS";e[2]="8";e[3]="0.b5";e[4]=0;_.os[67]=e;e=Object.create(null);e[0]=new RegExp("(CF)(Network)/711\\.(\\d)");e[1]="iOS";e[2]="8";e[3]=0;e[4]=0;_.os[68]=e;e=Object.create(null);e[0]=new RegExp("(CF)(Network)/(720)\\.(\\d)");e[1]="Mac OS X";e[2]="10";e[3]="10";e[4]=0;_.os[69]=e;e=Object.create(null);e[0]=new RegExp("(CF)(Network)/(760)\\.(\\d)");e[1]="Mac OS X";e[2]="10";e[3]="11";e[4]=0;_.os[70]=e;e=Object.create(null);e[0]=new RegExp("(CF)(Network)/758\\.(\\d)");e[1]="iOS";e[2]="9";e[3]=0;e[4]=0;_.os[71]=e;e=Object.create(null);e[0]=new RegExp("(CF)(Network)/808\\.(\\d)");e[1]="iOS";e[2]="10";e[3]=0;e[4]=0;_.os[72]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/.* Darwin/16\\.\\d+.*\\(x86_64\\)");e[1]="Mac OS X";e[2]="10";e[3]="12";e[4]=0;_.os[73]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/8.* Darwin/15\\.\\d+.*\\(x86_64\\)");e[1]="Mac OS X";e[2]="10";e[3]="11";e[4]=0;_.os[74]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/.* Darwin/(9)\\.\\d+");e[1]="iOS";e[2]="1";e[3]=0;e[4]=0;_.os[75]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/.* Darwin/(10)\\.\\d+");e[1]="iOS";e[2]="4";e[3]=0;e[4]=0;_.os[76]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/.* Darwin/(11)\\.\\d+");e[1]="iOS";e[2]="5";e[3]=0;e[4]=0;_.os[77]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/.* Darwin/(13)\\.\\d+");e[1]="iOS";e[2]="6";e[3]=0;e[4]=0;_.os[78]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/6.* Darwin/(14)\\.\\d+");e[1]="iOS";e[2]="7";e[3]=0;e[4]=0;_.os[79]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/7.* Darwin/(14)\\.\\d+");e[1]="iOS";e[2]="8";e[3]="0";e[4]=0;_.os[80]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/7.* Darwin/(15)\\.\\d+");e[1]="iOS";e[2]="9";e[3]="0";e[4]=0;_.os[81]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/8.* Darwin/16\\.5\\.\\d+");e[1]="iOS";e[2]="10";e[3]="3";e[4]=0;_.os[82]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/8.* Darwin/16\\.6\\.\\d+");e[1]="iOS";e[2]="10";e[3]="3";e[4]="2";_.os[83]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/8.* Darwin/16\\.7\\.\\d+");e[1]="iOS";e[2]="10";e[3]="3";e[4]="3";_.os[84]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/8.* Darwin/(16)\\.\\d+");e[1]="iOS";e[2]="10";e[3]=0;e[4]=0;_.os[85]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/8.* Darwin/17\\.0\\.\\d+");e[1]="iOS";e[2]="11";e[3]="0";e[4]=0;_.os[86]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/8.* Darwin/17\\.2\\.\\d+");e[1]="iOS";e[2]="11";e[3]="1";e[4]=0;_.os[87]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/8.* Darwin/17\\.3\\.\\d+");e[1]="iOS";e[2]="11";e[3]="2";e[4]=0;_.os[88]=e;e=Object.create(null);e[0]=new RegExp("CFNetwork/8.* Darwin/(17)\\.\\d+");e[1]="iOS";e[2]="11";e[3]=0;e[4]=0;_.os[89]=e;e=Object.create(null);e[0]=new RegExp("\\b(iOS[ /]|iOS; |iPhone(?:/| v|[ _]OS[/,]|; | OS : |\\d,\\d/|\\d,\\d; )|iPad/)(\\d{1,2})[_\\.](\\d{1,2})(?:[_\\.](\\d+))?");e[1]="iOS";e[2]=0;e[3]=0;e[4]=0;_.os[90]=e;e=Object.create(null);e[0]=new RegExp("\\((iOS);");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[91]=e;e=Object.create(null);e[0]=new RegExp("(tvOS)/(\\d+).(\\d+)");e[1]="tvOS";e[2]=0;e[3]=0;e[4]=0;_.os[92]=e;e=Object.create(null);e[0]=new RegExp("(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="Chrome OS";e[2]=0;e[3]=0;e[4]=0;_.os[93]=e;e=Object.create(null);e[0]=new RegExp("([Dd]ebian)");e[1]="Debian";e[2]=0;e[3]=0;e[4]=0;_.os[94]=e;e=Object.create(null);e[0]=new RegExp("(Linux Mint)(?:/(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[95]=e;e=Object.create(null);e[0]=new RegExp("(Mandriva)(?: Linux)?/(?:[\\d.-]+m[a-z]{2}(\\d+).(\\d))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[96]=e;e=Object.create(null);e[0]=new RegExp("(Symbian[Oo][Ss])[/ ](\\d+)\\.(\\d+)");e[1]="Symbian OS";e[2]=0;e[3]=0;e[4]=0;_.os[97]=e;e=Object.create(null);e[0]=new RegExp("(Symbian/3).+NokiaBrowser/7\\.3");e[1]="Symbian^3 Anna";e[2]=0;e[3]=0;e[4]=0;_.os[98]=e;e=Object.create(null);e[0]=new RegExp("(Symbian/3).+NokiaBrowser/7\\.4");e[1]="Symbian^3 Belle";e[2]=0;e[3]=0;e[4]=0;_.os[99]=e;e=Object.create(null);e[0]=new RegExp("(Symbian/3)");e[1]="Symbian^3";e[2]=0;e[3]=0;e[4]=0;_.os[100]=e;e=Object.create(null);e[0]=new RegExp("\\b(Series 60|SymbOS|S60Version|S60V\\d|S60\\b)");e[1]="Symbian OS";e[2]=0;e[3]=0;e[4]=0;_.os[101]=e;e=Object.create(null);e[0]=new RegExp("(MeeGo)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[102]=e;e=Object.create(null);e[0]=new RegExp("Symbian [Oo][Ss]");e[1]="Symbian OS";e[2]=0;e[3]=0;e[4]=0;_.os[103]=e;e=Object.create(null);e[0]=new RegExp("Series40;");e[1]="Nokia Series 40";e[2]=0;e[3]=0;e[4]=0;_.os[104]=e;e=Object.create(null);e[0]=new RegExp("Series30Plus;");e[1]="Nokia Series 30 Plus";e[2]=0;e[3]=0;e[4]=0;_.os[105]=e;e=Object.create(null);e[0]=new RegExp("(BB10);.+Version/(\\d+)\\.(\\d+)\\.(\\d+)");e[1]="BlackBerry OS";e[2]=0;e[3]=0;e[4]=0;_.os[106]=e;e=Object.create(null);e[0]=new RegExp("(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="BlackBerry OS";e[2]=0;e[3]=0;e[4]=0;_.os[107]=e;e=Object.create(null);e[0]=new RegExp("(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="BlackBerry OS";e[2]=0;e[3]=0;e[4]=0;_.os[108]=e;e=Object.create(null);e[0]=new RegExp("(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)");e[1]="BlackBerry Tablet OS";e[2]=0;e[3]=0;e[4]=0;_.os[109]=e;e=Object.create(null);e[0]=new RegExp("(Play[Bb]ook)");e[1]="BlackBerry Tablet OS";e[2]=0;e[3]=0;e[4]=0;_.os[110]=e;e=Object.create(null);e[0]=new RegExp("(Black[Bb]erry)");e[1]="BlackBerry OS";e[2]=0;e[3]=0;e[4]=0;_.os[111]=e;e=Object.create(null);e[0]=new RegExp("\\((?:Mobile|Tablet);.+Gecko/18.0 Firefox/\\d+\\.\\d+");e[1]="Firefox OS";e[2]="1";e[3]="0";e[4]="1";_.os[112]=e;e=Object.create(null);e[0]=new RegExp("\\((?:Mobile|Tablet);.+Gecko/18.1 Firefox/\\d+\\.\\d+");e[1]="Firefox OS";e[2]="1";e[3]="1";e[4]=0;_.os[113]=e;e=Object.create(null);e[0]=new RegExp("\\((?:Mobile|Tablet);.+Gecko/26.0 Firefox/\\d+\\.\\d+");e[1]="Firefox OS";e[2]="1";e[3]="2";e[4]=0;_.os[114]=e;e=Object.create(null);e[0]=new RegExp("\\((?:Mobile|Tablet);.+Gecko/28.0 Firefox/\\d+\\.\\d+");e[1]="Firefox OS";e[2]="1";e[3]="3";e[4]=0;_.os[115]=e;e=Object.create(null);e[0]=new RegExp("\\((?:Mobile|Tablet);.+Gecko/30.0 Firefox/\\d+\\.\\d+");e[1]="Firefox OS";e[2]="1";e[3]="4";e[4]=0;_.os[116]=e;e=Object.create(null);e[0]=new RegExp("\\((?:Mobile|Tablet);.+Gecko/32.0 Firefox/\\d+\\.\\d+");e[1]="Firefox OS";e[2]="2";e[3]="0";e[4]=0;_.os[117]=e;e=Object.create(null);e[0]=new RegExp("\\((?:Mobile|Tablet);.+Gecko/34.0 Firefox/\\d+\\.\\d+");e[1]="Firefox OS";e[2]="2";e[3]="1";e[4]=0;_.os[118]=e;e=Object.create(null);e[0]=new RegExp("\\((?:Mobile|Tablet);.+Firefox/\\d+\\.\\d+");e[1]="Firefox OS";e[2]=0;e[3]=0;e[4]=0;_.os[119]=e;e=Object.create(null);e[0]=new RegExp("(BREW)[ /](\\d+)\\.(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[120]=e;e=Object.create(null);e[0]=new RegExp("(BREW);");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[121]=e;e=Object.create(null);e[0]=new RegExp("(Brew MP|BMP)[ /](\\d+)\\.(\\d+)\\.(\\d+)");e[1]="Brew MP";e[2]=0;e[3]=0;e[4]=0;_.os[122]=e;e=Object.create(null);e[0]=new RegExp("BMP;");e[1]="Brew MP";e[2]=0;e[3]=0;e[4]=0;_.os[123]=e;e=Object.create(null);e[0]=new RegExp("(GoogleTV)(?: (\\d+)\\.(\\d+)(?:\\.(\\d+))?|/[\\da-z]+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[124]=e;e=Object.create(null);e[0]=new RegExp("(WebTV)/(\\d+).(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[125]=e;e=Object.create(null);e[0]=new RegExp("(CrKey)(?:[/](\\d+)\\.(\\d+)(?:\\.(\\d+))?)?");e[1]="Chromecast";e[2]=0;e[3]=0;e[4]=0;_.os[126]=e;e=Object.create(null);e[0]=new RegExp("(hpw|web)OS/(\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]="webOS";e[2]=0;e[3]=0;e[4]=0;_.os[127]=e;e=Object.create(null);e[0]=new RegExp("(VRE);");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[128]=e;e=Object.create(null);e[0]=new RegExp("(Fedora|Red Hat|PCLinuxOS|Puppy|Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Slackware|(?:Free|Open|Net|\\b)BSD)[/ ](\\d+)\\.(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[129]=e;e=Object.create(null);e[0]=new RegExp("(Linux)[ /](\\d+)\\.(\\d+)(?:\\.(\\d+))?.*gentoo");e[1]="Gentoo";e[2]=0;e[3]=0;e[4]=0;_.os[130]=e;e=Object.create(null);e[0]=new RegExp("\\((Bada);");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[131]=e;e=Object.create(null);e[0]=new RegExp("(Windows|Android|WeTab|Maemo|Web0S)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[132]=e;e=Object.create(null);e[0]=new RegExp("(Ubuntu|Kubuntu|Arch Linux|CentOS|Slackware|Gentoo|openSUSE|SUSE|Red Hat|Fedora|PCLinuxOS|Mageia|(?:Free|Open|Net|\\b)BSD)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[133]=e;e=Object.create(null);e[0]=new RegExp("(Linux)(?:[ /](\\d+)\\.(\\d+)(?:\\.(\\d+))?)?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[134]=e;e=Object.create(null);e[0]=new RegExp("SunOS");e[1]="Solaris";e[2]=0;e[3]=0;e[4]=0;_.os[135]=e;e=Object.create(null);e[0]=new RegExp("^(Roku)/DVP-(\\d+)\\.(\\d+)");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[136]=e;e=Object.create(null);e[0]=new RegExp("(iOS) (\\d+)\\.(\\d+)(?:\\.(\\d+))?");e[1]=0;e[2]=0;e[3]=0;e[4]=0;_.os[137]=e;_.os.length=138});var oS=ve((i9,a8)=>{a8.exports=[{name:"nodejs",version:"0.2.0",date:"2011-08-26",lts:!1,security:!1},{name:"nodejs",version:"0.3.0",date:"2011-08-26",lts:!1,security:!1},{name:"nodejs",version:"0.4.0",date:"2011-08-26",lts:!1,security:!1},{name:"nodejs",version:"0.5.0",date:"2011-08-26",lts:!1,security:!1},{name:"nodejs",version:"0.6.0",date:"2011-11-04",lts:!1,security:!1},{name:"nodejs",version:"0.7.0",date:"2012-01-17",lts:!1,security:!1},{name:"nodejs",version:"0.8.0",date:"2012-06-22",lts:!1,security:!1},{name:"nodejs",version:"0.9.0",date:"2012-07-20",lts:!1,security:!1},{name:"nodejs",version:"0.10.0",date:"2013-03-11",lts:!1,security:!1},{name:"nodejs",version:"0.11.0",date:"2013-03-28",lts:!1,security:!1},{name:"nodejs",version:"0.12.0",date:"2015-02-06",lts:!1,security:!1},{name:"iojs",version:"1.0.0",date:"2015-01-14"},{name:"iojs",version:"1.1.0",date:"2015-02-03"},{name:"iojs",version:"1.2.0",date:"2015-02-11"},{name:"iojs",version:"1.3.0",date:"2015-02-20"},{name:"iojs",version:"1.5.0",date:"2015-03-06"},{name:"iojs",version:"1.6.0",date:"2015-03-20"},{name:"iojs",version:"2.0.0",date:"2015-05-04"},{name:"iojs",version:"2.1.0",date:"2015-05-24"},{name:"iojs",version:"2.2.0",date:"2015-06-01"},{name:"iojs",version:"2.3.0",date:"2015-06-13"},{name:"iojs",version:"2.4.0",date:"2015-07-17"},{name:"iojs",version:"2.5.0",date:"2015-07-28"},{name:"iojs",version:"3.0.0",date:"2015-08-04"},{name:"iojs",version:"3.1.0",date:"2015-08-19"},{name:"iojs",version:"3.2.0",date:"2015-08-25"},{name:"iojs",version:"3.3.0",date:"2015-09-02"},{name:"nodejs",version:"4.0.0",date:"2015-09-08",lts:!1,security:!1},{name:"nodejs",version:"4.1.0",date:"2015-09-17",lts:!1,security:!1},{name:"nodejs",version:"4.2.0",date:"2015-10-12",lts:"Argon",security:!1},{name:"nodejs",version:"4.3.0",date:"2016-02-09",lts:"Argon",security:!1},{name:"nodejs",version:"4.4.0",date:"2016-03-08",lts:"Argon",security:!1},{name:"nodejs",version:"4.5.0",date:"2016-08-16",lts:"Argon",security:!1},{name:"nodejs",version:"4.6.0",date:"2016-09-27",lts:"Argon",security:!0},{name:"nodejs",version:"4.7.0",date:"2016-12-06",lts:"Argon",security:!1},{name:"nodejs",version:"4.8.0",date:"2017-02-21",lts:"Argon",security:!1},{name:"nodejs",version:"4.9.0",date:"2018-03-28",lts:"Argon",security:!0},{name:"nodejs",version:"5.0.0",date:"2015-10-29",lts:!1,security:!1},{name:"nodejs",version:"5.1.0",date:"2015-11-17",lts:!1,security:!1},{name:"nodejs",version:"5.2.0",date:"2015-12-09",lts:!1,security:!1},{name:"nodejs",version:"5.3.0",date:"2015-12-15",lts:!1,security:!1},{name:"nodejs",version:"5.4.0",date:"2016-01-06",lts:!1,security:!1},{name:"nodejs",version:"5.5.0",date:"2016-01-21",lts:!1,security:!1},{name:"nodejs",version:"5.6.0",date:"2016-02-09",lts:!1,security:!1},{name:"nodejs",version:"5.7.0",date:"2016-02-23",lts:!1,security:!1},{name:"nodejs",version:"5.8.0",date:"2016-03-09",lts:!1,security:!1},{name:"nodejs",version:"5.9.0",date:"2016-03-16",lts:!1,security:!1},{name:"nodejs",version:"5.10.0",date:"2016-04-01",lts:!1,security:!1},{name:"nodejs",version:"5.11.0",date:"2016-04-21",lts:!1,security:!1},{name:"nodejs",version:"5.12.0",date:"2016-06-23",lts:!1,security:!1},{name:"nodejs",version:"6.0.0",date:"2016-04-26",lts:!1,security:!1},{name:"nodejs",version:"6.1.0",date:"2016-05-05",lts:!1,security:!1},{name:"nodejs",version:"6.2.0",date:"2016-05-17",lts:!1,security:!1},{name:"nodejs",version:"6.3.0",date:"2016-07-06",lts:!1,security:!1},{name:"nodejs",version:"6.4.0",date:"2016-08-12",lts:!1,security:!1},{name:"nodejs",version:"6.5.0",date:"2016-08-26",lts:!1,security:!1},{name:"nodejs",version:"6.6.0",date:"2016-09-14",lts:!1,security:!1},{name:"nodejs",version:"6.7.0",date:"2016-09-27",lts:!1,security:!0},{name:"nodejs",version:"6.8.0",date:"2016-10-12",lts:!1,security:!1},{name:"nodejs",version:"6.9.0",date:"2016-10-18",lts:"Boron",security:!1},{name:"nodejs",version:"6.10.0",date:"2017-02-21",lts:"Boron",security:!1},{name:"nodejs",version:"6.11.0",date:"2017-06-06",lts:"Boron",security:!1},{name:"nodejs",version:"6.12.0",date:"2017-11-06",lts:"Boron",security:!1},{name:"nodejs",version:"6.13.0",date:"2018-02-10",lts:"Boron",security:!1},{name:"nodejs",version:"6.14.0",date:"2018-03-28",lts:"Boron",security:!0},{name:"nodejs",version:"6.15.0",date:"2018-11-27",lts:"Boron",security:!0},{name:"nodejs",version:"6.16.0",date:"2018-12-26",lts:"Boron",security:!1},{name:"nodejs",version:"6.17.0",date:"2019-02-28",lts:"Boron",security:!0},{name:"nodejs",version:"7.0.0",date:"2016-10-25",lts:!1,security:!1},{name:"nodejs",version:"7.1.0",date:"2016-11-08",lts:!1,security:!1},{name:"nodejs",version:"7.2.0",date:"2016-11-22",lts:!1,security:!1},{name:"nodejs",version:"7.3.0",date:"2016-12-20",lts:!1,security:!1},{name:"nodejs",version:"7.4.0",date:"2017-01-04",lts:!1,security:!1},{name:"nodejs",version:"7.5.0",date:"2017-01-31",lts:!1,security:!1},{name:"nodejs",version:"7.6.0",date:"2017-02-21",lts:!1,security:!1},{name:"nodejs",version:"7.7.0",date:"2017-02-28",lts:!1,security:!1},{name:"nodejs",version:"7.8.0",date:"2017-03-29",lts:!1,security:!1},{name:"nodejs",version:"7.9.0",date:"2017-04-11",lts:!1,security:!1},{name:"nodejs",version:"7.10.0",date:"2017-05-02",lts:!1,security:!1},{name:"nodejs",version:"8.0.0",date:"2017-05-30",lts:!1,security:!1},{name:"nodejs",version:"8.1.0",date:"2017-06-08",lts:!1,security:!1},{name:"nodejs",version:"8.2.0",date:"2017-07-19",lts:!1,security:!1},{name:"nodejs",version:"8.3.0",date:"2017-08-08",lts:!1,security:!1},{name:"nodejs",version:"8.4.0",date:"2017-08-15",lts:!1,security:!1},{name:"nodejs",version:"8.5.0",date:"2017-09-12",lts:!1,security:!1},{name:"nodejs",version:"8.6.0",date:"2017-09-26",lts:!1,security:!1},{name:"nodejs",version:"8.7.0",date:"2017-10-11",lts:!1,security:!1},{name:"nodejs",version:"8.8.0",date:"2017-10-24",lts:!1,security:!1},{name:"nodejs",version:"8.9.0",date:"2017-10-31",lts:"Carbon",security:!1},{name:"nodejs",version:"8.10.0",date:"2018-03-06",lts:"Carbon",security:!1},{name:"nodejs",version:"8.11.0",date:"2018-03-28",lts:"Carbon",security:!0},{name:"nodejs",version:"8.12.0",date:"2018-09-10",lts:"Carbon",security:!1},{name:"nodejs",version:"8.13.0",date:"2018-11-20",lts:"Carbon",security:!1},{name:"nodejs",version:"8.14.0",date:"2018-11-27",lts:"Carbon",security:!0},{name:"nodejs",version:"8.15.0",date:"2018-12-26",lts:"Carbon",security:!1},{name:"nodejs",version:"8.16.0",date:"2019-04-16",lts:"Carbon",security:!1},{name:"nodejs",version:"8.17.0",date:"2019-12-17",lts:"Carbon",security:!0},{name:"nodejs",version:"9.0.0",date:"2017-10-31",lts:!1,security:!1},{name:"nodejs",version:"9.1.0",date:"2017-11-07",lts:!1,security:!1},{name:"nodejs",version:"9.2.0",date:"2017-11-14",lts:!1,security:!1},{name:"nodejs",version:"9.3.0",date:"2017-12-12",lts:!1,security:!1},{name:"nodejs",version:"9.4.0",date:"2018-01-10",lts:!1,security:!1},{name:"nodejs",version:"9.5.0",date:"2018-01-31",lts:!1,security:!1},{name:"nodejs",version:"9.6.0",date:"2018-02-21",lts:!1,security:!1},{name:"nodejs",version:"9.7.0",date:"2018-03-01",lts:!1,security:!1},{name:"nodejs",version:"9.8.0",date:"2018-03-07",lts:!1,security:!1},{name:"nodejs",version:"9.9.0",date:"2018-03-21",lts:!1,security:!1},{name:"nodejs",version:"9.10.0",date:"2018-03-28",lts:!1,security:!0},{name:"nodejs",version:"9.11.0",date:"2018-04-04",lts:!1,security:!1},{name:"nodejs",version:"10.0.0",date:"2018-04-24",lts:!1,security:!1},{name:"nodejs",version:"10.1.0",date:"2018-05-08",lts:!1,security:!1},{name:"nodejs",version:"10.2.0",date:"2018-05-23",lts:!1,security:!1},{name:"nodejs",version:"10.3.0",date:"2018-05-29",lts:!1,security:!1},{name:"nodejs",version:"10.4.0",date:"2018-06-06",lts:!1,security:!1},{name:"nodejs",version:"10.5.0",date:"2018-06-20",lts:!1,security:!1},{name:"nodejs",version:"10.6.0",date:"2018-07-04",lts:!1,security:!1},{name:"nodejs",version:"10.7.0",date:"2018-07-18",lts:!1,security:!1},{name:"nodejs",version:"10.8.0",date:"2018-08-01",lts:!1,security:!1},{name:"nodejs",version:"10.9.0",date:"2018-08-15",lts:!1,security:!1},{name:"nodejs",version:"10.10.0",date:"2018-09-06",lts:!1,security:!1},{name:"nodejs",version:"10.11.0",date:"2018-09-19",lts:!1,security:!1},{name:"nodejs",version:"10.12.0",date:"2018-10-10",lts:!1,security:!1},{name:"nodejs",version:"10.13.0",date:"2018-10-30",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.14.0",date:"2018-11-27",lts:"Dubnium",security:!0},{name:"nodejs",version:"10.15.0",date:"2018-12-26",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.16.0",date:"2019-05-28",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.17.0",date:"2019-10-22",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.18.0",date:"2019-12-17",lts:"Dubnium",security:!0},{name:"nodejs",version:"10.19.0",date:"2020-02-05",lts:"Dubnium",security:!0},{name:"nodejs",version:"10.20.0",date:"2020-03-26",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.21.0",date:"2020-06-02",lts:"Dubnium",security:!0},{name:"nodejs",version:"10.22.0",date:"2020-07-21",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.23.0",date:"2020-10-27",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.24.0",date:"2021-02-23",lts:"Dubnium",security:!0},{name:"nodejs",version:"11.0.0",date:"2018-10-23",lts:!1,security:!1},{name:"nodejs",version:"11.1.0",date:"2018-10-30",lts:!1,security:!1},{name:"nodejs",version:"11.2.0",date:"2018-11-15",lts:!1,security:!1},{name:"nodejs",version:"11.3.0",date:"2018-11-27",lts:!1,security:!0},{name:"nodejs",version:"11.4.0",date:"2018-12-07",lts:!1,security:!1},{name:"nodejs",version:"11.5.0",date:"2018-12-18",lts:!1,security:!1},{name:"nodejs",version:"11.6.0",date:"2018-12-26",lts:!1,security:!1},{name:"nodejs",version:"11.7.0",date:"2019-01-17",lts:!1,security:!1},{name:"nodejs",version:"11.8.0",date:"2019-01-24",lts:!1,security:!1},{name:"nodejs",version:"11.9.0",date:"2019-01-30",lts:!1,security:!1},{name:"nodejs",version:"11.10.0",date:"2019-02-14",lts:!1,security:!1},{name:"nodejs",version:"11.11.0",date:"2019-03-05",lts:!1,security:!1},{name:"nodejs",version:"11.12.0",date:"2019-03-14",lts:!1,security:!1},{name:"nodejs",version:"11.13.0",date:"2019-03-28",lts:!1,security:!1},{name:"nodejs",version:"11.14.0",date:"2019-04-10",lts:!1,security:!1},{name:"nodejs",version:"11.15.0",date:"2019-04-30",lts:!1,security:!1},{name:"nodejs",version:"12.0.0",date:"2019-04-23",lts:!1,security:!1},{name:"nodejs",version:"12.1.0",date:"2019-04-29",lts:!1,security:!1},{name:"nodejs",version:"12.2.0",date:"2019-05-07",lts:!1,security:!1},{name:"nodejs",version:"12.3.0",date:"2019-05-21",lts:!1,security:!1},{name:"nodejs",version:"12.4.0",date:"2019-06-04",lts:!1,security:!1},{name:"nodejs",version:"12.5.0",date:"2019-06-26",lts:!1,security:!1},{name:"nodejs",version:"12.6.0",date:"2019-07-03",lts:!1,security:!1},{name:"nodejs",version:"12.7.0",date:"2019-07-23",lts:!1,security:!1},{name:"nodejs",version:"12.8.0",date:"2019-08-06",lts:!1,security:!1},{name:"nodejs",version:"12.9.0",date:"2019-08-20",lts:!1,security:!1},{name:"nodejs",version:"12.10.0",date:"2019-09-04",lts:!1,security:!1},{name:"nodejs",version:"12.11.0",date:"2019-09-25",lts:!1,security:!1},{name:"nodejs",version:"12.12.0",date:"2019-10-11",lts:!1,security:!1},{name:"nodejs",version:"12.13.0",date:"2019-10-21",lts:"Erbium",security:!1},{name:"nodejs",version:"12.14.0",date:"2019-12-17",lts:"Erbium",security:!0},{name:"nodejs",version:"12.15.0",date:"2020-02-05",lts:"Erbium",security:!0},{name:"nodejs",version:"12.16.0",date:"2020-02-11",lts:"Erbium",security:!1},{name:"nodejs",version:"12.17.0",date:"2020-05-26",lts:"Erbium",security:!1},{name:"nodejs",version:"12.18.0",date:"2020-06-02",lts:"Erbium",security:!0},{name:"nodejs",version:"12.19.0",date:"2020-10-06",lts:"Erbium",security:!1},{name:"nodejs",version:"12.20.0",date:"2020-11-24",lts:"Erbium",security:!1},{name:"nodejs",version:"12.21.0",date:"2021-02-23",lts:"Erbium",security:!0},{name:"nodejs",version:"13.0.0",date:"2019-10-22",lts:!1,security:!1},{name:"nodejs",version:"13.1.0",date:"2019-11-05",lts:!1,security:!1},{name:"nodejs",version:"13.2.0",date:"2019-11-21",lts:!1,security:!1},{name:"nodejs",version:"13.3.0",date:"2019-12-03",lts:!1,security:!1},{name:"nodejs",version:"13.4.0",date:"2019-12-17",lts:!1,security:!0},{name:"nodejs",version:"13.5.0",date:"2019-12-18",lts:!1,security:!1},{name:"nodejs",version:"13.6.0",date:"2020-01-07",lts:!1,security:!1},{name:"nodejs",version:"13.7.0",date:"2020-01-21",lts:!1,security:!1},{name:"nodejs",version:"13.8.0",date:"2020-02-05",lts:!1,security:!0},{name:"nodejs",version:"13.9.0",date:"2020-02-18",lts:!1,security:!1},{name:"nodejs",version:"13.10.0",date:"2020-03-04",lts:!1,security:!1},{name:"nodejs",version:"13.11.0",date:"2020-03-12",lts:!1,security:!1},{name:"nodejs",version:"13.12.0",date:"2020-03-26",lts:!1,security:!1},{name:"nodejs",version:"13.13.0",date:"2020-04-14",lts:!1,security:!1},{name:"nodejs",version:"13.14.0",date:"2020-04-29",lts:!1,security:!1},{name:"nodejs",version:"14.0.0",date:"2020-04-21",lts:!1,security:!1},{name:"nodejs",version:"14.1.0",date:"2020-04-29",lts:!1,security:!1},{name:"nodejs",version:"14.2.0",date:"2020-05-05",lts:!1,security:!1},{name:"nodejs",version:"14.3.0",date:"2020-05-19",lts:!1,security:!1},{name:"nodejs",version:"14.4.0",date:"2020-06-02",lts:!1,security:!0},{name:"nodejs",version:"14.5.0",date:"2020-06-30",lts:!1,security:!1},{name:"nodejs",version:"14.6.0",date:"2020-07-20",lts:!1,security:!1},{name:"nodejs",version:"14.7.0",date:"2020-07-29",lts:!1,security:!1},{name:"nodejs",version:"14.8.0",date:"2020-08-11",lts:!1,security:!1},{name:"nodejs",version:"14.9.0",date:"2020-08-27",lts:!1,security:!1},{name:"nodejs",version:"14.10.0",date:"2020-09-08",lts:!1,security:!1},{name:"nodejs",version:"14.11.0",date:"2020-09-15",lts:!1,security:!0},{name:"nodejs",version:"14.12.0",date:"2020-09-22",lts:!1,security:!1},{name:"nodejs",version:"14.13.0",date:"2020-09-29",lts:!1,security:!1},{name:"nodejs",version:"14.14.0",date:"2020-10-15",lts:!1,security:!1},{name:"nodejs",version:"14.15.0",date:"2020-10-27",lts:"Fermium",security:!1},{name:"nodejs",version:"14.16.0",date:"2021-02-23",lts:"Fermium",security:!0},{name:"nodejs",version:"15.0.0",date:"2020-10-20",lts:!1,security:!1},{name:"nodejs",version:"15.1.0",date:"2020-11-04",lts:!1,security:!1},{name:"nodejs",version:"15.2.0",date:"2020-11-10",lts:!1,security:!1},{name:"nodejs",version:"15.3.0",date:"2020-11-24",lts:!1,security:!1},{name:"nodejs",version:"15.4.0",date:"2020-12-09",lts:!1,security:!1},{name:"nodejs",version:"15.5.0",date:"2020-12-22",lts:!1,security:!1},{name:"nodejs",version:"15.6.0",date:"2021-01-14",lts:!1,security:!1},{name:"nodejs",version:"15.7.0",date:"2021-01-25",lts:!1,security:!1},{name:"nodejs",version:"15.8.0",date:"2021-02-02",lts:!1,security:!1},{name:"nodejs",version:"15.9.0",date:"2021-02-18",lts:!1,security:!1},{name:"nodejs",version:"15.10.0",date:"2021-02-23",lts:!1,security:!0}]});var aS=ve((r9,sS)=>{H();sS.exports={A:"ie",B:"edge",C:"firefox",D:"chrome",E:"safari",F:"opera",G:"ios_saf",H:"op_mini",I:"android",J:"bb",K:"op_mob",L:"and_chr",M:"and_ff",N:"ie_mob",O:"and_uc",P:"samsung",Q:"and_qq",R:"baidu",S:"kaios"}});var cS=ve((o9,lS)=>{H();lS.exports.browsers=aS()});var dS=ve((s9,uS)=>{H();uS.exports={"0":"43","1":"44","2":"45","3":"46","4":"47","5":"48","6":"49","7":"50","8":"51","9":"52",A:"10",B:"11",C:"12",D:"7",E:"8",F:"9",G:"15",H:"91",I:"4",J:"6",K:"13",L:"14",M:"16",N:"17",O:"18",P:"89",Q:"62",R:"79",S:"80",T:"81",U:"83",V:"84",W:"85",X:"86",Y:"87",Z:"88",a:"90",b:"5",c:"19",d:"20",e:"21",f:"22",g:"23",h:"24",i:"25",j:"26",k:"27",l:"28",m:"29",n:"30",o:"31",p:"32",q:"33",r:"34",s:"35",t:"36",u:"37",v:"38",w:"39",x:"40",y:"41",z:"42",AB:"53",BB:"54",CB:"55",DB:"56",EB:"57",FB:"58",GB:"60",HB:"63",IB:"64",JB:"65",KB:"66",LB:"67",MB:"68",NB:"69",OB:"70",PB:"71",QB:"72",RB:"73",SB:"74",TB:"75",UB:"76",VB:"11.1",WB:"12.1",XB:"3",YB:"59",ZB:"61",aB:"77",bB:"78",cB:"3.2",dB:"10.1",eB:"11.5",fB:"4.2-4.3",gB:"5.5",hB:"2",iB:"82",jB:"3.5",kB:"3.6",lB:"92",mB:"93",nB:"94",oB:"3.1",pB:"5.1",qB:"6.1",rB:"7.1",sB:"9.1",tB:"13.1",uB:"14.1",vB:"TP",wB:"9.5-9.6",xB:"10.0-10.1",yB:"10.5",zB:"10.6","0B":"11.6","1B":"4.0-4.1","2B":"5.0-5.1","3B":"6.0-6.1","4B":"7.0-7.1","5B":"8.1-8.4","6B":"9.0-9.2","7B":"9.3","8B":"10.0-10.2","9B":"10.3",AC:"11.0-11.2",BC:"11.3-11.4",CC:"12.0-12.1",DC:"12.2-12.4",EC:"13.0-13.1",FC:"13.2",GC:"13.3",HC:"13.4-13.7",IC:"14.0-14.4",JC:"14.5-14.6",KC:"all",LC:"2.1",MC:"2.2",NC:"2.3",OC:"4.1",PC:"4.4",QC:"4.4.3-4.4.4",RC:"12.12",SC:"5.0-5.4",TC:"6.2-6.4",UC:"7.2-7.4",VC:"8.2",WC:"9.2",XC:"11.1-11.2",YC:"12.0",ZC:"13.0",aC:"14.0",bC:"10.4",cC:"7.12",dC:"2.5"}});var fS=ve((a9,hS)=>{H();hS.exports.browserVersions=dS()});var gS=ve((l9,pS)=>{H();pS.exports={A:{A:{J:.0131217,D:.00621152,E:.0199047,F:.0928884,A:.0132698,B:.849265,gB:.009298},B:"ms",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","gB","J","D","E","F","A","B","","",""],E:"IE",F:{gB:962323200,J:998870400,D:1161129600,E:1237420800,F:1300060800,A:1346716800,B:1381968e3}},B:{A:{C:.008408,K:.004267,L:.004204,G:.004204,M:.008408,N:.033632,O:.092488,R:0,S:.004298,T:.00944,U:.00415,V:.008408,W:.008408,X:.012612,Y:.012612,Z:.016816,P:.079876,a:3.01006,H:.2102},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","C","K","L","G","M","N","O","R","S","T","U","V","W","X","Y","Z","P","a","H","","",""],E:"Edge",F:{C:1438128e3,K:1447286400,L:1470096e3,G:1491868800,M:1508198400,N:1525046400,O:1542067200,R:1579046400,S:1581033600,T:1586736e3,U:1590019200,V:1594857600,W:1598486400,X:1602201600,Y:1605830400,Z:161136e4,P:1614816e3,a:1618358400,H:1622073600},D:{C:"ms",K:"ms",L:"ms",G:"ms",M:"ms",N:"ms",O:"ms"}},C:{A:{"0":.058856,"1":.004204,"2":.004204,"3":.004525,"4":.004271,"5":.008408,"6":.004538,"7":.004267,"8":.004204,"9":.071468,hB:.012813,XB:.004271,I:.02102,b:.004879,J:.020136,D:.005725,E:.004525,F:.00533,A:.004283,B:.008408,C:.004471,K:.004486,L:.00453,G:.008542,M:.004417,N:.004425,O:.008542,c:.004443,d:.004283,e:.008542,f:.013698,g:.008542,h:.008786,i:.017084,j:.004317,k:.004393,l:.004418,m:.008834,n:.008542,o:.008928,p:.004471,q:.009284,r:.004707,s:.009076,t:.004425,u:.004783,v:.004271,w:.004783,x:.00487,y:.005029,z:.0047,AB:.004335,BB:.004204,CB:.004204,DB:.012612,EB:.004425,FB:.004204,YB:.004204,GB:.008408,ZB:.00472,Q:.004425,HB:.02102,IB:.00415,JB:.004267,KB:.008408,LB:.004267,MB:.012612,NB:.00415,OB:.004204,PB:.004425,QB:.008408,RB:.00415,SB:.00415,TB:.008542,UB:.004298,aB:.004204,bB:.14714,R:.008408,S:.008408,T:.012612,iB:.016816,U:.012612,V:.025224,W:.02102,X:.033632,Y:.071468,Z:2.3122,P:.029428,a:0,H:0,jB:.008786,kB:.00487},B:"moz",C:["hB","XB","jB","kB","I","b","J","D","E","F","A","B","C","K","L","G","M","N","O","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","AB","BB","CB","DB","EB","FB","YB","GB","ZB","Q","HB","IB","JB","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB","UB","aB","bB","R","S","T","iB","U","V","W","X","Y","Z","P","a","H",""],E:"Firefox",F:{"0":1450137600,"1":1453852800,"2":1457395200,"3":1461628800,"4":1465257600,"5":1470096e3,"6":1474329600,"7":1479168e3,"8":1485216e3,"9":1488844800,hB:1161648e3,XB:1213660800,jB:124632e4,kB:1264032e3,I:1300752e3,b:1308614400,J:1313452800,D:1317081600,E:1317081600,F:1320710400,A:1324339200,B:1327968e3,C:1331596800,K:1335225600,L:1338854400,G:1342483200,M:1346112e3,N:1349740800,O:1353628800,c:1357603200,d:1361232e3,e:1364860800,f:1368489600,g:1372118400,h:1375747200,i:1379376e3,j:1386633600,k:1391472e3,l:1395100800,m:1398729600,n:1402358400,o:1405987200,p:1409616e3,q:1413244800,r:1417392e3,s:1421107200,t:1424736e3,u:1428278400,v:1431475200,w:1435881600,x:1439251200,y:144288e4,z:1446508800,AB:149256e4,BB:1497312e3,CB:1502150400,DB:1506556800,EB:1510617600,FB:1516665600,YB:1520985600,GB:1525824e3,ZB:1529971200,Q:1536105600,HB:1540252800,IB:1544486400,JB:154872e4,KB:1552953600,LB:1558396800,MB:1562630400,NB:1567468800,OB:1571788800,PB:1575331200,QB:1578355200,RB:1581379200,SB:1583798400,TB:1586304e3,UB:1588636800,aB:1591056e3,bB:1593475200,R:1595894400,S:1598313600,T:1600732800,iB:1603152e3,U:1605571200,V:1607990400,W:1611619200,X:1614038400,Y:1616457600,Z:1618790400,P:1622505600,a:null,H:null}},D:{A:{"0":.008408,"1":.004465,"2":.004642,"3":.004891,"4":.008408,"5":.02102,"6":.214404,"7":.004204,"8":.016816,"9":.004204,I:.004706,b:.004879,J:.004879,D:.005591,E:.005591,F:.005591,A:.004534,B:.004464,C:.010424,K:.0083,L:.004706,G:.015087,M:.004393,N:.004393,O:.008652,c:.008542,d:.004393,e:.004317,f:.012612,g:.008786,h:.008408,i:.004461,j:.004298,k:.004326,l:.0047,m:.004538,n:.008542,o:.008596,p:.004566,q:.004204,r:.008408,s:.012612,t:.004335,u:.004464,v:.025224,w:.004464,x:.012612,y:.0236,z:.004403,AB:.058856,BB:.008408,CB:.012612,DB:.04204,EB:.008408,FB:.008408,YB:.008408,GB:.016816,ZB:.121916,Q:.008408,HB:.02102,IB:.025224,JB:.02102,KB:.02102,LB:.033632,MB:.029428,NB:.067264,OB:.071468,PB:.025224,QB:.058856,RB:.02102,SB:.113508,TB:.092488,UB:.067264,aB:.029428,bB:.075672,R:.18918,S:.1051,T:.079876,U:.130324,V:.100896,W:.243832,X:.16816,Y:.311096,Z:.344728,P:1.0468,a:21.4866,H:.790352,lB:.025224,mB:.004204,nB:0},B:"webkit",C:["","","","I","b","J","D","E","F","A","B","C","K","L","G","M","N","O","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","AB","BB","CB","DB","EB","FB","YB","GB","ZB","Q","HB","IB","JB","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB","UB","aB","bB","R","S","T","U","V","W","X","Y","Z","P","a","H","lB","mB","nB"],E:"Chrome",F:{"0":143208e4,"1":1437523200,"2":1441152e3,"3":1444780800,"4":1449014400,"5":1453248e3,"6":1456963200,"7":1460592e3,"8":1464134400,"9":1469059200,I:1264377600,b:1274745600,J:1283385600,D:1287619200,E:1291248e3,F:1296777600,A:1299542400,B:1303862400,C:1307404800,K:1312243200,L:1316131200,G:1316131200,M:1319500800,N:1323734400,O:1328659200,c:1332892800,d:133704e4,e:1340668800,f:1343692800,g:1348531200,h:1352246400,i:1357862400,j:1361404800,k:1364428800,l:1369094400,m:1374105600,n:1376956800,o:1384214400,p:1389657600,q:1392940800,r:1397001600,s:1400544e3,t:1405468800,u:1409011200,v:141264e4,w:1416268800,x:1421798400,y:1425513600,z:1429401600,AB:1472601600,BB:1476230400,CB:1480550400,DB:1485302400,EB:1489017600,FB:149256e4,YB:1496707200,GB:1500940800,ZB:1504569600,Q:1508198400,HB:1512518400,IB:1516752e3,JB:1520294400,KB:1523923200,LB:1527552e3,MB:1532390400,NB:1536019200,OB:1539648e3,PB:1543968e3,QB:154872e4,RB:1552348800,SB:1555977600,TB:1559606400,UB:1564444800,aB:1568073600,bB:1571702400,R:1575936e3,S:1580860800,T:1586304e3,U:1589846400,V:1594684800,W:1598313600,X:1601942400,Y:1605571200,Z:1611014400,P:1614556800,a:1618272e3,H:1621987200,lB:null,mB:null,nB:null}},E:{A:{I:0,b:.008542,J:.004656,D:.004465,E:.218608,F:.004891,A:.004425,B:.008408,C:.012612,K:.088284,L:2.26175,G:0,oB:0,cB:.008692,pB:.109304,qB:.00456,rB:.004283,sB:.02102,dB:.02102,VB:.058856,WB:.088284,tB:.395176,uB:.748312,vB:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","oB","cB","I","b","pB","J","qB","D","rB","E","F","sB","A","dB","B","VB","C","WB","K","tB","L","uB","G","vB",""],E:"Safari",F:{oB:1205798400,cB:1226534400,I:1244419200,b:1275868800,pB:131112e4,J:1343174400,qB:13824e5,D:13824e5,rB:1410998400,E:1413417600,F:1443657600,sB:1458518400,A:1474329600,dB:1490572800,B:1505779200,VB:1522281600,C:1537142400,WB:1553472e3,K:1568851200,tB:1585008e3,L:1600214400,uB:1619395200,G:null,vB:null}},F:{A:{"0":.008542,"1":.004227,"2":.004725,"3":.008408,"4":.008942,"5":.004707,"6":.004827,"7":.004707,"8":.004707,"9":.004326,F:.0082,B:.016581,C:.004317,G:.00685,M:.00685,N:.00685,O:.005014,c:.006015,d:.004879,e:.006597,f:.006597,g:.013434,h:.006702,i:.006015,j:.005595,k:.004393,l:.008652,m:.004879,n:.004879,o:.004711,p:.005152,q:.005014,r:.009758,s:.004879,t:.008408,u:.004283,v:.004367,w:.004534,x:.008408,y:.004227,z:.004418,AB:.008922,BB:.014349,CB:.004425,DB:.00472,EB:.004425,FB:.004425,GB:.00472,Q:.004532,HB:.004566,IB:.02283,JB:.00867,KB:.004656,LB:.004642,MB:.004298,NB:.00944,OB:.00415,PB:.004271,QB:.004298,RB:.096692,SB:.008408,TB:.433012,UB:.437216,wB:.00685,xB:0,yB:.008392,zB:.004706,VB:.006229,eB:.004879,"0B":.008786,WB:.00472},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","F","wB","xB","yB","zB","B","VB","eB","0B","C","WB","G","M","N","O","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","AB","BB","CB","DB","EB","FB","GB","Q","HB","IB","JB","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB","UB","","",""],E:"Opera",F:{"0":1486425600,"1":1490054400,"2":1494374400,"3":1498003200,"4":1502236800,"5":1506470400,"6":1510099200,"7":1515024e3,"8":1517961600,"9":1521676800,F:1150761600,wB:1223424e3,xB:1251763200,yB:1267488e3,zB:1277942400,B:1292457600,VB:1302566400,eB:1309219200,"0B":1323129600,C:1323129600,WB:1352073600,G:1372723200,M:1377561600,N:1381104e3,O:1386288e3,c:1390867200,d:1393891200,e:1399334400,f:1401753600,g:1405987200,h:1409616e3,i:1413331200,j:1417132800,k:1422316800,l:1425945600,m:1430179200,n:1433808e3,o:1438646400,p:1442448e3,q:1445904e3,r:1449100800,s:1454371200,t:1457308800,u:146232e4,v:1465344e3,w:1470096e3,x:1474329600,y:1477267200,z:1481587200,AB:1525910400,BB:1530144e3,CB:1534982400,DB:1537833600,EB:1543363200,FB:1548201600,GB:1554768e3,Q:1561593600,HB:1566259200,IB:1570406400,JB:1573689600,KB:1578441600,LB:1583971200,MB:1587513600,NB:1592956800,OB:1595894400,PB:1600128e3,QB:1603238400,RB:161352e4,SB:1612224e3,TB:1616544e3,UB:1619568e3},D:{F:"o",B:"o",C:"o",wB:"o",xB:"o",yB:"o",zB:"o",VB:"o",eB:"o","0B":"o",WB:"o"}},G:{A:{E:.00144955,cB:0,"1B":0,fB:.00289911,"2B":.00869732,"3B":.0449361,"4B":.0304406,"5B":.0202937,"6B":.0217433,"7B":.147854,"8B":.0347893,"9B":.149304,AC:.0855236,BC:.0739272,CC:.0768263,DC:.246424,EC:.0666794,FC:.0333397,GC:.172497,HC:.572573,IC:10.1498,JC:1.93225},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","cB","1B","fB","2B","3B","4B","E","5B","6B","7B","8B","9B","AC","BC","CC","DC","EC","FC","GC","HC","IC","JC","","",""],E:"Safari on iOS",F:{cB:1270252800,"1B":1283904e3,fB:1299628800,"2B":1331078400,"3B":1359331200,"4B":1394409600,E:1410912e3,"5B":1413763200,"6B":1442361600,"7B":1458518400,"8B":1473724800,"9B":1490572800,AC:1505779200,BC:1522281600,CC:1537142400,DC:1553472e3,EC:1568851200,FC:1572220800,GC:1580169600,HC:1585008e3,IC:1600214400,JC:1619395200}},H:{A:{KC:1.18546},B:"o",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","KC","","",""],E:"Opera Mini",F:{KC:1426464e3}},I:{A:{XB:0,I:.0263634,H:0,LC:0,MC:0,NC:0,OC:.0301296,fB:.0979213,PC:0,QC:.43688},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","LC","MC","NC","XB","I","OC","fB","PC","QC","H","","",""],E:"Android Browser",F:{LC:1256515200,MC:1274313600,NC:1291593600,XB:1298332800,I:1318896e3,OC:1341792e3,fB:1374624e3,PC:1386547200,QC:1401667200,H:1621987200}},J:{A:{D:0,A:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","D","A","","",""],E:"Blackberry Browser",F:{D:1325376e3,A:1359504e3}},K:{A:{A:0,B:0,C:0,Q:.0111391,VB:0,eB:0,WB:0},B:"o",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","A","B","VB","eB","C","WB","Q","","",""],E:"Opera Mobile",F:{A:1287100800,B:1300752e3,VB:1314835200,eB:1318291200,C:1330300800,WB:1349740800,Q:1613433600},D:{Q:"webkit"}},L:{A:{H:38.7167},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","H","","",""],E:"Chrome for Android",F:{H:1621987200}},M:{A:{P:.278256},B:"moz",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","P","","",""],E:"Firefox for Android",F:{P:1622505600}},N:{A:{A:.0115934,B:.022664},B:"ms",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","A","B","","",""],E:"IE Mobile",F:{A:1340150400,B:1353456e3}},O:{A:{RC:1.36809},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","RC","","",""],E:"UC Browser for Android",F:{RC:1471392e3},D:{RC:"webkit"}},P:{A:{I:.309232,SC:.0103543,TC:.010304,UC:.0824619,VC:.0103584,WC:.0721541,dB:.0412309,XC:.164924,YC:.113385,ZC:.412309,aC:2.19555},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","I","SC","TC","UC","VC","WC","dB","XC","YC","ZC","aC","","",""],E:"Samsung Internet",F:{I:1461024e3,SC:1481846400,TC:1509408e3,UC:1528329600,VC:1546128e3,WC:1554163200,dB:1567900800,XC:1582588800,YC:1593475200,ZC:1605657600,aC:1618531200}},Q:{A:{bC:.185504},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","bC","","",""],E:"QQ Browser",F:{bC:1589846400}},R:{A:{cC:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","cC","","",""],E:"Baidu Browser",F:{cC:1491004800}},S:{A:{dC:.098549},B:"moz",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","dC","","",""],E:"KaiOS Browser",F:{dC:1527811200}}}});var vS=ve((c9,bS)=>{H();var{browsers:l8}=cS(),tg=fS().browserVersions,mS=gS();function yS(r){return Object.keys(r).reduce((t,n)=>(t[tg[n]]=r[n],t),{})}bS.exports.agents=Object.keys(mS).reduce((r,t)=>{let n=mS[t];return r[l8[t]]=Object.keys(n).reduce((i,o)=>(o==="A"?i.usage_global=yS(n[o]):o==="C"?i.versions=n[o].reduce((s,l)=>(l===""?s.push(null):s.push(tg[l]),s),[]):o==="D"?i.prefix_exceptions=yS(n[o]):o==="E"?i.browser=n[o]:o==="F"?i.release_date=Object.keys(n[o]).reduce((s,l)=>(s[tg[l]]=n[o][l],s),{}):i.prefix=n[o],i),{}),r},{})});var wS=ve((u9,c8)=>{c8.exports={"v0.8":{start:"2012-06-25",end:"2014-07-31"},"v0.10":{start:"2013-03-11",end:"2016-10-31"},"v0.12":{start:"2015-02-06",end:"2016-12-31"},v4:{start:"2015-09-08",lts:"2015-10-12",maintenance:"2017-04-01",end:"2018-04-30",codename:"Argon"},v5:{start:"2015-10-29",maintenance:"2016-04-30",end:"2016-06-30"},v6:{start:"2016-04-26",lts:"2016-10-18",maintenance:"2018-04-30",end:"2019-04-30",codename:"Boron"},v7:{start:"2016-10-25",maintenance:"2017-04-30",end:"2017-06-30"},v8:{start:"2017-05-30",lts:"2017-10-31",maintenance:"2019-01-01",end:"2019-12-31",codename:"Carbon"},v9:{start:"2017-10-01",maintenance:"2018-04-01",end:"2018-06-30"},v10:{start:"2018-04-24",lts:"2018-10-30",maintenance:"2020-05-19",end:"2021-04-30",codename:"Dubnium"},v11:{start:"2018-10-23",maintenance:"2019-04-22",end:"2019-06-01"},v12:{start:"2019-04-23",lts:"2019-10-21",maintenance:"2020-11-30",end:"2022-04-30",codename:"Erbium"},v13:{start:"2019-10-22",maintenance:"2020-04-01",end:"2020-06-01"},v14:{start:"2020-04-21",lts:"2020-10-27",maintenance:"2021-10-19",end:"2023-04-30",codename:"Fermium"},v15:{start:"2020-10-20",maintenance:"2021-04-01",end:"2021-06-01"},v16:{start:"2021-04-20",lts:"2021-10-26",maintenance:"2022-10-18",end:"2024-04-30",codename:""}}});var _S=ve((d9,ES)=>{H();ES.exports={"0.20":"39","0.21":"41","0.22":"41","0.23":"41","0.24":"41","0.25":"42","0.26":"42","0.27":"43","0.28":"43","0.29":"43","0.30":"44","0.31":"45","0.32":"45","0.33":"45","0.34":"45","0.35":"45","0.36":"47","0.37":"49","1.0":"49","1.1":"50","1.2":"51","1.3":"52","1.4":"53","1.5":"54","1.6":"56","1.7":"58","1.8":"59","2.0":"61","2.1":"61","3.0":"66","3.1":"66","4.0":"69","4.1":"69","4.2":"69","5.0":"73","6.0":"76","6.1":"76","7.0":"78","7.1":"78","7.2":"78","7.3":"78","8.0":"80","8.1":"80","8.2":"80","8.3":"80","8.4":"80","8.5":"80","9.0":"83","9.1":"83","9.2":"83","9.3":"83","9.4":"83","10.0":"85","10.1":"85","10.2":"85","10.3":"85","10.4":"85","11.0":"87","11.1":"87","11.2":"87","11.3":"87","11.4":"87","12.0":"89","13.0":"91","13.1":"91","14.0":"92"}});var ig=ve((h9,SS)=>{H();function ng(r){this.name="BrowserslistError",this.message=r,this.browserslist=!0,Error.captureStackTrace&&Error.captureStackTrace(this,ng)}ng.prototype=Error.prototype;SS.exports=ng});var xS=ve((f9,AS)=>{H();var Yd=ig();function Rl(){}AS.exports={loadQueries:function(){throw new Yd("Sharable configs are not supported in client-side build of Browserslist")},getStat:function(t){return t.stats},loadConfig:function(t){if(t.config)throw new Yd("Browserslist config are not supported in client-side build")},loadCountry:function(){throw new Yd("Country statistics are not supported in client-side build of Browserslist")},loadFeature:function(){throw new Yd("Supports queries are not available in client-side build of Browserslist")},currentNode:function(t,n){return t(["maintained node versions"],n)[0]},parseConfig:Rl,readConfig:Rl,findConfig:Rl,clearCaches:Rl,oldDataWarning:Rl}});var WS=ve((p9,qS)=>{H();var Xd=oS(),eo=vS().agents,rg=wS(),Zd=ll(),ir=_S(),ri=ig(),$n=xS(),u8=365.259641*24*60*60*1e3,CS=37,og=1,TS=2;function OS(r,t){return(r+".").indexOf(t+".")===0}function d8(r){var t=r.slice(1);return Xd.some(function(n){return OS(n.version,t)})}function RS(r){return r.filter(function(t){return typeof t=="string"})}function Qd(r){var t=r;return r.split(".").length===3&&(t=r.split(".").slice(0,-1).join(".")),t}function Oo(r){return function(n){return r+" "+n}}function PS(r){return parseInt(r.split(".")[0])}function sg(r,t){if(r.length===0)return[];var n=MS(r.map(PS)),i=n[n.length-t];if(!i)return r;for(var o=[],s=r.length-1;s>=0&&!(i>PS(r[s]));s--)o.unshift(r[s]);return o}function MS(r){for(var t=[],n=0;n<r.length;n++)t.indexOf(r[n])===-1&&t.push(r[n]);return t}function eh(r,t,n){for(var i in n)r[t+" "+i]=n[i]}function kS(r,t){return t=parseFloat(t),r===">"?function(n){return parseFloat(n)>t}:r===">="?function(n){return parseFloat(n)>=t}:r==="<"?function(n){return parseFloat(n)<t}:function(n){return parseFloat(n)<=t}}function h8(r,t){return t=t.split(".").map(Ro),t[1]=t[1]||0,t[2]=t[2]||0,r===">"?function(n){return n=n.split(".").map(Ro),Pl(n,t)>0}:r===">="?function(n){return n=n.split(".").map(Ro),Pl(n,t)>=0}:r==="<"?function(n){return n=n.split(".").map(Ro),Pl(t,n)>0}:function(n){return n=n.split(".").map(Ro),Pl(t,n)>=0}}function Ro(r){return parseInt(r)}function th(r,t){return r<t?-1:r>t?1:0}function Pl(r,t){return th(parseInt(r[0]),parseInt(t[0]))||th(parseInt(r[1]||"0"),parseInt(t[1]||"0"))||th(parseInt(r[2]||"0"),parseInt(t[2]||"0"))}function LS(r,t){switch(t=t.split(".").map(Ro),typeof t[1]=="undefined"&&(t[1]="x"),r){case"<=":return function(n){return n=n.split(".").map(Ro),IS(n,t)<=0};default:case">=":return function(n){return n=n.split(".").map(Ro),IS(n,t)>=0}}}function IS(r,t){return r[0]!==t[0]?r[0]<t[0]?-1:1:t[1]==="x"?0:r[1]!==t[1]?r[1]<t[1]?-1:1:0}function f8(r,t){return r.versions.indexOf(t)!==-1?t:rt.versionAliases[r.name][t]?rt.versionAliases[r.name][t]:!1}function nh(r,t){var n=f8(r,t);return n||(r.versions.length===1?r.versions[0]:!1)}function BS(r,t){return r=r/1e3,Object.keys(eo).reduce(function(n,i){var o=ps(i,t);if(!o)return n;var s=Object.keys(o.releaseDate).filter(function(l){return o.releaseDate[l]>=r});return n.concat(s.map(Oo(o.name)))},[])}function NS(r){return{name:r.name,versions:r.versions,released:r.released,releaseDate:r.releaseDate}}function p8(r,t){r.versions=r.versions.map(function(o){return t[o]||o}),r.released=r.versions.map(function(o){return t[o]||o});var n={};for(var i in r.releaseDate)n[t[i]||i]=r.releaseDate[i];return r.releaseDate=n,r}function ps(r,t){if(r=r.toLowerCase(),r=rt.aliases[r]||r,t.mobileToDesktop&&rt.desktopNames[r]){var n=rt.data[rt.desktopNames[r]];if(r==="android")return g8(NS(rt.data[r]),n);var i=NS(n);return i.name=r,r==="op_mob"&&(i=p8(i,{"10.0-10.1":"10"})),i}return rt.data[r]}function DS(r,t){var n=CS,i=t[t.length-1];return r.filter(function(o){return/^(?:[2-4]\.|[34]$)/.test(o)}).concat(t.slice(n-i-1))}function g8(r,t){return r.released=DS(r.released,t.released),r.versions=DS(r.versions,t.versions),r}function pa(r,t){var n=ps(r,t);if(!n)throw new ri("Unknown browser "+r);return n}function jS(r){return new ri("Unknown browser query `"+r+"`. Maybe you are using old Browserslist or made typo in query.")}function ih(r,t,n){if(n.mobileToDesktop)return r;var i=rt.data.android.released,o=i[i.length-1],s=o-CS-t;return s>0?r.slice(-1):r.slice(s-1)}function ga(r,t){return Array.isArray(r)?r=HS(r.map(FS)):r=FS(r),r.reduce(function(n,i,o){var s=i.queryString,l=s.indexOf("not ")===0;if(l){if(o===0)throw new ri("Write any browsers query (for instance, `defaults`) before `"+s+"`");s=s.slice(4)}for(var u=0;u<$S.length;u++){var d=$S[u],h=s.match(d.regexp);if(h){var y=[t].concat(h.slice(1)),b=d.select.apply(rt,y).map(function(p){var m=p.split(" ");return m[1]==="0"?m[0]+" "+ps(m[0],t).versions[0]:p});switch(i.type){case TS:return l?n.filter(function(p){return b.indexOf(p)===-1}):n.filter(function(p){return b.indexOf(p)!==-1});case og:default:if(l){var w={};return b.forEach(function(p){w[p]=!0}),n.filter(function(p){return!w[p]})}return n.concat(b)}}}throw jS(s)},[])}var ag={};function rt(r,t){if(typeof t=="undefined"&&(t={}),typeof t.path=="undefined"&&(t.path=Zd.resolve?Zd.resolve("."):"."),typeof r=="undefined"||r===null){var n=rt.loadConfig(t);n?r=n:r=rt.defaults}if(!(typeof r=="string"||Array.isArray(r)))throw new ri("Browser queries must be an array or string. Got "+typeof r+".");var i={ignoreUnknownVersions:t.ignoreUnknownVersions,dangerousExtend:t.dangerousExtend,mobileToDesktop:t.mobileToDesktop,path:t.path,env:t.env};$n.oldDataWarning(rt.data);var o=$n.getStat(t,rt.data);if(o){i.customUsage={};for(var s in o)eh(i.customUsage,s,o[s])}var l=JSON.stringify([r,i]);if(ag[l])return ag[l];var u=MS(ga(r,i)).sort(function(d,h){if(d=d.split(" "),h=h.split(" "),d[0]===h[0]){var y=d[1].split("-")[0],b=h[1].split("-")[0];return Pl(b.split("."),y.split("."))}else return th(d[0],h[0])});return process.env.BROWSERSLIST_DISABLE_CACHE||(ag[l]=u),u}function FS(r){var t=[];do r=m8(r,t);while(r);return t}function m8(r,t){var n=/^(?:,\s*|\s+or\s+)(.*)/i,i=/^\s+and\s+(.*)/i;return y8(r,function(o,s,l){return i.test(o)?(t.unshift({type:TS,queryString:o.match(i)[1]}),!0):n.test(o)?(t.unshift({type:og,queryString:o.match(n)[1]}),!0):s===l?(t.unshift({type:og,queryString:o.trim()}),!0):!1})}function y8(r,t){for(var n=1,i=r.length;n<=i;n++){var o=r.substr(-n,n);if(t(o,n,i))return r.slice(0,-n)}return""}function HS(r){return Array.isArray(r)?r.reduce(function(t,n){return t.concat(HS(n))},[]):[r]}rt.cache={};rt.data={};rt.usage={global:{},custom:null};rt.defaults=["> 0.5%","last 2 versions","Firefox ESR","not dead"];rt.aliases={fx:"firefox",ff:"firefox",ios:"ios_saf",explorer:"ie",blackberry:"bb",explorermobile:"ie_mob",operamini:"op_mini",operamobile:"op_mob",chromeandroid:"and_chr",firefoxandroid:"and_ff",ucandroid:"and_uc",qqandroid:"and_qq"};rt.desktopNames={and_chr:"chrome",and_ff:"firefox",ie_mob:"ie",op_mob:"opera",android:"chrome"};rt.versionAliases={};rt.clearCaches=$n.clearCaches;rt.parseConfig=$n.parseConfig;rt.readConfig=$n.readConfig;rt.findConfig=$n.findConfig;rt.loadConfig=$n.loadConfig;rt.coverage=function(r,t){var n;if(typeof t=="undefined")n=rt.usage.global;else if(t==="my stats"){var i={};i.path=Zd.resolve?Zd.resolve("."):".";var o=$n.getStat(i);if(!o)throw new ri("Custom usage statistics was not provided");n={};for(var s in o)eh(n,s,o[s])}else if(typeof t=="string")t.length>2?t=t.toLowerCase():t=t.toUpperCase(),$n.loadCountry(rt.usage,t,rt.data),n=rt.usage[t];else{"dataByBrowser"in t&&(t=t.dataByBrowser),n={};for(var l in t)for(var u in t[l])n[l+" "+u]=t[l][u]}return r.reduce(function(d,h){var y=n[h];return y===void 0&&(y=n[h.replace(/ \S+$/," 0")]),d+(y||0)},0)};function lg(r,t){var n=Xd.filter(function(o){return o.name==="nodejs"}),i=n.filter(function(o){return OS(o.version,t)});if(i.length===0){if(r.ignoreUnknownVersions)return[];throw new ri("Unknown version "+t+" of Node.js")}return["node "+i[i.length-1].version]}function cg(r,t,n,i){return t=parseInt(t),n=parseInt(n||"01")-1,i=parseInt(i||"01"),BS(Date.UTC(t,n,i,0,0,0),r)}function US(r,t,n){t=parseFloat(t);var i=rt.usage.global;if(n)if(n.match(/^my\s+stats$/)){if(!r.customUsage)throw new ri("Custom usage statistics was not provided");i=r.customUsage}else{var o;n.length===2?o=n.toUpperCase():o=n.toLowerCase(),$n.loadCountry(rt.usage,o,rt.data),i=rt.usage[o]}for(var s=Object.keys(i).sort(function(y,b){return i[b]-i[y]}),l=0,u=[],d,h=0;h<=s.length&&(d=s[h],!(i[d]===0||(l+=i[d],u.push(d),l>=t)));h++);return u}var $S=[{regexp:/^last\s+(\d+)\s+major\s+versions?$/i,select:function(r,t){return Object.keys(eo).reduce(function(n,i){var o=ps(i,r);if(!o)return n;var s=sg(o.released,t);return s=s.map(Oo(o.name)),o.name==="android"&&(s=ih(s,t,r)),n.concat(s)},[])}},{regexp:/^last\s+(\d+)\s+versions?$/i,select:function(r,t){return Object.keys(eo).reduce(function(n,i){var o=ps(i,r);if(!o)return n;var s=o.released.slice(-t);return s=s.map(Oo(o.name)),o.name==="android"&&(s=ih(s,t,r)),n.concat(s)},[])}},{regexp:/^last\s+(\d+)\s+electron\s+major\s+versions?$/i,select:function(r,t){var n=sg(Object.keys(ir),t);return n.map(function(i){return"chrome "+ir[i]})}},{regexp:/^last\s+(\d+)\s+(\w+)\s+major\s+versions?$/i,select:function(r,t,n){var i=pa(n,r),o=sg(i.released,t),s=o.map(Oo(i.name));return i.name==="android"&&(s=ih(s,t,r)),s}},{regexp:/^last\s+(\d+)\s+electron\s+versions?$/i,select:function(r,t){return Object.keys(ir).slice(-t).map(function(n){return"chrome "+ir[n]})}},{regexp:/^last\s+(\d+)\s+(\w+)\s+versions?$/i,select:function(r,t,n){var i=pa(n,r),o=i.released.slice(-t).map(Oo(i.name));return i.name==="android"&&(o=ih(o,t,r)),o}},{regexp:/^unreleased\s+versions$/i,select:function(r){return Object.keys(eo).reduce(function(t,n){var i=ps(n,r);if(!i)return t;var o=i.versions.filter(function(s){return i.released.indexOf(s)===-1});return o=o.map(Oo(i.name)),t.concat(o)},[])}},{regexp:/^unreleased\s+electron\s+versions?$/i,select:function(){return[]}},{regexp:/^unreleased\s+(\w+)\s+versions?$/i,select:function(r,t){var n=pa(t,r);return n.versions.filter(function(i){return n.released.indexOf(i)===-1}).map(Oo(n.name))}},{regexp:/^last\s+(\d*.?\d+)\s+years?$/i,select:function(r,t){return BS(Date.now()-u8*t,r)}},{regexp:/^since (\d+)$/i,select:cg},{regexp:/^since (\d+)-(\d+)$/i,select:cg},{regexp:/^since (\d+)-(\d+)-(\d+)$/i,select:cg},{regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%$/,select:function(r,t,n){n=parseFloat(n);var i=rt.usage.global;return Object.keys(i).reduce(function(o,s){return t===">"?i[s]>n&&o.push(s):t==="<"?i[s]<n&&o.push(s):t==="<="?i[s]<=n&&o.push(s):i[s]>=n&&o.push(s),o},[])}},{regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+my\s+stats$/,select:function(r,t,n){if(n=parseFloat(n),!r.customUsage)throw new ri("Custom usage statistics was not provided");var i=r.customUsage;return Object.keys(i).reduce(function(o,s){return t===">"?i[s]>n&&o.push(s):t==="<"?i[s]<n&&o.push(s):t==="<="?i[s]<=n&&o.push(s):i[s]>=n&&o.push(s),o},[])}},{regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+(\S+)\s+stats$/,select:function(r,t,n,i){n=parseFloat(n);var o=$n.loadStat(r,i,rt.data);if(o){r.customUsage={};for(var s in o)eh(r.customUsage,s,o[s])}if(!r.customUsage)throw new ri("Custom usage statistics was not provided");var l=r.customUsage;return Object.keys(l).reduce(function(u,d){return t===">"?l[d]>n&&u.push(d):t==="<"?l[d]<n&&u.push(d):t==="<="?l[d]<=n&&u.push(d):l[d]>=n&&u.push(d),u},[])}},{regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+((alt-)?\w\w)$/,select:function(r,t,n,i){n=parseFloat(n),i.length===2?i=i.toUpperCase():i=i.toLowerCase(),$n.loadCountry(rt.usage,i,rt.data);var o=rt.usage[i];return Object.keys(o).reduce(function(s,l){return t===">"?o[l]>n&&s.push(l):t==="<"?o[l]<n&&s.push(l):t==="<="?o[l]<=n&&s.push(l):o[l]>=n&&s.push(l),s},[])}},{regexp:/^cover\s+(\d+|\d+\.\d+|\.\d+)%$/,select:US},{regexp:/^cover\s+(\d+|\d+\.\d+|\.\d+)%\s+in\s+(my\s+stats|(alt-)?\w\w)$/,select:US},{regexp:/^supports\s+([\w-]+)$/,select:function(r,t){$n.loadFeature(rt.cache,t);var n=rt.cache[t];return Object.keys(n).reduce(function(i,o){var s=n[o];return(s.indexOf("y")>=0||s.indexOf("a")>=0)&&i.push(o),i},[])}},{regexp:/^electron\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(r,t,n){var i=Qd(t),o=Qd(n);if(!ir[i])throw new ri("Unknown version "+t+" of electron");if(!ir[o])throw new ri("Unknown version "+n+" of electron");return t=parseFloat(t),n=parseFloat(n),Object.keys(ir).filter(function(s){var l=parseFloat(s);return l>=t&&l<=n}).map(function(s){return"chrome "+ir[s]})}},{regexp:/^node\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(r,t,n){var i=Xd.filter(function(o){return o.name==="nodejs"}).map(function(o){return o.version});return i.filter(LS(">=",t)).filter(LS("<=",n)).map(function(o){return"node "+o})}},{regexp:/^(\w+)\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(r,t,n,i){var o=pa(t,r);n=parseFloat(nh(o,n)||n),i=parseFloat(nh(o,i)||i);function s(l){var u=parseFloat(l);return u>=n&&u<=i}return o.released.filter(s).map(Oo(o.name))}},{regexp:/^electron\s*(>=?|<=?)\s*([\d.]+)$/i,select:function(r,t,n){var i=Qd(n);return Object.keys(ir).filter(kS(t,i)).map(function(o){return"chrome "+ir[o]})}},{regexp:/^node\s*(>=?|<=?)\s*([\d.]+)$/i,select:function(r,t,n){var i=Xd.filter(function(o){return o.name==="nodejs"}).map(function(o){return o.version});return i.filter(h8(t,n)).map(function(o){return"node "+o})}},{regexp:/^(\w+)\s*(>=?|<=?)\s*([\d.]+)$/,select:function(r,t,n,i){var o=pa(t,r),s=rt.versionAliases[o.name][i];return s&&(i=s),o.released.filter(kS(n,i)).map(function(l){return o.name+" "+l})}},{regexp:/^(firefox|ff|fx)\s+esr$/i,select:function(){return["firefox 78"]}},{regexp:/(operamini|op_mini)\s+all/i,select:function(){return["op_mini all"]}},{regexp:/^electron\s+([\d.]+)$/i,select:function(r,t){var n=Qd(t),i=ir[n];if(!i)throw new ri("Unknown version "+t+" of electron");return["chrome "+i]}},{regexp:/^node\s+(\d+)$/i,select:lg},{regexp:/^node\s+(\d+\.\d+)$/i,select:lg},{regexp:/^node\s+(\d+\.\d+\.\d+)$/i,select:lg},{regexp:/^current\s+node$/i,select:function(r){return[$n.currentNode(ga,r)]}},{regexp:/^maintained\s+node\s+versions$/i,select:function(r){var t=Date.now(),n=Object.keys(rg).filter(function(i){return t<Date.parse(rg[i].end)&&t>Date.parse(rg[i].start)&&d8(i)}).map(function(i){return"node "+i.slice(1)});return ga(n,r)}},{regexp:/^phantomjs\s+1.9$/i,select:function(){return["safari 5"]}},{regexp:/^phantomjs\s+2.1$/i,select:function(){return["safari 6"]}},{regexp:/^(\w+)\s+(tp|[\d.]+)$/i,select:function(r,t,n){/^tp$/i.test(n)&&(n="TP");var i=pa(t,r),o=nh(i,n);if(o)n=o;else if(n.indexOf(".")===-1?o=n+".0":o=n.replace(/\.0$/,""),o=nh(i,o),o)n=o;else{if(r.ignoreUnknownVersions)return[];throw new ri("Unknown version "+n+" of "+t)}return[i.name+" "+n]}},{regexp:/^browserslist config$/i,select:function(r){return rt(void 0,r)}},{regexp:/^extends (.+)$/i,select:function(r,t){return ga($n.loadQueries(r,t),r)}},{regexp:/^defaults$/i,select:function(r){return ga(rt.defaults,r)}},{regexp:/^dead$/i,select:function(r){var t=["ie <= 10","ie_mob <= 11","bb <= 10","op_mob <= 12.1","samsung 4"];return ga(t,r)}},{regexp:/^(\w+)$/i,select:function(r,t){throw ps(t,r)?new ri("Specify versions in Browserslist query for browser "+t):jS(t)}}];(function(){for(var r in eo){var t=eo[r];rt.data[r]={name:r,versions:RS(eo[r].versions),released:RS(eo[r].versions.slice(0,-3)),releaseDate:eo[r].release_date},eh(rt.usage.global,r,t.usage_global),rt.versionAliases[r]={};for(var n=0;n<t.versions.length;n++){var i=t.versions[n];if(!!i&&i.indexOf("-")!==-1)for(var o=i.split("-"),s=0;s<o.length;s++)rt.versionAliases[r][o[s]]=i}}rt.versionAliases.op_mob["59"]="58"})();qS.exports=rt});var MA=ve(Fe=>{H();"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});var b8=rS(),v8=WS();function GS(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var zS=GS(b8),w8=GS(v8);(function(r){r[r.RegExp=0]="RegExp",r[r.Family=1]="Family",r[r.Major=2]="Major",r[r.Minor=3]="Minor",r[r.Patch=4]="Patch"})(Fe.BrowserRegExpSourceProp||(Fe.BrowserRegExpSourceProp={}));var to="\\d",rh=`${to}+`,no=`(${rh})`,Sr="\\";function oh(r,t=!1){let n=r.join("|");return t||r.length>1?`(${n})`:n}function VS(r){return r.map(t=>`(${t.regExpString})`).join("|")}function JS(r){return r.toString().includes(no)}function ug(r){return r.toString().split(no).length-1}function gs(r){return r.toString().replace(/^\/|\/$/g,"")}function KS(r,t,n){let i=typeof r=="string"?r:gs(r);return(typeof n=="number"&&n<t.length?t.slice(0,n):t).reduce((l,u)=>l.replace(no,u),i)}function sh(r){return Array.from(r.toString()).map(Number)}function ah(r,t,n){return n==="["&&t!==Sr?!0:n==="]"&&t!==Sr?!1:r}function dg(r,t){let n=r[t];switch(n){case"+":case"*":case"?":return n;case"(":{let d=r[t+1],h=r[t+2];if(d!=="?"||h!=="="&&h!=="!")return"";break}case"{":break;default:return""}let i=r.length,o="",s=0,l=!1,u="";for(let d=t;d<i&&(n=r[d],o=r[d-1],l=ah(l,o,n),!l&&o!==Sr&&(n==="("||n==="{")&&s++,s>0&&(u+=n),!(!l&&o!==Sr&&s>0&&(n===")"||n==="}")&&(s--,s===0)));d++);return u}(function(r){r[r.Major=0]="Major",r[r.Minor=1]="Minor",r[r.Patch=2]="Patch"})(Fe.SemverPart||(Fe.SemverPart={}));var lh={bb:"BlackBerry",and_chr:"Chrome",ChromeAndroid:"Chrome",FirefoxAndroid:"Firefox",ff:"Firefox",ie_mob:"ExplorerMobile",ie:"Explorer",and_ff:"Firefox",ios_saf:"iOS",op_mini:"OperaMini",op_mob:"OperaMobile",and_qq:"QQAndroid",and_uc:"UCAndroid"},YS=new RegExp(`(${Object.keys(lh).join("|")})`);function XS(r){let t=YS.exec(r);if(Array.isArray(t)){let[n]=t;return r.replace(n,lh[n])}return r}function hg(r,t,n=0){let i=r.length;for(let o=n;o<i;o++)if(r[o]!==t[o])return!1;return!0}function ch(r){return typeof r=="number"?r:r.length===1?r[0]:[r[0],r[r.length-1]]}function ma(r){return(Array.isArray(r)?r[0]:r)==="all"}function ZS(r){return r.filter(Boolean).filter((t,n,i)=>i&&!i.some((o,s)=>s>n&&hg(t,o)))}function fg(r,t){let n=r+Number(!t);return n===0?to:n===9?"9":n>9?"":`[${n}-9]`}function QS(r){return r===to}function eA(r){let t=[],n=0,i=0;return r.filter((o,s)=>s>0&&(n=o.filter(QS).length,i=t.filter(QS).length,n<=i)?!1:(t=o,!0))}function tA(r){if(r===0)return[rh];let t=sh(r),n=t.length,i=`${to}{${n+1},}`,o=n-1;if(r/Math.pow(10,o)===t[0])return[`${fg(t[0],!0)}${to.repeat(o)}`,i];let l=eA(t.map((u,d)=>{let h=n-d-1,y=d<=0,b=" ";return t.map((w,p)=>p<h?w.toString():b?p>h?to:(b=fg(w,y),b):"")})).map(u=>u.join(""));return l.push(i),l}function ms(r,t,n){if(t<r)return"";let i=typeof n=="number"&&n>0?"0".repeat(n):"";return r===t?`${i}${r}`:r===0&&t===9?`${i}${to}`:`${i}[${r}-${t}]`}function nA(r,t){let n=[],i=r,o=1;do o*=10,i<o&&(n.push([i,Math.min(o-1,t)]),i=o);while(o<=t);return n}function iA(r,t){let n=r.length;if(n!==t.length||r[0]!==t[0])return null;let i=r[0].toString(),o=0,s=0,l="",u="";for(let d=1;d<n;d++)o=r[d],s=t[d],o===s?i+=o:(l+=o,u+=s);return[i,parseInt(l,10),parseInt(u,10)]}function rA(r,t,n){let i=n.length,o=[],s=0,l=0,u=0;for(let d=r;d<=t;d++)for(o.push(d.toString()),u+=Math.floor(Math.log10(d)+1)+1;u>l;){if(s>=i)return n;l+=n[s++].length+1}return o}function uh(r,t,n=0){let i=sh(r),o=i.length;if(r<10&&t<10||r===t){let y=n-o;return[ms(r,t,y)]}let s=sh(t);if(o!==s.length){let y=nA(r,t);return[].concat(...y.map(([w,p])=>uh(w,p,n)))}let l=iA(i,s);if(Array.isArray(l)){let[y,b,w]=l,p=o-y.length,m=uh(b,w,p);return[`${y}${oh(m)}`]}let u=Array.from({length:o-1}),d=ms(i[0]+1,s[0]-1);return[...u.map((y,b)=>{let w=o-b-1,p=Number(b>0);return i.map((m,f)=>f<w?m:f>w?ms(0,9):ms(m+p,9)).join("")}),...d?[`${d}${to.repeat(o-1)}`]:[],...u.map((y,b)=>{let w=o-b-1,p=Number(b>0);return s.map((m,f)=>f<w?m:f>w?ms(0,9):ms(0,m-p)).join("")})]}function oA(r,t){return rA(r,t,uh(r,t))}function pg(r,t=1/0){if(ma(r))return rh;let n=t===1/0?tA(r):oA(r,t);return oh(n)}function gg(r){let t=Array.isArray(r)?r:r.toString().split(".");if(ma(t[0]))return[t[0],0,0];for(;t.length<3;)t.push("0");return t.map(n=>{let i=typeof n=="number"?n:parseInt(n,10);return isNaN(i)?0:i})}function mg(r,t,n){let[i,o,s]=r,[l,u,d]=t,{ignoreMinor:h,ignorePatch:y,allowHigherVersions:b}=n;if(ma(l))return!0;let w=!h,p=w&&!y;return b?p&&s<d||w&&o<u?!1:i>=l:p&&s!==d||w&&o!==u?!1:i===l}function sA(r,t){let{ignoreMinor:n,ignorePatch:i,allowZeroSubversions:o}=t,s=n?1:i?2:3;if(o)for(let l=s-1;l>0&&!(r[l]!==0||s===1);l--)s--;return s}function aA(r,t){let{ignoreMinor:n,ignorePatch:i,allowHigherVersions:o}=t,s=ma(r[0])?0:n?1:i?2:1/0;return o?ZS(r.map((d,h)=>{let y=2-h,b=Number(h>0),w=0;return r.map((p,m)=>m>=s?no:(w=Array.isArray(p)?p[0]:p,m<y?w.toString():m>y?no:pg(w+b)))})):[r.map((u,d)=>d>=s?no:Array.isArray(u)?pg(u[0],u[1]):u.toString())]}function yg(r){return r.filter((t,n)=>!r.includes(t,n+1))}function lA(r,t,n,i){let o=Yt(et({},i),{allowHigherVersions:!0});return(!r||n.some(s=>mg(s,r,o)))&&(!t||n.some(s=>mg(t,s,o)))}function cA(r,t){return Boolean(r||JS(t))}function Po(r,t,n){let i=t instanceof RegExp,o=null;switch(!0){case i:{let s=t.toString();o=l=>new RegExp(`(^|[^\\w])${l.replace(/ /g,"\\s*")}([^\\w]|$)`).test(s);break}case r:o=s=>s===t;break;default:o=s=>t.includes(s)}return n.some(o)}function uA(r){let t=gs(r);switch(!0){case t.includes("Fennec"):return[null,[31,0,0]];case t.includes("Minefield"):return[[3,0,0],[4,0,0]];case t.includes("Namoroka"):return[[3,6,0],[3,6,0]];case t.includes("Shiretoko"):return[[3,0,0],[3,5,0]];case t.includes("CrMo"):return[[16,0,0],[16,0,0]];case t.includes("Opera)\\/9.8"):return[null,[12,15,0]];default:return[null,null]}}var dA=[...gA(zS.default.os),...pA(zS.default.browser)];function hA(r,t){let n=[];return dA.forEach(({family:i,regExp:o,fixedVersion:s,minVersion:l,maxVersion:u})=>{let d=r.get(i);d&&lA(l,u,d,t)&&cA(s,o)&&n.push({family:i,regExp:o,requestVersions:d,resultFixedVersion:s,resultMinVersion:l,resultMaxVersion:u})}),n}function fA(r,t){let n=r||t,i=gs(t);switch(!0){case/[^\w]?([A-Z]\w+iOS)[^\w]?/.test(i):case/iPhone.*Outlook-iOS-Android|UCWEB.*iPad\|iPh/.test(i):case i.includes("(iPhone|iPad|iPod).*Mac OS X.*Version"):case/YaBrowser|MRCHROME|Chrome.*\(OPR\)/.test(i):case/\(Chrome\).* Mobile|Mobile \.\*\(Chrome\)|; wv\\\)\.\+\(Chrome\)/.test(i):case i.includes("(?:Mobile|Tablet);.*(Firefox)"):case i.includes("(?:Mobile Safari).*(OPR)"):case/Opera.*\) \(\\d/.test(i):case/bingbot|^\\b\(/.test(i):return[];case Po(!1,n,["Chrome Mobile","Chromium"]):return[{family:"chrome"}];case Po(!0,n,["Samsung Internet"]):return[{family:"samsung"}];case Po(!0,n,["Firefox Mobile","Firefox ($1)"]):return[{family:"firefox"}];case Po(!0,n,["IE"]):return[{family:"explorer"}];case Po(!0,n,["IE Mobile"]):return[{family:"explorermobile"}];case Po(!0,n,["BlackBerry WebKit"]):return[{family:"blackberry"}];case Po(!0,n,["Opera Mobile"]):return[{family:"operamobile"}];case n===t:{let o=/\(([\s\w\d_\-/!|]+)\)/i.exec(i);if(Array.isArray(o)){let s=o[1],l=s.split("|"),u=new Map;return yg(l.map(h=>{let y=h.replace(/[^\d\w]/g,"").toLowerCase();return u.has(y)?u.get(y).push(h):u.set(y,[h]),y})).map(h=>({family:h,regExp:new RegExp(i.replace(s,u.get(h).join("|")))}))}return[]}case typeof r=="string":return[{family:r.toLowerCase()}];default:return[]}}function bg(r){let{[Fe.BrowserRegExpSourceProp.RegExp]:t,[Fe.BrowserRegExpSourceProp.Family]:n,[Fe.BrowserRegExpSourceProp.Major]:i,[Fe.BrowserRegExpSourceProp.Minor]:o,[Fe.BrowserRegExpSourceProp.Patch]:s}=r,l=fA(n,t),u=i===0?null:gg([i,o,s]),d=u,h=u;return l.map(w=>{var p=w,{regExp:y=t}=p,b=go(p,["regExp"]);return u||([d,h]=uA(y)),et({regExp:y,fixedVersion:u,minVersion:d,maxVersion:h},b)})}function pA(r){let t=r.length,n=[];for(let i=0;i<t;i++)n.push(...bg(r[i]));return n}function gA(r){let t=r.length,n=[];for(let i=0;i<t;i++)r[i][Fe.BrowserRegExpSourceProp.Family]==="iOS"&&n.push(...bg(r[i]));return n}function mA(r){return[].concat(...r.map(t=>{let[n,...i]=t.split(/ |-/),o=(lh[n]||n).toLowerCase();return i.map(s=>({family:o,version:gg(s)}))}))}function yA(r={}){let{browsers:t,env:n,path:i}=r,o=Array.isArray(t)?t.map(XS):t,s=w8.default(o,{env:n,path:i});return mA(s)}function bA(r){let t=new Map;return r.forEach(({family:n,version:i})=>{let o=t.get(n);if(o){let s=i.join(".");o.every(l=>l.join(".")!==s)&&o.push(i);return}t.set(n,[i])}),t.forEach(n=>{n.sort((i,o)=>{for(let s in i)if(i[s]!==o[s])return i[s]-o[s];return 0})}),t}function vA(r){if(r.length<2)return r;let t=r.length+1,n=[],i=null,o=r[0],s=[o[Fe.SemverPart.Major]],l=[o[Fe.SemverPart.Minor]],u=[o[Fe.SemverPart.Patch]],d=null;for(let h=1;h<t;h++){i=r[h-1],o=r[h]||[];for(let y=Fe.SemverPart.Major;y<=Fe.SemverPart.Patch;y++){if((y===d||d===null)&&i[y]+1===o[y]&&hg(i,o,y+1)){d=y,y===Fe.SemverPart.Major?s.push(o[Fe.SemverPart.Major]):s=o[Fe.SemverPart.Major],y===Fe.SemverPart.Minor?l.push(o[Fe.SemverPart.Minor]):l=o[Fe.SemverPart.Minor],y===Fe.SemverPart.Patch?u.push(o[Fe.SemverPart.Patch]):u=o[Fe.SemverPart.Patch];break}if(d===y||i[y]!==o[y]){n.push([ch(s),ch(l),ch(u)]),s=[o[Fe.SemverPart.Major]],l=[o[Fe.SemverPart.Minor]],u=[o[Fe.SemverPart.Patch]],d=null;break}}}return n}function wA(r){let t=new Map;return r.forEach((n,i)=>{t.set(i,vA(n))}),t}var EA=/^\([\s\w\d_\-/!]+\)$/,_A=/[/.$*+?[{}|()]/;function SA(r){let t=r.length,n=!1,i=!1,o="",s="",l="",u="",d="",h="";for(let y=0;y<t;y++)o=r[y],s=r[y-1],l=r[y+1],i=ah(i,s,o),!i&&s!==Sr&&o==="("&&(n&&(h+=d),n=!0,d=""),i&&o===Sr&&_A.test(l)&&(y++,o=l),n?d+=o:h+=o,!i&&s!==Sr&&o===")"&&n&&(n=!1,u=dg(r,y+1),d+=u,(d===no||EA.test(d))&&(d=d.substr(1,d.length-2)),h+=d,y+=u.length);return h}function AA(r,t){let n=typeof r=="string"?r:gs(r),i=n.length,o=typeof t=="number"?t:ug(n),s=0,l=!1,u=0,d="",h="",y="",b="";for(let w=0;w<i;w++)if(d=n[w],h=n[w-1],l=ah(l,h,d),!l&&h!==Sr&&d==="("&&(s++,y=""),(s>0||u>0)&&(b+=d,y+=d),!l&&h!==Sr&&d===")"&&s>0&&(s--,y===no&&u++,s===0&&u===0&&(b=""),s===0&&u>=o)){b+=dg(n,++w);break}return b}function xA(r,t,n){let i=1,o=typeof r=="string"?r:gs(r),s=ug(o),l=t.map(y=>{let b=sA(y,n);return i=Math.max(i,b),s>=b?y:null}).filter(Boolean);if(!l.length)return null;let u=AA(o,i),d=oh(yg([].concat(...l.map(y=>aA(y,n).map(b=>KS(u,b,i))))));return o.replace(u,d)}function CA(r,t,n){let i=[];return r.forEach(h=>{var y=h,{family:o,regExp:s,resultFixedVersion:l,requestVersions:u}=y,d=go(y,["family","regExp","resultFixedVersion","requestVersions"]);let b=gs(s),w=null,p="";l?(w=s,p=b):(p=xA(b,t.get(o),n),w=new RegExp(p)),p&&w&&i.push(et({family:o,sourceRegExp:s,sourceRegExpString:b,regExp:w,regExpString:p,resultFixedVersion:l,requestVersions:u,requestVersionsStrings:u.map(m=>ma(m)?String(m[0]):m.join("."))},d))}),i}function TA(r){return r.map(i=>{var o=i,{regExpString:t}=o,n=go(o,["regExpString"]);let s=SA(t),l=new RegExp(s);return Yt(et({},n),{regExp:l,regExpString:s})})}var E8=[{test(r){let t=r.get("chrome"),n=r.get("edge");if(!(t&&n))return!1;let o=t[0][0],s=n[0][0];return o<74&&s<=18},patch(r){let{family:t,regExpString:n,resultMinVersion:i}=r;if(t!=="chrome"||i&&i[0]>=74||n.includes("HeadlessChrome"))return r;let o=`${n}([\\d.]+$|.*Safari\\/(?![\\d.]+ Edge\\/[\\d.]+$))`,s=new RegExp(o);return Yt(et({},r),{regExp:s,regExpString:o})}},{test(r){return r.has("safari")},patch(r){let{family:t,regExpString:n}=r;if(t!=="safari")return r;let i=n.replace(/\.\*(Safari\\\/)/," $1"),o=new RegExp(i);return Yt(et({},r),{regExp:o,regExpString:i})}}];function OA(r,t){let n=new Map;return r.map(i=>E8.reduce((o,s)=>(n.has(s)||n.set(s,s.test(t)),n.get(s)?s.patch(o):o),i))}var RA={ignoreMinor:!1,ignorePatch:!0,allowZeroSubversions:!1,allowHigherVersions:!1};function PA(r={}){let p=r,{browsers:t,env:n,path:i}=p,o=go(p,["browsers","env","path"]),s=et(et({},RA),o),l=yA({browsers:t,env:n,path:i}),u=bA(l),d=wA(u),h=hA(u,s),y=CA(h,d,s),b=OA(y,u);return TA(b)}function _8(r={}){let t=PA(r),n=VS(t);return new RegExp(n)}Fe.BRACED_NUMBER_PATTERN=no;Fe.BROWSERS_REGEXPS=dA;Fe.BROWSERS_SHIRTNAMES=lh;Fe.BROWSERS_SHIRTNAMES_REGEXP=YS;Fe.CHARCLASS_UNESCAPES=_A;Fe.DIGIT_PATTERN=to;Fe.ESCAPE_SYMBOL=Sr;Fe.NUMBER_PATTERN=rh;Fe.OPTIMIZABLE_GROUP=EA;Fe.applyVersionsToRegExp=xA;Fe.applyVersionsToRegExps=CA;Fe.browserVersionsToRanges=wA;Fe.capturePostfix=dg;Fe.compareArrays=hg;Fe.compareSemvers=mg;Fe.defaultOptions=RA;Fe.enumOrRange=rA;Fe.extractIOSRegExp=gA;Fe.familyMatched=Po;Fe.fixBrowserFamily=fA;Fe.fixBrowserRegExp=bg;Fe.fixBrowsersRegExps=pA;Fe.getBrowsersList=yA;Fe.getMinMaxVersions=uA;Fe.getNumberPatternsCount=ug;Fe.getNumberPatternsPart=AA;Fe.getRegExpsForBrowsers=hA;Fe.getRequiredSemverPartsCount=sA;Fe.getUserAgentRegExp=_8;Fe.getUserAgentRegExps=PA;Fe.hasNumberPattern=JS;Fe.hasVersion=cA;Fe.isAllVersion=ma;Fe.joinParts=oh;Fe.joinVersionedBrowsersRegExps=VS;Fe.mergeBrowserVersions=bA;Fe.normalizeBrowserFamily=XS;Fe.numberToDigits=sh;Fe.numbersToRanges=ch;Fe.optimize=SA;Fe.optimizeAll=TA;Fe.optimizeRaysNumberPatterns=eA;Fe.parseBrowsersList=mA;Fe.patchRegExps=OA;Fe.rangeToRegExp=pg;Fe.rangedSemverToRegExp=aA;Fe.rayRangeDigitPattern=fg;Fe.rayToNumberPatterns=tA;Fe.regExpToString=gs;Fe.replaceNumberPatterns=KS;Fe.segmentRangeNumberPattern=ms;Fe.segmentToNumberPatterns=uh;Fe.segmentToNumberPatternsOrEnum=oA;Fe.semverify=gg;Fe.skipSquareBraces=ah;Fe.someSemverMatched=lA;Fe.splitCommonDiff=iA;Fe.splitToDecadeRanges=nA;Fe.uniq=yg;Fe.uniqItems=ZS;Fe.versionsListToRanges=vA});var kA=ve((Ml,vg)=>{H();(function(r,t){typeof Ml=="object"&&typeof vg=="object"?vg.exports=t():typeof define=="function"&&define.amd?define([],t):typeof Ml=="object"?Ml.devtoolsDetector=t():r.devtoolsDetector=t()})(typeof self!="undefined"?self:Ml,function(){return function(r){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=r,n.c=t,n.d=function(i,o,s){n.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:s})},n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=3)}([function(r,t,n){"use strict";n.d(t,"j",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return w}),n.d(t,"d",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"g",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"h",function(){return v}),t.a=function(){for(var C,O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];return(h==null?void 0:h.document)?(C=h.document).createElement.apply(C,O):{}},n.d(t,"b",function(){return A});var i,o,s,l,u,d=n(1),h=Object(d.a)(),y=((i=h==null?void 0:h.navigator)===null||i===void 0?void 0:i.userAgent)||"unknown",b="InstallTrigger"in((h==null?void 0:h.window)||{})||/firefox/i.test(y),w=/trident/i.test(y)||/msie/i.test(y),p=/edge/i.test(y),m=/webkit/i.test(y)&&!p,f=/IqiyiApp/.test(y),g=((o=h==null?void 0:h.window)===null||o===void 0?void 0:o.chrome)!==void 0||/chrome/i.test(y)||/CriOS/i.test(y),v=(((l=(s=h==null?void 0:h.window)===null||s===void 0?void 0:s.safari)===null||l===void 0?void 0:l.pushNotification)||!1).toString()==="[object SafariRemoteNotification]"||/safari/i.test(y)&&!g,A=typeof((u=h.document)===null||u===void 0?void 0:u.createElement)=="function"},function(r,t,n){"use strict";(function(i){t.c=function(){return typeof performance!="undefined"?performance.now():Date.now()},t.b=function(l){l===void 0&&(l={});for(var u=l.includes,d=u===void 0?[]:u,h=l.excludes,y=h===void 0?[]:h,b=!1,w=!1,p=0,m=d;p<m.length;p++){var f=m[p];if(f===!0){b=!0;break}}for(var g=0,v=y;g<v.length;g++){var f=v[g];if(f===!0){w=!0;break}}return b&&!w},t.d=function(l,u,d){var h=s.a[l];return h===void 0?!1:Object(o.compare)(h,u,d)},t.a=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:i!==void 0?i:this};var o=n(8),s=(n.n(o),n(4))}).call(t,n(7))},function(r,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u});var i=n(0);function o(d){if(console){if(!i.f&&!i.d)return console[d];if(d==="log"||d==="clear")return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];console[d].apply(console,h)}}return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y]}}var s=o("log"),l=o("table"),u=o("clear")},function(r,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addListener=function(b){y.addListener(b)},t.removeListener=function(b){y.removeListener(b)},t.isLaunch=function(){return y.isLaunch()},t.launch=function(){y.launch()},t.stop=function(){y.stop()},t.setDetectDelay=function(b){y.setDetectDelay(b)};var i=n(6),o=n(9);n.d(t,"DevtoolsDetector",function(){return i.a}),n.d(t,"checkers",function(){return o});var s=n(1);n.d(t,"match",function(){return s.b}),n.d(t,"specificVersionMatch",function(){return s.d});var l=n(0);n.d(t,"userAgent",function(){return l.j}),n.d(t,"isFirefox",function(){return l.e}),n.d(t,"isIE",function(){return l.f}),n.d(t,"isEdge",function(){return l.d}),n.d(t,"isWebkit",function(){return l.i}),n.d(t,"isIqiyiApp",function(){return l.g}),n.d(t,"isChrome",function(){return l.c}),n.d(t,"isSafari",function(){return l.h}),n.d(t,"createElement",function(){return l.a}),n.d(t,"inBrowser",function(){return l.b});var u=n(2);n.d(t,"log",function(){return u.b}),n.d(t,"table",function(){return u.c}),n.d(t,"clear",function(){return u.a});var d=n(4);n.d(t,"versionMap",function(){return d.a});var h=n(5);n.d(t,"isMac",function(){return h.d}),n.d(t,"isIpad",function(){return h.b}),n.d(t,"isIphone",function(){return h.c}),n.d(t,"isAndroid",function(){return h.a}),n.d(t,"isWindows",function(){return h.e});var y=new i.a({checkers:[o.erudaChecker,o.elementIdChecker,o.regToStringChecker,o.functionToStringChecker,o.depRegToStringChecker,o.dateToStringChecker,o.performanceChecker,o.debuggerChecker]});t.default=y},function(r,t,n){"use strict";n.d(t,"a",function(){return i});for(var i={},o=0,s=(n(0).j||"").match(/\w+\/(\d|\.)+(\s|$)/gi)||[];o<s.length;o++){var l=s[o].split("/"),u=l[0],d=l[1];i[u]=d}},function(r,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return d});var i=n(0),o=/macintosh/i.test(i.j),s=/ipad/i.test(i.j)||o&&navigator.maxTouchPoints>1,l=/iphone/i.test(i.j),u=/android/i.test(i.j),d=/windows/i.test(i.j)},function(r,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(0),o=this&&this.__awaiter||function(u,d,h,y){return new(h||(h=Promise))(function(b,w){function p(g){try{f(y.next(g))}catch(v){w(v)}}function m(g){try{f(y.throw(g))}catch(v){w(v)}}function f(g){g.done?b(g.value):function(v){return v instanceof h?v:new h(function(A){A(v)})}(g.value).then(p,m)}f((y=y.apply(u,d||[])).next())})},s=this&&this.__generator||function(u,d){var h,y,b,w,p={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return w={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function m(f){return function(g){return function(v){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,y&&(b=2&v[0]?y.return:v[0]?y.throw||((b=y.return)&&b.call(y),0):y.next)&&!(b=b.call(y,v[1])).done)return b;switch(y=0,b&&(v=[2&v[0],b.value]),v[0]){case 0:case 1:b=v;break;case 4:return p.label++,{value:v[1],done:!1};case 5:p.label++,y=v[1],v=[0];continue;case 7:v=p.ops.pop(),p.trys.pop();continue;default:if(!(b=(b=p.trys).length>0&&b[b.length-1])&&(v[0]===6||v[0]===2)){p=0;continue}if(v[0]===3&&(!b||v[1]>b[0]&&v[1]<b[3])){p.label=v[1];break}if(v[0]===6&&p.label<b[1]){p.label=b[1],b=v;break}if(b&&p.label<b[2]){p.label=b[2],p.ops.push(v);break}b[2]&&p.ops.pop(),p.trys.pop();continue}v=d.call(u,p)}catch(A){v=[6,A],y=0}finally{h=b=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([f,g])}}},l=function(){function u(d){var h=d.checkers;this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=h.slice()}return u.prototype.launch=function(){i.b&&(this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop()))},u.prototype.stop=function(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))},u.prototype.isLaunch=function(){return!this._detectLoopStopped},u.prototype.setDetectDelay=function(d){this._detectLoopDelay=d},u.prototype.addListener=function(d){this._listeners.push(d)},u.prototype.removeListener=function(d){this._listeners=this._listeners.filter(function(h){return h!==d})},u.prototype._broadcast=function(d){for(var h=0,y=this._listeners;h<y.length;h++){var b=y[h];try{b(d.isOpen,d)}catch(w){}}},u.prototype._detectLoop=function(){return o(this,void 0,void 0,function(){var d,h,y,b,w,p=this;return s(this,function(m){switch(m.label){case 0:d=!1,h="",y=0,b=this._checkers,m.label=1;case 1:return y<b.length?[4,(w=b[y]).isEnable()]:[3,6];case 2:return m.sent()?(h=w.name,[4,w.isOpen()]):[3,4];case 3:d=m.sent(),m.label=4;case 4:if(d)return[3,6];m.label=5;case 5:return y++,[3,1];case 6:return d!=this._isOpen&&(this._isOpen=d,this._broadcast({isOpen:d,checkerName:h})),this._detectLoopDelay>0&&!this._detectLoopStopped?this._timer=setTimeout(function(){return p._detectLoop()},this._detectLoopDelay):this.stop(),[2]}})})},u}()},function(r,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(i){typeof window=="object"&&(n=window)}r.exports=n},function(r,t,n){var i,o,s;(function(l,u){o=[],(s=typeof(i=u)=="function"?i.apply(t,o):i)===void 0||(r.exports=s)})(0,function(){var l=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function u(p){var m=p.replace(/^v/,"").replace(/\+.*$/,""),f=function(v,A){return v.indexOf(A)===-1?v.length:v.indexOf(A)}(m,"-"),g=m.substring(0,f).split(".");return g.push(m.substring(f+1)),g}function d(p){return isNaN(Number(p))?p:Number(p)}function h(p){if(typeof p!="string")throw new TypeError("Invalid argument expected string");if(!l.test(p))throw new Error("Invalid argument not valid semver ('"+p+"' received)")}function y(p,m){[p,m].forEach(h);for(var f=u(p),g=u(m),v=0;v<Math.max(f.length-1,g.length-1);v++){var A=parseInt(f[v]||0,10),C=parseInt(g[v]||0,10);if(A>C)return 1;if(C>A)return-1}var O=f[f.length-1],E=g[g.length-1];if(O&&E){var T=O.split(".").map(d),B=E.split(".").map(d);for(v=0;v<Math.max(T.length,B.length);v++){if(T[v]===void 0||typeof B[v]=="string"&&typeof T[v]=="number")return-1;if(B[v]===void 0||typeof T[v]=="string"&&typeof B[v]=="number"||T[v]>B[v])return 1;if(B[v]>T[v])return-1}}else if(O||E)return O?-1:1;return 0}var b=[">",">=","=","<","<="],w={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return y.validate=function(p){return typeof p=="string"&&l.test(p)},y.compare=function(p,m,f){(function(v){if(typeof v!="string")throw new TypeError("Invalid operator type, expected string but got "+typeof v);if(b.indexOf(v)===-1)throw new TypeError("Invalid operator, expected one of "+b.join("|"))})(f);var g=y(p,m);return w[f].indexOf(g)>-1},y})},function(r,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10);n.d(t,"depRegToStringChecker",function(){return i.a});var o=n(11);n.d(t,"elementIdChecker",function(){return o.a});var s=n(12);n.d(t,"functionToStringChecker",function(){return s.a});var l=n(13);n.d(t,"regToStringChecker",function(){return l.a});var u=n(14);n.d(t,"debuggerChecker",function(){return u.a});var d=n(15);n.d(t,"dateToStringChecker",function(){return d.a});var h=n(16);n.d(t,"performanceChecker",function(){return h.a});var y=n(17);n.d(t,"erudaChecker",function(){return y.a})},function(r,t,n){"use strict";n.d(t,"a",function(){return y});var i=n(0),o=n(2),s=n(1),l=this&&this.__awaiter||function(b,w,p,m){return new(p||(p=Promise))(function(f,g){function v(O){try{C(m.next(O))}catch(E){g(E)}}function A(O){try{C(m.throw(O))}catch(E){g(E)}}function C(O){O.done?f(O.value):function(E){return E instanceof p?E:new p(function(T){T(E)})}(O.value).then(v,A)}C((m=m.apply(b,w||[])).next())})},u=this&&this.__generator||function(b,w){var p,m,f,g,v={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return g={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function A(C){return function(O){return function(E){if(p)throw new TypeError("Generator is already executing.");for(;v;)try{if(p=1,m&&(f=2&E[0]?m.return:E[0]?m.throw||((f=m.return)&&f.call(m),0):m.next)&&!(f=f.call(m,E[1])).done)return f;switch(m=0,f&&(E=[2&E[0],f.value]),E[0]){case 0:case 1:f=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,m=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(!(f=(f=v.trys).length>0&&f[f.length-1])&&(E[0]===6||E[0]===2)){v=0;continue}if(E[0]===3&&(!f||E[1]>f[0]&&E[1]<f[3])){v.label=E[1];break}if(E[0]===6&&v.label<f[1]){v.label=f[1],f=E;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(E);break}f[2]&&v.ops.pop(),v.trys.pop();continue}E=w.call(b,v)}catch(T){E=[6,T],m=0}finally{p=f=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([C,O])}}},d=/ /,h=!1;d.toString=function(){return h=!0,y.name};var y={name:"dep-reg-to-string",isOpen:function(){return l(this,void 0,void 0,function(){return u(this,function(b){return h=!1,Object(o.c)({dep:d}),Object(o.a)(),[2,h]})})},isEnable:function(){return l(this,void 0,void 0,function(){return u(this,function(b){return[2,Object(s.b)({includes:[!0],excludes:[i.e,i.f]})]})})}}},function(r,t,n){"use strict";n.d(t,"a",function(){return y});var i=n(0),o=n(2),s=n(1),l=this&&this.__awaiter||function(b,w,p,m){return new(p||(p=Promise))(function(f,g){function v(O){try{C(m.next(O))}catch(E){g(E)}}function A(O){try{C(m.throw(O))}catch(E){g(E)}}function C(O){O.done?f(O.value):function(E){return E instanceof p?E:new p(function(T){T(E)})}(O.value).then(v,A)}C((m=m.apply(b,w||[])).next())})},u=this&&this.__generator||function(b,w){var p,m,f,g,v={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return g={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function A(C){return function(O){return function(E){if(p)throw new TypeError("Generator is already executing.");for(;v;)try{if(p=1,m&&(f=2&E[0]?m.return:E[0]?m.throw||((f=m.return)&&f.call(m),0):m.next)&&!(f=f.call(m,E[1])).done)return f;switch(m=0,f&&(E=[2&E[0],f.value]),E[0]){case 0:case 1:f=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,m=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(!(f=(f=v.trys).length>0&&f[f.length-1])&&(E[0]===6||E[0]===2)){v=0;continue}if(E[0]===3&&(!f||E[1]>f[0]&&E[1]<f[3])){v.label=E[1];break}if(E[0]===6&&v.label<f[1]){v.label=f[1],f=E;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(E);break}f[2]&&v.ops.pop(),v.trys.pop();continue}E=w.call(b,v)}catch(T){E=[6,T],m=0}finally{p=f=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([C,O])}}},d=Object(i.a)("div"),h=!1;Object.defineProperty(d,"id",{get:function(){return h=!0,y.name},configurable:!0});var y={name:"element-id",isOpen:function(){return l(this,void 0,void 0,function(){return u(this,function(b){return h=!1,Object(o.b)(d),Object(o.a)(),[2,h]})})},isEnable:function(){return l(this,void 0,void 0,function(){return u(this,function(b){return[2,Object(s.b)({includes:[!0],excludes:[i.f,i.d,i.e]})]})})}}},function(r,t,n){"use strict";n.d(t,"a",function(){return b});var i=n(0),o=n(2),s=n(5),l=n(1),u=this&&this.__awaiter||function(w,p,m,f){return new(m||(m=Promise))(function(g,v){function A(E){try{O(f.next(E))}catch(T){v(T)}}function C(E){try{O(f.throw(E))}catch(T){v(T)}}function O(E){E.done?g(E.value):function(T){return T instanceof m?T:new m(function(B){B(T)})}(E.value).then(A,C)}O((f=f.apply(w,p||[])).next())})},d=this&&this.__generator||function(w,p){var m,f,g,v,A={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return v={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function C(O){return function(E){return function(T){if(m)throw new TypeError("Generator is already executing.");for(;A;)try{if(m=1,f&&(g=2&T[0]?f.return:T[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,T[1])).done)return g;switch(f=0,g&&(T=[2&T[0],g.value]),T[0]){case 0:case 1:g=T;break;case 4:return A.label++,{value:T[1],done:!1};case 5:A.label++,f=T[1],T=[0];continue;case 7:T=A.ops.pop(),A.trys.pop();continue;default:if(!(g=(g=A.trys).length>0&&g[g.length-1])&&(T[0]===6||T[0]===2)){A=0;continue}if(T[0]===3&&(!g||T[1]>g[0]&&T[1]<g[3])){A.label=T[1];break}if(T[0]===6&&A.label<g[1]){A.label=g[1],g=T;break}if(g&&A.label<g[2]){A.label=g[2],A.ops.push(T);break}g[2]&&A.ops.pop(),A.trys.pop();continue}T=p.call(w,A)}catch(B){T=[6,B],f=0}finally{m=g=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([O,E])}}};function h(){}var y=0;h.toString=function(){return y++,""};var b={name:"function-to-string",isOpen:function(){return u(this,void 0,void 0,function(){return d(this,function(w){return y=0,Object(o.b)(h),Object(o.a)(),[2,y===2]})})},isEnable:function(){return u(this,void 0,void 0,function(){return d(this,function(w){return[2,Object(l.b)({includes:[!0],excludes:[i.g,i.e,(s.b||s.c)&&i.c]})]})})}}},function(r,t,n){"use strict";n.d(t,"a",function(){return y});var i=n(2),o=n(0),s=n(1),l=this&&this.__awaiter||function(b,w,p,m){return new(p||(p=Promise))(function(f,g){function v(O){try{C(m.next(O))}catch(E){g(E)}}function A(O){try{C(m.throw(O))}catch(E){g(E)}}function C(O){O.done?f(O.value):function(E){return E instanceof p?E:new p(function(T){T(E)})}(O.value).then(v,A)}C((m=m.apply(b,w||[])).next())})},u=this&&this.__generator||function(b,w){var p,m,f,g,v={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return g={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function A(C){return function(O){return function(E){if(p)throw new TypeError("Generator is already executing.");for(;v;)try{if(p=1,m&&(f=2&E[0]?m.return:E[0]?m.throw||((f=m.return)&&f.call(m),0):m.next)&&!(f=f.call(m,E[1])).done)return f;switch(m=0,f&&(E=[2&E[0],f.value]),E[0]){case 0:case 1:f=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,m=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(!(f=(f=v.trys).length>0&&f[f.length-1])&&(E[0]===6||E[0]===2)){v=0;continue}if(E[0]===3&&(!f||E[1]>f[0]&&E[1]<f[3])){v.label=E[1];break}if(E[0]===6&&v.label<f[1]){v.label=f[1],f=E;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(E);break}f[2]&&v.ops.pop(),v.trys.pop();continue}E=w.call(b,v)}catch(T){E=[6,T],m=0}finally{p=f=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([C,O])}}},d=/ /,h=!1;d.toString=function(){return h=!0,y.name};var y={name:"reg-to-string",isOpen:function(){return l(this,void 0,void 0,function(){return u(this,function(b){return h=!1,Object(i.b)(d),Object(i.a)(),[2,h]})})},isEnable:function(){return l(this,void 0,void 0,function(){return u(this,function(b){return[2,Object(s.b)({includes:[!0],excludes:[o.i]})]})})}}},function(r,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(1),o=this&&this.__awaiter||function(u,d,h,y){return new(h||(h=Promise))(function(b,w){function p(g){try{f(y.next(g))}catch(v){w(v)}}function m(g){try{f(y.throw(g))}catch(v){w(v)}}function f(g){g.done?b(g.value):function(v){return v instanceof h?v:new h(function(A){A(v)})}(g.value).then(p,m)}f((y=y.apply(u,d||[])).next())})},s=this&&this.__generator||function(u,d){var h,y,b,w,p={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return w={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function m(f){return function(g){return function(v){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,y&&(b=2&v[0]?y.return:v[0]?y.throw||((b=y.return)&&b.call(y),0):y.next)&&!(b=b.call(y,v[1])).done)return b;switch(y=0,b&&(v=[2&v[0],b.value]),v[0]){case 0:case 1:b=v;break;case 4:return p.label++,{value:v[1],done:!1};case 5:p.label++,y=v[1],v=[0];continue;case 7:v=p.ops.pop(),p.trys.pop();continue;default:if(!(b=(b=p.trys).length>0&&b[b.length-1])&&(v[0]===6||v[0]===2)){p=0;continue}if(v[0]===3&&(!b||v[1]>b[0]&&v[1]<b[3])){p.label=v[1];break}if(v[0]===6&&p.label<b[1]){p.label=b[1],b=v;break}if(b&&p.label<b[2]){p.label=b[2],p.ops.push(v);break}b[2]&&p.ops.pop(),p.trys.pop();continue}v=d.call(u,p)}catch(A){v=[6,A],y=0}finally{h=b=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([f,g])}}},l={name:"debugger-checker",isOpen:function(){return o(this,void 0,void 0,function(){var u;return s(this,function(d){return u=Object(i.c)(),function(){}.constructor("debugger")(),[2,Object(i.c)()-u>100]})})},isEnable:function(){return o(this,void 0,void 0,function(){return s(this,function(u){return[2,!0]})})}}},function(r,t,n){"use strict";n.d(t,"a",function(){return b});var i=n(0),o=n(2),s=n(1),l=n(3),u=this&&this.__awaiter||function(w,p,m,f){return new(m||(m=Promise))(function(g,v){function A(E){try{O(f.next(E))}catch(T){v(T)}}function C(E){try{O(f.throw(E))}catch(T){v(T)}}function O(E){E.done?g(E.value):function(T){return T instanceof m?T:new m(function(B){B(T)})}(E.value).then(A,C)}O((f=f.apply(w,p||[])).next())})},d=this&&this.__generator||function(w,p){var m,f,g,v,A={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return v={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function C(O){return function(E){return function(T){if(m)throw new TypeError("Generator is already executing.");for(;A;)try{if(m=1,f&&(g=2&T[0]?f.return:T[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,T[1])).done)return g;switch(f=0,g&&(T=[2&T[0],g.value]),T[0]){case 0:case 1:g=T;break;case 4:return A.label++,{value:T[1],done:!1};case 5:A.label++,f=T[1],T=[0];continue;case 7:T=A.ops.pop(),A.trys.pop();continue;default:if(!(g=(g=A.trys).length>0&&g[g.length-1])&&(T[0]===6||T[0]===2)){A=0;continue}if(T[0]===3&&(!g||T[1]>g[0]&&T[1]<g[3])){A.label=T[1];break}if(T[0]===6&&A.label<g[1]){A.label=g[1],g=T;break}if(g&&A.label<g[2]){A.label=g[2],A.ops.push(T);break}g[2]&&A.ops.pop(),A.trys.pop();continue}T=p.call(w,A)}catch(B){T=[6,B],f=0}finally{m=g=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([O,E])}}},h=new Date,y=0;h.toString=function(){return y++,""};var b={name:"date-to-string",isOpen:function(){return u(this,void 0,void 0,function(){return d(this,function(w){return y=0,Object(o.b)(h),Object(o.a)(),[2,y===2]})})},isEnable:function(){return u(this,void 0,void 0,function(){return d(this,function(w){return[2,Object(s.b)({includes:[i.c],excludes:[(l.isIpad||l.isIphone)&&i.c]})]})})}}},function(r,t,n){"use strict";n.d(t,"a",function(){return y});var i=n(0),o=n(2),s=n(1),l=this&&this.__awaiter||function(b,w,p,m){return new(p||(p=Promise))(function(f,g){function v(O){try{C(m.next(O))}catch(E){g(E)}}function A(O){try{C(m.throw(O))}catch(E){g(E)}}function C(O){O.done?f(O.value):function(E){return E instanceof p?E:new p(function(T){T(E)})}(O.value).then(v,A)}C((m=m.apply(b,w||[])).next())})},u=this&&this.__generator||function(b,w){var p,m,f,g,v={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return g={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function A(C){return function(O){return function(E){if(p)throw new TypeError("Generator is already executing.");for(;v;)try{if(p=1,m&&(f=2&E[0]?m.return:E[0]?m.throw||((f=m.return)&&f.call(m),0):m.next)&&!(f=f.call(m,E[1])).done)return f;switch(m=0,f&&(E=[2&E[0],f.value]),E[0]){case 0:case 1:f=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,m=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(!(f=(f=v.trys).length>0&&f[f.length-1])&&(E[0]===6||E[0]===2)){v=0;continue}if(E[0]===3&&(!f||E[1]>f[0]&&E[1]<f[3])){v.label=E[1];break}if(E[0]===6&&v.label<f[1]){v.label=f[1],f=E;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(E);break}f[2]&&v.ops.pop(),v.trys.pop();continue}E=w.call(b,v)}catch(T){E=[6,T],m=0}finally{p=f=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([C,O])}}},d=null,h=0,y={name:"performance",isOpen:function(){return l(this,void 0,void 0,function(){var b,w;return u(this,function(p){return d===null&&(d=function(){for(var m=function(){for(var v={},A=0;A<500;A++)v["".concat(A)]="".concat(A);return v}(),f=[],g=0;g<50;g++)f.push(m);return f}()),b=function(){var m=Object(s.c)();return Object(o.c)(d),Object(s.c)()-m}(),w=function(){var m=Object(s.c)();return Object(o.b)(d),Object(s.c)()-m}(),h=Math.max(h,w),Object(o.a)(),b===0?[2,!1]:h===0?[2,!1]:[2,b>10*h]})})},isEnable:function(){return l(this,void 0,void 0,function(){return u(this,function(b){return[2,Object(s.b)({includes:[i.c],excludes:[]})]})})}}},function(r,t,n){"use strict";n.d(t,"a",function(){return s});var i=this&&this.__awaiter||function(l,u,d,h){return new(d||(d=Promise))(function(y,b){function w(f){try{m(h.next(f))}catch(g){b(g)}}function p(f){try{m(h.throw(f))}catch(g){b(g)}}function m(f){f.done?y(f.value):function(g){return g instanceof d?g:new d(function(v){v(g)})}(f.value).then(w,p)}m((h=h.apply(l,u||[])).next())})},o=this&&this.__generator||function(l,u){var d,h,y,b,w={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function p(m){return function(f){return function(g){if(d)throw new TypeError("Generator is already executing.");for(;w;)try{if(d=1,h&&(y=2&g[0]?h.return:g[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,g[1])).done)return y;switch(h=0,y&&(g=[2&g[0],y.value]),g[0]){case 0:case 1:y=g;break;case 4:return w.label++,{value:g[1],done:!1};case 5:w.label++,h=g[1],g=[0];continue;case 7:g=w.ops.pop(),w.trys.pop();continue;default:if(!(y=(y=w.trys).length>0&&y[y.length-1])&&(g[0]===6||g[0]===2)){w=0;continue}if(g[0]===3&&(!y||g[1]>y[0]&&g[1]<y[3])){w.label=g[1];break}if(g[0]===6&&w.label<y[1]){w.label=y[1],y=g;break}if(y&&w.label<y[2]){w.label=y[2],w.ops.push(g);break}y[2]&&w.ops.pop(),w.trys.pop();continue}g=u.call(l,w)}catch(v){g=[6,v],h=0}finally{d=y=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([m,f])}}},s={name:"eruda",isOpen:function(){var l;return i(this,void 0,void 0,function(){return o(this,function(u){return typeof eruda!="undefined"?[2,((l=eruda==null?void 0:eruda._devTools)===null||l===void 0?void 0:l._isShow)===!0]:[2,!1]})})},isEnable:function(){return i(this,void 0,void 0,function(){return o(this,function(l){return[2,!0]})})}}}])})});var IA=ve(()=>{H()});var BA=ve((kl,Eg)=>{H();(function(r,t){if(typeof kl=="object"&&typeof Eg=="object")Eg.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else if(typeof kl=="object")kl.JsCrypto=t();else{var n=t();for(var i in r.JsCrypto=r.JsCrypto||{},n)r.JsCrypto[i]=n[i]}})(kl,function(){return function(){"use strict";var r={9691:function(o,s,l){l.d(s,{AES:function(){return D}});var u,d=l(9456),h=l(787),y=l(5693),b=l(9109),w=(u=function(U,I){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,q){N.__proto__=q}||function(N,q){for(var z in q)Object.prototype.hasOwnProperty.call(q,z)&&(N[z]=q[z])})(U,I)},function(U,I){function N(){this.constructor=U}u(U,I),U.prototype=I===null?Object.create(I):(N.prototype=I.prototype,new N)}),p=function(){return(p=Object.assign||function(U){for(var I,N=1,q=arguments.length;N<q;N++)for(var z in I=arguments[N])Object.prototype.hasOwnProperty.call(I,z)&&(U[z]=I[z]);return U}).apply(this,arguments)},m=[],f=[],g=[],v=[],A=[],C=[],O=[],E=[],T=[],B=[];(function(){for(var U=[],I=0;I<256;I++)U[I]=I<128?I<<1:I<<1^283;var N=0,q=0;for(I=0;I<256;I++){var z=q^q<<1^q<<2^q<<3^q<<4;z=z>>>8^255&z^99,m[N]=z,f[z]=N;var ne=U[N],oe=U[ne],ae=U[oe],te=257*U[z]^16843008*z;g[N]=te<<24|te>>>8,v[N]=te<<16|te>>>16,A[N]=te<<8|te>>>24,C[N]=te,te=16843009*ae^65537*oe^257*ne^16843008*N,O[z]=te<<24|te>>>8,E[z]=te<<16|te>>>16,T[z]=te<<8|te>>>24,B[z]=te,N?(N=ne^U[U[U[ae^ne]]],q^=U[U[q]]):N=q=1}})();var M=[0,1,2,4,8,16,32,64,128,27,54],D=function(U){function I(N){var q=U.call(this,N)||this;return q.u=0,q.h=[],q.v=[],q.O=N,q.A(),q}return w(I,U),I.prototype.A=function(){var N;if(!this.u||this.k!==this.H){for(var q=this.k=this.H,z=q.words,ne=q.nSigBytes/4,oe=4*((this.u=ne+6)+1),ae=this.h=[],te=0;te<oe;te++)te<ne?ae[te]=z[te]:(N=ae[te-1],te%ne?ne>6&&te%ne==4&&(N=m[N>>>24]<<24|m[N>>>16&255]<<16|m[N>>>8&255]<<8|m[255&N]):(N=m[(N=N<<8|N>>>24)>>>24]<<24|m[N>>>16&255]<<16|m[N>>>8&255]<<8|m[255&N],N^=M[te/ne|0]<<24),ae[te]=ae[te-ne]^N);this.v=[];for(var le=0;le<oe;le++)te=oe-le,N=le%4?ae[te]:ae[te-4],this.v[le]=le<4||te<=4?N:O[m[N>>>24]]^E[m[N>>>16&255]]^T[m[N>>>8&255]]^B[m[255&N]]}},I.prototype.encryptBlock=function(N,q){this.B(N,q,this.h,g,v,A,C,m)},I.prototype.decryptBlock=function(N,q){var z=N[q+1];N[q+1]=N[q+3],N[q+3]=z,this.B(N,q,this.v,O,E,T,B,f),z=N[q+1],N[q+1]=N[q+3],N[q+3]=z},I.prototype.B=function(N,q,z,ne,oe,ae,te,le){for(var xe=this.u,fe=N[q]^z[0],J=N[q+1]^z[1],j=N[q+2]^z[2],k=N[q+3]^z[3],x=4,R=1;R<xe;R++){var L=ne[fe>>>24]^oe[J>>>16&255]^ae[j>>>8&255]^te[255&k]^z[x++],F=ne[J>>>24]^oe[j>>>16&255]^ae[k>>>8&255]^te[255&fe]^z[x++],W=ne[j>>>24]^oe[k>>>16&255]^ae[fe>>>8&255]^te[255&J]^z[x++],V=ne[k>>>24]^oe[fe>>>16&255]^ae[J>>>8&255]^te[255&j]^z[x++];fe=L,J=F,j=W,k=V}var Z=(le[fe>>>24]<<24|le[J>>>16&255]<<16|le[j>>>8&255]<<8|le[255&k])^z[x++],ee=(le[J>>>24]<<24|le[j>>>16&255]<<16|le[k>>>8&255]<<8|le[255&fe])^z[x++],ie=(le[j>>>24]<<24|le[k>>>16&255]<<16|le[fe>>>8&255]<<8|le[255&J])^z[x++],ue=(le[k>>>24]<<24|le[fe>>>16&255]<<16|le[J>>>8&255]<<8|le[255&j])^z[x++];N[q]=Z,N[q+1]=ee,N[q+2]=ie,N[q+3]=ue},I.createEncryptor=function(N,q){return new I(p(p({},q=q===void 0?{}:q),{key:N,transformMode:d.t.ENC_TRANSFORM_MODE}))},I.createDecryptor=function(N,q){return new I(p(p({},q=q===void 0?{}:q),{key:N,transformMode:d.t.DEC_TRANSFORM_MODE}))},I.encrypt=function(N,q,z){if(typeof q=="string")return y.E.encrypt(I,N,q,z);if(q.nSigBytes%4!=0)throw new Error("Key size must be multiple of 32bit/4byte/1word");return b.D.encrypt(I,N,q,z)},I.decrypt=function(N,q,z){if(typeof q=="string")return y.E.decrypt(I,N,q,z);if(q.nSigBytes%4!=0)throw new Error("Key size must be multiple of 32bit/4byte/1word");return b.D.decrypt(I,N,q,z)},I.keySize=8,I}(h.G)},3967:function(o,s,l){l.d(s,{CBCMAC:function(){return b}});var u=l(4768),d=l(3354),h=l(9691),y=l(3664);function b(w,p,m,f,g,v){var A=v&&v.Cipher?v.Cipher:h.AES,C=typeof m=="string"?u.d.parse(m):m,O=f||new d.e([0,0]),E=typeof p=="string"?u.d.parse(p):p,T=typeof w=="string"?u.d.parse(w):w,B=g||16;return y.K.mac(A,C,O,E,T,B)}},9910:function(o,s,l){l.d(s,{DES:function(){return C}});var u,d=l(787),h=l(9456),y=l(5693),b=l(9109),w=(u=function(O,E){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,B){T.__proto__=B}||function(T,B){for(var M in B)Object.prototype.hasOwnProperty.call(B,M)&&(T[M]=B[M])})(O,E)},function(O,E){function T(){this.constructor=O}u(O,E),O.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}),p=function(){return(p=Object.assign||function(O){for(var E,T=1,B=arguments.length;T<B;T++)for(var M in E=arguments[T])Object.prototype.hasOwnProperty.call(E,M)&&(O[M]=E[M]);return O}).apply(this,arguments)},m=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],g=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],A=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],C=function(O){function E(T){var B=O.call(this,T)||this;return B.N=2,B.I=[],B.U=[],B.L=0,B.F=0,B.O=T,B.A(),B}return w(E,O),E.prototype.A=function(){for(var T=this.H.words,B=[],M=0;M<56;M++){var D=m[M]-1;B[M]=T[D>>>5]>>>31-D%32&1}for(var U=this.I=[],I=0;I<16;I++){var N=U[I]=[],q=g[I];for(M=0;M<24;M++)N[M/6|0]|=B[(f[M]-1+q)%28]<<31-M%6,N[4+(M/6|0)]|=B[28+(f[M+24]-1+q)%28]<<31-M%6;for(N[0]=N[0]<<1|N[0]>>>31,M=1;M<7;M++)N[M]=N[M]>>>4*(M-1)+3;N[7]=N[7]<<5|N[7]>>>27}for(this.U=[],M=0;M<16;M++)this.U[M]=U[15-M]},E.prototype.encryptBlock=function(T,B){this.R(T,B,this.I)},E.prototype.decryptBlock=function(T,B){this.R(T,B,this.U)},E.prototype.R=function(T,B,M){this.L=T[B],this.F=T[B+1],this.X(4,252645135),this.X(16,65535),this.Z(2,858993459),this.Z(8,16711935),this.X(1,1431655765);for(var D=0;D<16;D++){for(var U=M[D],I=this.L,N=this.F,q=0,z=0;z<8;z++){var ne=(N^U[z])&A[z];q|=v[z][ne>>>0]}this.L=N,this.F=I^q}var oe=this.L;this.L=this.F,this.F=oe,this.X(1,1431655765),this.Z(8,16711935),this.Z(2,858993459),this.X(16,65535),this.X(4,252645135),T[B]=this.L,T[B+1]=this.F},E.prototype.X=function(T,B){var M=(this.L>>>T^this.F)&B;this.F^=M,this.L^=M<<T},E.prototype.Z=function(T,B){var M=(this.F>>>T^this.L)&B;this.L^=M,this.F^=M<<T},E.createEncryptor=function(T,B){return new E(p(p({},B=B===void 0?{}:B),{key:T,transformMode:h.t.ENC_TRANSFORM_MODE}))},E.createDecryptor=function(T,B){return new E(p(p({},B=B===void 0?{}:B),{key:T,transformMode:h.t.DEC_TRANSFORM_MODE}))},E.encrypt=function(T,B,M){return typeof B=="string"?y.E.encrypt(E,T,B,M):b.D.encrypt(E,T,B,M)},E.decrypt=function(T,B,M){return typeof B=="string"?y.E.decrypt(E,T,B,M):b.D.decrypt(E,T,B,M)},E.keySize=2,E.ivSize=2,E}(d.G)},6739:function(o,s,l){l.d(s,{DES3:function(){return g}});var u,d=l(9109),h=l(787),y=l(9456),b=l(9910),w=l(3354),p=l(5693),m=(u=function(v,A){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,O){C.__proto__=O}||function(C,O){for(var E in O)Object.prototype.hasOwnProperty.call(O,E)&&(C[E]=O[E])})(v,A)},function(v,A){function C(){this.constructor=v}u(v,A),v.prototype=A===null?Object.create(A):(C.prototype=A.prototype,new C)}),f=function(){return(f=Object.assign||function(v){for(var A,C=1,O=arguments.length;C<O;C++)for(var E in A=arguments[C])Object.prototype.hasOwnProperty.call(A,E)&&(v[E]=A[E]);return v}).apply(this,arguments)},g=function(v){function A(C){var O=v.call(this,C)||this;O.N=2,O.O=C;var E=O.J();return O.Y=E[0],O.$=E[1],O.nn=E[2],O}return m(A,v),A.prototype.J=function(){var C=this.H.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var O=C.slice(0,2),E=C.length<4?C.slice(0,2):C.slice(2,4),T=C.length<6?C.slice(0,2):C.slice(4,6);return[b.DES.createEncryptor(new w.e(O)),b.DES.createEncryptor(new w.e(E)),b.DES.createEncryptor(new w.e(T))]},A.prototype.A=function(){var C=this.J();this.Y=C[0],this.$=C[1],this.nn=C[2]},A.prototype.encryptBlock=function(C,O){this.Y.encryptBlock(C,O),this.$.decryptBlock(C,O),this.nn.encryptBlock(C,O)},A.prototype.decryptBlock=function(C,O){this.nn.decryptBlock(C,O),this.$.encryptBlock(C,O),this.Y.decryptBlock(C,O)},A.createEncryptor=function(C,O){return new A(f(f({},O=O===void 0?{}:O),{key:C,transformMode:y.t.ENC_TRANSFORM_MODE}))},A.createDecryptor=function(C,O){return new A(f(f({},O=O===void 0?{}:O),{key:C,transformMode:y.t.DEC_TRANSFORM_MODE}))},A.encrypt=function(C,O,E){return typeof O=="string"?p.E.encrypt(A,C,O,E):d.D.encrypt(A,C,O,E)},A.decrypt=function(C,O,E){return typeof O=="string"?p.E.decrypt(A,C,O,E):d.D.decrypt(A,C,O,E)},A.keySize=6,A.ivSize=2,A}(h.G)},7753:function(o,s,l){l.d(s,{GMAC:function(){return b}});var u=l(4768),d=l(3354),h=l(9691),y=l(5607);function b(w,p,m,f,g){var v=typeof w=="string"?u.d.parse(w):w,A=m||new d.e([0,0,0,0]),C=g&&g.Cipher?g.Cipher:h.AES,O=typeof p=="string"?u.d.parse(p):p,E=f||16;return y.V.mac(C,O,A,v,void 0,E)}},6367:function(o,s,l){l.d(s,{Hmac:function(){return d}});var u=l(4768),d=function(){function h(y,b){this.tn=y,typeof b=="string"&&(b=u.d.parse(b));var w=y.blockSize,p=4*w;b.nSigBytes>p&&(b=y.finalize(b)),b.clamp();for(var m=this.rn=b.clone(),f=this.en=b.clone(),g=m.words,v=f.words,A=0;A<w;A++)g[A]^=1549556828,v[A]^=909522486;f.nSigBytes=p,m.nSigBytes=p,this.reset()}return h.prototype.reset=function(){this.tn.reset(),this.tn.update(this.en)},h.prototype.update=function(y){return this.tn.update(y),this},h.prototype.finalize=function(y){var b=this.tn.finalize(y);return this.tn.reset(),this.tn.finalize(this.rn.clone().concat(b))},h}()},3027:function(o,s,l){l.d(s,{HmacMD5:function(){return h}});var u=l(6367),d=l(670);function h(y,b){return new u.Hmac(new d.MD5,b).finalize(y)}},149:function(o,s,l){l.d(s,{HmacSHA1:function(){return h}});var u=l(6367),d=l(3173);function h(y,b){return new u.Hmac(new d.SHA1,b).finalize(y)}},4105:function(o,s,l){l.d(s,{HmacSHA224:function(){return h}});var u=l(6367),d=l(766);function h(y,b){return new u.Hmac(new d.SHA224,b).finalize(y)}},980:function(o,s,l){l.d(s,{HmacSHA256:function(){return h}});var u=l(6367),d=l(5561);function h(y,b){return new u.Hmac(new d.SHA256,b).finalize(y)}},5838:function(o,s,l){l.d(s,{HmacSHA384:function(){return h}});var u=l(6367),d=l(6324);function h(y,b){return new u.Hmac(new d.SHA384,b).finalize(y)}},9902:function(o,s,l){l.d(s,{HmacSHA512:function(){return h}});var u=l(6367),d=l(7491);function h(y,b){return new u.Hmac(new d.SHA512,b).finalize(y)}},670:function(o,s,l){l.d(s,{MD5:function(){return g}});var u,d=l(3354),h=l(1868),y=(u=function(v,A){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,O){C.__proto__=O}||function(C,O){for(var E in O)Object.prototype.hasOwnProperty.call(O,E)&&(C[E]=O[E])})(v,A)},function(v,A){function C(){this.constructor=v}u(v,A),v.prototype=A===null?Object.create(A):(C.prototype=A.prototype,new C)}),b=[];function w(v,A,C,O,E,T,B){var M=v+(A&C|~A&O)+E+B;return(M<<T|M>>>32-T)+A}function p(v,A,C,O,E,T,B){var M=v+(A&O|C&~O)+E+B;return(M<<T|M>>>32-T)+A}function m(v,A,C,O,E,T,B){var M=v+(A^C^O)+E+B;return(M<<T|M>>>32-T)+A}function f(v,A,C,O,E,T,B){var M=v+(C^(A|~O))+E+B;return(M<<T|M>>>32-T)+A}(function(){for(var v=0;v<64;v++)b[v]=4294967296*Math.abs(Math.sin(v+1))|0})();var g=function(v){function A(C){var O=v.call(this,C)||this;return O.on=new d.e([1732584193,4023233417,2562383102,271733878]),C&&C.hash!==void 0&&(O.on=C.hash.clone()),O}return y(A,v),A.prototype.A=function(){this.on=new d.e([1732584193,4023233417,2562383102,271733878])},A.prototype.un=function(C,O){for(var E=0;E<16;E++){var T=O+E,B=C[T];C[T]=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8)}var M=this.on.words,D=C[O],U=C[O+1],I=C[O+2],N=C[O+3],q=C[O+4],z=C[O+5],ne=C[O+6],oe=C[O+7],ae=C[O+8],te=C[O+9],le=C[O+10],xe=C[O+11],fe=C[O+12],J=C[O+13],j=C[O+14],k=C[O+15],x=M[0],R=M[1],L=M[2],F=M[3];x=w(x,R,L,F,D,7,b[0]),F=w(F,x,R,L,U,12,b[1]),L=w(L,F,x,R,I,17,b[2]),R=w(R,L,F,x,N,22,b[3]),x=w(x,R,L,F,q,7,b[4]),F=w(F,x,R,L,z,12,b[5]),L=w(L,F,x,R,ne,17,b[6]),R=w(R,L,F,x,oe,22,b[7]),x=w(x,R,L,F,ae,7,b[8]),F=w(F,x,R,L,te,12,b[9]),L=w(L,F,x,R,le,17,b[10]),R=w(R,L,F,x,xe,22,b[11]),x=w(x,R,L,F,fe,7,b[12]),F=w(F,x,R,L,J,12,b[13]),L=w(L,F,x,R,j,17,b[14]),x=p(x,R=w(R,L,F,x,k,22,b[15]),L,F,U,5,b[16]),F=p(F,x,R,L,ne,9,b[17]),L=p(L,F,x,R,xe,14,b[18]),R=p(R,L,F,x,D,20,b[19]),x=p(x,R,L,F,z,5,b[20]),F=p(F,x,R,L,le,9,b[21]),L=p(L,F,x,R,k,14,b[22]),R=p(R,L,F,x,q,20,b[23]),x=p(x,R,L,F,te,5,b[24]),F=p(F,x,R,L,j,9,b[25]),L=p(L,F,x,R,N,14,b[26]),R=p(R,L,F,x,ae,20,b[27]),x=p(x,R,L,F,J,5,b[28]),F=p(F,x,R,L,I,9,b[29]),L=p(L,F,x,R,oe,14,b[30]),x=m(x,R=p(R,L,F,x,fe,20,b[31]),L,F,z,4,b[32]),F=m(F,x,R,L,ae,11,b[33]),L=m(L,F,x,R,xe,16,b[34]),R=m(R,L,F,x,j,23,b[35]),x=m(x,R,L,F,U,4,b[36]),F=m(F,x,R,L,q,11,b[37]),L=m(L,F,x,R,oe,16,b[38]),R=m(R,L,F,x,le,23,b[39]),x=m(x,R,L,F,J,4,b[40]),F=m(F,x,R,L,D,11,b[41]),L=m(L,F,x,R,N,16,b[42]),R=m(R,L,F,x,ne,23,b[43]),x=m(x,R,L,F,te,4,b[44]),F=m(F,x,R,L,fe,11,b[45]),L=m(L,F,x,R,k,16,b[46]),x=f(x,R=m(R,L,F,x,I,23,b[47]),L,F,D,6,b[48]),F=f(F,x,R,L,oe,10,b[49]),L=f(L,F,x,R,j,15,b[50]),R=f(R,L,F,x,z,21,b[51]),x=f(x,R,L,F,fe,6,b[52]),F=f(F,x,R,L,N,10,b[53]),L=f(L,F,x,R,le,15,b[54]),R=f(R,L,F,x,U,21,b[55]),x=f(x,R,L,F,ae,6,b[56]),F=f(F,x,R,L,k,10,b[57]),L=f(L,F,x,R,ne,15,b[58]),R=f(R,L,F,x,J,21,b[59]),x=f(x,R,L,F,q,6,b[60]),F=f(F,x,R,L,xe,10,b[61]),L=f(L,F,x,R,I,15,b[62]),R=f(R,L,F,x,te,21,b[63]),M[0]=M[0]+x|0,M[1]=M[1]+R|0,M[2]=M[2]+L|0,M[3]=M[3]+F|0},A.prototype.fn=function(){var C=this.cn,O=C.words,E=8*this.sn,T=8*C.nSigBytes;O[T>>>5]|=128<<24-T%32;var B=Math.floor(E/4294967296),M=E;O[15+(T+64>>>9<<4)]=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8),O[14+(T+64>>>9<<4)]=16711935&(M<<8|M>>>24)|4278255360&(M<<24|M>>>8),C.nSigBytes=4*(O.length+1),this.an();for(var D=this.on,U=D.words,I=0;I<4;I++){var N=U[I];U[I]=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8)}return D},A.prototype.clone=function(){return new A({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},A.hash=function(C){return new A().finalize(C)},A}(h.P)},4615:function(o,s,l){l.d(s,{RC4:function(){return p}});var u,d=l(30),h=l(5693),y=l(9109),b=(u=function(m,f){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var A in v)Object.prototype.hasOwnProperty.call(v,A)&&(g[A]=v[A])})(m,f)},function(m,f){function g(){this.constructor=m}u(m,f),m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),w=function(){return(w=Object.assign||function(m){for(var f,g=1,v=arguments.length;g<v;g++)for(var A in f=arguments[g])Object.prototype.hasOwnProperty.call(f,A)&&(m[A]=f[A]);return m}).apply(this,arguments)},p=function(m){function f(g){var v=m.call(this,g)||this;return v.S=[],v.i=0,v.j=0,v.O=g,v.A(),v}return b(f,m),f.prototype.A=function(){var g=this.H,v=g.words,A=g.nSigBytes;this.S=[];for(var C=0;C<256;C++)this.S[C]=C;C=0;for(var O=0;C<256;C++){var E=C%A,T=v[E>>>2]>>>24-E%4*8&255;O=(O+this.S[C]+T)%256;var B=this.S[C];this.S[C]=this.S[O],this.S[O]=B}this.i=this.j=0},f.prototype.un=function(g,v){g[v]^=this.generateKeyStreamWord()},f.prototype.generateKeyStreamWord=function(){for(var g=this.S,v=this.i,A=this.j,C=0,O=0;O<4;O++){A=(A+g[v=(v+1)%256])%256;var E=g[v];g[v]=g[A],g[A]=E,C|=g[(g[v]+g[A])%256]<<24-8*O}return this.i=v,this.j=A,C},f.createEncryptor=function(g,v){return new f(w(w({},v=v===void 0?{}:v),{key:g}))},f.createDecryptor=function(g,v){return new f(w(w({},v=v===void 0?{}:v),{key:g}))},f.encrypt=function(g,v,A){return typeof v=="string"?h.E.encrypt(f,g,v,A):y.D.encrypt(f,g,v,A)},f.decrypt=function(g,v,A){return typeof v=="string"?h.E.decrypt(f,g,v,A):y.D.decrypt(f,g,v,A)},f.ivSize=0,f.keySize=8,f}(d.q)},9639:function(o,s,l){l.d(s,{RC4Drop:function(){return p}});var u,d=l(5693),h=l(9109),y=l(4615),b=(u=function(m,f){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var A in v)Object.prototype.hasOwnProperty.call(v,A)&&(g[A]=v[A])})(m,f)},function(m,f){function g(){this.constructor=m}u(m,f),m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),w=function(){return(w=Object.assign||function(m){for(var f,g=1,v=arguments.length;g<v;g++)for(var A in f=arguments[g])Object.prototype.hasOwnProperty.call(f,A)&&(m[A]=f[A]);return m}).apply(this,arguments)},p=function(m){function f(g){var v=m.call(this,g)||this;return v.drop=192,v.O=g,g&&typeof g.drop=="number"&&(v.drop=g.drop),v.A(),v}return b(f,m),f.prototype.A=function(){m.prototype.A.call(this);for(var g=this.drop;g>0;g--)this.generateKeyStreamWord()},f.createEncryptor=function(g,v){return new f(w(w({},v=v===void 0?{}:v),{key:g}))},f.createDecryptor=function(g,v){return new f(w(w({},v=v===void 0?{}:v),{key:g}))},f.encrypt=function(g,v,A){return typeof v=="string"?d.E.encrypt(f,g,v,A):h.D.encrypt(f,g,v,A)},f.decrypt=function(g,v,A){return typeof v=="string"?d.E.decrypt(f,g,v,A):h.D.decrypt(f,g,v,A)},f}(y.RC4)},7104:function(o,s,l){l.d(s,{RIPEMD160:function(){return B}});var u,d=l(1868),h=l(3354),y=(u=function(M,D){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,I){U.__proto__=I}||function(U,I){for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(U[N]=I[N])})(M,D)},function(M,D){function U(){this.constructor=M}u(M,D),M.prototype=D===null?Object.create(D):(U.prototype=D.prototype,new U)}),b=new h.e([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=new h.e([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=new h.e([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=new h.e([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=new h.e([0,1518500249,1859775393,2400959708,2840853838]),g=new h.e([1352829926,1548603684,1836072691,2053994217,0]);function v(M,D,U){return M^D^U}function A(M,D,U){return M&D|~M&U}function C(M,D,U){return(M|~D)^U}function O(M,D,U){return M&U|D&~U}function E(M,D,U){return M^(D|~U)}function T(M,D){return M<<D|M>>>32-D}var B=function(M){function D(U){var I=M.call(this,U)||this;return I.on=new h.e([1732584193,4023233417,2562383102,271733878,3285377520]),I.O=U,U&&U.hash!==void 0&&(I.on=U.hash.clone()),I}return y(D,M),D.prototype.A=function(){this.on=new h.e([1732584193,4023233417,2562383102,271733878,3285377520])},D.prototype.un=function(U,I){for(var N=0;N<16;N++){var q=I+N,z=U[q];U[q]=16711935&(z<<8|z>>>24)|4278255360&(z<<24|z>>>8)}var ne,oe,ae,te,le,xe,fe,J,j,k,x,R=this.on.words,L=f.words,F=g.words,W=b.words,V=w.words,Z=p.words,ee=m.words;for(xe=ne=R[0],fe=oe=R[1],J=ae=R[2],j=te=R[3],k=le=R[4],N=0;N<80;N+=1)x=ne+U[I+W[N]]|0,x+=N<16?v(oe,ae,te)+L[0]:N<32?A(oe,ae,te)+L[1]:N<48?C(oe,ae,te)+L[2]:N<64?O(oe,ae,te)+L[3]:E(oe,ae,te)+L[4],x=(x=T(x|=0,Z[N]))+le|0,ne=le,le=te,te=T(ae,10),ae=oe,oe=x,x=xe+U[I+V[N]]|0,x+=N<16?E(fe,J,j)+F[0]:N<32?O(fe,J,j)+F[1]:N<48?C(fe,J,j)+F[2]:N<64?A(fe,J,j)+F[3]:v(fe,J,j)+F[4],x=(x=T(x|=0,ee[N]))+k|0,xe=k,k=j,j=T(J,10),J=fe,fe=x;x=R[1]+ae+j|0,R[1]=R[2]+te+k|0,R[2]=R[3]+le+xe|0,R[3]=R[4]+ne+fe|0,R[4]=R[0]+oe+J|0,R[0]=x},D.prototype.fn=function(){var U=this.cn,I=U.words,N=8*this.sn,q=8*U.nSigBytes;I[q>>>5]|=128<<24-q%32,I[14+(q+64>>>9<<4)]=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),U.nSigBytes=4*(I.length+1),this.an();for(var z=this.on,ne=z.words,oe=0;oe<5;oe++){var ae=ne[oe];ne[oe]=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8)}return z},D.prototype.clone=function(){return new D({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},D.hash=function(U,I){return new D(I).finalize(U)},D}(d.P)},5187:function(o,s,l){l.d(s,{Rabbit:function(){return p}});var u,d=l(30),h=l(5693),y=l(9109),b=(u=function(m,f){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var A in v)Object.prototype.hasOwnProperty.call(v,A)&&(g[A]=v[A])})(m,f)},function(m,f){function g(){this.constructor=m}u(m,f),m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),w=function(){return(w=Object.assign||function(m){for(var f,g=1,v=arguments.length;g<v;g++)for(var A in f=arguments[g])Object.prototype.hasOwnProperty.call(f,A)&&(m[A]=f[A]);return m}).apply(this,arguments)},p=function(m){function f(g){var v=m.call(this,g)||this;return v.N=4,v.S=[],v.C=[],v.G=[],v.hn=[],v.vn=[],v.wn=0,v.O=g,v.A(),v}return b(f,m),f.prototype.A=function(){for(var g=this.H.words,v=this.ln,A=0;A<4;A++)g[A]=16711935&(g[A]<<8|g[A]>>>24)|4278255360&(g[A]<<24|g[A]>>>8);var C=this.hn=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],O=this.vn=[g[2]<<16|g[2]>>>16,4294901760&g[0]|65535&g[1],g[3]<<16|g[3]>>>16,4294901760&g[1]|65535&g[2],g[0]<<16|g[0]>>>16,4294901760&g[2]|65535&g[3],g[1]<<16|g[1]>>>16,4294901760&g[3]|65535&g[0]];for(this.wn=0,A=0;A<4;A++)this.nextState();for(A=0;A<8;A++)O[A]^=C[A+4&7];if(v){var E=v.words,T=E[0],B=E[1],M=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),D=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8),U=M>>>16|4294901760&D,I=D<<16|65535&M;for(O[0]^=M,O[1]^=U,O[2]^=D,O[3]^=I,O[4]^=M,O[5]^=U,O[6]^=D,O[7]^=I,A=0;A<4;A++)this.nextState()}},f.prototype.un=function(g,v){var A=this.hn;this.nextState(),this.S[0]=A[0]^A[5]>>>16^A[3]<<16,this.S[1]=A[2]^A[7]>>>16^A[5]<<16,this.S[2]=A[4]^A[1]>>>16^A[7]<<16,this.S[3]=A[6]^A[3]>>>16^A[1]<<16;for(var C=0;C<4;C++)this.S[C]=16711935&(this.S[C]<<8|this.S[C]>>>24)|4278255360&(this.S[C]<<24|this.S[C]>>>8),g[v+C]^=this.S[C]},f.prototype.nextState=function(){for(var g=this.hn,v=this.vn,A=0;A<8;A++)this.C[A]=v[A];for(v[0]=v[0]+1295307597+this.wn|0,v[1]=v[1]+3545052371+(v[0]>>>0<this.C[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<this.C[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<this.C[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<this.C[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<this.C[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<this.C[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<this.C[6]>>>0?1:0)|0,this.wn=v[7]>>>0<this.C[7]>>>0?1:0,A=0;A<8;A++){var C=g[A]+v[A],O=65535&C,E=C>>>16,T=((O*O>>>17)+O*E>>>15)+E*E,B=((4294901760&C)*C|0)+((65535&C)*C|0);this.G[A]=T^B}var M=this.G;g[0]=M[0]+(M[7]<<16|M[7]>>>16)+(M[6]<<16|M[6]>>>16)|0,g[1]=M[1]+(M[0]<<8|M[0]>>>24)+M[7]|0,g[2]=M[2]+(M[1]<<16|M[1]>>>16)+(M[0]<<16|M[0]>>>16)|0,g[3]=M[3]+(M[2]<<8|M[2]>>>24)+M[1]|0,g[4]=M[4]+(M[3]<<16|M[3]>>>16)+(M[2]<<16|M[2]>>>16)|0,g[5]=M[5]+(M[4]<<8|M[4]>>>24)+M[3]|0,g[6]=M[6]+(M[5]<<16|M[5]>>>16)+(M[4]<<16|M[4]>>>16)|0,g[7]=M[7]+(M[6]<<8|M[6]>>>24)+M[5]|0},f.createEncryptor=function(g,v){return new f(w(w({},v=v===void 0?{}:v),{key:g}))},f.createDecryptor=function(g,v){return new f(w(w({},v=v===void 0?{}:v),{key:g}))},f.encrypt=function(g,v,A){return typeof v=="string"?h.E.encrypt(f,g,v,A):y.D.encrypt(f,g,v,A)},f.decrypt=function(g,v,A){return typeof v=="string"?h.E.decrypt(f,g,v,A):y.D.decrypt(f,g,v,A)},f.ivSize=4,f}(d.q)},3173:function(o,s,l){l.d(s,{SHA1:function(){return w}});var u,d=l(1868),h=l(3354),y=(u=function(p,m){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(f[v]=g[v])})(p,m)},function(p,m){function f(){this.constructor=p}u(p,m),p.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}),b=[],w=function(p){function m(f){var g=p.call(this,f)||this;return g.on=new h.e([1732584193,4023233417,2562383102,271733878,3285377520]),g.O=f,f&&f.hash!==void 0&&(g.on=f.hash.clone()),g}return y(m,p),m.prototype.A=function(){this.on=new h.e([1732584193,4023233417,2562383102,271733878,3285377520])},m.prototype.un=function(f,g){for(var v=this.on.words,A=v[0],C=v[1],O=v[2],E=v[3],T=v[4],B=0;B<80;B++){if(B<16)b[B]=0|f[g+B];else{var M=b[B-3]^b[B-8]^b[B-14]^b[B-16];b[B]=M<<1|M>>>31}var D=(A<<5|A>>>27)+T+b[B];D+=B<20?1518500249+(C&O|~C&E):B<40?1859775393+(C^O^E):B<60?(C&O|C&E|O&E)-1894007588:(C^O^E)-899497514,T=E,E=O,O=C<<30|C>>>2,C=A,A=D}v[0]=v[0]+A|0,v[1]=v[1]+C|0,v[2]=v[2]+O|0,v[3]=v[3]+E|0,v[4]=v[4]+T|0},m.prototype.fn=function(){var f=this.cn.words,g=8*this.sn,v=8*this.cn.nSigBytes;return f[v>>>5]|=128<<24-v%32,f[14+(v+64>>>9<<4)]=Math.floor(g/4294967296),f[15+(v+64>>>9<<4)]=g,this.cn.nSigBytes=4*f.length,this.an(),this.on},m.prototype.clone=function(){return new m({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},m.hash=function(f,g){return new m(g).finalize(f)},m}(d.P)},766:function(o,s,l){l.d(s,{SHA224:function(){return b}});var u,d=l(3354),h=l(5561),y=(u=function(w,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(m[g]=f[g])})(w,p)},function(w,p){function m(){this.constructor=w}u(w,p),w.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}),b=function(w){function p(m){var f=w.call(this,m)||this;return f.on=new d.e([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),f.O=m,m&&m.hash!==void 0&&(f.on=m.hash.clone()),f}return y(p,w),p.prototype.A=function(){this.on=new d.e([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},p.prototype.fn=function(){var m=w.prototype.fn.call(this);return m.nSigBytes-=4,m},p.prototype.clone=function(){return new p({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},p.hash=function(m,f){return new p(f).finalize(m)},p}(h.SHA256)},5561:function(o,s,l){l.d(s,{SHA256:function(){return g}});var u,d=l(1868),h=l(3354),y=(u=function(v,A){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,O){C.__proto__=O}||function(C,O){for(var E in O)Object.prototype.hasOwnProperty.call(O,E)&&(C[E]=O[E])})(v,A)},function(v,A){function C(){this.constructor=v}u(v,A),v.prototype=A===null?Object.create(A):(C.prototype=A.prototype,new C)}),b=[],w=[];function p(v){for(var A=Math.sqrt(v),C=2;C<=A;C++)if(!(v%C))return!1;return!0}function m(v){return 4294967296*(v-(0|v))|0}(function(){for(var v=2,A=0;A<64;)p(v)&&(A<8&&(b[A]=m(Math.pow(v,.5))),w[A]=m(Math.pow(v,1/3)),A++),v++})();var f=[],g=function(v){function A(C){var O=v.call(this,C)||this;return O.on=new h.e(b.slice(0)),O.O=C,C&&C.hash!==void 0&&(O.on=C.hash.clone()),O}return y(A,v),A.prototype.A=function(){this.on=new h.e(b.slice(0))},A.prototype.un=function(C,O){for(var E=this.on.words,T=E[0],B=E[1],M=E[2],D=E[3],U=E[4],I=E[5],N=E[6],q=E[7],z=0;z<64;z++){if(z<16)f[z]=0|C[O+z];else{var ne=f[z-15],oe=(ne<<25|ne>>>7)^(ne<<14|ne>>>18)^ne>>>3,ae=f[z-2],te=(ae<<15|ae>>>17)^(ae<<13|ae>>>19)^ae>>>10;f[z]=oe+f[z-7]+te+f[z-16]}var le=T&B^T&M^B&M,xe=(T<<30|T>>>2)^(T<<19|T>>>13)^(T<<10|T>>>22),fe=q+((U<<26|U>>>6)^(U<<21|U>>>11)^(U<<7|U>>>25))+(U&I^~U&N)+w[z]+f[z];q=N,N=I,I=U,U=D+fe|0,D=M,M=B,B=T,T=fe+(xe+le)|0}E[0]=E[0]+T|0,E[1]=E[1]+B|0,E[2]=E[2]+M|0,E[3]=E[3]+D|0,E[4]=E[4]+U|0,E[5]=E[5]+I|0,E[6]=E[6]+N|0,E[7]=E[7]+q|0},A.prototype.fn=function(){var C=this.cn.words,O=8*this.sn,E=8*this.cn.nSigBytes;return C[E>>>5]|=128<<24-E%32,C[14+(E+64>>>9<<4)]=Math.floor(O/4294967296),C[15+(E+64>>>9<<4)]=O,this.cn.nSigBytes=4*C.length,this.an(),this.on},A.prototype.clone=function(){return new A({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},A.hash=function(C,O){return new A(O).finalize(C)},A}(d.P)},3408:function(o,s,l){l.d(s,{SHA3:function(){return g}});var u,d=l(6957),h=l(1868),y=l(3354),b=(u=function(v,A){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,O){C.__proto__=O}||function(C,O){for(var E in O)Object.prototype.hasOwnProperty.call(O,E)&&(C[E]=O[E])})(v,A)},function(v,A){function C(){this.constructor=v}u(v,A),v.prototype=A===null?Object.create(A):(C.prototype=A.prototype,new C)}),w=[],p=[],m=[];(function(){for(var v=1,A=0,C=0;C<24;C++){w[v+5*A]=(C+1)*(C+2)/2%64;var O=(2*v+3*A)%5;v=A%5,A=O}for(var E=0;E<5;E++)for(var T=0;T<5;T++)p[E+5*T]=T+(2*E+3*T)%5*5;for(var B=1,M=0;M<24;M++){for(var D=0,U=0,I=0;I<7;I++){if(1&B){var N=(1<<I)-1;N<32?U^=1<<N:D^=1<<N-32}128&B?B=B<<1^113:B<<=1}m[M]=new d.r(D,U)}})();var f=[];(function(){for(var v=0;v<25;v++)f[v]=new d.r(0,0)})();var g=function(v){function A(C){var O=v.call(this,C)||this;if(O.N=32,O.bn=[],O.dn=512,O.O=C,C){if(C.outputLength!==void 0){if(![224,256,384,512].includes(C.outputLength))throw new Error("Unsupported output length.");O.dn=C.outputLength}C.state!==void 0&&(O.bn=C.state.map(function(T){return T.clone()}))}if(O.bn.length===0)for(var E=0;E<25;E++)O.bn[E]=new d.r(0,0);return O.N=(1600-2*O.dn)/32,O}return b(A,v),A.prototype.A=function(){this.bn=[];for(var C=0;C<25;C++)this.bn[C]=new d.r(0,0);this.N=(1600-2*this.dn)/32},A.prototype.un=function(C,O){for(var E=this.bn,T=this.N/2,B=0;B<T;B++){var M=C[O+2*B],D=C[O+2*B+1];M=16711935&(M<<8|M>>>24)|4278255360&(M<<24|M>>>8),D=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8),E[B].high^=D,E[B].low^=M}for(var U=0;U<24;U++){for(var I=0;I<5;I++){for(var N=0,q=0,z=0;z<5;z++)N^=(L=E[I+5*z]).high,q^=L.low;var ne=f[I];ne.high=N,ne.low=q}for(I=0;I<5;I++){var oe=f[(I+4)%5],ae=f[(I+1)%5],te=ae.high,le=ae.low;for(N=oe.high^(te<<1|le>>>31),q=oe.low^(le<<1|te>>>31),z=0;z<5;z++)(L=E[I+5*z]).high^=N,L.low^=q}for(var xe=1;xe<25;xe++){N=void 0,q=void 0;var fe=E[xe].high,J=E[xe].low,j=w[xe];j<32?(N=fe<<j|J>>>32-j,q=J<<j|fe>>>32-j):(N=J<<j-32|fe>>>64-j,q=fe<<j-32|J>>>64-j);var k=f[p[xe]];k.high=N,k.low=q}var x=f[0],R=E[0];for(x.high=R.high,x.low=R.low,I=0;I<5;I++)for(z=0;z<5;z++){var L=E[xe=I+5*z],F=f[xe],W=f[(I+1)%5+5*z],V=f[(I+2)%5+5*z];L.high=F.high^~W.high&V.high,L.low=F.low^~W.low&V.low}var Z=E[0],ee=m[U];Z.high^=ee.high,Z.low^=ee.low}},A.prototype.fn=function(){var C=this.cn,O=C.words,E=8*C.nSigBytes,T=32*this.blockSize;O[E>>>5]|=1<<24-E%32,O[(Math.ceil((E+1)/T)*T>>>5)-1]|=128,C.nSigBytes=4*O.length,this.an();for(var B=this.bn,M=this.dn/8,D=M/8,U=[],I=0;I<D;I++){var N=B[I],q=N.high,z=N.low;q=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),z=16711935&(z<<8|z>>>24)|4278255360&(z<<24|z>>>8),U.push(z),U.push(q)}return new y.e(U,M)},A.prototype.clone=function(){return new A({outputLength:this.dn,state:this.bn,blockSize:this.N,data:this.cn,nBytes:this.sn})},A.hash=function(C,O){return new A(O).finalize(C)},A}(h.P)},6324:function(o,s,l){l.d(s,{SHA384:function(){return b}});var u,d=l(6957),h=l(7491),y=(u=function(w,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(m[g]=f[g])})(w,p)},function(w,p){function m(){this.constructor=w}u(w,p),w.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}),b=function(w){function p(m){var f=w.call(this,m)||this;return f.on=new d.m([new d.r(3418070365,3238371032),new d.r(1654270250,914150663),new d.r(2438529370,812702999),new d.r(355462360,4144912697),new d.r(1731405415,4290775857),new d.r(2394180231,1750603025),new d.r(3675008525,1694076839),new d.r(1203062813,3204075428)]),f.O=m,m&&m.hash!==void 0&&(f.on=m.hash.clone()),f}return y(p,w),p.prototype.A=function(){this.on=new d.m([new d.r(3418070365,3238371032),new d.r(1654270250,914150663),new d.r(2438529370,812702999),new d.r(355462360,4144912697),new d.r(1731405415,4290775857),new d.r(2394180231,1750603025),new d.r(3675008525,1694076839),new d.r(1203062813,3204075428)])},p.prototype.fn=function(){var m=w.prototype.fn.call(this);return m.nSigBytes-=16,m},p.prototype.clone=function(){return new p({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},p.hash=function(m,f){return new p(f).finalize(m)},p}(h.SHA512)},7491:function(o,s,l){l.d(s,{SHA512:function(){return p}});var u,d=l(1868),h=l(6957),y=(u=function(m,f){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var A in v)Object.prototype.hasOwnProperty.call(v,A)&&(g[A]=v[A])})(m,f)},function(m,f){function g(){this.constructor=m}u(m,f),m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),b=[new h.r(1116352408,3609767458),new h.r(1899447441,602891725),new h.r(3049323471,3964484399),new h.r(3921009573,2173295548),new h.r(961987163,4081628472),new h.r(1508970993,3053834265),new h.r(2453635748,2937671579),new h.r(2870763221,3664609560),new h.r(3624381080,2734883394),new h.r(310598401,1164996542),new h.r(607225278,1323610764),new h.r(1426881987,3590304994),new h.r(1925078388,4068182383),new h.r(2162078206,991336113),new h.r(2614888103,633803317),new h.r(3248222580,3479774868),new h.r(3835390401,2666613458),new h.r(4022224774,944711139),new h.r(264347078,2341262773),new h.r(604807628,2007800933),new h.r(770255983,1495990901),new h.r(1249150122,1856431235),new h.r(1555081692,3175218132),new h.r(1996064986,2198950837),new h.r(2554220882,3999719339),new h.r(2821834349,766784016),new h.r(2952996808,2566594879),new h.r(3210313671,3203337956),new h.r(3336571891,1034457026),new h.r(3584528711,2466948901),new h.r(113926993,3758326383),new h.r(338241895,168717936),new h.r(666307205,1188179964),new h.r(773529912,1546045734),new h.r(1294757372,1522805485),new h.r(1396182291,2643833823),new h.r(1695183700,2343527390),new h.r(1986661051,1014477480),new h.r(2177026350,1206759142),new h.r(2456956037,344077627),new h.r(2730485921,1290863460),new h.r(2820302411,3158454273),new h.r(3259730800,3505952657),new h.r(3345764771,106217008),new h.r(3516065817,3606008344),new h.r(3600352804,1432725776),new h.r(4094571909,1467031594),new h.r(275423344,851169720),new h.r(430227734,3100823752),new h.r(506948616,1363258195),new h.r(659060556,3750685593),new h.r(883997877,3785050280),new h.r(958139571,3318307427),new h.r(1322822218,3812723403),new h.r(1537002063,2003034995),new h.r(1747873779,3602036899),new h.r(1955562222,1575990012),new h.r(2024104815,1125592928),new h.r(2227730452,2716904306),new h.r(2361852424,442776044),new h.r(2428436474,593698344),new h.r(2756734187,3733110249),new h.r(3204031479,2999351573),new h.r(3329325298,3815920427),new h.r(3391569614,3928383900),new h.r(3515267271,566280711),new h.r(3940187606,3454069534),new h.r(4118630271,4000239992),new h.r(116418474,1914138554),new h.r(174292421,2731055270),new h.r(289380356,3203993006),new h.r(460393269,320620315),new h.r(685471733,587496836),new h.r(852142971,1086792851),new h.r(1017036298,365543100),new h.r(1126000580,2618297676),new h.r(1288033470,3409855158),new h.r(1501505948,4234509866),new h.r(1607167915,987167468),new h.r(1816402316,1246189591)],w=[];(function(){for(var m=0;m<80;m++)w[m]=new h.r(0,0)})();var p=function(m){function f(g){var v=m.call(this,g)||this;return v.N=32,v.on=new h.m([new h.r(1779033703,4089235720),new h.r(3144134277,2227873595),new h.r(1013904242,4271175723),new h.r(2773480762,1595750129),new h.r(1359893119,2917565137),new h.r(2600822924,725511199),new h.r(528734635,4215389547),new h.r(1541459225,327033209)]),v.O=g,g&&g.hash!==void 0&&(v.on=g.hash.clone()),v}return y(f,m),f.prototype.A=function(){this.on=new h.m([new h.r(1779033703,4089235720),new h.r(3144134277,2227873595),new h.r(1013904242,4271175723),new h.r(2773480762,1595750129),new h.r(1359893119,2917565137),new h.r(2600822924,725511199),new h.r(528734635,4215389547),new h.r(1541459225,327033209)])},f.prototype.un=function(g,v){for(var A=this.on.words,C=A[0],O=A[1],E=A[2],T=A[3],B=A[4],M=A[5],D=A[6],U=A[7],I=C.high,N=C.low,q=O.high,z=O.low,ne=E.high,oe=E.low,ae=T.high,te=T.low,le=B.high,xe=B.low,fe=M.high,J=M.low,j=D.high,k=D.low,x=U.high,R=U.low,L=I,F=N,W=q,V=z,Z=ne,ee=oe,ie=ae,ue=te,de=le,ye=xe,ke=fe,He=J,_e=j,be=k,se=x,Ce=R,Re=0;Re<80;Re++){var Y=void 0,we=void 0,Ae=w[Re];if(Re<16)we=Ae.high=0|g[v+2*Re],Y=Ae.low=0|g[v+2*Re+1];else{var Oe=w[Re-15],Be=Oe.high,ot=Oe.low,ze=(Be>>>1|ot<<31)^(Be>>>8|ot<<24)^Be>>>7,Je=(ot>>>1|Be<<31)^(ot>>>8|Be<<24)^(ot>>>7|Be<<25),Ge=w[Re-2],pe=Ge.high,Q=Ge.low,ce=(pe>>>19|Q<<13)^(pe<<3|Q>>>29)^pe>>>6,Ue=(Q>>>19|pe<<13)^(Q<<3|pe>>>29)^(Q>>>6|pe<<26),ut=w[Re-7],Nt=ut.high,Pt=ut.low,Wn=w[Re-16],rr=Wn.high,xi=Wn.low;we=(we=(we=ze+Nt+((Y=Je+Pt)>>>0<Je>>>0?1:0))+ce+((Y+=Ue)>>>0<Ue>>>0?1:0))+rr+((Y+=xi)>>>0<xi>>>0?1:0),Ae.high=we,Ae.low=Y}var dn=de&ke^~de&_e,qi=ye&He^~ye&be,ai=L&W^L&Z^W&Z,io=F&V^F&ee^V&ee,Zt=(L>>>28|F<<4)^(L<<30|F>>>2)^(L<<25|F>>>7),xr=(F>>>28|L<<4)^(F<<30|L>>>2)^(F<<25|L>>>7),or=(de>>>14|ye<<18)^(de>>>18|ye<<14)^(de<<23|ye>>>9),No=(ye>>>14|de<<18)^(ye>>>18|de<<14)^(ye<<23|de>>>9),sr=b[Re],Cr=sr.high,hn=sr.low,Nn=Ce+No,Wi=se+or+(Nn>>>0<Ce>>>0?1:0),$l=xr+io;se=_e,Ce=be,_e=ke,be=He,ke=de,He=ye,de=ie+(Wi=(Wi=(Wi=Wi+dn+((Nn+=qi)>>>0<qi>>>0?1:0))+Cr+((Nn+=hn)>>>0<hn>>>0?1:0))+we+((Nn+=Y)>>>0<Y>>>0?1:0))+((ye=ue+Nn|0)>>>0<ue>>>0?1:0)|0,ie=Z,ue=ee,Z=W,ee=V,W=L,V=F,L=Wi+(Zt+ai+($l>>>0<xr>>>0?1:0))+((F=Nn+$l|0)>>>0<Nn>>>0?1:0)|0}N=C.low=N+F,C.high=I+L+(N>>>0<F>>>0?1:0),z=O.low=z+V,O.high=q+W+(z>>>0<V>>>0?1:0),oe=E.low=oe+ee,E.high=ne+Z+(oe>>>0<ee>>>0?1:0),te=T.low=te+ue,T.high=ae+ie+(te>>>0<ue>>>0?1:0),xe=B.low=xe+ye,B.high=le+de+(xe>>>0<ye>>>0?1:0),J=M.low=J+He,M.high=fe+ke+(J>>>0<He>>>0?1:0),k=D.low=k+be,D.high=j+_e+(k>>>0<be>>>0?1:0),R=U.low=R+Ce,U.high=x+se+(R>>>0<Ce>>>0?1:0)},f.prototype.fn=function(){var g=this.cn,v=g.words,A=8*this.sn,C=8*g.nSigBytes;return v[C>>>5]|=128<<24-C%32,v[30+(C+128>>>10<<5)]=Math.floor(A/4294967296),v[31+(C+128>>>10<<5)]=A,g.nSigBytes=4*v.length,this.an(),this.on.to32()},f.prototype.clone=function(){return new f({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},f.hash=function(g,v){return new f(v).finalize(g)},f}(d.P)},3354:function(o,s,l){l.d(s,{e:function(){return h}});var u=l(5720),d=l(9054),h=function(){function y(b,w){if(Array.isArray(b)||!b)return this.yn=Array.isArray(b)?b:[],void(this.pn=typeof w=="number"?w:4*this.yn.length);if(b instanceof y)return this.yn=b.words.slice(),void(this.pn=b.nSigBytes);var p;try{b instanceof ArrayBuffer?p=new Uint8Array(b):(b instanceof Uint8Array||b instanceof Int8Array||b instanceof Uint8ClampedArray||b instanceof Int16Array||b instanceof Uint16Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Float32Array||b instanceof Float64Array)&&(p=new Uint8Array(b.buffer,b.byteOffset,b.byteLength))}catch(v){throw new Error("Invalid argument")}if(!p)throw new Error("Invalid argument");for(var m=p.byteLength,f=[],g=0;g<m;g++)f[g>>>2]|=p[g]<<24-g%4*8;this.yn=f,this.pn=m}return Object.defineProperty(y.prototype,"nSigBytes",{get:function(){return this.pn},set:function(b){this.pn=b},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"words",{get:function(){return this.yn},enumerable:!1,configurable:!0}),y.prototype.toString=function(b){return b?b.stringify(this):u.p.stringify(this)},y.prototype.toUint8Array=function(){for(var b=this.yn,w=this.pn,p=new Uint8Array(w),m=0;m<w;m++)p[m]=b[m>>>2]>>>24-m%4*8&255;return p},y.prototype.concat=function(b){var w=b.words.slice(),p=b.nSigBytes;if(this.clamp(),this.pn%4)for(var m=0;m<p;m++){var f=w[m>>>2]>>>24-m%4*8&255;this.yn[this.pn+m>>>2]|=f<<24-(this.pn+m)%4*8}else for(m=0;m<p;m+=4)this.yn[this.pn+m>>>2]=w[m>>>2];return this.pn+=p,this},y.prototype.clamp=function(){var b=this.pn;this.yn[b>>>2]&=4294967295<<32-b%4*8,this.yn.length=Math.ceil(b/4)},y.prototype.clone=function(){return new y(this.yn.slice(),this.pn)},y.random=function(b){for(var w=[],p=0;p<b;p+=4)w.push((0,d.M)());return new y(w,b)},y}()},6957:function(o,s,l){l.d(s,{r:function(){return h},m:function(){return y}});var u=l(5720),d=l(3354),h=function(){function b(w,p){this.high=w,this.low=p}return b.prototype.clone=function(){return new b(this.high,this.low)},b}(),y=function(){function b(w,p){this.yn=w||[],this.pn=typeof p=="number"?p:8*this.yn.length}return Object.defineProperty(b.prototype,"nSigBytes",{get:function(){return this.pn},set:function(w){this.pn=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"words",{get:function(){return this.yn},enumerable:!1,configurable:!0}),b.prototype.to32=function(){for(var w=[],p=0;p<this.yn.length;p++){var m=this.yn[p];w.push(m.high),w.push(m.low)}return new d.e(w,this.pn)},b.prototype.toString=function(w){return w?w.stringify(this.to32()):u.p.stringify(this.to32())},b.prototype.clone=function(){for(var w=this.yn.slice(),p=0;p<w.length;p++)w[p]=w[p].clone();return new b(w,this.pn)},b}()},7211:function(o,s,l){l.d(s,{C:function(){return h}});var u=l(3354),d=l(4768),h=function(){function y(b){this.On=0,this.N=0,this.O=b,this.cn=b&&b.data!==void 0?b.data.clone():new u.e,this.sn=b&&typeof b.nBytes=="number"?b.nBytes:0}return Object.defineProperty(y.prototype,"blockSize",{get:function(){return this.N},enumerable:!1,configurable:!0}),y.prototype.reset=function(b,w){this.cn=b!==void 0?b.clone():new u.e,this.sn=typeof w=="number"?w:0},y.prototype.jn=function(b){var w=typeof b=="string"?d.d.parse(b):b;this.cn.concat(w),this.sn+=w.nSigBytes},y.prototype.an=function(b){var w,p=this.cn.words,m=this.cn.nSigBytes,f=this.N,g=m/(4*this.N),v=(g=b?Math.ceil(g):Math.max((0|g)-this.On,0))*f,A=Math.min(4*v,m);if(v){for(var C=0;C<v;C+=f)this.un(p,C);w=p.splice(0,v),this.cn.nSigBytes-=A}return new u.e(w,A)},y.prototype.un=function(b,w){throw new Error("Not implemented")},y}()},1868:function(o,s,l){l.d(s,{P:function(){return y}});var u,d=l(7211),h=(u=function(b,w){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(p[f]=m[f])})(b,w)},function(b,w){function p(){this.constructor=b}u(b,w),b.prototype=w===null?Object.create(w):(p.prototype=w.prototype,new p)}),y=function(b){function w(p){var m=b.call(this,p)||this;return m.N=16,m.O=p,p&&typeof p.blockSize=="number"&&(m.N=p.blockSize),m.reset(p?p.data:void 0,p?p.nBytes:void 0),m}return h(w,b),Object.defineProperty(w.prototype,"blockSize",{get:function(){return this.N},enumerable:!1,configurable:!0}),w.prototype.reset=function(p,m){b.prototype.reset.call(this,p,m),this.A()},w.prototype.update=function(p){return this.jn(p),this.an(),this},w.prototype.finalize=function(p){return p&&this.jn(p),this.fn()},w.prototype.A=function(){throw new Error("Not implemented")},w.prototype.fn=function(){throw new Error("Not implemented")},w}(d.C)},787:function(o,s,l){l.d(s,{G:function(){return p}});var u,d=l(9456),h=l(4344),y=l(7919),b=(u=function(m,f){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var A in v)Object.prototype.hasOwnProperty.call(v,A)&&(g[A]=v[A])})(m,f)},function(m,f){function g(){this.constructor=m}u(m,f),m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),w=function(){return(w=Object.assign||function(m){for(var f,g=1,v=arguments.length;g<v;g++)for(var A in f=arguments[g])Object.prototype.hasOwnProperty.call(f,A)&&(m[A]=f[A]);return m}).apply(this,arguments)},p=function(m){function f(g){var v=m.call(this,g)||this;return v.N=4,v._n=h.n,v.mn=y.l,v.O=g,v._n=g.mode!==void 0?g.mode:v._n,v.mn=g.padding!==void 0?g.padding:v.mn,v.reset(g==null?void 0:g.data,g==null?void 0:g.nBytes),v}return b(f,m),Object.defineProperty(f.prototype,"mode",{get:function(){return this.An},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"padding",{get:function(){return this.mn},enumerable:!1,configurable:!0}),f.prototype.reset=function(g,v){var A;m.prototype.reset.call(this,g,v),this.gn===d.t.ENC_TRANSFORM_MODE?A=this._n.createEncryptor:(A=this._n.createDecryptor,this.On=1),this._n&&this.En===A?this.An=new this._n({cipher:this,iv:this.ln}):(this.An=A.call(this._n,{cipher:this,iv:this.ln}),this.En=A)},f.prototype.un=function(g,v){var A;(A=this.An)===null||A===void 0||A.processBlock(g,v)},f.prototype.fn=function(){var g,v=this.mn;return this.gn===d.t.ENC_TRANSFORM_MODE?(v.pad(this.cn,this.blockSize),g=this.an(!0)):(g=this.an(!0),v.unpad(g)),g},f.prototype.encryptBlock=function(g,v){throw new Error("Not implemented")},f.prototype.decryptBlock=function(g,v){throw new Error("Not implemented")},f.createEncryptor=function(g,v){return new f(w(w({},v=v===void 0?{}:v),{key:g,transformMode:d.t.ENC_TRANSFORM_MODE}))},f.createDecryptor=function(g,v){return new f(w(w({},v=v===void 0?{}:v),{key:g,transformMode:d.t.DEC_TRANSFORM_MODE}))},f}(d.t)},9456:function(o,s,l){l.d(s,{t:function(){return b}});var u,d=l(7211),h=(u=function(w,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(m[g]=f[g])})(w,p)},function(w,p){function m(){this.constructor=w}u(w,p),w.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}),y=function(){return(y=Object.assign||function(w){for(var p,m=1,f=arguments.length;m<f;m++)for(var g in p=arguments[m])Object.prototype.hasOwnProperty.call(p,g)&&(w[g]=p[g]);return w}).apply(this,arguments)},b=function(w){function p(m){var f=w.call(this,m)||this;return f.gn=1,f.O=m,f.H=m.key,f.ln=m.iv!==void 0?m.iv:f.ln,f.gn=m.transformMode!==void 0?m.transformMode:f.gn,f}return h(p,w),Object.defineProperty(p.prototype,"iv",{get:function(){return this.ln},enumerable:!1,configurable:!0}),p.prototype.reset=function(m,f){w.prototype.reset.call(this,m,f),this.A()},p.prototype.process=function(m){return this.jn(m),this.an()},p.prototype.finalize=function(m){return m&&this.jn(m),this.fn()},p.prototype.A=function(){throw new Error("Not implemented")},p.prototype.un=function(m,f){throw new Error("Not implemented")},p.prototype.fn=function(){throw new Error("Not implemented")},p.createEncryptor=function(m,f){return new p(y(y({},f=f===void 0?{}:f),{key:m,transformMode:p.ENC_TRANSFORM_MODE}))},p.createDecryptor=function(m,f){return new p(y(y({},f=f===void 0?{}:f),{key:m,transformMode:p.DEC_TRANSFORM_MODE}))},p.ENC_TRANSFORM_MODE=1,p.DEC_TRANSFORM_MODE=2,p.keySize=4,p.ivSize=4,p}(d.C)},2505:function(o,s,l){l.d(s,{Q:function(){return d}});var u=l(1232),d=function(){function h(y){this.formatter=u.w,y&&(this.cipherText=y.cipherText,this.key=y.key,this.iv=y.iv,this.salt=y.salt,this.Algorithm=y.Algorithm,this.mode=y.mode,this.padding=y.padding,this.blockSize=y.blockSize,this.formatter=y.formatter||u.w)}return h.prototype.toString=function(y){return(y||this.formatter).stringify(this)},h}()},5693:function(o,s,l){l.d(s,{E:function(){return w}});var u=l(9109),d=l(2214),h=l(2505),y=l(1232),b=function(){return(b=Object.assign||function(p){for(var m,f=1,g=arguments.length;f<g;f++)for(var v in m=arguments[f])Object.prototype.hasOwnProperty.call(m,v)&&(p[v]=m[v]);return p}).apply(this,arguments)},w={encrypt:function(p,m,f,g){var v=g?b({},g):{},A=g&&g.KDF?g.KDF:d.s,C={};g&&g.kdfHasher&&(C.kdfHasher=g.kdfHasher),g&&g.kdfIterations&&(C.kdfIterations=g.kdfIterations),g&&g.kdfModule&&(C.kdfModule=g.kdfModule);var O=A.execute(f,p.keySize,p.ivSize,v.kdfSalt,C);v.iv=O.iv;var E=u.D.encrypt(p,m,O.key,v);return new h.Q(b(b({},E),{key:O.key,iv:O.iv,salt:O.salt}))},decrypt:function(p,m,f,g){var v=g?b({},g):{},A=v.KDF?v.KDF:d.s,C=v.formatter?v.formatter:y.w,O=(0,u.W)(m,C),E={};g&&g.kdfHasher&&(E.kdfHasher=g.kdfHasher),g&&g.kdfIterations&&(E.kdfIterations=g.kdfIterations),g&&g.kdfModule&&(E.kdfModule=g.kdfModule);var T=A.execute(f,p.keySize,p.ivSize,O.salt,E);return v.iv=T.iv,u.D.decrypt(p,O,T.key,v)}}},9109:function(o,s,l){l.d(s,{W:function(){return h},D:function(){return y}});var u=l(1232),d=l(2505);function h(b,w){return typeof b=="string"?w.parse(b):b}var y={encrypt:function(b,w,p,m){var f=b.createEncryptor(p,m),g=f.finalize(w);return new d.Q({cipherText:g,key:p,iv:f.iv,Algorithm:b,mode:f.mode,padding:f.padding,blockSize:f.blockSize,formatter:(m==null?void 0:m.formatter)||u.w})},decrypt:function(b,w,p,m){var f=b.createDecryptor(p,m),g=h(w,(m==null?void 0:m.formatter)||u.w);return f.finalize(g.cipherText||"")}}},30:function(o,s,l){l.d(s,{q:function(){return y}});var u,d=l(9456),h=(u=function(b,w){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(p[f]=m[f])})(b,w)},function(b,w){function p(){this.constructor=b}u(b,w),b.prototype=w===null?Object.create(w):(p.prototype=w.prototype,new p)}),y=function(b){function w(p){var m=b.call(this,p)||this;return m.N=1,m}return h(w,b),w.prototype.fn=function(){return this.an(!0)},w}(d.t)},1232:function(o,s,l){l.d(s,{w:function(){return y}});var u=l(2505),d=l(3354),h=l(1773),y={stringify:function(b){var w=b.cipherText,p=b.salt;return w?p?new d.e([1398893684,1701076831]).concat(p).concat(w).toString(h.D):w.toString(h.D):""},parse:function(b){var w,p=h.D.parse(b),m=p.words;return m[0]===1398893684&&m[1]===1701076831&&(w=new d.e(m.slice(2,4)),m.splice(0,4),p.nSigBytes-=16),new u.Q({cipherText:p,salt:w})}}},2214:function(o,s,l){l.d(s,{s:function(){return b}});var u=l(3354),d=l(2505),h=l(7008),y=function(){return(y=Object.assign||function(w){for(var p,m=1,f=arguments.length;m<f;m++)for(var g in p=arguments[m])Object.prototype.hasOwnProperty.call(p,g)&&(w[g]=p[g]);return w}).apply(this,arguments)},b={execute:function(w,p,m,f,g){f||(f=u.e.random(8));var v=g&&g.kdfModule||h.E,A=g?{Hasher:g.kdfHasher,iterations:g.kdfIterations}:{},C=v.getKey(w,f,y(y({},A),{keySize:p+m})),O=new u.e(C.words.slice(p),4*m);return C.nSigBytes=4*p,new d.Q({key:C,iv:O,salt:f})}}},7008:function(o,s,l){l.d(s,{E:function(){return p}});var u,d=l(5561),h=l(6367),y=l(3354),b=l(9541),w=(u=function(m,f){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var A in v)Object.prototype.hasOwnProperty.call(v,A)&&(g[A]=v[A])})(m,f)},function(m,f){function g(){this.constructor=m}u(m,f),m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),p=function(m){function f(g){var v=m.call(this,g)||this;return v.Sn=4,v.Mn=d.SHA256,v.kn=1e4,g&&(v.Sn=g.keySize!==void 0?g.keySize:v.Sn,v.Mn=g.Hasher!==void 0?g.Hasher:v.Mn,v.kn=g.iterations!==void 0?g.iterations:v.kn),v}return w(f,m),f.prototype.compute=function(g,v){for(var A=new h.Hmac(new this.Mn,g),C=new y.e,O=new y.e([1]),E=C.words,T=O.words,B=this.Sn,M=this.kn;E.length<B;){var D=A.update(v).finalize(O);A.reset();for(var U=D.words,I=U.length,N=D,q=1;q<M;q++){N=A.finalize(N),A.reset();for(var z=N.words,ne=0;ne<I;ne++)U[ne]^=z[ne]}C.concat(D),T[0]++}return C.nSigBytes=4*B,C},f.getKey=function(g,v,A){return new f(A).compute(g,v)},f}(b._)},9541:function(o,s,l){l.d(s,{_:function(){return u}});var u=function(){function d(h){this.O=h}return d.prototype.compute=function(h,y){throw new Error("Not implemented")},d.getKey=function(h,y,b){throw new Error("Not implemented")},d}()},1863:function(o,s,l){l.d(s,{T:function(){return u}});var u=function(){function d(h){this.O=h,this.Hn=h.cipher,this.ln=h.iv}return d.prototype.processBlock=function(h,y){},d.createEncryptor=function(h){throw new Error("Not implemented yet")},d.createDecryptor=function(h){throw new Error("Not implemented yet")},d}()},4344:function(o,s,l){l.d(s,{n:function(){return y}});var u,d=l(1863),h=(u=function(b,w){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(p[f]=m[f])})(b,w)},function(b,w){function p(){this.constructor=b}u(b,w),b.prototype=w===null?Object.create(w):(p.prototype=w.prototype,new p)}),y=function(b){function w(p){var m=b.call(this,p)||this;return m.Cn=[],m}return h(w,b),w.prototype.xorBlock=function(p,m,f){var g,v=this.ln;v?(g=v.words,this.ln=void 0):g=this.Cn;for(var A=0;A<f;A++)p[m+A]^=g[A]},w.createEncryptor=function(p){return new w.Encryptor(p)},w.createDecryptor=function(p){return new w.Decryptor(p)},w.Encryptor=function(p){function m(){return p!==null&&p.apply(this,arguments)||this}return h(m,p),m.prototype.processBlock=function(f,g){var v=this.Hn,A=v.blockSize;this.xorBlock(f,g,A),v.encryptBlock(f,g),this.Cn=f.slice(g,g+A)},m}(w),w.Decryptor=function(p){function m(){return p!==null&&p.apply(this,arguments)||this}return h(m,p),m.prototype.processBlock=function(f,g){var v=this.Hn,A=v.blockSize,C=f.slice(g,g+A);v.decryptBlock(f,g),this.xorBlock(f,g,A),this.Cn=C},m}(w),w}(d.T)},4055:function(o,s,l){l.d(s,{I4:function(){return d},z6:function(){return h},ur:function(){return y}});var u=l(3354);function d(b){var w=b.nSigBytes%16;if(w!==0){for(var p=16-w,m=[],f=Math.floor(p/4),g=0;g<f;g++)m.push(0);p%4>0&&m.push(0),b.concat(new u.e(m,p))}}function h(b,w){return new u.e(b.words.slice(),w)}function y(b,w){for(var p=b.nSigBytes-w,m=[],f=0;f<w;f++){var g=f>>>2,v=p+f,A=v>>>2,C=b.words[A]>>>24-v%4*8&255;m[g]=0|m[g]|C<<24-f%4*8}var O=new u.e(m,w);return O.clamp(),O}},7919:function(o,s,l){l.d(s,{l:function(){return d}});var u=l(3354),d={pad:function(h,y){for(var b=4*y,w=b-h.nSigBytes%b,p=w<<24|w<<16|w<<8|w,m=[],f=0;f<w;f+=4)m.push(p);var g=new u.e(m,w);h.concat(g)},unpad:function(h){var y=255&h.words[h.nSigBytes-1>>>2];h.nSigBytes-=y}}},1756:function(o,s,l){l.d(s,{w:function(){return y}});var u,d=typeof navigator!="undefined"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",h=(u=parseInt((/msie (\d+)/.exec(d)||[])[1],10),isNaN(u)?(u=parseInt((/trident\/.*; rv:(\d+)/.exec(d)||[])[1],10),!isNaN(u)&&u):u);function y(b,w){return h!==!1&&(!w||(b==="<"?h<w:b==="<="?h<=w:b===">"?h>w:b===">="?h>=w:h===w))}},1773:function(o,s,l){l.d(s,{D:function(){return b}});for(var u=l(3354),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=[],y=0;y<d.length;y++)h[d.charCodeAt(y)]=y;var b={stringify:function(w){var p=w.words,m=w.nSigBytes;w.clamp();for(var f=[],g=0;g<m;g+=3)for(var v=(p[g>>>2]>>>24-g%4*8&255)<<16|(p[g+1>>>2]>>>24-(g+1)%4*8&255)<<8|p[g+2>>>2]>>>24-(g+2)%4*8&255,A=0;A<4&&g+.75*A<m;A++)f.push(d.charAt(v>>>6*(3-A)&63));var C=d.charAt(64);if(C)for(;f.length%4;)f.push(C);return f.join("")},parse:function(w){var p=w.length,m=d.charAt(64);if(m){var f=w.indexOf(m);f!==-1&&(p=f)}for(var g=[],v=0,A=0;A<p;A++)if(A%4){var C=h[w.charCodeAt(A-1)]<<A%4*2|h[w.charCodeAt(A)]>>>6-A%4*2;g[v>>>2]|=C<<24-v%4*8,v++}return new u.e(g,v)}}},5720:function(o,s,l){l.d(s,{p:function(){return d}});var u=l(3354),d={stringify:function(h){for(var y=h.nSigBytes,b=h.words,w=[],p=0;p<y;p++){var m=b[p>>>2]>>>24-p%4*8&255;w.push((m>>>4).toString(16)),w.push((15&m).toString(16))}return w.join("")},parse:function(h){var y=h.length;if(y%2!=0)throw new Error("Hex string count must be even");if(!/^[a-fA-F0-9]+$/.test(h))throw new Error("Invalid Hex string: "+h);for(var b=[],w=0;w<y;w+=2)b[w>>>3]|=parseInt(h.substr(w,2),16)<<24-w%8*4;return new u.e(b,y/2)}}},8702:function(o,s,l){l.d(s,{m:function(){return d}});var u=l(3354),d={stringify:function(h){for(var y=h.nSigBytes,b=h.words,w=[],p=0;p<y;p++){var m=b[p>>>2]>>>24-p%4*8&255;w.push(String.fromCharCode(m))}return w.join("")},parse:function(h){for(var y=h.length,b=[],w=0;w<y;w++)b[w>>>2]|=(255&h.charCodeAt(w))<<24-w%4*8;return new u.e(b,y)}}},4768:function(o,s,l){l.d(s,{d:function(){return d}});var u=l(8702),d={stringify:function(h){try{return decodeURIComponent(escape(u.m.stringify(h)))}catch(y){throw new Error("Malformed UTF-8 data")}},parse:function(h){return u.m.parse(unescape(encodeURIComponent(h)))}}},2688:function(o,s,l){l.d(s,{Base64:function(){return h.D},EvpKDF:function(){return B},Hex:function(){return w.p},Latin1:function(){return b.m},OpenSSLKDF:function(){return A.s},PBKDF2:function(){return C.E},Utf16:function(){return v},Utf16BE:function(){return p},Utf16LE:function(){return g},Utf8:function(){return y.d},Word32Array:function(){return u.e},Word64:function(){return d.r},Word64Array:function(){return d.m}}),l(9054);var u=l(3354),d=l(6957),h=(l(1756),l(1773)),y=l(4768),b=l(8702),w=l(5720),p={stringify:function(M){for(var D=M.words,U=M.nSigBytes,I=[],N=0;N<U;N+=2){var q=D[N>>>2]>>>16-N%4*8&65535;I.push(String.fromCharCode(q))}return I.join("")},parse:function(M){for(var D=M.length,U=[],I=0;I<D;I++)U[I>>>1]|=M.charCodeAt(I)<<16-I%2*16;return new u.e(U,2*D)}};function m(M){return M<<8&4278255360|M>>>8&16711935}var f,g={stringify:function(M){for(var D=M.words,U=M.nSigBytes,I=[],N=0;N<U;N+=2){var q=m(D[N>>>2]>>>16-N%4*8&65535);I.push(String.fromCharCode(q))}return I.join("")},parse:function(M){for(var D=M.length,U=[],I=0;I<D;I++)U[I>>>1]|=m(M.charCodeAt(I)<<16-I%2*16);return new u.e(U,2*D)}},v=p,A=l(2214),C=l(7008),O=l(670),E=l(9541),T=(f=function(M,D){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,I){U.__proto__=I}||function(U,I){for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(U[N]=I[N])})(M,D)},function(M,D){function U(){this.constructor=M}f(M,D),M.prototype=D===null?Object.create(D):(U.prototype=D.prototype,new U)}),B=function(M){function D(U){var I=M.call(this,U)||this;return I.Sn=4,I.Mn=O.MD5,I.kn=1,U&&(I.Sn=U.keySize!==void 0?U.keySize:I.Sn,I.Mn=U.Hasher!==void 0?U.Hasher:I.Mn,I.kn=U.iterations!==void 0?U.iterations:I.kn),I}return T(D,M),D.prototype.compute=function(U,I){for(var N,q=new this.Mn,z=new u.e,ne=z.words,oe=this.Sn,ae=this.kn;ne.length<oe;){N&&q.update(N),N=q.update(U).finalize(I),q.reset();for(var te=1;te<ae;te++)N=q.finalize(N),q.reset();z.concat(N)}return z.nSigBytes=4*oe,z},D.getKey=function(U,I,N){return new D(N).compute(U,I)},D}(E._)},9054:function(o,s,l){l.d(s,{M:function(){return d}});var u=l(1756),d=function(){if(typeof window!="undefined"){var h=window.crypto||window.msCrypto;if(!h){if((0,u.w)("<",11))return console.warn("IE <= 10 uses insecure random generator. Please consider to use IE11 or another modern browser"),function(){return Math.floor(512*Math.random())%256};throw new Error("Crypto module not found")}return function(){return h.getRandomValues(new Uint32Array(1))[0]}}return l.g!==void 0&&l.g.crypto?function(){return l.g.crypto.randomBytes(4).readInt32LE()}:function(){return IA().randomBytes(4).readInt32LE()}}()},3664:function(o,s,l){l.d(s,{K:function(){return w}});var u,d=l(1863),h=l(3354),y=l(4055),b=(u=function(p,m){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(f[v]=g[v])})(p,m)},function(p,m){function f(){this.constructor=p}u(p,m),p.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}),w=function(p){function m(f){var g=p.call(this,f)||this;g.Bn=1;var v=f.cipher,A=f.iv;if(v.blockSize!==4)throw new Error("In CCM, cipher block size must be 128bit");if(A&&(A.nSigBytes>13||A.nSigBytes<7))throw new Error("Byte size of iv must be between 7 and 13");return g.Nn=A||new h.e([0,0],8),g.In=15-g.Nn.nSigBytes,g}return b(m,p),m.getB0=function(f,g,v,A){if(v.nSigBytes+A.nSigBytes!==15)throw new Error("LEN(Q)+LEN(N) must be 15");var C=255&(0|(f?1:0)<<6|(g-2)/2<<3|v.nSigBytes-1),O=A.clone().concat(v);return new h.e([C<<24],1).concat(O)},m.formatAssociatedDataAndPayload=function(f,g){var v,A=f.nSigBytes;if(A===0)v=new h.e([0],0);else if(A<Math.pow(2,16)-Math.pow(2,8))v=new h.e([A<<16],2);else{if(!(A<Math.pow(2,32)))throw new Error("LEN(A) larger than 2**32-1 is not supported");v=new h.e([4294836224],2).concat(new h.e([A],4))}for(var C=Math.floor(f.nSigBytes/4),O=0;O<C;O++)v.concat(new h.e([f.words[O]],4));f.nSigBytes%4&&(v.concat(new h.e([f.words[C]],f.nSigBytes%4)),v.concat(new h.e([0],4-f.nSigBytes%4))),v.nSigBytes%16&&v.concat(new h.e([0],16-v.nSigBytes%16));var E=Math.floor(g.nSigBytes/4);for(O=0;O<E;O++)v.concat(new h.e([g.words[O]],4));return g.nSigBytes%4&&(v.concat(new h.e([g.words[E]],g.nSigBytes%4)),v.concat(new h.e([0],4-g.nSigBytes%4))),v.nSigBytes%16&&v.concat(new h.e([0],16-v.nSigBytes%16)),v},m.genCtr=function(f,g,v){if(g.nSigBytes+f!==15)throw new Error("LEN(Q)+LEN(N) must be 15");for(var A=new h.e([(f-1&7)<<24],1),C=new h.e([],0),O=Math.floor(f/4),E=0;E<O-1;E++)C.concat(new h.e([0],4));return f%4?f>4?(C.concat(new h.e([0],f%4)),C.concat(new h.e([v],4))):C.concat(new h.e([v<<32-8*f],f)):C.concat(new h.e([v],4)),A.concat(g).concat(C)},m.mac=function(f,g,v,A,C,O){var E=new f({key:g,iv:v});if(E.blockSize!==4)throw new Error("In CCM, cipher block size must be 128bit");if(v&&(v.nSigBytes>13||v.nSigBytes<7))throw new Error("Byte size of iv must be between 7 and 13");var T=v||new h.e([0,0],8),B=(A==null?void 0:A.clone())||new h.e,M=B.nSigBytes,D=(C==null?void 0:C.clone())||new h.e,U=D.nSigBytes;if(U>>>0>4294967295)throw new Error("Byte length of Payload(plainText) larger than 2^32-1 (4,294,967,295byte) is not supported at this time.");var I=15-T.nSigBytes,N=(0,y.ur)(new h.e([0,U],8),I),q=O||16,z=m.getB0(Boolean(M),q,N,T),ne=m.formatAssociatedDataAndPayload(B,D),oe=z.words.slice();E.encryptBlock(oe,0);for(var ae=ne.nSigBytes/16,te=ne.words,le=oe,xe=0;xe<ae;xe++){var fe=[te[4*xe]^le[0],te[4*xe+1]^le[1],te[4*xe+2]^le[2],te[4*xe+3]^le[3]];E.encryptBlock(fe,0),le=fe}var J=new h.e(le,q),j=m.genCtr(I,T,0);for(E.encryptBlock(j.words,0),xe=0;xe<4;xe++)J.words[xe]^=j.words[xe];return J.clamp(),J},m.combineCipherTextAndAuthTag=function(f,g){return f.clone().concat(g)},m.splitCipherTextAndAuthTag=function(f,g){var v=g||16;return{cipherText:(0,y.z6)(f,f.nSigBytes-v),authTag:(0,y.ur)(f,v)}},m.createEncryptor=function(f){return new m.Encryptor(f)},m.createDecryptor=function(f){return new m.Decryptor(f)},m.Encryptor=function(f){function g(){return f!==null&&f.apply(this,arguments)||this}return b(g,f),g.prototype.processBlock=function(v,A){var C=this.Hn,O=C.blockSize,E=m.genCtr(this.In,this.Nn,this.Bn);C.encryptBlock(E.words,0);for(var T=0;T<O;T++)v[A+T]^=E.words[T];this.Bn++},g}(m),m.Decryptor=function(f){function g(){return f!==null&&f.apply(this,arguments)||this}return b(g,f),g.prototype.processBlock=function(v,A){var C=this.Hn,O=C.blockSize,E=m.genCtr(this.In,this.Nn,this.Bn);C.encryptBlock(E.words,0);for(var T=0;T<O;T++)v[A+T]^=E.words[T];this.Bn++},g}(m),m}(d.T)},5607:function(o,s,l){l.d(s,{V:function(){return w}});var u,d=l(1863),h=l(3354),y=l(4055),b=(u=function(p,m){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(f[v]=g[v])})(p,m)},function(p,m){function f(){this.constructor=p}u(p,m),p.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}),w=function(p){function m(f){var g=p.call(this,f)||this;if(g.zn=[],g.Dn=[],g.Un=[],f.cipher.blockSize!==4)throw new Error("In GCM block cipher mode, cipher block size must be 128bit");var v=f.cipher,A=f.iv,C=[0,0,0,0];return v.encryptBlock(C,0),g.zn=C,g.Dn=m.getJ0(C,A==null?void 0:A.words),g.Un=g.Dn.slice(),g}return b(m,p),m.getJ0=function(f,g){var v;if(g&&g.length!==0)if(g.length===3)v=[g[0],g[1],g[2],1];else{for(var A=g.length%4>0?4-g.length%4:0,C=g.slice(),O=0;O<A+2;O++)C.push(0);C.push(0),C.push(32*g.length),v=m.GHASH(f,C)}else v=[0,0,0,1];return v},m.inc32=function(f){var g=f.slice(),v=g[3]>>>0,A=v+1>>>0<v;if(g[3]=g[3]+1|0,A){var C=g[2]>>>0,O=C+1>>>0<C;g[2]=g[2]+1|0,O&&(g[1]=g[1]+1|0)}return g},m.mul=function(f,g){for(var v=[3774873600,0,0,0],A=[0,0,0,0],C=g.slice(),O=0;O<128;O++){(f[O>>>5]>>>31-O%32&1)>0&&(A[0]=A[0]^C[0],A[1]=A[1]^C[1],A[2]=A[2]^C[2],A[3]=A[3]^C[3]);var E=(1&C[3])>>>0,T=(1&C[0])>>>0,B=(1&C[1])>>>0,M=(1&C[2])>>>0;C[0]=C[0]>>>1,C[1]=C[1]>>>1|(T?2147483648:0),C[2]=C[2]>>>1|(B?2147483648:0),C[3]=C[3]>>>1|(M?2147483648:0),E>0&&(C[0]^=v[0],C[1]^=v[1],C[2]^=v[2],C[3]^=v[3])}return A},m.GHASH=function(f,g){if(f.length%4!=0)throw new Error("Length of 32bit word array 'H' must be multiple of 4(128bit)");if(g.length%4!=0)throw new Error("Length of 32bit word array 'X' must be multiple of 4(128bit)");for(var v=g.length,A=[0,0,0,0],C=0;C<v;C+=4)A[0]=A[0]^g[C],A[1]=A[1]^g[C+1],A[2]=A[2]^g[C+2],A[3]=A[3]^g[C+3],A=m.mul(A,f);return A},m.GCTR=function(f,g,v){if(v.nSigBytes===0)return v.clone();if(g.length!==4)throw new Error("Initial Counter Block size must be 128bit");for(var A=v.words,C=Math.ceil(v.nSigBytes/16),O=[g.slice()],E=1;E<C;E++){var T=m.inc32(O[E-1]);O.push(T)}var B=new h.e;for(E=0;E<C;E++){f.encryptBlock(O[E],0);var M=v.nSigBytes%16;if(E<C-1||M===0){var D=A[4*E]^O[E][0],U=A[4*E+1]^O[E][1],I=A[4*E+2]^O[E][2],N=A[4*E+3]^O[E][3],q=new h.e([D,U,I,N]);B.concat(q)}else{for(var z=[],ne=0,oe=Math.floor(M/4),ae=0;ae<oe;ae++){var te=A[4*E+ae]^O[E][ae];z.push(te),ne+=4}var le=M%4;if(le>0){var xe=A[4*E+oe]<<32-8*le^O[E][oe];z.push(xe),ne+=le}var fe=new h.e(z,ne);B.concat(fe)}}return B.nSigBytes=v.nSigBytes,B.clamp(),B},m.mac=function(f,g,v,A,C,O){var E=new f({key:g,iv:v}),T=[0,0,0,0];E.encryptBlock(T,0);var B=m.getJ0(T,v.words),M=(A==null?void 0:A.clone())||new h.e,D=[0,8*M.nSigBytes],U=(C==null?void 0:C.clone())||new h.e,I=[0,8*U.nSigBytes],N=O||16;(0,y.I4)(M),(0,y.I4)(U);var q=M.words.concat(U.words).concat(D).concat(I),z=m.GHASH(T,q),ne=m.GCTR(E,B,new h.e(z));return(0,y.z6)(ne,N)},m.createEncryptor=function(f){return new m.Encryptor(f)},m.createDecryptor=function(f){return new m.Decryptor(f)},m.Encryptor=function(f){function g(){return f!==null&&f.apply(this,arguments)||this}return b(g,f),g.prototype.processBlock=function(v,A){var C=this.Hn.blockSize;this.Un=m.inc32(this.Un);for(var O=new h.e(v.slice(A,A+C)),E=m.GCTR(this.Hn,this.Un,O),T=0;T<C;T++)v[A+T]=E.words[T]},g}(m),m.Decryptor=function(f){function g(){return f!==null&&f.apply(this,arguments)||this}return b(g,f),g.prototype.processBlock=function(v,A){var C=this.Hn.blockSize;this.Un=m.inc32(this.Un);for(var O=new h.e(v.slice(A,A+C)),E=m.GCTR(this.Hn,this.Un,O),T=0;T<C;T++)v[A+T]=E.words[T]},g}(m),m}(d.T)}},t={};function n(o){var s=t[o];if(s!==void 0)return s.exports;var l=t[o]={exports:{}};return r[o](l,l.exports,n),l.exports}n.d=function(o,s){for(var l in s)n.o(s,l)&&!n.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(o){if(typeof window=="object")return window}}(),n.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},n.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"Ln",{value:!0})};var i={};return function(){n.r(i),n.d(i,{AES:function(){return D.AES},Base64:function(){return s.Base64},CBCMAC:function(){return v.CBCMAC},CipherParams:function(){return d.Q},DES:function(){return U.DES},DES3:function(){return I.DES3},EvpKDF:function(){return s.EvpKDF},GMAC:function(){return g.GMAC},Hex:function(){return s.Hex},Hmac:function(){return h.Hmac},HmacMD5:function(){return y.HmacMD5},HmacSHA1:function(){return b.HmacSHA1},HmacSHA224:function(){return w.HmacSHA224},HmacSHA256:function(){return p.HmacSHA256},HmacSHA384:function(){return m.HmacSHA384},HmacSHA512:function(){return f.HmacSHA512},Latin1:function(){return s.Latin1},MD5:function(){return A.MD5},OpenSSLKDF:function(){return s.OpenSSLKDF},PBKDF2:function(){return s.PBKDF2},PasswordBasedCipher:function(){return u.E},RC4:function(){return z.RC4},RC4Drop:function(){return ne.RC4Drop},RIPEMD160:function(){return N.RIPEMD160},Rabbit:function(){return q.Rabbit},SHA1:function(){return C.SHA1},SHA224:function(){return O.SHA224},SHA256:function(){return E.SHA256},SHA3:function(){return M.SHA3},SHA384:function(){return T.SHA384},SHA512:function(){return B.SHA512},SerializableCipher:function(){return l.D},Utf16:function(){return s.Utf16},Utf16BE:function(){return s.Utf16BE},Utf16LE:function(){return s.Utf16LE},Utf8:function(){return s.Utf8},Word32Array:function(){return s.Word32Array},Word64:function(){return s.Word64},Word64Array:function(){return s.Word64Array},formatter:function(){return He},mode:function(){return ye},pad:function(){return ke}});var o,s=n(2688),l=n(9109),u=n(5693),d=n(2505),h=n(6367),y=n(3027),b=n(149),w=n(4105),p=n(980),m=n(5838),f=n(9902),g=n(7753),v=n(3967),A=n(670),C=n(3173),O=n(766),E=n(5561),T=n(6324),B=n(7491),M=n(3408),D=n(9691),U=n(9910),I=n(6739),N=n(7104),q=n(5187),z=n(4615),ne=n(9639),oe=n(4344),ae=n(1863),te=(o=function(_e,be){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,Ce){se.__proto__=Ce}||function(se,Ce){for(var Re in Ce)Object.prototype.hasOwnProperty.call(Ce,Re)&&(se[Re]=Ce[Re])})(_e,be)},function(_e,be){function se(){this.constructor=_e}o(_e,be),_e.prototype=be===null?Object.create(be):(se.prototype=be.prototype,new se)}),le=function(_e){function be(se){var Ce=_e.call(this,se)||this;return Ce.Cn=[],Ce}return te(be,_e),be.prototype.generateKeyStreamAndEncrypt=function(se,Ce,Re,Y){var we,Ae=this.ln;Ae?(we=Ae.words.slice(0),this.ln=void 0):we=this.Cn,Y.encryptBlock(we,0);for(var Oe=0;Oe<Re;Oe++)se[Ce+Oe]^=we[Oe]},be.createEncryptor=function(se){return new be.Encryptor(se)},be.createDecryptor=function(se){return new be.Decryptor(se)},be.Encryptor=function(se){function Ce(){return se!==null&&se.apply(this,arguments)||this}return te(Ce,se),Ce.prototype.processBlock=function(Re,Y){this.generateKeyStreamAndEncrypt(Re,Y,this.Hn.blockSize,this.Hn),this.Cn=Re.slice(Y,Y+this.Hn.blockSize)},Ce}(be),be.Decryptor=function(se){function Ce(){return se!==null&&se.apply(this,arguments)||this}return te(Ce,se),Ce.prototype.processBlock=function(Re,Y){var we=Re.slice(Y,Y+this.Hn.blockSize);this.generateKeyStreamAndEncrypt(Re,Y,this.Hn.blockSize,this.Hn),this.Cn=we},Ce}(be),be}(ae.T),xe=function(){var _e=function(be,se){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,Re){Ce.__proto__=Re}||function(Ce,Re){for(var Y in Re)Object.prototype.hasOwnProperty.call(Re,Y)&&(Ce[Y]=Re[Y])})(be,se)};return function(be,se){function Ce(){this.constructor=be}_e(be,se),be.prototype=se===null?Object.create(se):(Ce.prototype=se.prototype,new Ce)}}(),fe=function(_e){function be(se){var Ce=_e.call(this,se)||this;return Ce.Fn=[],Ce}return xe(be,_e),be.createEncryptor=function(se){return new be.Encryptor(se)},be.createDecryptor=function(se){return new be.Decryptor(se)},be.Encryptor=function(se){function Ce(){return se!==null&&se.apply(this,arguments)||this}return xe(Ce,se),Ce.prototype.processBlock=function(Re,Y){var we=this.Hn,Ae=we.blockSize,Oe=this.ln,Be=this.Fn;Oe&&(Be=this.Fn=Oe.words.slice(0),this.ln=void 0);var ot=Be.slice(0);we.encryptBlock(ot,0),Be[Ae-1]=Be[Ae-1]+1|0;for(var ze=0;ze<Ae;ze++)Re[Y+ze]^=ot[ze]},Ce}(be),be.Decryptor=be.Encryptor,be}(ae.T),J=function(){var _e=function(be,se){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,Re){Ce.__proto__=Re}||function(Ce,Re){for(var Y in Re)Object.prototype.hasOwnProperty.call(Re,Y)&&(Ce[Y]=Re[Y])})(be,se)};return function(be,se){function Ce(){this.constructor=be}_e(be,se),be.prototype=se===null?Object.create(se):(Ce.prototype=se.prototype,new Ce)}}(),j=function(_e){function be(se){return _e.call(this,se)||this}return J(be,_e),be.createEncryptor=function(se){return new be.Encryptor(se)},be.createDecryptor=function(se){return new be.Decryptor(se)},be.Encryptor=function(se){function Ce(){return se!==null&&se.apply(this,arguments)||this}return J(Ce,se),Ce.prototype.processBlock=function(Re,Y){this.Hn.encryptBlock(Re,Y)},Ce}(be),be.Decryptor=function(se){function Ce(){return se!==null&&se.apply(this,arguments)||this}return J(Ce,se),Ce.prototype.processBlock=function(Re,Y){this.Hn.decryptBlock(Re,Y)},Ce}(be),be}(ae.T),k=function(){var _e=function(be,se){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,Re){Ce.__proto__=Re}||function(Ce,Re){for(var Y in Re)Object.prototype.hasOwnProperty.call(Re,Y)&&(Ce[Y]=Re[Y])})(be,se)};return function(be,se){function Ce(){this.constructor=be}_e(be,se),be.prototype=se===null?Object.create(se):(Ce.prototype=se.prototype,new Ce)}}(),x=function(_e){function be(se){var Ce=_e.call(this,se)||this;return Ce.xn=[],Ce}return k(be,_e),be.createEncryptor=function(se){return new be.Encryptor(se)},be.createDecryptor=function(se){return new be.Decryptor(se)},be.Encryptor=function(se){function Ce(){return se!==null&&se.apply(this,arguments)||this}return k(Ce,se),Ce.prototype.processBlock=function(Re,Y){var we=this.Hn,Ae=we.blockSize,Oe=this.ln,Be=this.xn;Oe&&(Be=this.xn=Oe.words.slice(0),this.ln=void 0),we.encryptBlock(Be,0);for(var ot=0;ot<Ae;ot++)Re[Y+ot]^=Be[ot]},Ce}(be),be.Decryptor=be.Encryptor,be}(ae.T),R=n(5607),L=n(3664),F={pad:function(_e,be){var se=_e.nSigBytes,Ce=4*be,Re=Ce-se%Ce,Y=se+Re-1;_e.clamp(),_e.words[Y>>>2]|=Re<<24-Y%4*8,_e.nSigBytes+=Re},unpad:function(_e){var be=255&_e.words[_e.nSigBytes-1>>>2];_e.nSigBytes-=be}},W=n(3354),V={pad:function(_e,be){var se=4*be,Ce=se-_e.nSigBytes%se;_e.concat(W.e.random(Ce-1)).concat(new W.e([Ce<<24],1))},unpad:function(_e){var be=255&_e.words[_e.nSigBytes-1>>>2];_e.nSigBytes-=be}},Z={pad:function(_e,be){var se=4*be;_e.clamp(),_e.nSigBytes+=se-(_e.nSigBytes%se||se)},unpad:function(_e){for(var be=_e.words,se=_e.nSigBytes-1;se>=0;se--)if(be[se>>>2]>>>24-se%4*8&255){_e.nSigBytes=se+1;break}}},ee={pad:function(_e,be){_e.concat(new W.e([2147483648],1)),Z.pad(_e,be)},unpad:function(_e){Z.unpad(_e),_e.nSigBytes-=1}},ie=n(7919),ue={pad:function(_e,be){},unpad:function(_e){}},de=n(1232),ye={CBC:oe.n,CFB:le,CTR:fe,ECB:j,OFB:x,GCM:R.V,CCM:L.K},ke={AnsiX923:F,ISO10126:V,ISO97971:ee,Pkcs7:ie.l,NoPadding:ue,Zero:Z},He={OpenSSLFormatter:de.w}}(),i}()})});var Ag=ve((MU,Sg)=>{H();"use strict";var k8=Object.prototype.hasOwnProperty,qn="~";function jl(){}Object.create&&(jl.prototype=Object.create(null),new jl().__proto__||(qn=!1));function L8(r,t,n){this.fn=r,this.context=t,this.once=n||!1}function JA(r,t,n,i,o){if(typeof n!="function")throw new TypeError("The listener must be a function");var s=new L8(n,i||r,o),l=qn?qn+t:t;return r._events[l]?r._events[l].fn?r._events[l]=[r._events[l],s]:r._events[l].push(s):(r._events[l]=s,r._eventsCount++),r}function yh(r,t){--r._eventsCount==0?r._events=new jl:delete r._events[t]}function Bn(){this._events=new jl,this._eventsCount=0}Bn.prototype.eventNames=function(){var t=[],n,i;if(this._eventsCount===0)return t;for(i in n=this._events)k8.call(n,i)&&t.push(qn?i.slice(1):i);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Bn.prototype.listeners=function(t){var n=qn?qn+t:t,i=this._events[n];if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,l=new Array(s);o<s;o++)l[o]=i[o].fn;return l};Bn.prototype.listenerCount=function(t){var n=qn?qn+t:t,i=this._events[n];return i?i.fn?1:i.length:0};Bn.prototype.emit=function(t,n,i,o,s,l){var u=qn?qn+t:t;if(!this._events[u])return!1;var d=this._events[u],h=arguments.length,y,b;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),h){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,n),!0;case 3:return d.fn.call(d.context,n,i),!0;case 4:return d.fn.call(d.context,n,i,o),!0;case 5:return d.fn.call(d.context,n,i,o,s),!0;case 6:return d.fn.call(d.context,n,i,o,s,l),!0}for(b=1,y=new Array(h-1);b<h;b++)y[b-1]=arguments[b];d.fn.apply(d.context,y)}else{var w=d.length,p;for(b=0;b<w;b++)switch(d[b].once&&this.removeListener(t,d[b].fn,void 0,!0),h){case 1:d[b].fn.call(d[b].context);break;case 2:d[b].fn.call(d[b].context,n);break;case 3:d[b].fn.call(d[b].context,n,i);break;case 4:d[b].fn.call(d[b].context,n,i,o);break;default:if(!y)for(p=1,y=new Array(h-1);p<h;p++)y[p-1]=arguments[p];d[b].fn.apply(d[b].context,y)}}return!0};Bn.prototype.on=function(t,n,i){return JA(this,t,n,i,!1)};Bn.prototype.once=function(t,n,i){return JA(this,t,n,i,!0)};Bn.prototype.removeListener=function(t,n,i,o){var s=qn?qn+t:t;if(!this._events[s])return this;if(!n)return yh(this,s),this;var l=this._events[s];if(l.fn)l.fn===n&&(!o||l.once)&&(!i||l.context===i)&&yh(this,s);else{for(var u=0,d=[],h=l.length;u<h;u++)(l[u].fn!==n||o&&!l[u].once||i&&l[u].context!==i)&&d.push(l[u]);d.length?this._events[s]=d.length===1?d[0]:d:yh(this,s)}return this};Bn.prototype.removeAllListeners=function(t){var n;return t?(n=qn?qn+t:t,this._events[n]&&yh(this,n)):(this._events=new jl,this._eventsCount=0),this};Bn.prototype.off=Bn.prototype.removeListener;Bn.prototype.addListener=Bn.prototype.on;Bn.prefixed=qn;Bn.EventEmitter=Bn;typeof Sg!="undefined"&&(Sg.exports=Bn)});var nx=ve(()=>{H()});var ix=ve(()=>{H()});var rx=ve(()=>{H()});var ox=ve(()=>{H()});var lx=ve((exports,module)=>{H();(function(t,n){typeof exports=="object"&&typeof module=="object"?module.exports=n():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],n):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=n():t["pdfjs-dist/build/pdf"]=t.pdfjsLib=n()})(exports,()=>(()=>{"use strict";var __webpack_modules__=[,(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.arrayByteLength=ee,t.arraysToBytes=ie,t.assert=te,t.bytesToString=V,t.createPromiseCapability=Ge,t.createValidAbsoluteUrl=xe,t.escapeString=Y,t.getModificationDate=Je,t.getVerbosityLevel=z,t.info=ne,t.isArrayBuffer=ot,t.isArrayEqual=ze,t.isAscii=we,t.objectFromMap=ye,t.objectSize=de,t.setVerbosityLevel=q,t.shadow=fe,t.string32=ue,t.stringToBytes=Z,t.stringToPDFString=Re,t.stringToUTF16BEString=Ae,t.stringToUTF8String=Oe,t.unreachable=ae,t.utf8StringToString=Be,t.warn=oe,n(2);let i=[1,0,0,1,0,0];t.IDENTITY_MATRIX=i;let o=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=o;let s={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=s;let l={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=l;let u={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=u;let d={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=d;let h={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=h;let y={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=y;let b={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=b;let w={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=w;let p={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=p;let m={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=m;let f={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=f;let g={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=g;let v={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=v;let A={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=A;let C={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=C;let O={O:"PageOpen",C:"PageClose"};t.PageActionEventType=O;let E={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.StreamType=E;let T={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};t.FontType=T;let B={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=B;let M={NONE:0,BINARY:1,STREAM:2};t.CMapCompressionType=M;let D={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=D;let U={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};t.UNSUPPORTED_FEATURES=U;let I={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=I;let N=B.WARNINGS;function q(pe){Number.isInteger(pe)&&(N=pe)}function z(){return N}function ne(pe){N>=B.INFOS&&console.log(`Info: ${pe}`)}function oe(pe){N>=B.WARNINGS&&console.log(`Warning: ${pe}`)}function ae(pe){throw new Error(pe)}function te(pe,Q){pe||ae(Q)}function le(pe){if(!pe)return!1;switch(pe.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function xe(pe,Q=null,ce=null){if(!pe)return null;try{if(ce&&typeof pe=="string"){if(ce.addDefaultProtocol&&pe.startsWith("www.")){let ut=pe.match(/\./g);ut&&ut.length>=2&&(pe=`http://${pe}`)}if(ce.tryConvertEncoding)try{pe=Oe(pe)}catch(ut){}}let Ue=Q?new URL(pe,Q):new URL(pe);if(le(Ue))return Ue}catch(Ue){}return null}function fe(pe,Q,ce){return Object.defineProperty(pe,Q,{value:ce,enumerable:!0,configurable:!0,writable:!1}),ce}let J=function(){function Q(ce,Ue){this.constructor===Q&&ae("Cannot initialize BaseException."),this.message=ce,this.name=Ue}return Q.prototype=new Error,Q.constructor=Q,Q}();t.BaseException=J;class j extends J{constructor(Q,ce){super(Q,"PasswordException");this.code=ce}}t.PasswordException=j;class k extends J{constructor(Q,ce){super(Q,"UnknownErrorException");this.details=ce}}t.UnknownErrorException=k;class x extends J{constructor(Q){super(Q,"InvalidPDFException")}}t.InvalidPDFException=x;class R extends J{constructor(Q){super(Q,"MissingPDFException")}}t.MissingPDFException=R;class L extends J{constructor(Q,ce){super(Q,"UnexpectedResponseException");this.status=ce}}t.UnexpectedResponseException=L;class F extends J{constructor(Q){super(Q,"FormatError")}}t.FormatError=F;class W extends J{constructor(Q){super(Q,"AbortException")}}t.AbortException=W;function V(pe){(typeof pe!="object"||pe===null||pe.length===void 0)&&ae("Invalid argument for bytesToString");let Q=pe.length,ce=8192;if(Q<ce)return String.fromCharCode.apply(null,pe);let Ue=[];for(let ut=0;ut<Q;ut+=ce){let Nt=Math.min(ut+ce,Q),Pt=pe.subarray(ut,Nt);Ue.push(String.fromCharCode.apply(null,Pt))}return Ue.join("")}function Z(pe){typeof pe!="string"&&ae("Invalid argument for stringToBytes");let Q=pe.length,ce=new Uint8Array(Q);for(let Ue=0;Ue<Q;++Ue)ce[Ue]=pe.charCodeAt(Ue)&255;return ce}function ee(pe){if(pe.length!==void 0)return pe.length;if(pe.byteLength!==void 0)return pe.byteLength;ae("Invalid argument for arrayByteLength")}function ie(pe){let Q=pe.length;if(Q===1&&pe[0]instanceof Uint8Array)return pe[0];let ce=0;for(let Nt=0;Nt<Q;Nt++)ce+=ee(pe[Nt]);let Ue=0,ut=new Uint8Array(ce);for(let Nt=0;Nt<Q;Nt++){let Pt=pe[Nt];Pt instanceof Uint8Array||(typeof Pt=="string"?Pt=Z(Pt):Pt=new Uint8Array(Pt));let Wn=Pt.byteLength;ut.set(Pt,Ue),Ue+=Wn}return ut}function ue(pe){return String.fromCharCode(pe>>24&255,pe>>16&255,pe>>8&255,pe&255)}function de(pe){return Object.keys(pe).length}function ye(pe){let Q=Object.create(null);for(let[ce,Ue]of pe)Q[ce]=Ue;return Q}function ke(){let pe=new Uint8Array(4);return pe[0]=1,new Uint32Array(pe.buffer,0,1)[0]===1}function He(){try{return new Function(""),!0}catch(pe){return!1}}class _e{static get isLittleEndian(){return fe(this,"isLittleEndian",ke())}static get isEvalSupported(){return fe(this,"isEvalSupported",He())}static get isOffscreenCanvasSupported(){return fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas!="undefined")}}t.FeatureTest=_e;let be=[...Array(256).keys()].map(pe=>pe.toString(16).padStart(2,"0"));class se{static makeHexColor(Q,ce,Ue){return`#${be[Q]}${be[ce]}${be[Ue]}`}static scaleMinMax(Q,ce){let Ue;Q[0]?(Q[0]<0&&(Ue=ce[0],ce[0]=ce[1],ce[1]=Ue),ce[0]*=Q[0],ce[1]*=Q[0],Q[3]<0&&(Ue=ce[2],ce[2]=ce[3],ce[3]=Ue),ce[2]*=Q[3],ce[3]*=Q[3]):(Ue=ce[0],ce[0]=ce[2],ce[2]=Ue,Ue=ce[1],ce[1]=ce[3],ce[3]=Ue,Q[1]<0&&(Ue=ce[2],ce[2]=ce[3],ce[3]=Ue),ce[2]*=Q[1],ce[3]*=Q[1],Q[2]<0&&(Ue=ce[0],ce[0]=ce[1],ce[1]=Ue),ce[0]*=Q[2],ce[1]*=Q[2]),ce[0]+=Q[4],ce[1]+=Q[4],ce[2]+=Q[5],ce[3]+=Q[5]}static transform(Q,ce){return[Q[0]*ce[0]+Q[2]*ce[1],Q[1]*ce[0]+Q[3]*ce[1],Q[0]*ce[2]+Q[2]*ce[3],Q[1]*ce[2]+Q[3]*ce[3],Q[0]*ce[4]+Q[2]*ce[5]+Q[4],Q[1]*ce[4]+Q[3]*ce[5]+Q[5]]}static applyTransform(Q,ce){let Ue=Q[0]*ce[0]+Q[1]*ce[2]+ce[4],ut=Q[0]*ce[1]+Q[1]*ce[3]+ce[5];return[Ue,ut]}static applyInverseTransform(Q,ce){let Ue=ce[0]*ce[3]-ce[1]*ce[2],ut=(Q[0]*ce[3]-Q[1]*ce[2]+ce[2]*ce[5]-ce[4]*ce[3])/Ue,Nt=(-Q[0]*ce[1]+Q[1]*ce[0]+ce[4]*ce[1]-ce[5]*ce[0])/Ue;return[ut,Nt]}static getAxialAlignedBoundingBox(Q,ce){let Ue=se.applyTransform(Q,ce),ut=se.applyTransform(Q.slice(2,4),ce),Nt=se.applyTransform([Q[0],Q[3]],ce),Pt=se.applyTransform([Q[2],Q[1]],ce);return[Math.min(Ue[0],ut[0],Nt[0],Pt[0]),Math.min(Ue[1],ut[1],Nt[1],Pt[1]),Math.max(Ue[0],ut[0],Nt[0],Pt[0]),Math.max(Ue[1],ut[1],Nt[1],Pt[1])]}static inverseTransform(Q){let ce=Q[0]*Q[3]-Q[1]*Q[2];return[Q[3]/ce,-Q[1]/ce,-Q[2]/ce,Q[0]/ce,(Q[2]*Q[5]-Q[4]*Q[3])/ce,(Q[4]*Q[1]-Q[5]*Q[0])/ce]}static apply3dTransform(Q,ce){return[Q[0]*ce[0]+Q[1]*ce[1]+Q[2]*ce[2],Q[3]*ce[0]+Q[4]*ce[1]+Q[5]*ce[2],Q[6]*ce[0]+Q[7]*ce[1]+Q[8]*ce[2]]}static singularValueDecompose2dScale(Q){let ce=[Q[0],Q[2],Q[1],Q[3]],Ue=Q[0]*ce[0]+Q[1]*ce[2],ut=Q[0]*ce[1]+Q[1]*ce[3],Nt=Q[2]*ce[0]+Q[3]*ce[2],Pt=Q[2]*ce[1]+Q[3]*ce[3],Wn=(Ue+Pt)/2,rr=Math.sqrt((Ue+Pt)**2-4*(Ue*Pt-Nt*ut))/2,xi=Wn+rr||1,dn=Wn-rr||1;return[Math.sqrt(xi),Math.sqrt(dn)]}static normalizeRect(Q){let ce=Q.slice(0);return Q[0]>Q[2]&&(ce[0]=Q[2],ce[2]=Q[0]),Q[1]>Q[3]&&(ce[1]=Q[3],ce[3]=Q[1]),ce}static intersect(Q,ce){let Ue=Math.max(Math.min(Q[0],Q[2]),Math.min(ce[0],ce[2])),ut=Math.min(Math.max(Q[0],Q[2]),Math.max(ce[0],ce[2]));if(Ue>ut)return null;let Nt=Math.max(Math.min(Q[1],Q[3]),Math.min(ce[1],ce[3])),Pt=Math.min(Math.max(Q[1],Q[3]),Math.max(ce[1],ce[3]));return Nt>Pt?null:[Ue,Nt,ut,Pt]}static bezierBoundingBox(Q,ce,Ue,ut,Nt,Pt,Wn,rr){let xi=[],dn=[[],[]],qi,ai,io,Zt,xr,or,No,sr;for(let Wi=0;Wi<2;++Wi){if(Wi===0?(ai=6*Q-12*Ue+6*Nt,qi=-3*Q+9*Ue-9*Nt+3*Wn,io=3*Ue-3*Q):(ai=6*ce-12*ut+6*Pt,qi=-3*ce+9*ut-9*Pt+3*rr,io=3*ut-3*ce),Math.abs(qi)<1e-12){if(Math.abs(ai)<1e-12)continue;Zt=-io/ai,0<Zt&&Zt<1&&xi.push(Zt);continue}No=ai*ai-4*io*qi,sr=Math.sqrt(No),!(No<0)&&(xr=(-ai+sr)/(2*qi),0<xr&&xr<1&&xi.push(xr),or=(-ai-sr)/(2*qi),0<or&&or<1&&xi.push(or))}let Cr=xi.length,hn,Nn=Cr;for(;Cr--;)Zt=xi[Cr],hn=1-Zt,dn[0][Cr]=hn*hn*hn*Q+3*hn*hn*Zt*Ue+3*hn*Zt*Zt*Nt+Zt*Zt*Zt*Wn,dn[1][Cr]=hn*hn*hn*ce+3*hn*hn*Zt*ut+3*hn*Zt*Zt*Pt+Zt*Zt*Zt*rr;return dn[0][Nn]=Q,dn[1][Nn]=ce,dn[0][Nn+1]=Wn,dn[1][Nn+1]=rr,dn[0].length=dn[1].length=Nn+2,[Math.min(...dn[0]),Math.min(...dn[1]),Math.max(...dn[0]),Math.max(...dn[1])]}}t.Util=se;let Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Re(pe){if(pe[0]>="\xEF"){let ce;if(pe[0]==="\xFE"&&pe[1]==="\xFF"?ce="utf-16be":pe[0]==="\xFF"&&pe[1]==="\xFE"?ce="utf-16le":pe[0]==="\xEF"&&pe[1]==="\xBB"&&pe[2]==="\xBF"&&(ce="utf-8"),ce)try{let Ue=new TextDecoder(ce,{fatal:!0}),ut=Z(pe);return Ue.decode(ut)}catch(Ue){oe(`stringToPDFString: "${Ue}".`)}}let Q=[];for(let ce=0,Ue=pe.length;ce<Ue;ce++){let ut=Ce[pe.charCodeAt(ce)];Q.push(ut?String.fromCharCode(ut):pe.charAt(ce))}return Q.join("")}function Y(pe){return pe.replace(/([()\\\n\r])/g,Q=>Q===`
`?"\\n":Q==="\r"?"\\r":`\\${Q}`)}function we(pe){return/^[\x00-\x7F]*$/.test(pe)}function Ae(pe){let Q=["\xFE\xFF"];for(let ce=0,Ue=pe.length;ce<Ue;ce++){let ut=pe.charCodeAt(ce);Q.push(String.fromCharCode(ut>>8&255),String.fromCharCode(ut&255))}return Q.join("")}function Oe(pe){return decodeURIComponent(escape(pe))}function Be(pe){return unescape(encodeURIComponent(pe))}function ot(pe){return typeof pe=="object"&&pe!==null&&pe.byteLength!==void 0}function ze(pe,Q){if(pe.length!==Q.length)return!1;for(let ce=0,Ue=pe.length;ce<Ue;ce++)if(pe[ce]!==Q[ce])return!1;return!0}function Je(pe=new Date){return[pe.getUTCFullYear().toString(),(pe.getUTCMonth()+1).toString().padStart(2,"0"),pe.getUTCDate().toString().padStart(2,"0"),pe.getUTCHours().toString().padStart(2,"0"),pe.getUTCMinutes().toString().padStart(2,"0"),pe.getUTCSeconds().toString().padStart(2,"0")].join("")}function Ge(){let pe=Object.create(null),Q=!1;return Object.defineProperty(pe,"settled",{get(){return Q}}),pe.promise=new Promise(function(ce,Ue){pe.resolve=function(ut){Q=!0,ce(ut)},pe.reject=function(ut){Q=!0,Ue(ut)}}),pe}},(r,t,n)=>{var i=n(3)},(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;let n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=n},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var r,n,i,o,s,l,u,d,sx,y;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){let{NodeCanvasFactory:w,NodeCMapReaderFactory:p,NodeStandardFontDataFactory:m}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=w,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=p,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=m}let createPDFNetworkStream;function setPDFNetworkStreamFactory(w){createPDFNetworkStream=w}function getDocument(w){let p=new PDFDocumentLoadingTask,m;if(typeof w=="string"||w instanceof URL)m={url:w};else if((0,_util.isArrayBuffer)(w))m={data:w};else if(w instanceof PDFDataRangeTransport)m={range:w};else{if(typeof w!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!w.url&&!w.data&&!w.range)throw new Error("Invalid parameter object: need either .data, .range or .url");m=w}let f=Object.create(null),g=null,v=null;for(let C in m){let O=m[C];switch(C){case"url":if(typeof window!="undefined")try{f[C]=new URL(O,window.location).href;continue}catch(E){(0,_util.warn)(`Cannot create valid URL: "${E}".`)}else if(typeof O=="string"||O instanceof URL){f[C]=O.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":g=O;continue;case"worker":v=O;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&O instanceof Buffer)f[C]=new Uint8Array(O);else{if(O instanceof Uint8Array)break;if(typeof O=="string")f[C]=(0,_util.stringToBytes)(O);else if(typeof O=="object"&&O!==null&&!isNaN(O.length))f[C]=new Uint8Array(O);else if((0,_util.isArrayBuffer)(O))f[C]=new Uint8Array(O);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}f[C]=O}if(f.CMapReaderFactory=f.CMapReaderFactory||DefaultCMapReaderFactory,f.StandardFontDataFactory=f.StandardFontDataFactory||DefaultStandardFontDataFactory,f.ignoreErrors=f.stopAtErrors!==!0,f.fontExtraProperties=f.fontExtraProperties===!0,f.pdfBug=f.pdfBug===!0,f.enableXfa=f.enableXfa===!0,(!Number.isInteger(f.rangeChunkSize)||f.rangeChunkSize<1)&&(f.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof f.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(f.docBaseUrl))&&(f.docBaseUrl=null),(!Number.isInteger(f.maxImageSize)||f.maxImageSize<-1)&&(f.maxImageSize=-1),typeof f.cMapUrl!="string"&&(f.cMapUrl=null),typeof f.standardFontDataUrl!="string"&&(f.standardFontDataUrl=null),typeof f.useWorkerFetch!="boolean"&&(f.useWorkerFetch=f.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&f.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof f.isEvalSupported!="boolean"&&(f.isEvalSupported=!0),typeof f.disableFontFace!="boolean"&&(f.disableFontFace=_is_node.isNodeJS),typeof f.useSystemFonts!="boolean"&&(f.useSystemFonts=!_is_node.isNodeJS&&!f.disableFontFace),(typeof f.ownerDocument!="object"||f.ownerDocument===null)&&(f.ownerDocument=globalThis.document),typeof f.disableRange!="boolean"&&(f.disableRange=!1),typeof f.disableStream!="boolean"&&(f.disableStream=!1),typeof f.disableAutoFetch!="boolean"&&(f.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(f.verbosity),!v){let C={verbosity:f.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};v=C.port?PDFWorker.fromPort(C):new PDFWorker(C),p._worker=v}let A=p.docId;return v.promise.then(function(){if(p.destroyed)throw new Error("Loading aborted");let C=_fetchDocument(v,f,g,A),O=new Promise(function(E){let T;g?T=new _transport_stream.PDFDataTransportStream({length:f.length,initialData:f.initialData,progressiveDone:f.progressiveDone,contentDispositionFilename:f.contentDispositionFilename,disableRange:f.disableRange,disableStream:f.disableStream},g):f.data||(T=createPDFNetworkStream({url:f.url,length:f.length,httpHeaders:f.httpHeaders,withCredentials:f.withCredentials,rangeChunkSize:f.rangeChunkSize,disableRange:f.disableRange,disableStream:f.disableStream})),E(T)});return Promise.all([C,O]).then(function([E,T]){if(p.destroyed)throw new Error("Loading aborted");let B=new _message_handler.MessageHandler(A,E,v.port),M=new WorkerTransport(B,p,T,f);p._transport=M,B.send("Ready",null)})}).catch(p._capability.reject),p}async function _fetchDocument(w,p,m,f){if(w.destroyed)throw new Error("Worker was destroyed");m&&(p.length=m.length,p.initialData=m.initialData,p.progressiveDone=m.progressiveDone,p.contentDispositionFilename=m.contentDispositionFilename);let g=await w.messageHandler.sendWithPromise("GetDocRequest",{docId:f,apiVersion:"2.14.305",source:{data:p.data,url:p.url,password:p.password,disableAutoFetch:p.disableAutoFetch,rangeChunkSize:p.rangeChunkSize,length:p.length},maxImageSize:p.maxImageSize,disableFontFace:p.disableFontFace,docBaseUrl:p.docBaseUrl,ignoreErrors:p.ignoreErrors,isEvalSupported:p.isEvalSupported,fontExtraProperties:p.fontExtraProperties,enableXfa:p.enableXfa,useSystemFonts:p.useSystemFonts,cMapUrl:p.useWorkerFetch?p.cMapUrl:null,standardFontDataUrl:p.useWorkerFetch?p.standardFontDataUrl:null});if(w.destroyed)throw new Error("Worker was destroyed");return g}let t=class{constructor(){var p;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Nr(t,r,(p=+It(t,r))+1),p}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await this._transport?.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}},PDFDocumentLoadingTask=t;r=new WeakMap,_n(PDFDocumentLoadingTask,r,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(p,m,f=!1,g=null){this.length=p,this.initialData=m,this.progressiveDone=f,this.contentDispositionFilename=g,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(p){this._rangeListeners.push(p)}addProgressListener(p){this._progressListeners.push(p)}addProgressiveReadListener(p){this._progressiveReadListeners.push(p)}addProgressiveDoneListener(p){this._progressiveDoneListeners.push(p)}onDataRange(p,m){for(let f of this._rangeListeners)f(p,m)}onDataProgress(p,m){this._readyCapability.promise.then(()=>{for(let f of this._progressListeners)f(p,m)})}onDataProgressiveRead(p){this._readyCapability.promise.then(()=>{for(let m of this._progressiveReadListeners)m(p)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let p of this._progressiveDoneListeners)p()})}transportReady(){this._readyCapability.resolve()}requestDataRange(p,m){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(p,m){this._pdfInfo=p,this._transport=m,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(p){return this._transport.getPage(p)}getPageIndex(p){return this._transport.getPageIndex(p)}getDestinations(){return this._transport.getDestinations()}getDestination(p){return this._transport.getDestination(p)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(p=!1){return this._transport.startCleanup(p||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(p,m,f,g,v=!1){this._pageIndex=p,this._pageInfo=m,this._ownerDocument=g,this._transport=f,this._stats=v?new _display_utils.StatTimer:null,this._pdfBug=v,this.commonObjs=f.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:p,rotation:m=this.rotate,offsetX:f=0,offsetY:g=0,dontFlip:v=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:p,rotation:m,offsetX:f,offsetY:g,dontFlip:v})}getAnnotations({intent:p="display"}={}){let m=this._transport.getRenderingIntent(p),f=this._annotationPromises.get(m.cacheKey);return f||(f=this._transport.getAnnotations(this._pageIndex,m.renderingIntent),this._annotationPromises.set(m.cacheKey,f),f=f.then(g=>{for(let v of g)v.titleObj!==void 0&&Object.defineProperty(v,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),v.titleObj.str}}),v.contentsObj!==void 0&&Object.defineProperty(v,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),v.contentsObj.str}});return g})),f}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:p,viewport:m,intent:f="display",annotationMode:g=_util.AnnotationMode.ENABLE,transform:v=null,imageLayer:A=null,canvasFactory:C=null,background:O=null,optionalContentConfigPromise:E=null,annotationCanvasMap:T=null,pageColors:B=null}){arguments[0]?.renderInteractiveForms!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&g===_util.AnnotationMode.ENABLE&&(g=_util.AnnotationMode.ENABLE_FORMS)),arguments[0]?.includeAnnotationStorage!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&g===_util.AnnotationMode.ENABLE&&(g=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");let M=this._transport.getRenderingIntent(f,g);this.pendingCleanup=!1,E||(E=this._transport.getOptionalContentConfig());let D=this._intentStates.get(M.cacheKey);D||(D=Object.create(null),this._intentStates.set(M.cacheKey,D)),D.streamReaderCancelTimeout&&(clearTimeout(D.streamReaderCancelTimeout),D.streamReaderCancelTimeout=null);let U=C||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),I=!!(M.renderingIntent&_util.RenderingIntentFlag.PRINT);D.displayReadyCapability||(D.displayReadyCapability=(0,_util.createPromiseCapability)(),D.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(M));let N=ne=>{D.renderTasks.delete(q),(this.cleanupAfterRender||I)&&(this.pendingCleanup=!0),this._tryCleanup(),ne?(q.capability.reject(ne),this._abortOperatorList({intentState:D,reason:ne instanceof Error?ne:new Error(ne)})):q.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},q=new InternalRenderTask({callback:N,params:{canvasContext:p,viewport:m,transform:v,imageLayer:A,background:O},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:T,operatorList:D.operatorList,pageIndex:this._pageIndex,canvasFactory:U,useRequestAnimationFrame:!I,pdfBug:this._pdfBug,pageColors:B});(D.renderTasks||=new Set).add(q);let z=q.task;return Promise.all([D.displayReadyCapability.promise,E]).then(([ne,oe])=>{if(this.pendingCleanup){N();return}this._stats&&this._stats.time("Rendering"),q.initializeGraphics({transparency:ne,optionalContentConfig:oe}),q.operatorListChanged()}).catch(N),z}getOperatorList({intent:p="display",annotationMode:m=_util.AnnotationMode.ENABLE}={}){function f(){v.operatorList.lastChunk&&(v.opListReadCapability.resolve(v.operatorList),v.renderTasks.delete(A))}let g=this._transport.getRenderingIntent(p,m,!0),v=this._intentStates.get(g.cacheKey);v||(v=Object.create(null),this._intentStates.set(g.cacheKey,v));let A;return v.opListReadCapability||(A=Object.create(null),A.operatorListChanged=f,v.opListReadCapability=(0,_util.createPromiseCapability)(),(v.renderTasks||=new Set).add(A),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(g)),v.opListReadCapability.promise}streamTextContent({disableCombineTextItems:p=!1,includeMarkedContent:m=!1}={}){let f=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:p!==!0,includeMarkedContent:m===!0},{highWaterMark:f,size(g){return g.items.length}})}getTextContent(p={}){if(this._transport._htmlForXfa)return this.getXfa().then(f=>_xfa_text.XfaText.textContent(f));let m=this.streamTextContent(p);return new Promise(function(f,g){function v(){A.read().then(function({value:O,done:E}){if(E){f(C);return}Object.assign(C.styles,O.styles),C.items.push(...O.items),v()},g)}let A=m.getReader(),C={items:[],styles:Object.create(null)};v()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let p=[];for(let m of this._intentStates.values())if(this._abortOperatorList({intentState:m,reason:new Error("Page was destroyed."),force:!0}),!m.opListReadCapability)for(let f of m.renderTasks)p.push(f.completed),f.cancel();this.objs.clear();for(let m of this._bitmaps)m.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(p)}cleanup(p=!1){return this.pendingCleanup=!0,this._tryCleanup(p)}_tryCleanup(p=!1){if(!this.pendingCleanup)return!1;for(let{renderTasks:m,operatorList:f}of this._intentStates.values())if(m.size>0||!f.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,p&&this._stats&&(this._stats=new _display_utils.StatTimer);for(let m of this._bitmaps)m.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(p,m){let f=this._intentStates.get(m);!f||(this._stats&&this._stats.timeEnd("Page Request"),f.displayReadyCapability&&f.displayReadyCapability.resolve(p))}_renderPageChunk(p,m){for(let f=0,g=p.length;f<g;f++)m.operatorList.fnArray.push(p.fnArray[f]),m.operatorList.argsArray.push(p.argsArray[f]);m.operatorList.lastChunk=p.lastChunk;for(let f of m.renderTasks)f.operatorListChanged();p.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:p,cacheKey:m}){let g=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:p,cacheKey:m,annotationStorage:p&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),v=this._intentStates.get(m);v.streamReader=g;let A=()=>{g.read().then(({value:C,done:O})=>{if(O){v.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(C,v),A())},C=>{if(v.streamReader=null,!this._transport.destroyed){if(v.operatorList){v.operatorList.lastChunk=!0;for(let O of v.renderTasks)O.operatorListChanged();this._tryCleanup()}if(v.displayReadyCapability)v.displayReadyCapability.reject(C);else if(v.opListReadCapability)v.opListReadCapability.reject(C);else throw C}})};A()}_abortOperatorList({intentState:p,reason:m,force:f=!1}){if(!!p.streamReader){if(!f){if(p.renderTasks.size>0)return;if(m instanceof _display_utils.RenderingCancelledException){p.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:p,reason:m,force:!0}),p.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(p.streamReader.cancel(new _util.AbortException(m.message)).catch(()=>{}),p.streamReader=null,!this._transport.destroyed){for(let[g,v]of this._intentStates)if(v===p){this._intentStates.delete(g);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(p,m){let f={data:structuredClone(p,m)};this._deferred.then(()=>{for(let g of this._listeners)g.call(this,f)})}addEventListener(p,m){this._listeners.push(m)}removeEventListener(p,m){let f=this._listeners.indexOf(m);this._listeners.splice(f,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof Ha=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let w=document?.currentScript?.src;w&&(PDFWorkerUtil.fallbackWorkerSrc=w.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(w,p){let m;try{if(m=new URL(w),!m.origin||m.origin==="null")return!1}catch(g){return!1}let f=new URL(p,m);return m.origin===f.origin},PDFWorkerUtil.createCDNWrapper=function(w){let p=`importScripts("${w}");`;return URL.createObjectURL(new Blob([p]))}}let _PDFWorker=class{constructor({name:w=null,port:p=null,verbosity:m=(0,_util.getVerbosityLevel)()}={}){if(p&&It(_PDFWorker,n).has(p))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=w,this.destroyed=!1,this.verbosity=m,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,p){It(_PDFWorker,n).set(p,this),this._initializeFromPort(p);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(w){this._port=w,this._messageHandler=new _message_handler.MessageHandler("main","worker",w),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker!="undefined"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let w=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,w)||(w=PDFWorkerUtil.createCDNWrapper(new URL(w,window.location).href));let p=new Worker(w),m=new _message_handler.MessageHandler("main","worker",p),f=()=>{p.removeEventListener("error",g),m.destroy(),p.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},g=()=>{this._webWorker||f()};p.addEventListener("error",g),m.on("test",A=>{if(p.removeEventListener("error",g),this.destroyed){f();return}A?(this._messageHandler=m,this._port=p,this._webWorker=p,this._readyCapability.resolve(),m.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),m.destroy(),p.terminate())}),m.on("ready",A=>{if(p.removeEventListener("error",g),this.destroyed){f();return}try{v()}catch(C){this._setupFakeWorker()}});let v=()=>{let A=new Uint8Array;m.send("test",A,[A.buffer])};v();return}catch(p){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(w=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let p=new LoopbackPort;this._port=p;let m=`fake${PDFWorkerUtil.fakeWorkerId++}`,f=new _message_handler.MessageHandler(m+"_worker",m,p);w.setup(f,p);let g=new _message_handler.MessageHandler(m,m+"_worker",p);this._messageHandler=g,this._readyCapability.resolve(),g.send("configure",{verbosity:this.verbosity})}).catch(w=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${w.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),It(_PDFWorker,n).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(w){if(!w?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return It(this,n).has(w.port)?It(this,n).get(w.port):new _PDFWorker(w)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch(w){return null}}static get _setupFakeWorkerGlobal(){let loader=async()=>{let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof Ha=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}},PDFWorker=_PDFWorker;n=new WeakMap,_n(PDFWorker,n,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(p,m,f,g){_n(this,i,null);_n(this,o,new Map);_n(this,s,new Map);_n(this,l,null);this.messageHandler=p,this.loadingTask=m,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:m.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:g.ownerDocument,styleElement:g.styleElement}),this._params=g,g.useWorkerFetch||(this.CMapReaderFactory=new g.CMapReaderFactory({baseUrl:g.cMapUrl,isCompressed:g.cMapPacked}),this.StandardFontDataFactory=new g.StandardFontDataFactory({baseUrl:g.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=f,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return It(this,i)}getRenderingIntent(p,m=_util.AnnotationMode.ENABLE,f=!1){let g=_util.RenderingIntentFlag.DISPLAY,v="";switch(p){case"any":g=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":g=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${p}`)}switch(m){case _util.AnnotationMode.DISABLE:g+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:g+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:g+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,v=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${m}`)}return f&&(g+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:g,cacheKey:`${g}_${v}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));let p=[];for(let f of It(this,o).values())p.push(f._destroy());It(this,o).clear(),It(this,s).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let m=this.messageHandler.sendWithPromise("Terminate",null);return p.push(m),Promise.all(p).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Nr(this,l,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:p,loadingTask:m}=this;p.on("GetReader",(f,g)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=v=>{this._lastProgress={loaded:v.loaded,total:v.total}},g.onPull=()=>{this._fullReader.read().then(function({value:v,done:A}){if(A){g.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(v),"GetReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(v),1,[v])}).catch(v=>{g.error(v)})},g.onCancel=v=>{this._fullReader.cancel(v),g.ready.catch(A=>{if(!this.destroyed)throw A})}}),p.on("ReaderHeadersReady",f=>{let g=(0,_util.createPromiseCapability)(),v=this._fullReader;return v.headersReady.then(()=>{(!v.isStreamingSupported||!v.isRangeSupported)&&(this._lastProgress&&m.onProgress?.(this._lastProgress),v.onProgress=A=>{m.onProgress?.({loaded:A.loaded,total:A.total})}),g.resolve({isStreamingSupported:v.isStreamingSupported,isRangeSupported:v.isRangeSupported,contentLength:v.contentLength})},g.reject),g.promise}),p.on("GetRangeReader",(f,g)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let v=this._networkStream.getRangeReader(f.begin,f.end);if(!v){g.close();return}g.onPull=()=>{v.read().then(function({value:A,done:C}){if(C){g.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(A),"GetRangeReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(A),1,[A])}).catch(A=>{g.error(A)})},g.onCancel=A=>{v.cancel(A),g.ready.catch(C=>{if(!this.destroyed)throw C})}}),p.on("GetDoc",({pdfInfo:f})=>{this._numPages=f.numPages,this._htmlForXfa=f.htmlForXfa,delete f.htmlForXfa,m._capability.resolve(new PDFDocumentProxy(f,this))}),p.on("DocException",function(f){let g;switch(f.name){case"PasswordException":g=new _util.PasswordException(f.message,f.code);break;case"InvalidPDFException":g=new _util.InvalidPDFException(f.message);break;case"MissingPDFException":g=new _util.MissingPDFException(f.message);break;case"UnexpectedResponseException":g=new _util.UnexpectedResponseException(f.message,f.status);break;case"UnknownErrorException":g=new _util.UnknownErrorException(f.message,f.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}m._capability.reject(g)}),p.on("PasswordRequest",f=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),m.onPassword){let g=v=>{v instanceof Error?this._passwordCapability.reject(v):this._passwordCapability.resolve({password:v})};try{m.onPassword(g,f.code)}catch(v){this._passwordCapability.reject(v)}}else this._passwordCapability.reject(new _util.PasswordException(f.message,f.code));return this._passwordCapability.promise}),p.on("DataLoaded",f=>{m.onProgress?.({loaded:f.length,total:f.length}),this.downloadInfoCapability.resolve(f)}),p.on("StartRenderPage",f=>{if(this.destroyed)return;It(this,o).get(f.pageIndex)._startRenderPage(f.transparency,f.cacheKey)}),p.on("commonobj",([f,g,v])=>{if(!this.destroyed&&!this.commonObjs.has(f))switch(g){case"Font":let A=this._params;if("error"in v){let E=v.error;(0,_util.warn)(`Error during font loading: ${E}`),this.commonObjs.resolve(f,E);break}let C=null;A.pdfBug&&globalThis.FontInspector?.enabled&&(C={registerFont(E,T){globalThis.FontInspector.fontAdded(E,T)}});let O=new _font_loader.FontFaceObject(v,{isEvalSupported:A.isEvalSupported,disableFontFace:A.disableFontFace,ignoreErrors:A.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:C});this.fontLoader.bind(O).catch(E=>p.sendWithPromise("FontFallback",{id:f})).finally(()=>{!A.fontExtraProperties&&O.data&&(O.data=null),this.commonObjs.resolve(f,O)});break;case"FontPath":case"Image":this.commonObjs.resolve(f,v);break;default:throw new Error(`Got unknown common object type ${g}`)}}),p.on("obj",([f,g,v,A])=>{if(this.destroyed)return;let C=It(this,o).get(g);if(!C.objs.has(f))switch(v){case"Image":C.objs.resolve(f,A);let O=8e6;if(A){let E;if(A.bitmap){let{bitmap:T,width:B,height:M}=A;E=B*M*4,C._bitmaps.add(T)}else E=A.data?.length||0;E>O&&(C.cleanupAfterRender=!0)}break;case"Pattern":C.objs.resolve(f,A);break;default:throw new Error(`Got unknown object type ${v}`)}}),p.on("DocProgress",f=>{this.destroyed||m.onProgress?.({loaded:f.loaded,total:f.total})}),p.on("DocStats",f=>{this.destroyed||Nr(this,i,Object.freeze({streamTypes:Object.freeze(f.streamTypes),fontTypes:Object.freeze(f.fontTypes)}))}),p.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),p.on("FetchBuiltInCMap",f=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(f):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),p.on("FetchStandardFontData",f=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(f):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:p}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(p)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(p){if(!Number.isInteger(p)||p<=0||p>this._numPages)return Promise.reject(new Error("Invalid page request."));let m=p-1,f=It(this,s).get(m);if(f)return f;let g=this.messageHandler.sendWithPromise("GetPage",{pageIndex:m}).then(v=>{if(this.destroyed)throw new Error("Transport destroyed");let A=new PDFPageProxy(m,v,this,this._params.ownerDocument,this._params.pdfBug);return It(this,o).set(m,A),A});return It(this,s).set(m,g),g}getPageIndex(p){return typeof p!="object"||p===null||!Number.isInteger(p.num)||p.num<0||!Number.isInteger(p.gen)||p.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:p.num,gen:p.gen})}getAnnotations(p,m){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:p,intent:m})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(p){return typeof p!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:p})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(p){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:p})}getStructTree(p){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:p})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(p=>new _optional_content_config.OptionalContentConfig(p))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return It(this,l)||Nr(this,l,this.messageHandler.sendWithPromise("GetMetadata",null).then(p=>({info:p[0],metadata:p[1]?new _metadata.Metadata(p[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(p=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(let m of It(this,o).values())if(!m.cleanup())throw new Error(`startCleanup: Page ${m.pageNumber} is currently rendering.`);this.commonObjs.clear(),p||this.fontLoader.clear(),Nr(this,l,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){let p=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:p.disableAutoFetch,enableXfa:p.enableXfa})}}i=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap;class PDFObjects{constructor(){_n(this,d);_n(this,u,Object.create(null))}get(p,m=null){if(m){let g=Dr(this,d,sx).call(this,p);return g.capability.promise.then(()=>m(g.data)),null}let f=It(this,u)[p];if(!f?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${p}.`);return f.data}has(p){return It(this,u)[p]?.capability.settled||!1}resolve(p,m=null){let f=Dr(this,d,sx).call(this,p);f.data=m,f.capability.resolve()}clear(){Nr(this,u,Object.create(null))}}u=new WeakMap,d=new WeakSet,sx=function(p){let m=It(this,u)[p];return m||(It(this,u)[p]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(p){this._internalRenderTask=p,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;let b=class{constructor({callback:p,params:m,objs:f,commonObjs:g,annotationCanvasMap:v,operatorList:A,pageIndex:C,canvasFactory:O,useRequestAnimationFrame:E=!1,pdfBug:T=!1,pageColors:B=null}){this.callback=p,this.params=m,this.objs=f,this.commonObjs=g,this.annotationCanvasMap=v,this.operatorListIdx=null,this.operatorList=A,this._pageIndex=C,this.canvasFactory=O,this._pdfBug=T,this.pageColors=B,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=E===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=m.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:p=!1,optionalContentConfig:m}){if(this.cancelled)return;if(this._canvas){if(It(b,y).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");It(b,y).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:f,viewport:g,transform:v,imageLayer:A,background:C}=this.params;this.gfx=new _canvas.CanvasGraphics(f,this.commonObjs,this.objs,this.canvasFactory,A,m,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:v,viewport:g,transparency:p,background:C}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(p=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&It(b,y).delete(this._canvas),this.callback(p||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&It(b,y).delete(this._canvas),this.callback())))}},InternalRenderTask=b;y=new WeakMap,_n(InternalRenderTask,y,new WeakSet);let version="2.14.305";exports.version=version;let build="eaaa8b4ad";exports.build=build},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=E,t.getFilenameFromUrl=g,t.getPdfFilenameFromUrl=v,t.getXfaPageViewport=M,t.isDataScheme=m,t.isPdfFile=f,t.isValidFetchUrl=C,t.loadScript=O;var i=n(6),o=n(1);let s="http://www.w3.org/2000/svg",D=class{},l=D;Lc(l,"CSS",96),Lc(l,"PDF",72),Lc(l,"PDF_TO_CSS_UNITS",D.CSS/D.PDF),t.PixelsPerInch=l;class u extends i.BaseCanvasFactory{constructor({ownerDocument:I=globalThis.document}={}){super();this._document=I}_createCanvas(I,N){let q=this._document.createElement("canvas");return q.width=I,q.height=N,q}}t.DOMCanvasFactory=u;async function d(U,I=!1){if(C(U,document.baseURI)){let N=await fetch(U);if(!N.ok)throw new Error(N.statusText);return I?new Uint8Array(await N.arrayBuffer()):(0,o.stringToBytes)(await N.text())}return new Promise((N,q)=>{let z=new XMLHttpRequest;z.open("GET",U,!0),I&&(z.responseType="arraybuffer"),z.onreadystatechange=()=>{if(z.readyState===XMLHttpRequest.DONE){if(z.status===200||z.status===0){let ne;if(I&&z.response?ne=new Uint8Array(z.response):!I&&z.responseText&&(ne=(0,o.stringToBytes)(z.responseText)),ne){N(ne);return}}q(new Error(z.statusText))}},z.send(null)})}class h extends i.BaseCMapReaderFactory{_fetchData(I,N){return d(I,this.isCompressed).then(q=>({cMapData:q,compressionType:N}))}}t.DOMCMapReaderFactory=h;class y extends i.BaseStandardFontDataFactory{_fetchData(I){return d(I,!0)}}t.DOMStandardFontDataFactory=y;class b extends i.BaseSVGFactory{_createSVG(I){return document.createElementNS(s,I)}}t.DOMSVGFactory=b;class w{constructor({viewBox:I,scale:N,rotation:q,offsetX:z=0,offsetY:ne=0,dontFlip:oe=!1}){this.viewBox=I,this.scale=N,this.rotation=q,this.offsetX=z,this.offsetY=ne;let ae=(I[2]+I[0])/2,te=(I[3]+I[1])/2,le,xe,fe,J;switch(q%=360,q<0&&(q+=360),q){case 180:le=-1,xe=0,fe=0,J=1;break;case 90:le=0,xe=1,fe=1,J=0;break;case 270:le=0,xe=-1,fe=-1,J=0;break;case 0:le=1,xe=0,fe=0,J=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}oe&&(fe=-fe,J=-J);let j,k,x,R;le===0?(j=Math.abs(te-I[1])*N+z,k=Math.abs(ae-I[0])*N+ne,x=Math.abs(I[3]-I[1])*N,R=Math.abs(I[2]-I[0])*N):(j=Math.abs(ae-I[0])*N+z,k=Math.abs(te-I[1])*N+ne,x=Math.abs(I[2]-I[0])*N,R=Math.abs(I[3]-I[1])*N),this.transform=[le*N,xe*N,fe*N,J*N,j-le*N*ae-fe*N*te,k-xe*N*ae-J*N*te],this.width=x,this.height=R}clone({scale:I=this.scale,rotation:N=this.rotation,offsetX:q=this.offsetX,offsetY:z=this.offsetY,dontFlip:ne=!1}={}){return new w({viewBox:this.viewBox.slice(),scale:I,rotation:N,offsetX:q,offsetY:z,dontFlip:ne})}convertToViewportPoint(I,N){return o.Util.applyTransform([I,N],this.transform)}convertToViewportRectangle(I){let N=o.Util.applyTransform([I[0],I[1]],this.transform),q=o.Util.applyTransform([I[2],I[3]],this.transform);return[N[0],N[1],q[0],q[1]]}convertToPdfPoint(I,N){return o.Util.applyInverseTransform([I,N],this.transform)}}t.PageViewport=w;class p extends o.BaseException{constructor(I,N){super(I,"RenderingCancelledException");this.type=N}}t.RenderingCancelledException=p;function m(U){let I=U.length,N=0;for(;N<I&&U[N].trim()==="";)N++;return U.substring(N,N+5).toLowerCase()==="data:"}function f(U){return typeof U=="string"&&/\.pdf$/i.test(U)}function g(U){let I=U.indexOf("#"),N=U.indexOf("?"),q=Math.min(I>0?I:U.length,N>0?N:U.length);return U.substring(U.lastIndexOf("/",q)+1,q)}function v(U,I="document.pdf"){if(typeof U!="string")return I;if(m(U))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),I;let N=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,q=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,z=N.exec(U),ne=q.exec(z[1])||q.exec(z[2])||q.exec(z[3]);if(ne&&(ne=ne[0],ne.includes("%")))try{ne=q.exec(decodeURIComponent(ne))[0]}catch(oe){}return ne||I}class A{constructor(){this.started=Object.create(null),this.times=[]}time(I){I in this.started&&(0,o.warn)(`Timer is already running for ${I}`),this.started[I]=Date.now()}timeEnd(I){I in this.started||(0,o.warn)(`Timer has not been started for ${I}`),this.times.push({name:I,start:this.started[I],end:Date.now()}),delete this.started[I]}toString(){let I=[],N=0;for(let q of this.times){let z=q.name;z.length>N&&(N=z.length)}for(let q of this.times){let z=q.end-q.start;I.push(`${q.name.padEnd(N)} ${z}ms
`)}return I.join("")}}t.StatTimer=A;function C(U,I){try{let{protocol:N}=I?new URL(U,I):new URL(U);return N==="http:"||N==="https:"}catch(N){return!1}}function O(U,I=!1){return new Promise((N,q)=>{let z=document.createElement("script");z.src=U,z.onload=function(ne){I&&z.remove(),N(ne)},z.onerror=function(){q(new Error(`Cannot load script at: ${z.src}`))},(document.head||document.documentElement).appendChild(z)})}function E(U){console.log("Deprecated API usage: "+U)}let T;class B{static toDateObject(I){if(!I||typeof I!="string")return null;T||(T=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));let N=T.exec(I);if(!N)return null;let q=parseInt(N[1],10),z=parseInt(N[2],10);z=z>=1&&z<=12?z-1:0;let ne=parseInt(N[3],10);ne=ne>=1&&ne<=31?ne:1;let oe=parseInt(N[4],10);oe=oe>=0&&oe<=23?oe:0;let ae=parseInt(N[5],10);ae=ae>=0&&ae<=59?ae:0;let te=parseInt(N[6],10);te=te>=0&&te<=59?te:0;let le=N[7]||"Z",xe=parseInt(N[8],10);xe=xe>=0&&xe<=23?xe:0;let fe=parseInt(N[9],10)||0;return fe=fe>=0&&fe<=59?fe:0,le==="-"?(oe+=xe,ae+=fe):le==="+"&&(oe-=xe,ae-=fe),new Date(Date.UTC(q,z,ne,oe,ae,te))}}t.PDFDateString=B;function M(U,{scale:I=1,rotation:N=0}){let{width:q,height:z}=U.attributes.style,ne=[0,0,parseInt(q),parseInt(z)];return new w({viewBox:ne,scale:I,rotation:N})}},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var i=n(1);class o{constructor(){this.constructor===o&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,y){if(h<=0||y<=0)throw new Error("Invalid canvas size");let b=this._createCanvas(h,y);return{canvas:b,context:b.getContext("2d")}}reset(h,y,b){if(!h.canvas)throw new Error("Canvas is not specified");if(y<=0||b<=0)throw new Error("Invalid canvas size");h.canvas.width=y,h.canvas.height=b}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}_createCanvas(h,y){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=o;class s{constructor({baseUrl:h=null,isCompressed:y=!1}){this.constructor===s&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=y}async fetch({name:h}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");let y=this.baseUrl+h+(this.isCompressed?".bcmap":""),b=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(y,b).catch(w=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${y}`)})}_fetchData(h,y){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=s;class l{constructor({baseUrl:h=null}){this.constructor===l&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=h}async fetch({filename:h}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!h)throw new Error("Font filename must be specified.");let y=`${this.baseUrl}${h}`;return this._fetchData(y).catch(b=>{throw new Error(`Unable to load font data at: ${y}`)})}_fetchData(h){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=l;class u{constructor(){this.constructor===u&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(h,y){if(h<=0||y<=0)throw new Error("Invalid SVG dimensions");let b=this._createSVG("svg:svg");return b.setAttribute("version","1.1"),b.setAttribute("width",`${h}px`),b.setAttribute("height",`${y}px`),b.setAttribute("preserveAspectRatio","none"),b.setAttribute("viewBox",`0 0 ${h} ${y}`),b}createElement(h){if(typeof h!="string")throw new Error("Invalid SVG element type");return this._createSVG(h)}_createSVG(h){(0,i.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=u},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var i=n(1);class o{constructor({docId:d,onUnsupportedFeature:h,ownerDocument:y=globalThis.document,styleElement:b=null}){this.constructor===o&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=d,this._onUnsupportedFeature=h,this._document=y,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(d){this.nativeFontFaces.push(d),this._document.fonts.add(d)}insertRule(d){let h=this.styleElement;h||(h=this.styleElement=this._document.createElement("style"),h.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(h));let y=h.sheet;y.insertRule(d,y.cssRules.length)}clear(){for(let d of this.nativeFontFaces)this._document.fonts.delete(d);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(d){if(d.attached||d.missingFile)return;if(d.attached=!0,this.isFontLoadingAPISupported){let y=d.createNativeFontFace();if(y){this.addNativeFontFace(y);try{await y.loaded}catch(b){throw this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${y.family}': '${b}'.`),d.disableFontFace=!0,b}}return}let h=d.createFontFaceRule();if(h){if(this.insertRule(h),this.isSyncFontLoadingSupported)return;await new Promise(y=>{let b=this._queueLoadingCallback(y);this._prepareFontLoadEvent([h],[d],b)})}}_queueLoadingCallback(d){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){let d=!!this._document?.fonts;return(0,i.shadow)(this,"isFontLoadingAPISupported",d)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(d,h,y){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let s;t.FontLoader=s,t.FontLoader=s=class extends o{constructor(d){super(d);this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let d=!1;return(typeof navigator=="undefined"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(d=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",d)}_queueLoadingCallback(d){function h(){for((0,i.assert)(!b.done,"completeRequest() cannot be called twice."),b.done=!0;y.requests.length>0&&y.requests[0].done;){let w=y.requests.shift();setTimeout(w.callback,0)}}let y=this.loadingContext,b={id:`pdfjs-font-loading-${y.nextRequestId++}`,done:!1,complete:h,callback:d};return y.requests.push(b),b}get _loadTestFont(){let d=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,i.shadow)(this,"_loadTestFont",d())}_prepareFontLoadEvent(d,h,y){function b(q,z){return q.charCodeAt(z)<<24|q.charCodeAt(z+1)<<16|q.charCodeAt(z+2)<<8|q.charCodeAt(z+3)&255}function w(q,z,ne,oe){let ae=q.substring(0,z),te=q.substring(z+ne);return ae+oe+te}let p,m,f=this._document.createElement("canvas");f.width=1,f.height=1;let g=f.getContext("2d"),v=0;function A(q,z){if(v++,v>30){(0,i.warn)("Load test font never loaded."),z();return}if(g.font="30px "+q,g.fillText(".",0,20),g.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(A.bind(null,q,z))}let C=`lt${Date.now()}${this.loadTestFontId++}`,O=this._loadTestFont;O=w(O,976,C.length,C);let T=16,B=1482184792,M=b(O,T);for(p=0,m=C.length-3;p<m;p+=4)M=M-B+b(C,p)|0;p<C.length&&(M=M-B+b(C+"XXX",p)|0),O=w(O,T,4,(0,i.string32)(M));let D=`url(data:font/opentype;base64,${btoa(O)});`,U=`@font-face {font-family:"${C}";src:${D}}`;this.insertRule(U);let I=[];for(let q of h)I.push(q.loadedName);I.push(C);let N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(let q of I){let z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=q,N.appendChild(z)}this._document.body.appendChild(N),A(C,()=>{N.remove(),y.complete()})}};class l{constructor(d,{isEvalSupported:h=!0,disableFontFace:y=!1,ignoreErrors:b=!1,onUnsupportedFeature:w,fontRegistry:p=null}){this.compiledGlyphs=Object.create(null);for(let m in d)this[m]=d[m];this.isEvalSupported=h!==!1,this.disableFontFace=y===!0,this.ignoreErrors=b===!0,this._onUnsupportedFeature=w,this.fontRegistry=p}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let d;if(!this.cssFontInfo)d=new FontFace(this.loadedName,this.data,{});else{let h={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(h.style=`oblique ${this.cssFontInfo.italicAngle}deg`),d=new FontFace(this.cssFontInfo.fontFamily,this.data,h)}return this.fontRegistry&&this.fontRegistry.registerFont(this),d}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let d=(0,i.bytesToString)(this.data),h=`url(data:${this.mimetype};base64,${btoa(d)});`,y;if(!this.cssFontInfo)y=`@font-face {font-family:"${this.loadedName}";src:${h}}`;else{let b=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(b+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),y=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${b}src:${h}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,h),y}getPathGenerator(d,h){if(this.compiledGlyphs[h]!==void 0)return this.compiledGlyphs[h];let y;try{y=d.get(this.loadedName+"_path_"+h)}catch(b){if(!this.ignoreErrors)throw b;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${b}".`),this.compiledGlyphs[h]=function(w,p){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){let b=[];for(let w of y){let p=w.args!==void 0?w.args.join(","):"";b.push("c.",w.cmd,"(",p,`);
`)}return this.compiledGlyphs[h]=new Function("c","size",b.join(""))}return this.compiledGlyphs[h]=function(b,w){for(let p of y)p.cmd==="scale"&&(p.args=[w,-w]),b[p.cmd].apply(b,p.args)}}}t.FontFaceObject=l},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;var i=n(9),o=n(1);class s{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(u,d){let h=this._storage.get(u);return h===void 0?d:Object.assign(d,h)}getRawValue(u){return this._storage.get(u)}setValue(u,d){let h=this._storage.get(u),y=!1;if(h!==void 0)for(let[b,w]of Object.entries(d))h[b]!==w&&(y=!0,h[b]=w);else y=!0,this._storage.set(u,d);y&&this._setModified()}getAll(){return this._storage.size>0?(0,o.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){let u=new i.MurmurHash3_64;for(let[d,h]of this._storage)u.update(`${d}:${JSON.stringify(h)}`);return u.hexdigest()}}t.AnnotationStorage=s},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var i=n(1);let o=3285377520,s=4294901760,l=65535;class u{constructor(h){this.h1=h?h&4294967295:o,this.h2=h?h&4294967295:o}update(h){let y,b;if(typeof h=="string"){y=new Uint8Array(h.length*2),b=0;for(let B=0,M=h.length;B<M;B++){let D=h.charCodeAt(B);D<=255?y[b++]=D:(y[b++]=D>>>8,y[b++]=D&255)}}else if((0,i.isArrayBuffer)(h))y=h.slice(),b=y.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let w=b>>2,p=b-w*4,m=new Uint32Array(y.buffer,0,w),f=0,g=0,v=this.h1,A=this.h2,C=3432918353,O=461845907,E=C&l,T=O&l;for(let B=0;B<w;B++)B&1?(f=m[B],f=f*C&s|f*E&l,f=f<<15|f>>>17,f=f*O&s|f*T&l,v^=f,v=v<<13|v>>>19,v=v*5+3864292196):(g=m[B],g=g*C&s|g*E&l,g=g<<15|g>>>17,g=g*O&s|g*T&l,A^=g,A=A<<13|A>>>19,A=A*5+3864292196);switch(f=0,p){case 3:f^=y[w*4+2]<<16;case 2:f^=y[w*4+1]<<8;case 1:f^=y[w*4],f=f*C&s|f*E&l,f=f<<15|f>>>17,f=f*O&s|f*T&l,w&1?v^=f:A^=f}this.h1=v,this.h2=A}hexdigest(){let h=this.h1,y=this.h2;h^=y>>>1,h=h*3981806797&s|h*36045&l,y=y*4283543511&s|((y<<16|h>>>16)*2950163797&s)>>>16,h^=y>>>1,h=h*444984403&s|h*60499&l,y=y*3301882366&s|((y<<16|h>>>16)*3120437893&s)>>>16,h^=y>>>1;let b=(h>>>0).toString(16),w=(y>>>0).toString(16);return b.padStart(8,"0")+w.padStart(8,"0")}}t.MurmurHash3_64=u},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var i=n(1),o=n(11),s=n(12),l=n(3),u=n(5);let d=16,h=100,y=4096,b=15,w=10,p=!0,m=1e3,f=16,g=1.000001;function v(J,j){if(J._removeMirroring)throw new Error("Context is already forwarding operations.");J.__originalSave=J.save,J.__originalRestore=J.restore,J.__originalRotate=J.rotate,J.__originalScale=J.scale,J.__originalTranslate=J.translate,J.__originalTransform=J.transform,J.__originalSetTransform=J.setTransform,J.__originalResetTransform=J.resetTransform,J.__originalClip=J.clip,J.__originalMoveTo=J.moveTo,J.__originalLineTo=J.lineTo,J.__originalBezierCurveTo=J.bezierCurveTo,J.__originalRect=J.rect,J.__originalClosePath=J.closePath,J.__originalBeginPath=J.beginPath,J._removeMirroring=()=>{J.save=J.__originalSave,J.restore=J.__originalRestore,J.rotate=J.__originalRotate,J.scale=J.__originalScale,J.translate=J.__originalTranslate,J.transform=J.__originalTransform,J.setTransform=J.__originalSetTransform,J.resetTransform=J.__originalResetTransform,J.clip=J.__originalClip,J.moveTo=J.__originalMoveTo,J.lineTo=J.__originalLineTo,J.bezierCurveTo=J.__originalBezierCurveTo,J.rect=J.__originalRect,J.closePath=J.__originalClosePath,J.beginPath=J.__originalBeginPath,delete J._removeMirroring},J.save=function(){j.save(),this.__originalSave()},J.restore=function(){j.restore(),this.__originalRestore()},J.translate=function(x,R){j.translate(x,R),this.__originalTranslate(x,R)},J.scale=function(x,R){j.scale(x,R),this.__originalScale(x,R)},J.transform=function(x,R,L,F,W,V){j.transform(x,R,L,F,W,V),this.__originalTransform(x,R,L,F,W,V)},J.setTransform=function(x,R,L,F,W,V){j.setTransform(x,R,L,F,W,V),this.__originalSetTransform(x,R,L,F,W,V)},J.resetTransform=function(){j.resetTransform(),this.__originalResetTransform()},J.rotate=function(x){j.rotate(x),this.__originalRotate(x)},J.clip=function(x){j.clip(x),this.__originalClip(x)},J.moveTo=function(k,x){j.moveTo(k,x),this.__originalMoveTo(k,x)},J.lineTo=function(k,x){j.lineTo(k,x),this.__originalLineTo(k,x)},J.bezierCurveTo=function(k,x,R,L,F,W){j.bezierCurveTo(k,x,R,L,F,W),this.__originalBezierCurveTo(k,x,R,L,F,W)},J.rect=function(k,x,R,L){j.rect(k,x,R,L),this.__originalRect(k,x,R,L)},J.closePath=function(){j.closePath(),this.__originalClosePath()},J.beginPath=function(){j.beginPath(),this.__originalBeginPath()}}function A(J){if(J._transformStack&&(J._transformStack=[]),!J.mozCurrentTransform){J._originalSave=J.save,J._originalRestore=J.restore,J._originalRotate=J.rotate,J._originalScale=J.scale,J._originalTranslate=J.translate,J._originalTransform=J.transform,J._originalSetTransform=J.setTransform,J._originalResetTransform=J.resetTransform,J._transformMatrix=J._transformMatrix||[1,0,0,1,0,0],J._transformStack=[];try{let j=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(J),"lineWidth");J._setLineWidth=j.set,J._getLineWidth=j.get,Object.defineProperty(J,"lineWidth",{set:function(x){this._setLineWidth(x*g)},get:function(){return this._getLineWidth()}})}catch(j){}Object.defineProperty(J,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(J,"mozCurrentTransformInverse",{get:function(){let[k,x,R,L,F,W]=this._transformMatrix,V=k*L-x*R,Z=x*R-k*L;return[L/V,x/Z,R/Z,k/V,(L*F-R*W)/Z,(x*F-k*W)/V]}}),J.save=function(){let k=this._transformMatrix;this._transformStack.push(k),this._transformMatrix=k.slice(0,6),this._originalSave()},J.restore=function(){this._transformStack.length===0&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");let k=this._transformStack.pop();k&&(this._transformMatrix=k,this._originalRestore())},J.translate=function(k,x){let R=this._transformMatrix;R[4]=R[0]*k+R[2]*x+R[4],R[5]=R[1]*k+R[3]*x+R[5],this._originalTranslate(k,x)},J.scale=function(k,x){let R=this._transformMatrix;R[0]*=k,R[1]*=k,R[2]*=x,R[3]*=x,this._originalScale(k,x)},J.transform=function(k,x,R,L,F,W){let V=this._transformMatrix;this._transformMatrix=[V[0]*k+V[2]*x,V[1]*k+V[3]*x,V[0]*R+V[2]*L,V[1]*R+V[3]*L,V[0]*F+V[2]*W+V[4],V[1]*F+V[3]*W+V[5]],J._originalTransform(k,x,R,L,F,W)},J.setTransform=function(k,x,R,L,F,W){this._transformMatrix=[k,x,R,L,F,W],J._originalSetTransform(k,x,R,L,F,W)},J.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],J._originalResetTransform()},J.rotate=function(k){let x=Math.cos(k),R=Math.sin(k),L=this._transformMatrix;this._transformMatrix=[L[0]*x+L[2]*R,L[1]*x+L[3]*R,L[0]*-R+L[2]*x,L[1]*-R+L[3]*x,L[4],L[5]],this._originalRotate(k)}}}class C{constructor(j){this.canvasFactory=j,this.cache=Object.create(null)}getCanvas(j,k,x,R){let L;return this.cache[j]!==void 0?(L=this.cache[j],this.canvasFactory.reset(L,k,x),L.context.setTransform(1,0,0,1,0,0)):(L=this.canvasFactory.create(k,x),this.cache[j]=L),R&&A(L.context),L}delete(j){delete this.cache[j]}clear(){for(let j in this.cache){let k=this.cache[j];this.canvasFactory.destroy(k),delete this.cache[j]}}}function O(J,j,k,x,R,L,F,W,V,Z){let[ee,ie,ue,de,ye,ke]=J.mozCurrentTransform;if(ie===0&&ue===0){let be=F*ee+ye,se=Math.round(be),Ce=W*de+ke,Re=Math.round(Ce),Y=(F+V)*ee+ye,we=Math.abs(Math.round(Y)-se)||1,Ae=(W+Z)*de+ke,Oe=Math.abs(Math.round(Ae)-Re)||1;return J.setTransform(Math.sign(ee),0,0,Math.sign(de),se,Re),J.drawImage(j,k,x,R,L,0,0,we,Oe),J.setTransform(ee,ie,ue,de,ye,ke),[we,Oe]}if(ee===0&&de===0){let be=W*ue+ye,se=Math.round(be),Ce=F*ie+ke,Re=Math.round(Ce),Y=(W+Z)*ue+ye,we=Math.abs(Math.round(Y)-se)||1,Ae=(F+V)*ie+ke,Oe=Math.abs(Math.round(Ae)-Re)||1;return J.setTransform(0,Math.sign(ie),Math.sign(ue),0,se,Re),J.drawImage(j,k,x,R,L,0,0,Oe,we),J.setTransform(ee,ie,ue,de,ye,ke),[Oe,we]}J.drawImage(j,k,x,R,L,F,W,V,Z);let He=Math.hypot(ee,ie),_e=Math.hypot(ue,de);return[He*V,_e*Z]}function E(J){let{width:j,height:k}=J;if(!p||j>m||k>m)return null;let x=1e3,R=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),L=j+1,F=new Uint8Array(L*(k+1)),W,V,Z,ee=j+7&~7,ie=new Uint8Array(ee*k),ue=0;for(let se of J.data){let Ce=128;for(;Ce>0;)ie[ue++]=se&Ce?0:255,Ce>>=1}let de=0;for(ue=0,ie[ue]!==0&&(F[0]=1,++de),V=1;V<j;V++)ie[ue]!==ie[ue+1]&&(F[V]=ie[ue]?2:1,++de),ue++;for(ie[ue]!==0&&(F[V]=2,++de),W=1;W<k;W++){ue=W*ee,Z=W*L,ie[ue-ee]!==ie[ue]&&(F[Z]=ie[ue]?1:8,++de);let se=(ie[ue]?4:0)+(ie[ue-ee]?8:0);for(V=1;V<j;V++)se=(se>>2)+(ie[ue+1]?4:0)+(ie[ue-ee+1]?8:0),R[se]&&(F[Z+V]=R[se],++de),ue++;if(ie[ue-ee]!==ie[ue]&&(F[Z+V]=ie[ue]?2:4,++de),de>x)return null}for(ue=ee*(k-1),Z=W*L,ie[ue]!==0&&(F[Z]=8,++de),V=1;V<j;V++)ie[ue]!==ie[ue+1]&&(F[Z+V]=ie[ue]?4:8,++de),ue++;if(ie[ue]!==0&&(F[Z+V]=4,++de),de>x)return null;let ye=new Int32Array([0,L,-1,0,-L,0,0,0,1]),ke,He,_e;for(l.isNodeJS?He=[]:ke=new Path2D,W=0;de&&W<=k;W++){let se=W*L,Ce=se+j;for(;se<Ce&&!F[se];)se++;if(se===Ce)continue;ke?ke.moveTo(se%L,W):_e=[se%L,W];let Re=se,Y=F[se];do{let we=ye[Y];do se+=we;while(!F[se]);let Ae=F[se];Ae!==5&&Ae!==10?(Y=Ae,F[se]=0):(Y=Ae&51*Y>>4,F[se]&=Y>>2|Y<<2),ke?ke.lineTo(se%L,se/L|0):_e.push(se%L,se/L|0),F[se]||--de}while(Re!==se);ke||He.push(_e),--W}return ie=null,F=null,function(se){if(se.save(),se.scale(1/j,-1/k),se.translate(0,-k),ke)se.fill(ke);else{se.beginPath();for(let Ce of He){se.moveTo(Ce[0],Ce[1]);for(let Re=2,Y=Ce.length;Re<Y;Re+=2)se.lineTo(Ce[Re],Ce[Re+1])}se.fill()}se.beginPath(),se.restore()}}class T{constructor(j,k){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,j,k])}clone(){let j=Object.create(this);return j.clipBox=this.clipBox.slice(),j}setCurrentPoint(j,k){this.x=j,this.y=k}updatePathMinMax(j,k,x){[k,x]=i.Util.applyTransform([k,x],j),this.minX=Math.min(this.minX,k),this.minY=Math.min(this.minY,x),this.maxX=Math.max(this.maxX,k),this.maxY=Math.max(this.maxY,x)}updateRectMinMax(j,k){let x=i.Util.applyTransform(k,j),R=i.Util.applyTransform(k.slice(2),j);this.minX=Math.min(this.minX,x[0],R[0]),this.minY=Math.min(this.minY,x[1],R[1]),this.maxX=Math.max(this.maxX,x[0],R[0]),this.maxY=Math.max(this.maxY,x[1],R[1])}updateScalingPathMinMax(j,k){i.Util.scaleMinMax(j,k),this.minX=Math.min(this.minX,k[0]),this.maxX=Math.max(this.maxX,k[1]),this.minY=Math.min(this.minY,k[2]),this.maxY=Math.max(this.maxY,k[3])}updateCurvePathMinMax(j,k,x,R,L,F,W,V,Z,ee){let ie=i.Util.bezierBoundingBox(k,x,R,L,F,W,V,Z);if(ee){ee[0]=Math.min(ee[0],ie[0],ie[2]),ee[1]=Math.max(ee[1],ie[0],ie[2]),ee[2]=Math.min(ee[2],ie[1],ie[3]),ee[3]=Math.max(ee[3],ie[1],ie[3]);return}this.updateRectMinMax(j,ie)}getPathBoundingBox(j=o.PathType.FILL,k=null){let x=[this.minX,this.minY,this.maxX,this.maxY];if(j===o.PathType.STROKE){k||(0,i.unreachable)("Stroke bounding box must include transform.");let R=i.Util.singularValueDecompose2dScale(k),L=R[0]*this.lineWidth/2,F=R[1]*this.lineWidth/2;x[0]-=L,x[1]-=F,x[2]+=L,x[3]+=F}return x}updateClipFromPath(){let j=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(j||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(j){this.clipBox=j,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(j=o.PathType.FILL,k=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(j,k))}}function B(J,j,k=null){if(typeof ImageData!="undefined"&&j instanceof ImageData){J.putImageData(j,0,0);return}let x=j.height,R=j.width,L=x%f,F=(x-L)/f,W=L===0?F:F+1,V=J.createImageData(R,f),Z=0,ee,ie=j.data,ue=V.data,de,ye,ke,He,_e,be,se,Ce;if(k)switch(k.length){case 1:_e=k[0],be=k[0],se=k[0],Ce=k[0];break;case 4:_e=k[0],be=k[1],se=k[2],Ce=k[3];break}if(j.kind===i.ImageKind.GRAYSCALE_1BPP){let Re=ie.byteLength,Y=new Uint32Array(ue.buffer,0,ue.byteLength>>2),we=Y.length,Ae=R+7>>3,Oe=4294967295,Be=i.FeatureTest.isLittleEndian?4278190080:255;for(Ce&&Ce[0]===255&&Ce[255]===0&&([Oe,Be]=[Be,Oe]),de=0;de<W;de++){for(ke=de<F?f:L,ee=0,ye=0;ye<ke;ye++){let ot=Re-Z,ze=0,Je=ot>Ae?R:ot*8-7,Ge=Je&~7,pe=0,Q=0;for(;ze<Ge;ze+=8)Q=ie[Z++],Y[ee++]=Q&128?Oe:Be,Y[ee++]=Q&64?Oe:Be,Y[ee++]=Q&32?Oe:Be,Y[ee++]=Q&16?Oe:Be,Y[ee++]=Q&8?Oe:Be,Y[ee++]=Q&4?Oe:Be,Y[ee++]=Q&2?Oe:Be,Y[ee++]=Q&1?Oe:Be;for(;ze<Je;ze++)pe===0&&(Q=ie[Z++],pe=128),Y[ee++]=Q&pe?Oe:Be,pe>>=1}for(;ee<we;)Y[ee++]=0;J.putImageData(V,0,de*f)}}else if(j.kind===i.ImageKind.RGBA_32BPP){let Re=!!(_e||be||se);for(ye=0,He=R*f*4,de=0;de<F;de++){if(ue.set(ie.subarray(Z,Z+He)),Z+=He,Re)for(let Y=0;Y<He;Y+=4)_e&&(ue[Y+0]=_e[ue[Y+0]]),be&&(ue[Y+1]=be[ue[Y+1]]),se&&(ue[Y+2]=se[ue[Y+2]]);J.putImageData(V,0,ye),ye+=f}if(de<W){if(He=R*L*4,ue.set(ie.subarray(Z,Z+He)),Re)for(let Y=0;Y<He;Y+=4)_e&&(ue[Y+0]=_e[ue[Y+0]]),be&&(ue[Y+1]=be[ue[Y+1]]),se&&(ue[Y+2]=se[ue[Y+2]]);J.putImageData(V,0,ye)}}else if(j.kind===i.ImageKind.RGB_24BPP){let Re=!!(_e||be||se);for(ke=f,He=R*ke,de=0;de<W;de++){for(de>=F&&(ke=L,He=R*ke),ee=0,ye=He;ye--;)ue[ee++]=ie[Z++],ue[ee++]=ie[Z++],ue[ee++]=ie[Z++],ue[ee++]=255;if(Re)for(let Y=0;Y<ee;Y+=4)_e&&(ue[Y+0]=_e[ue[Y+0]]),be&&(ue[Y+1]=be[ue[Y+1]]),se&&(ue[Y+2]=se[ue[Y+2]]);J.putImageData(V,0,de*f)}}else throw new Error(`bad image kind: ${j.kind}`)}function M(J,j){if(j.bitmap){J.drawImage(j.bitmap,0,0);return}let k=j.height,x=j.width,R=k%f,L=(k-R)/f,F=R===0?L:L+1,W=J.createImageData(x,f),V=0,Z=j.data,ee=W.data;for(let ie=0;ie<F;ie++){let ue=ie<L?f:R;({srcPos:V}=(0,s.applyMaskImageData)({src:Z,srcPos:V,dest:ee,width:x,height:ue})),J.putImageData(W,0,ie*f)}}function D(J,j){let k=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let x=0,R=k.length;x<R;x++){let L=k[x];J[L]!==void 0&&(j[L]=J[L])}J.setLineDash!==void 0&&(j.setLineDash(J.getLineDash()),j.lineDashOffset=J.lineDashOffset)}function U(J,j){J.strokeStyle=J.fillStyle=j||"#000000",J.fillRule="nonzero",J.globalAlpha=1,J.lineWidth=1,J.lineCap="butt",J.lineJoin="miter",J.miterLimit=10,J.globalCompositeOperation="source-over",J.font="10px sans-serif",J.setLineDash!==void 0&&(J.setLineDash([]),J.lineDashOffset=0)}function I(J,j,k,x){let R=J.length;for(let L=3;L<R;L+=4){let F=J[L];if(F===0)J[L-3]=j,J[L-2]=k,J[L-1]=x;else if(F<255){let W=255-F;J[L-3]=J[L-3]*F+j*W>>8,J[L-2]=J[L-2]*F+k*W>>8,J[L-1]=J[L-1]*F+x*W>>8}}}function N(J,j,k){let x=J.length,R=1/255;for(let L=3;L<x;L+=4){let F=k?k[J[L]]:J[L];j[L]=j[L]*F*R|0}}function q(J,j,k){let x=J.length;for(let R=3;R<x;R+=4){let L=J[R-3]*77+J[R-2]*152+J[R-1]*28;j[R]=k?j[R]*k[L>>8]>>8:j[R]*L>>16}}function z(J,j,k,x,R,L,F,W,V,Z,ee){let ie=!!L,ue=ie?L[0]:0,de=ie?L[1]:0,ye=ie?L[2]:0,ke;R==="Luminosity"?ke=q:ke=N;let _e=Math.min(x,Math.ceil(1048576/k));for(let be=0;be<x;be+=_e){let se=Math.min(_e,x-be),Ce=J.getImageData(W-Z,be+(V-ee),k,se),Re=j.getImageData(W,be+V,k,se);ie&&I(Ce.data,ue,de,ye),ke(Ce.data,Re.data,F),j.putImageData(Re,W,be+V)}}function ne(J,j,k,x){let R=x[0],L=x[1],F=x[2]-R,W=x[3]-L;F===0||W===0||(z(j.context,k,F,W,j.subtype,j.backdrop,j.transferMap,R,L,j.offsetX,j.offsetY),J.save(),J.globalAlpha=1,J.globalCompositeOperation="source-over",J.setTransform(1,0,0,1,0,0),J.drawImage(k.canvas,0,0),J.restore())}function oe(J,j){let k=i.Util.singularValueDecompose2dScale(J);k[0]=Math.fround(k[0]),k[1]=Math.fround(k[1]);let x=Math.fround((globalThis.devicePixelRatio||1)*u.PixelsPerInch.PDF_TO_CSS_UNITS);return j!==void 0?j:k[0]<=x||k[1]<=x}let ae=["butt","round","square"],te=["miter","round","bevel"],le={},xe={};class fe{constructor(j,k,x,R,L,F,W,V){this.ctx=j,this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=k,this.objs=x,this.canvasFactory=R,this.imageLayer=L,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=F,this.cachedCanvases=new C(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=W,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=V?.background||null,this.foregroundColor=V?.foreground||null,j&&A(j),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(j,k=null){return typeof j=="string"?j.startsWith("g_")?this.commonObjs.get(j):this.objs.get(j):k}beginDrawing({transform:j,viewport:k,transparency:x=!1,background:R=null}){let L=this.ctx.canvas.width,F=this.ctx.canvas.height,W=R||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;let V=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;let Z=this.backgroundColor=this.ctx.fillStyle,ee=!0,ie=W;if(this.ctx.fillStyle=W,ie=this.ctx.fillStyle,ee=typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie),V==="#000000"&&Z==="#ffffff"||V===Z||!ee)this.foregroundColor=this.backgroundColor=null;else{let ue=parseInt(ie.slice(1),16),de=(ue&&16711680)>>16,ye=(ue&&65280)>>8,ke=ue&&255,He=be=>(be/=255,be<=.03928?be/12.92:((be+.055)/1.055)**2.4),_e=Math.round(.2126*He(de)+.7152*He(ye)+.0722*He(ke));this.selectColor=(be,se,Ce)=>{let Re=.2126*He(be)+.7152*He(se)+.0722*He(Ce);return Math.round(Re)===_e?Z:V}}}if(this.ctx.fillStyle=this.backgroundColor||W,this.ctx.fillRect(0,0,L,F),this.ctx.restore(),x){let V=this.cachedCanvases.getCanvas("transparent",L,F,!0);this.compositeCtx=this.ctx,this.transparentCanvas=V.canvas,this.ctx=V.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),U(this.ctx,this.foregroundColor),j&&(this.ctx.transform.apply(this.ctx,j),this.outputScaleX=j[0],this.outputScaleY=j[0]),this.ctx.transform.apply(this.ctx,k.transform),this.viewportScale=k.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(j,k,x,R){let L=j.argsArray,F=j.fnArray,W=k||0,V=L.length;if(V===W)return W;let Z=V-W>w&&typeof x=="function",ee=Z?Date.now()+b:0,ie=0,ue=this.commonObjs,de=this.objs,ye;for(;;){if(R!==void 0&&W===R.nextBreakPoint)return R.breakIt(W,x),W;if(ye=F[W],ye!==i.OPS.dependency)this[ye].apply(this,L[W]);else for(let ke of L[W]){let He=ke.startsWith("g_")?ue:de;if(!He.has(ke))return He.get(ke,x),W}if(W++,W===V)return W;if(Z&&++ie>w){if(Date.now()>ee)return x(),W;ie=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let j of this._cachedBitmapsMap.values()){for(let k of j.values())typeof HTMLCanvasElement!="undefined"&&k instanceof HTMLCanvasElement&&(k.width=k.height=0);j.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(j,k){let x=j.width,R=j.height,L=Math.max(Math.hypot(k[0],k[1]),1),F=Math.max(Math.hypot(k[2],k[3]),1),W=x,V=R,Z="prescale1",ee,ie;for(;L>2&&W>1||F>2&&V>1;){let ue=W,de=V;L>2&&W>1&&(ue=Math.ceil(W/2),L/=W/ue),F>2&&V>1&&(de=Math.ceil(V/2),F/=V/de),ee=this.cachedCanvases.getCanvas(Z,ue,de,!1),ie=ee.context,ie.clearRect(0,0,ue,de),ie.drawImage(j,0,0,W,V,0,0,ue,de),j=ee.canvas,W=ue,V=de,Z=Z==="prescale1"?"prescale2":"prescale1"}return{img:j,paintWidth:W,paintHeight:V}}_createMaskCanvas(j){let k=this.ctx,{width:x,height:R}=j,L=this.current.fillColor,F=this.current.patternFill,W=k.mozCurrentTransform,V,Z,ee,ie;if((j.bitmap||j.data)&&j.count>1){let we=j.bitmap||j.data.buffer,Ae=W.slice(0,4);Z=JSON.stringify(F?Ae:[Ae,L]),V=this._cachedBitmapsMap.get(we),V||(V=new Map,this._cachedBitmapsMap.set(we,V));let Oe=V.get(Z);if(Oe&&!F){let Be=Math.round(Math.min(W[0],W[2])+W[4]),ot=Math.round(Math.min(W[1],W[3])+W[5]);return{canvas:Oe,offsetX:Be,offsetY:ot}}ee=Oe}ee||(ie=this.cachedCanvases.getCanvas("maskCanvas",x,R,!1),M(ie.context,j));let ue=i.Util.transform(W,[1/x,0,0,-1/R,0,0]);ue=i.Util.transform(ue,[1,0,0,1,0,-R]);let de=i.Util.applyTransform([0,0],ue),ye=i.Util.applyTransform([x,R],ue),ke=i.Util.normalizeRect([de[0],de[1],ye[0],ye[1]]),He=Math.round(ke[2]-ke[0])||1,_e=Math.round(ke[3]-ke[1])||1,be=this.cachedCanvases.getCanvas("fillCanvas",He,_e,!0),se=be.context,Ce=Math.min(de[0],ye[0]),Re=Math.min(de[1],ye[1]);se.translate(-Ce,-Re),se.transform.apply(se,ue),ee||(ee=this._scaleImage(ie.canvas,se.mozCurrentTransformInverse),ee=ee.img,V&&F&&V.set(Z,ee)),se.imageSmoothingEnabled=oe(se.mozCurrentTransform,j.interpolate),O(se,ee,0,0,ee.width,ee.height,0,0,x,R),se.globalCompositeOperation="source-in";let Y=i.Util.transform(se.mozCurrentTransformInverse,[1,0,0,1,-Ce,-Re]);return se.fillStyle=F?L.getPattern(k,this,Y,o.PathType.FILL):L,se.fillRect(0,0,x,R),V&&!F&&(this.cachedCanvases.delete("fillCanvas"),V.set(Z,be.canvas)),{canvas:be.canvas,offsetX:Math.round(Ce),offsetY:Math.round(Re)}}setLineWidth(j){j!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=j,this.ctx.lineWidth=j}setLineCap(j){this.ctx.lineCap=ae[j]}setLineJoin(j){this.ctx.lineJoin=te[j]}setMiterLimit(j){this.ctx.miterLimit=j}setDash(j,k){let x=this.ctx;x.setLineDash!==void 0&&(x.setLineDash(j),x.lineDashOffset=k)}setRenderingIntent(j){}setFlatness(j){}setGState(j){for(let k=0,x=j.length;k<x;k++){let R=j[k],L=R[0],F=R[1];switch(L){case"LW":this.setLineWidth(F);break;case"LC":this.setLineCap(F);break;case"LJ":this.setLineJoin(F);break;case"ML":this.setMiterLimit(F);break;case"D":this.setDash(F[0],F[1]);break;case"RI":this.setRenderingIntent(F);break;case"FL":this.setFlatness(F);break;case"Font":this.setFont(F[0],F[1]);break;case"CA":this.current.strokeAlpha=R[1];break;case"ca":this.current.fillAlpha=R[1],this.ctx.globalAlpha=R[1];break;case"BM":this.ctx.globalCompositeOperation=F;break;case"SMask":this.current.activeSMask=F?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=F}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let j=this.inSMaskMode;this.current.activeSMask&&!j?this.beginSMaskMode():!this.current.activeSMask&&j&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let j=this.ctx.canvas.width,k=this.ctx.canvas.height,x="smaskGroupAt"+this.groupLevel,R=this.cachedCanvases.getCanvas(x,j,k,!0);this.suspendedCtx=this.ctx,this.ctx=R.context;let L=this.ctx;L.setTransform.apply(L,this.suspendedCtx.mozCurrentTransform),D(this.suspendedCtx,L),v(L,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),D(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(j){if(!this.current.activeSMask)return;j?(j[0]=Math.floor(j[0]),j[1]=Math.floor(j[1]),j[2]=Math.ceil(j[2]),j[3]=Math.ceil(j[3])):j=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let k=this.current.activeSMask,x=this.suspendedCtx;ne(x,k,this.ctx,j),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(D(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let j=this.current;this.stateStack.push(j),this.current=j.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),D(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(j,k,x,R,L,F){this.ctx.transform(j,k,x,R,L,F),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(j,k,x){let R=this.ctx,L=this.current,F=L.x,W=L.y,V,Z,ee=R.mozCurrentTransform,ie=ee[0]===0&&ee[3]===0||ee[1]===0&&ee[2]===0,ue=ie?x.slice(0):null;for(let de=0,ye=0,ke=j.length;de<ke;de++)switch(j[de]|0){case i.OPS.rectangle:F=k[ye++],W=k[ye++];let He=k[ye++],_e=k[ye++],be=F+He,se=W+_e;R.moveTo(F,W),He===0||_e===0?R.lineTo(be,se):(R.lineTo(be,W),R.lineTo(be,se),R.lineTo(F,se)),ie||L.updateRectMinMax(ee,[F,W,be,se]),R.closePath();break;case i.OPS.moveTo:F=k[ye++],W=k[ye++],R.moveTo(F,W),ie||L.updatePathMinMax(ee,F,W);break;case i.OPS.lineTo:F=k[ye++],W=k[ye++],R.lineTo(F,W),ie||L.updatePathMinMax(ee,F,W);break;case i.OPS.curveTo:V=F,Z=W,F=k[ye+4],W=k[ye+5],R.bezierCurveTo(k[ye],k[ye+1],k[ye+2],k[ye+3],F,W),L.updateCurvePathMinMax(ee,V,Z,k[ye],k[ye+1],k[ye+2],k[ye+3],F,W,ue),ye+=6;break;case i.OPS.curveTo2:V=F,Z=W,R.bezierCurveTo(F,W,k[ye],k[ye+1],k[ye+2],k[ye+3]),L.updateCurvePathMinMax(ee,V,Z,F,W,k[ye],k[ye+1],k[ye+2],k[ye+3],ue),F=k[ye+2],W=k[ye+3],ye+=4;break;case i.OPS.curveTo3:V=F,Z=W,F=k[ye+2],W=k[ye+3],R.bezierCurveTo(k[ye],k[ye+1],F,W,F,W),L.updateCurvePathMinMax(ee,V,Z,k[ye],k[ye+1],F,W,F,W,ue),ye+=4;break;case i.OPS.closePath:R.closePath();break}ie&&L.updateScalingPathMinMax(ee,ue),L.setCurrentPoint(F,W)}closePath(){this.ctx.closePath()}stroke(j){j=typeof j!="undefined"?j:!0;let k=this.ctx,x=this.current.strokeColor;k.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof x=="object"&&x?.getPattern?(k.save(),k.strokeStyle=x.getPattern(k,this,k.mozCurrentTransformInverse,o.PathType.STROKE),this.rescaleAndStroke(!1),k.restore()):this.rescaleAndStroke(!0)),j&&this.consumePath(this.current.getClippedPathBoundingBox()),k.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(j){j=typeof j!="undefined"?j:!0;let k=this.ctx,x=this.current.fillColor,R=this.current.patternFill,L=!1;R&&(k.save(),k.fillStyle=x.getPattern(k,this,k.mozCurrentTransformInverse,o.PathType.FILL),L=!0);let F=this.current.getClippedPathBoundingBox();this.contentVisible&&F!==null&&(this.pendingEOFill?(k.fill("evenodd"),this.pendingEOFill=!1):k.fill()),L&&k.restore(),j&&this.consumePath(F)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=le}eoClip(){this.pendingClip=xe}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let j=this.pendingTextPaths,k=this.ctx;if(j===void 0){k.beginPath();return}k.save(),k.beginPath();for(let x=0;x<j.length;x++){let R=j[x];k.setTransform.apply(k,R.transform),k.translate(R.x,R.y),R.addToPath(k,R.fontSize)}k.restore(),k.clip(),k.beginPath(),delete this.pendingTextPaths}setCharSpacing(j){this.current.charSpacing=j}setWordSpacing(j){this.current.wordSpacing=j}setHScale(j){this.current.textHScale=j/100}setLeading(j){this.current.leading=-j}setFont(j,k){let x=this.commonObjs.get(j),R=this.current;if(!x)throw new Error(`Can't find font for ${j}`);if(R.fontMatrix=x.fontMatrix||i.FONT_IDENTITY_MATRIX,(R.fontMatrix[0]===0||R.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+j),k<0?(k=-k,R.fontDirection=-1):R.fontDirection=1,this.current.font=x,this.current.fontSize=k,x.isType3Font)return;let L=x.loadedName||"sans-serif",F="normal";x.black?F="900":x.bold&&(F="bold");let W=x.italic?"italic":"normal",V=`"${L}", ${x.fallbackName}`,Z=k;k<d?Z=d:k>h&&(Z=h),this.current.fontSizeScale=k/Z,this.ctx.font=`${W} ${F} ${Z}px ${V}`}setTextRenderingMode(j){this.current.textRenderingMode=j}setTextRise(j){this.current.textRise=j}moveText(j,k){this.current.x=this.current.lineX+=j,this.current.y=this.current.lineY+=k}setLeadingMoveText(j,k){this.setLeading(-k),this.moveText(j,k)}setTextMatrix(j,k,x,R,L,F){this.current.textMatrix=[j,k,x,R,L,F],this.current.textMatrixScale=Math.hypot(j,k),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(j,k,x,R){let L=this.ctx,F=this.current,W=F.font,V=F.textRenderingMode,Z=F.fontSize/F.fontSizeScale,ee=V&i.TextRenderingMode.FILL_STROKE_MASK,ie=!!(V&i.TextRenderingMode.ADD_TO_PATH_FLAG),ue=F.patternFill&&!W.missingFile,de;(W.disableFontFace||ie||ue)&&(de=W.getPathGenerator(this.commonObjs,j)),W.disableFontFace||ue?(L.save(),L.translate(k,x),L.beginPath(),de(L,Z),R&&L.setTransform.apply(L,R),(ee===i.TextRenderingMode.FILL||ee===i.TextRenderingMode.FILL_STROKE)&&L.fill(),(ee===i.TextRenderingMode.STROKE||ee===i.TextRenderingMode.FILL_STROKE)&&L.stroke(),L.restore()):((ee===i.TextRenderingMode.FILL||ee===i.TextRenderingMode.FILL_STROKE)&&L.fillText(j,k,x),(ee===i.TextRenderingMode.STROKE||ee===i.TextRenderingMode.FILL_STROKE)&&L.strokeText(j,k,x)),ie&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:L.mozCurrentTransform,x:k,y:x,fontSize:Z,addToPath:de})}get isFontSubpixelAAEnabled(){let{context:j}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);j.scale(1.5,1),j.fillText("I",0,10);let k=j.getImageData(0,0,10,10).data,x=!1;for(let R=3;R<k.length;R+=4)if(k[R]>0&&k[R]<255){x=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",x)}showText(j){let k=this.current,x=k.font;if(x.isType3Font)return this.showType3Text(j);let R=k.fontSize;if(R===0)return;let L=this.ctx,F=k.fontSizeScale,W=k.charSpacing,V=k.wordSpacing,Z=k.fontDirection,ee=k.textHScale*Z,ie=j.length,ue=x.vertical,de=ue?1:-1,ye=x.defaultVMetrics,ke=R*k.fontMatrix[0],He=k.textRenderingMode===i.TextRenderingMode.FILL&&!x.disableFontFace&&!k.patternFill;L.save(),L.transform.apply(L,k.textMatrix),L.translate(k.x,k.y+k.textRise),Z>0?L.scale(ee,-1):L.scale(ee,1);let _e;if(k.patternFill){L.save();let Y=k.fillColor.getPattern(L,this,L.mozCurrentTransformInverse,o.PathType.FILL);_e=L.mozCurrentTransform,L.restore(),L.fillStyle=Y}let be=k.lineWidth,se=k.textMatrixScale;if(se===0||be===0){let Y=k.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(Y===i.TextRenderingMode.STROKE||Y===i.TextRenderingMode.FILL_STROKE)&&(be=this.getSinglePixelWidth())}else be/=se;F!==1&&(L.scale(F,F),be/=F),L.lineWidth=be;let Ce=0,Re;for(Re=0;Re<ie;++Re){let Y=j[Re];if(typeof Y=="number"){Ce+=de*Y*R/1e3;continue}let we=!1,Ae=(Y.isSpace?V:0)+W,Oe=Y.fontChar,Be=Y.accent,ot,ze,Je=Y.width;if(ue){let pe=Y.vmetric||ye,Q=-(Y.vmetric?pe[1]:Je*.5)*ke,ce=pe[2]*ke;Je=pe?-pe[0]:Je,ot=Q/F,ze=(Ce+ce)/F}else ot=Ce/F,ze=0;if(x.remeasure&&Je>0){let pe=L.measureText(Oe).width*1e3/R*F;if(Je<pe&&this.isFontSubpixelAAEnabled){let Q=Je/pe;we=!0,L.save(),L.scale(Q,1),ot/=Q}else Je!==pe&&(ot+=(Je-pe)/2e3*R/F)}if(this.contentVisible&&(Y.isInFont||x.missingFile)){if(He&&!Be)L.fillText(Oe,ot,ze);else if(this.paintChar(Oe,ot,ze,_e),Be){let pe=ot+R*Be.offset.x/F,Q=ze-R*Be.offset.y/F;this.paintChar(Be.fontChar,pe,Q,_e)}}let Ge;ue?Ge=Je*ke-Ae*Z:Ge=Je*ke+Ae*Z,Ce+=Ge,we&&L.restore()}ue?k.y-=Ce:k.x+=Ce*ee,L.restore(),this.compose()}showType3Text(j){let k=this.ctx,x=this.current,R=x.font,L=x.fontSize,F=x.fontDirection,W=R.vertical?1:-1,V=x.charSpacing,Z=x.wordSpacing,ee=x.textHScale*F,ie=x.fontMatrix||i.FONT_IDENTITY_MATRIX,ue=j.length,de=x.textRenderingMode===i.TextRenderingMode.INVISIBLE,ye,ke,He,_e;if(!(de||L===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,k.save(),k.transform.apply(k,x.textMatrix),k.translate(x.x,x.y),k.scale(ee,F),ye=0;ye<ue;++ye){if(ke=j[ye],typeof ke=="number"){_e=W*ke*L/1e3,this.ctx.translate(_e,0),x.x+=_e*ee;continue}let be=(ke.isSpace?Z:0)+V,se=R.charProcOperatorList[ke.operatorListId];if(!se){(0,i.warn)(`Type3 character "${ke.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ke,this.save(),k.scale(L,L),k.transform.apply(k,ie),this.executeOperatorList(se),this.restore()),He=i.Util.applyTransform([ke.width,0],ie)[0]*L+be,k.translate(He,0),x.x+=He*ee}k.restore(),this.processingType3=null}}setCharWidth(j,k){}setCharWidthAndBounds(j,k,x,R,L,F){this.ctx.rect(x,R,L-x,F-R),this.ctx.clip(),this.endPath()}getColorN_Pattern(j){let k;if(j[0]==="TilingPattern"){let x=j[1],R=this.baseTransform||this.ctx.mozCurrentTransform.slice(),L={createCanvasGraphics:F=>new fe(F,this.commonObjs,this.objs,this.canvasFactory)};k=new o.TilingPattern(j,x,this.ctx,L,R)}else k=this._getPattern(j[1],j[2]);return k}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(j,k,x){let R=this.selectColor?.(j,k,x)||i.Util.makeHexColor(j,k,x);this.ctx.strokeStyle=R,this.current.strokeColor=R}setFillRGBColor(j,k,x){let R=this.selectColor?.(j,k,x)||i.Util.makeHexColor(j,k,x);this.ctx.fillStyle=R,this.current.fillColor=R,this.current.patternFill=!1}_getPattern(j,k=null){let x;return this.cachedPatterns.has(j)?x=this.cachedPatterns.get(j):(x=(0,o.getShadingPattern)(this.objs.get(j)),this.cachedPatterns.set(j,x)),k&&(x.matrix=k),x}shadingFill(j){if(!this.contentVisible)return;let k=this.ctx;this.save();let x=this._getPattern(j);k.fillStyle=x.getPattern(k,this,k.mozCurrentTransformInverse,o.PathType.SHADING);let R=k.mozCurrentTransformInverse;if(R){let L=k.canvas,F=L.width,W=L.height,V=i.Util.applyTransform([0,0],R),Z=i.Util.applyTransform([0,W],R),ee=i.Util.applyTransform([F,0],R),ie=i.Util.applyTransform([F,W],R),ue=Math.min(V[0],Z[0],ee[0],ie[0]),de=Math.min(V[1],Z[1],ee[1],ie[1]),ye=Math.max(V[0],Z[0],ee[0],ie[0]),ke=Math.max(V[1],Z[1],ee[1],ie[1]);this.ctx.fillRect(ue,de,ye-ue,ke-de)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(j,k){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(j)&&j.length===6&&this.transform.apply(this,j),this.baseTransform=this.ctx.mozCurrentTransform,k)){let x=k[2]-k[0],R=k[3]-k[1];this.ctx.rect(k[0],k[1],x,R),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,k),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(j){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let k=this.ctx;j.isolated||(0,i.info)("TODO: Support non-isolated groups."),j.knockout&&(0,i.warn)("Knockout groups not supported.");let x=k.mozCurrentTransform;if(j.matrix&&k.transform.apply(k,j.matrix),!j.bbox)throw new Error("Bounding box is required.");let R=i.Util.getAxialAlignedBoundingBox(j.bbox,k.mozCurrentTransform),L=[0,0,k.canvas.width,k.canvas.height];R=i.Util.intersect(R,L)||[0,0,0,0];let F=Math.floor(R[0]),W=Math.floor(R[1]),V=Math.max(Math.ceil(R[2])-F,1),Z=Math.max(Math.ceil(R[3])-W,1),ee=1,ie=1;V>y&&(ee=V/y,V=y),Z>y&&(ie=Z/y,Z=y),this.current.startNewPathAndClipBox([0,0,V,Z]);let ue="groupAt"+this.groupLevel;j.smask&&(ue+="_smask_"+this.smaskCounter++%2);let de=this.cachedCanvases.getCanvas(ue,V,Z,!0),ye=de.context;ye.scale(1/ee,1/ie),ye.translate(-F,-W),ye.transform.apply(ye,x),j.smask?this.smaskStack.push({canvas:de.canvas,context:ye,offsetX:F,offsetY:W,scaleX:ee,scaleY:ie,subtype:j.smask.subtype,backdrop:j.smask.backdrop,transferMap:j.smask.transferMap||null,startTransformInverse:null}):(k.setTransform(1,0,0,1,0,0),k.translate(F,W),k.scale(ee,ie),k.save()),D(k,ye),this.ctx=ye,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(k),this.groupLevel++}endGroup(j){if(!this.contentVisible)return;this.groupLevel--;let k=this.ctx,x=this.groupStack.pop();if(this.ctx=x,this.ctx.imageSmoothingEnabled=!1,j.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let R=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,R);let L=i.Util.getAxialAlignedBoundingBox([0,0,k.canvas.width,k.canvas.height],R);this.ctx.drawImage(k.canvas,0,0),this.ctx.restore(),this.compose(L)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(j,k,x,R,L){if(this.save(),Array.isArray(k)&&k.length===4){let F=k[2]-k[0],W=k[3]-k[1];if(L&&this.annotationCanvasMap){x=x.slice(),x[4]-=k[0],x[5]-=k[1],k=k.slice(),k[0]=k[1]=0,k[2]=F,k[3]=W;let[V,Z]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:ee}=this,ie=Math.ceil(F*this.outputScaleX*ee),ue=Math.ceil(W*this.outputScaleY*ee);this.annotationCanvas=this.canvasFactory.create(ie,ue);let{canvas:de,context:ye}=this.annotationCanvas,ke=`var(--zoom-factor) * ${u.PixelsPerInch.PDF_TO_CSS_UNITS}`;de.style.width=`calc(${F}px * ${ke})`,de.style.height=`calc(${W}px * ${ke})`,this.annotationCanvasMap.set(j,de),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ye,this.ctx.setTransform(V,0,0,-Z,0,W*Z),A(this.ctx),U(this.ctx,this.foregroundColor)}else U(this.ctx,this.foregroundColor),this.ctx.rect(k[0],k[1],F,W),this.ctx.clip(),this.endPath()}this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,x),this.transform.apply(this,R)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(j){if(!this.contentVisible)return;let k=j.count;j=this.getObject(j.data,j),j.count=k;let x=this.ctx,R=this.processingType3;if(R&&(R.compiled===void 0&&(R.compiled=E(j)),R.compiled)){R.compiled(x);return}let L=this._createMaskCanvas(j),F=L.canvas;x.save(),x.setTransform(1,0,0,1,0,0),x.drawImage(F,L.offsetX,L.offsetY),x.restore(),this.compose()}paintImageMaskXObjectRepeat(j,k,x=0,R=0,L,F){if(!this.contentVisible)return;j=this.getObject(j.data,j);let W=this.ctx;W.save();let V=W.mozCurrentTransform;W.transform(k,x,R,L,0,0);let Z=this._createMaskCanvas(j);W.setTransform(1,0,0,1,0,0);for(let ee=0,ie=F.length;ee<ie;ee+=2){let ue=i.Util.transform(V,[k,x,R,L,F[ee],F[ee+1]]),[de,ye]=i.Util.applyTransform([0,0],ue);W.drawImage(Z.canvas,de,ye)}W.restore(),this.compose()}paintImageMaskXObjectGroup(j){if(!this.contentVisible)return;let k=this.ctx,x=this.current.fillColor,R=this.current.patternFill;for(let L=0,F=j.length;L<F;L++){let W=j[L],V=W.width,Z=W.height,ee=this.cachedCanvases.getCanvas("maskCanvas",V,Z,!1),ie=ee.context;ie.save(),M(ie,W),ie.globalCompositeOperation="source-in",ie.fillStyle=R?x.getPattern(ie,this,k.mozCurrentTransformInverse,o.PathType.FILL):x,ie.fillRect(0,0,V,Z),ie.restore(),k.save(),k.transform.apply(k,W.transform),k.scale(1,-1),O(k,ee.canvas,0,0,V,Z,0,-1,1,1),k.restore()}this.compose()}paintImageXObject(j){if(!this.contentVisible)return;let k=this.getObject(j);if(!k){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(k)}paintImageXObjectRepeat(j,k,x,R){if(!this.contentVisible)return;let L=this.getObject(j);if(!L){(0,i.warn)("Dependent image isn't ready yet");return}let F=L.width,W=L.height,V=[];for(let Z=0,ee=R.length;Z<ee;Z+=2)V.push({transform:[k,0,0,x,R[Z],R[Z+1]],x:0,y:0,w:F,h:W});this.paintInlineImageXObjectGroup(L,V)}paintInlineImageXObject(j){if(!this.contentVisible)return;let k=j.width,x=j.height,R=this.ctx;this.save(),R.scale(1/k,-1/x);let L;if(typeof HTMLElement=="function"&&j instanceof HTMLElement||!j.data)L=j;else{let Z=this.cachedCanvases.getCanvas("inlineImage",k,x,!1),ee=Z.context;B(ee,j,this.current.transferMaps),L=Z.canvas}let F=this._scaleImage(L,R.mozCurrentTransformInverse);R.imageSmoothingEnabled=oe(R.mozCurrentTransform,j.interpolate);let[W,V]=O(R,F.img,0,0,F.paintWidth,F.paintHeight,0,-x,k,x);if(this.imageLayer){let Z=this.getCanvasPosition(0,-x);this.imageLayer.appendImage({imgData:j,left:Z[0],top:Z[1],width:W,height:V})}this.compose(),this.restore()}paintInlineImageXObjectGroup(j,k){if(!this.contentVisible)return;let x=this.ctx,R=j.width,L=j.height,F=this.cachedCanvases.getCanvas("inlineImage",R,L,!1),W=F.context;B(W,j,this.current.transferMaps);for(let V=0,Z=k.length;V<Z;V++){let ee=k[V];if(x.save(),x.transform.apply(x,ee.transform),x.scale(1,-1),O(x,F.canvas,ee.x,ee.y,ee.w,ee.h,0,-1,1,1),this.imageLayer){let ie=this.getCanvasPosition(ee.x,ee.y);this.imageLayer.appendImage({imgData:j,left:ie[0],top:ie[1],width:R,height:L})}x.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(j){}markPointProps(j,k){}beginMarkedContent(j){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(j,k){j==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(k)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(j){let k=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(j);let x=this.ctx;this.pendingClip&&(k||(this.pendingClip===xe?x.clip("evenodd"):x.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),x.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let j=this.ctx.mozCurrentTransform;if(j[1]===0&&j[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(j[0]),Math.abs(j[3]));else{let k=Math.abs(j[0]*j[3]-j[2]*j[1]),x=Math.hypot(j[0],j[2]),R=Math.hypot(j[1],j[3]);this._cachedGetSinglePixelWidth=Math.max(x,R)/k}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){let{lineWidth:j}=this.current,k=this.ctx.mozCurrentTransform,x,R;if(k[1]===0&&k[2]===0){let L=Math.abs(k[0]),F=Math.abs(k[3]);if(j===0)x=1/L,R=1/F;else{let W=L*j,V=F*j;x=W<1?1/W:1,R=V<1?1/V:1}}else{let L=Math.abs(k[0]*k[3]-k[2]*k[1]),F=Math.hypot(k[0],k[1]),W=Math.hypot(k[2],k[3]);if(j===0)x=W/L,R=F/L;else{let V=j*L;x=W>V?W/V:1,R=F>V?F/V:1}}this._cachedScaleForStroking=[x,R]}return this._cachedScaleForStroking}rescaleAndStroke(j){let{ctx:k}=this,{lineWidth:x}=this.current,[R,L]=this.getScaleForStroking();if(k.lineWidth=x||1,R===1&&L===1){k.stroke();return}let F,W,V;j&&(F=k.mozCurrentTransform.slice(),W=k.getLineDash().slice(),V=k.lineDashOffset),k.scale(R,L);let Z=Math.max(R,L);k.setLineDash(k.getLineDash().map(ee=>ee/Z)),k.lineDashOffset/=Z,k.stroke(),j&&(k.setTransform(...F),k.setLineDash(W),k.lineDashOffset=V)}getCanvasPosition(j,k){let x=this.ctx.mozCurrentTransform;return[x[0]*j+x[2]*k+x[4],x[1]*j+x[3]*k+x[5]]}isContentVisible(){for(let j=this.markedContentStack.length-1;j>=0;j--)if(!this.markedContentStack[j].visible)return!1;return!0}}t.CanvasGraphics=fe;for(let J in i.OPS)fe.prototype[J]!==void 0&&(fe.prototype[i.OPS[J]]=fe.prototype[J])},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=p;var i=n(1),o=n(3);let s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=s;function l(g,v){if(!v||o.isNodeJS)return;let A=v[2]-v[0],C=v[3]-v[1],O=new Path2D;O.rect(v[0],v[1],A,C),g.clip(O)}class u{constructor(){this.constructor===u&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class d extends u{constructor(v){super();this._type=v[1],this._bbox=v[2],this._colorStops=v[3],this._p0=v[4],this._p1=v[5],this._r0=v[6],this._r1=v[7],this.matrix=null}_createGradient(v){let A;this._type==="axial"?A=v.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(A=v.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let C of this._colorStops)A.addColorStop(C[0],C[1]);return A}getPattern(v,A,C,O){let E;if(O===s.STROKE||O===s.FILL){let T=A.current.getClippedPathBoundingBox(O,v.mozCurrentTransform)||[0,0,0,0],B=Math.ceil(T[2]-T[0])||1,M=Math.ceil(T[3]-T[1])||1,D=A.cachedCanvases.getCanvas("pattern",B,M,!0),U=D.context;U.clearRect(0,0,U.canvas.width,U.canvas.height),U.beginPath(),U.rect(0,0,U.canvas.width,U.canvas.height),U.translate(-T[0],-T[1]),C=i.Util.transform(C,[1,0,0,1,T[0],T[1]]),U.transform.apply(U,A.baseTransform),this.matrix&&U.transform.apply(U,this.matrix),l(U,this._bbox),U.fillStyle=this._createGradient(U),U.fill(),E=v.createPattern(D.canvas,"no-repeat");let I=new DOMMatrix(C);try{E.setTransform(I)}catch(N){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${N?.message}".`)}}else l(v,this._bbox),E=this._createGradient(v);return E}}function h(g,v,A,C,O,E,T,B){let M=v.coords,D=v.colors,U=g.data,I=g.width*4,N;M[A+1]>M[C+1]&&(N=A,A=C,C=N,N=E,E=T,T=N),M[C+1]>M[O+1]&&(N=C,C=O,O=N,N=T,T=B,B=N),M[A+1]>M[C+1]&&(N=A,A=C,C=N,N=E,E=T,T=N);let q=(M[A]+v.offsetX)*v.scaleX,z=(M[A+1]+v.offsetY)*v.scaleY,ne=(M[C]+v.offsetX)*v.scaleX,oe=(M[C+1]+v.offsetY)*v.scaleY,ae=(M[O]+v.offsetX)*v.scaleX,te=(M[O+1]+v.offsetY)*v.scaleY;if(z>=te)return;let le=D[E],xe=D[E+1],fe=D[E+2],J=D[T],j=D[T+1],k=D[T+2],x=D[B],R=D[B+1],L=D[B+2],F=Math.round(z),W=Math.round(te),V,Z,ee,ie,ue,de,ye,ke;for(let He=F;He<=W;He++){if(He<oe){let Re;He<z?Re=0:Re=(z-He)/(z-oe),V=q-(q-ne)*Re,Z=le-(le-J)*Re,ee=xe-(xe-j)*Re,ie=fe-(fe-k)*Re}else{let Re;He>te?Re=1:oe===te?Re=0:Re=(oe-He)/(oe-te),V=ne-(ne-ae)*Re,Z=J-(J-x)*Re,ee=j-(j-R)*Re,ie=k-(k-L)*Re}let _e;He<z?_e=0:He>te?_e=1:_e=(z-He)/(z-te),ue=q-(q-ae)*_e,de=le-(le-x)*_e,ye=xe-(xe-R)*_e,ke=fe-(fe-L)*_e;let be=Math.round(Math.min(V,ue)),se=Math.round(Math.max(V,ue)),Ce=I*He+be*4;for(let Re=be;Re<=se;Re++)_e=(V-Re)/(V-ue),_e<0?_e=0:_e>1&&(_e=1),U[Ce++]=Z-(Z-de)*_e|0,U[Ce++]=ee-(ee-ye)*_e|0,U[Ce++]=ie-(ie-ke)*_e|0,U[Ce++]=255}}function y(g,v,A){let C=v.coords,O=v.colors,E,T;switch(v.type){case"lattice":let B=v.verticesPerRow,M=Math.floor(C.length/B)-1,D=B-1;for(E=0;E<M;E++){let U=E*B;for(let I=0;I<D;I++,U++)h(g,A,C[U],C[U+1],C[U+B],O[U],O[U+1],O[U+B]),h(g,A,C[U+B+1],C[U+1],C[U+B],O[U+B+1],O[U+1],O[U+B])}break;case"triangles":for(E=0,T=C.length;E<T;E+=3)h(g,A,C[E],C[E+1],C[E+2],O[E],O[E+1],O[E+2]);break;default:throw new Error("illegal figure")}}class b extends u{constructor(v){super();this._coords=v[2],this._colors=v[3],this._figures=v[4],this._bounds=v[5],this._bbox=v[7],this._background=v[8],this.matrix=null}_createMeshCanvas(v,A,C){let O=1.1,E=3e3,T=2,B=Math.floor(this._bounds[0]),M=Math.floor(this._bounds[1]),D=Math.ceil(this._bounds[2])-B,U=Math.ceil(this._bounds[3])-M,I=Math.min(Math.ceil(Math.abs(D*v[0]*O)),E),N=Math.min(Math.ceil(Math.abs(U*v[1]*O)),E),q=D/I,z=U/N,ne={coords:this._coords,colors:this._colors,offsetX:-B,offsetY:-M,scaleX:1/q,scaleY:1/z},oe=I+T*2,ae=N+T*2,te=C.getCanvas("mesh",oe,ae,!1),le=te.context,xe=le.createImageData(I,N);if(A){let J=xe.data;for(let j=0,k=J.length;j<k;j+=4)J[j]=A[0],J[j+1]=A[1],J[j+2]=A[2],J[j+3]=255}for(let J of this._figures)y(xe,J,ne);return le.putImageData(xe,T,T),{canvas:te.canvas,offsetX:B-T*q,offsetY:M-T*z,scaleX:q,scaleY:z}}getPattern(v,A,C,O){l(v,this._bbox);let E;if(O===s.SHADING)E=i.Util.singularValueDecompose2dScale(v.mozCurrentTransform);else if(E=i.Util.singularValueDecompose2dScale(A.baseTransform),this.matrix){let B=i.Util.singularValueDecompose2dScale(this.matrix);E=[E[0]*B[0],E[1]*B[1]]}let T=this._createMeshCanvas(E,O===s.SHADING?null:this._background,A.cachedCanvases);return O!==s.SHADING&&(v.setTransform.apply(v,A.baseTransform),this.matrix&&v.transform.apply(v,this.matrix)),v.translate(T.offsetX,T.offsetY),v.scale(T.scaleX,T.scaleY),v.createPattern(T.canvas,"no-repeat")}}class w extends u{getPattern(){return"hotpink"}}function p(g){switch(g[0]){case"RadialAxial":return new d(g);case"Mesh":return new b(g);case"Dummy":return new w}throw new Error(`Unknown IR type: ${g[0]}`)}let m={COLORED:1,UNCOLORED:2};class f{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(v,A,C,O,E){this.operatorList=v[2],this.matrix=v[3]||[1,0,0,1,0,0],this.bbox=v[4],this.xstep=v[5],this.ystep=v[6],this.paintType=v[7],this.tilingType=v[8],this.color=A,this.ctx=C,this.canvasGraphicsFactory=O,this.baseTransform=E}createPatternCanvas(v){let A=this.operatorList,C=this.bbox,O=this.xstep,E=this.ystep,T=this.paintType,B=this.tilingType,M=this.color,D=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+B);let U=C[0],I=C[1],N=C[2],q=C[3],z=i.Util.singularValueDecompose2dScale(this.matrix),ne=i.Util.singularValueDecompose2dScale(this.baseTransform),oe=[z[0]*ne[0],z[1]*ne[1]],ae=this.getSizeAndScale(O,this.ctx.canvas.width,oe[0]),te=this.getSizeAndScale(E,this.ctx.canvas.height,oe[1]),le=v.cachedCanvases.getCanvas("pattern",ae.size,te.size,!0),xe=le.context,fe=D.createCanvasGraphics(xe);fe.groupLevel=v.groupLevel,this.setFillAndStrokeStyleToContext(fe,T,M);let J=U,j=I,k=N,x=q;return U<0&&(J=0,k+=Math.abs(U)),I<0&&(j=0,x+=Math.abs(I)),xe.translate(-(ae.scale*J),-(te.scale*j)),fe.transform(ae.scale,0,0,te.scale,0,0),xe.save(),this.clipBbox(fe,J,j,k,x),fe.baseTransform=fe.ctx.mozCurrentTransform.slice(),fe.executeOperatorList(A),fe.endDrawing(),{canvas:le.canvas,scaleX:ae.scale,scaleY:te.scale,offsetX:J,offsetY:j}}getSizeAndScale(v,A,C){v=Math.abs(v);let O=Math.max(f.MAX_PATTERN_SIZE,A),E=Math.ceil(v*C);return E>=O?E=O:C=E/v,{scale:C,size:E}}clipBbox(v,A,C,O,E){let T=O-A,B=E-C;v.ctx.rect(A,C,T,B),v.current.updateRectMinMax(v.ctx.mozCurrentTransform,[A,C,O,E]),v.clip(),v.endPath()}setFillAndStrokeStyleToContext(v,A,C){let O=v.ctx,E=v.current;switch(A){case m.COLORED:let T=this.ctx;O.fillStyle=T.fillStyle,O.strokeStyle=T.strokeStyle,E.fillColor=T.fillStyle,E.strokeColor=T.strokeStyle;break;case m.UNCOLORED:let B=i.Util.makeHexColor(C[0],C[1],C[2]);O.fillStyle=B,O.strokeStyle=B,E.fillColor=B,E.strokeColor=B;break;default:throw new i.FormatError(`Unsupported paint type: ${A}`)}}getPattern(v,A,C,O){let E=C;O!==s.SHADING&&(E=i.Util.transform(E,A.baseTransform),this.matrix&&(E=i.Util.transform(E,this.matrix)));let T=this.createPatternCanvas(A),B=new DOMMatrix(E);B=B.translate(T.offsetX,T.offsetY),B=B.scale(1/T.scaleX,1/T.scaleY);let M=v.createPattern(T.canvas,"repeat");try{M.setTransform(B)}catch(D){(0,i.warn)(`TilingPattern.getPattern: "${D?.message}".`)}return M}}t.TilingPattern=f},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=o;var i=n(1);function o({src:s,srcPos:l=0,dest:u,destPos:d=0,width:h,height:y,inverseDecode:b=!1}){let w=i.FeatureTest.isLittleEndian?4278190080:255,[p,m]=b?[0,w]:[w,0],f=h>>3,g=h&7,v=s.length;u=new Uint32Array(u.buffer);for(let A=0;A<y;A++){for(let O=l+f;l<O;l++){let E=l<v?s[l]:255;u[d++]=E&128?m:p,u[d++]=E&64?m:p,u[d++]=E&32?m:p,u[d++]=E&16?m:p,u[d++]=E&8?m:p,u[d++]=E&4?m:p,u[d++]=E&2?m:p,u[d++]=E&1?m:p}if(g===0)continue;let C=l<v?s[l++]:255;for(let O=0;O<g;O++)u[d++]=C&1<<7-O?m:p}return{srcPos:l,destPos:d}}},(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;let n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=n.workerPort===void 0?null:n.workerPort,n.workerSrc=n.workerSrc===void 0?"":n.workerSrc},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var i=n(1);let o={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function l(d){switch(d instanceof Error||typeof d=="object"&&d!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),d.name){case"AbortException":return new i.AbortException(d.message);case"MissingPDFException":return new i.MissingPDFException(d.message);case"PasswordException":return new i.PasswordException(d.message,d.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(d.message,d.status);case"UnknownErrorException":return new i.UnknownErrorException(d.message,d.details);default:return new i.UnknownErrorException(d.message,d.toString())}}class u{constructor(h,y,b){this.sourceName=h,this.targetName=y,this.comObj=b,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=w=>{let p=w.data;if(p.targetName!==this.sourceName)return;if(p.stream){this._processStreamMessage(p);return}if(p.callback){let f=p.callbackId,g=this.callbackCapabilities[f];if(!g)throw new Error(`Cannot resolve callback ${f}`);if(delete this.callbackCapabilities[f],p.callback===o.DATA)g.resolve(p.data);else if(p.callback===o.ERROR)g.reject(l(p.reason));else throw new Error("Unexpected callback case");return}let m=this.actionHandler[p.action];if(!m)throw new Error(`Unknown action from worker: ${p.action}`);if(p.callbackId){let f=this.sourceName,g=p.sourceName;new Promise(function(v){v(m(p.data))}).then(function(v){b.postMessage({sourceName:f,targetName:g,callback:o.DATA,callbackId:p.callbackId,data:v})},function(v){b.postMessage({sourceName:f,targetName:g,callback:o.ERROR,callbackId:p.callbackId,reason:l(v)})});return}if(p.streamId){this._createStreamSink(p);return}m(p.data)},b.addEventListener("message",this._onComObjOnMessage)}on(h,y){let b=this.actionHandler;if(b[h])throw new Error(`There is already an actionName called "${h}"`);b[h]=y}send(h,y,b){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:y},b)}sendWithPromise(h,y,b){let w=this.callbackId++,p=(0,i.createPromiseCapability)();this.callbackCapabilities[w]=p;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:w,data:y},b)}catch(m){p.reject(m)}return p.promise}sendWithStream(h,y,b,w){let p=this.streamId++,m=this.sourceName,f=this.targetName,g=this.comObj;return new ReadableStream({start:v=>{let A=(0,i.createPromiseCapability)();return this.streamControllers[p]={controller:v,startCall:A,pullCall:null,cancelCall:null,isClosed:!1},g.postMessage({sourceName:m,targetName:f,action:h,streamId:p,data:y,desiredSize:v.desiredSize},w),A.promise},pull:v=>{let A=(0,i.createPromiseCapability)();return this.streamControllers[p].pullCall=A,g.postMessage({sourceName:m,targetName:f,stream:s.PULL,streamId:p,desiredSize:v.desiredSize}),A.promise},cancel:v=>{(0,i.assert)(v instanceof Error,"cancel must have a valid reason");let A=(0,i.createPromiseCapability)();return this.streamControllers[p].cancelCall=A,this.streamControllers[p].isClosed=!0,g.postMessage({sourceName:m,targetName:f,stream:s.CANCEL,streamId:p,reason:l(v)}),A.promise}},b)}_createStreamSink(h){let y=h.streamId,b=this.sourceName,w=h.sourceName,p=this.comObj,m=this,f=this.actionHandler[h.action],g={enqueue(v,A=1,C){if(this.isCancelled)return;let O=this.desiredSize;this.desiredSize-=A,O>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),p.postMessage({sourceName:b,targetName:w,stream:s.ENQUEUE,streamId:y,chunk:v},C)},close(){this.isCancelled||(this.isCancelled=!0,p.postMessage({sourceName:b,targetName:w,stream:s.CLOSE,streamId:y}),delete m.streamSinks[y])},error(v){(0,i.assert)(v instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,p.postMessage({sourceName:b,targetName:w,stream:s.ERROR,streamId:y,reason:l(v)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};g.sinkCapability.resolve(),g.ready=g.sinkCapability.promise,this.streamSinks[y]=g,new Promise(function(v){v(f(h.data,g))}).then(function(){p.postMessage({sourceName:b,targetName:w,stream:s.START_COMPLETE,streamId:y,success:!0})},function(v){p.postMessage({sourceName:b,targetName:w,stream:s.START_COMPLETE,streamId:y,reason:l(v)})})}_processStreamMessage(h){let y=h.streamId,b=this.sourceName,w=h.sourceName,p=this.comObj,m=this.streamControllers[y],f=this.streamSinks[y];switch(h.stream){case s.START_COMPLETE:h.success?m.startCall.resolve():m.startCall.reject(l(h.reason));break;case s.PULL_COMPLETE:h.success?m.pullCall.resolve():m.pullCall.reject(l(h.reason));break;case s.PULL:if(!f){p.postMessage({sourceName:b,targetName:w,stream:s.PULL_COMPLETE,streamId:y,success:!0});break}f.desiredSize<=0&&h.desiredSize>0&&f.sinkCapability.resolve(),f.desiredSize=h.desiredSize,new Promise(function(g){g(f.onPull&&f.onPull())}).then(function(){p.postMessage({sourceName:b,targetName:w,stream:s.PULL_COMPLETE,streamId:y,success:!0})},function(g){p.postMessage({sourceName:b,targetName:w,stream:s.PULL_COMPLETE,streamId:y,reason:l(g)})});break;case s.ENQUEUE:if((0,i.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(h.chunk);break;case s.CLOSE:if((0,i.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this._deleteStreamController(m,y);break;case s.ERROR:(0,i.assert)(m,"error should have stream controller"),m.controller.error(l(h.reason)),this._deleteStreamController(m,y);break;case s.CANCEL_COMPLETE:h.success?m.cancelCall.resolve():m.cancelCall.reject(l(h.reason)),this._deleteStreamController(m,y);break;case s.CANCEL:if(!f)break;new Promise(function(g){g(f.onCancel&&f.onCancel(l(h.reason)))}).then(function(){p.postMessage({sourceName:b,targetName:w,stream:s.CANCEL_COMPLETE,streamId:y,success:!0})},function(g){p.postMessage({sourceName:b,targetName:w,stream:s.CANCEL_COMPLETE,streamId:y,reason:l(g)})}),f.sinkCapability.reject(l(h.reason)),f.isCancelled=!0,delete this.streamSinks[y];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(h,y){await Promise.allSettled([h.startCall&&h.startCall.promise,h.pullCall&&h.pullCall.promise,h.cancelCall&&h.cancelCall.promise]),delete this.streamControllers[y]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}t.MessageHandler=u},(r,t,n)=>{var s,l;Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var i=n(1);class o{constructor({parsedData:d,rawData:h}){_n(this,s,void 0);_n(this,l,void 0);Nr(this,s,d),Nr(this,l,h)}getRaw(){return It(this,l)}get(d){return It(this,s).get(d)??null}getAll(){return(0,i.objectFromMap)(It(this,s))}has(d){return It(this,s).has(d)}}s=new WeakMap,l=new WeakMap,t.Metadata=o},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var i=n(1);class o{constructor(u,d){this.visible=!0,this.name=u,this.intent=d}}class s{constructor(u){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,u!==null){this.name=u.name,this.creator=u.creator,this._order=u.order;for(let d of u.groups)this._groups.set(d.id,new o(d.name,d.intent));if(u.baseState==="OFF")for(let d of this._groups)d.visible=!1;for(let d of u.on)this._groups.get(d).visible=!0;for(let d of u.off)this._groups.get(d).visible=!1}}_evaluateVisibilityExpression(u){let d=u.length;if(d<2)return!0;let h=u[0];for(let y=1;y<d;y++){let b=u[y],w;if(Array.isArray(b))w=this._evaluateVisibilityExpression(b);else if(this._groups.has(b))w=this._groups.get(b).visible;else return(0,i.warn)(`Optional content group not found: ${b}`),!0;switch(h){case"And":if(!w)return!1;break;case"Or":if(w)return!0;break;case"Not":return!w;default:return!0}}return h==="And"}isVisible(u){if(this._groups.size===0)return!0;if(!u)return(0,i.warn)("Optional content group not defined."),!0;if(u.type==="OCG")return this._groups.has(u.id)?this._groups.get(u.id).visible:((0,i.warn)(`Optional content group not found: ${u.id}`),!0);if(u.type==="OCMD"){if(u.expression)return this._evaluateVisibilityExpression(u.expression);if(!u.policy||u.policy==="AnyOn"){for(let d of u.ids){if(!this._groups.has(d))return(0,i.warn)(`Optional content group not found: ${d}`),!0;if(this._groups.get(d).visible)return!0}return!1}else if(u.policy==="AllOn"){for(let d of u.ids){if(!this._groups.has(d))return(0,i.warn)(`Optional content group not found: ${d}`),!0;if(!this._groups.get(d).visible)return!1}return!0}else if(u.policy==="AnyOff"){for(let d of u.ids){if(!this._groups.has(d))return(0,i.warn)(`Optional content group not found: ${d}`),!0;if(!this._groups.get(d).visible)return!0}return!1}else if(u.policy==="AllOff"){for(let d of u.ids){if(!this._groups.has(d))return(0,i.warn)(`Optional content group not found: ${d}`),!0;if(this._groups.get(d).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${u.policy}.`),!0}return(0,i.warn)(`Unknown group type ${u.type}.`),!0}setVisibility(u,d=!0){if(!this._groups.has(u)){(0,i.warn)(`Optional content group not found: ${u}`);return}this._groups.get(u).visible=!!d}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(u){return this._groups.get(u)||null}}t.OptionalContentConfig=s},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var i=n(1),o=n(5);class s{constructor(h,y){(0,i.assert)(y,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h.progressiveDone||!1,this._contentDispositionFilename=h.contentDispositionFilename||null;let b=h.initialData;if(b?.length>0){let w=new Uint8Array(b).buffer;this._queuedChunks.push(w)}this._pdfDataRangeTransport=y,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._contentLength=h.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((w,p)=>{this._onReceiveData({begin:w,chunk:p})}),this._pdfDataRangeTransport.addProgressListener((w,p)=>{this._onProgress({loaded:w,total:p})}),this._pdfDataRangeTransport.addProgressiveReadListener(w=>{this._onReceiveData({chunk:w})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(h){let y=new Uint8Array(h.chunk).buffer;if(h.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(y):this._queuedChunks.push(y);else{let b=this._rangeReaders.some(function(w){return w._begin!==h.begin?!1:(w._enqueue(y),!0)});(0,i.assert)(b,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(h){if(h.total===void 0){let y=this._rangeReaders[0];y?.onProgress&&y.onProgress({loaded:h.loaded})}else{let y=this._fullRequestReader;y?.onProgress&&y.onProgress({loaded:h.loaded,total:h.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){let y=this._rangeReaders.indexOf(h);y>=0&&this._rangeReaders.splice(y,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let h=this._queuedChunks;return this._queuedChunks=null,new l(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,y){if(y<=this._progressiveDataLength)return null;let b=new u(this,h,y);return this._pdfDataRangeTransport.requestDataRange(h,y),this._rangeReaders.push(b),b}cancelAllRequests(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);for(let y of this._rangeReaders.slice(0))y.cancel(h);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=s;class l{constructor(h,y,b=!1,w=null){this._stream=h,this._done=b||!1,this._filename=(0,o.isPdfFile)(w)?w:null,this._queuedChunks=y||[],this._loaded=0;for(let p of this._queuedChunks)this._loaded+=p.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let h=(0,i.createPromiseCapability)();return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(let y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class u{constructor(h,y,b){this._stream=h,this._begin=y,this._end=b,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(this._requests.length===0)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(let b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let y=this._queuedChunk;return this._queuedChunk=null,{value:y,done:!1}}if(this._done)return{value:void 0,done:!0};let h=(0,i.createPromiseCapability)();return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(let y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(o){let s=[],l={items:s,styles:Object.create(null)};function u(d){if(!d)return;let h=null,y=d.name;if(y==="#text")h=d.value;else if(n.shouldBuildText(y))d?.attributes?.textContent?h=d.attributes.textContent:d.value&&(h=d.value);else return;if(h!==null&&s.push({str:h}),!!d.children)for(let b of d.children)u(b)}return u(o),l}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}t.XfaText=n},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var i=n(6);let o=function(d){return new Promise((h,y)=>{bd().readFile(d,(w,p)=>{if(w||!p){y(new Error(w));return}h(new Uint8Array(p))})})};class s extends i.BaseCanvasFactory{_createCanvas(h,y){return nx().createCanvas(h,y)}}t.NodeCanvasFactory=s;class l extends i.BaseCMapReaderFactory{_fetchData(h,y){return o(h).then(b=>({cMapData:b,compressionType:y}))}}t.NodeCMapReaderFactory=l;class u extends i.BaseStandardFontDataFactory{_fetchData(h){return o(h)}}t.NodeStandardFontDataFactory=u},(r,t,n)=>{var J,ax;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var i=n(1),o=n(5),s=n(8),l=n(21),u=n(22);let d=1e3,h=new WeakSet;function y(k){return{width:k[2]-k[0],height:k[3]-k[1]}}class b{static create(x){switch(x.data.annotationType){case i.AnnotationType.LINK:return new p(x);case i.AnnotationType.TEXT:return new m(x);case i.AnnotationType.WIDGET:switch(x.data.fieldType){case"Tx":return new g(x);case"Btn":return x.data.radioButton?new A(x):x.data.checkBox?new v(x):new C(x);case"Ch":return new O(x)}return new f(x);case i.AnnotationType.POPUP:return new E(x);case i.AnnotationType.FREETEXT:return new B(x);case i.AnnotationType.LINE:return new M(x);case i.AnnotationType.SQUARE:return new D(x);case i.AnnotationType.CIRCLE:return new U(x);case i.AnnotationType.POLYLINE:return new I(x);case i.AnnotationType.CARET:return new q(x);case i.AnnotationType.INK:return new z(x);case i.AnnotationType.POLYGON:return new N(x);case i.AnnotationType.HIGHLIGHT:return new ne(x);case i.AnnotationType.UNDERLINE:return new oe(x);case i.AnnotationType.SQUIGGLY:return new ae(x);case i.AnnotationType.STRIKEOUT:return new te(x);case i.AnnotationType.STAMP:return new le(x);case i.AnnotationType.FILEATTACHMENT:return new xe(x);default:return new w(x)}}}class w{constructor(x,{isRenderable:R=!1,ignoreBorder:L=!1,createQuadrilaterals:F=!1}={}){this.isRenderable=R,this.data=x.data,this.layer=x.layer,this.page=x.page,this.viewport=x.viewport,this.linkService=x.linkService,this.downloadManager=x.downloadManager,this.imageResourcesPath=x.imageResourcesPath,this.renderForms=x.renderForms,this.svgFactory=x.svgFactory,this.annotationStorage=x.annotationStorage,this.enableScripting=x.enableScripting,this.hasJSActions=x.hasJSActions,this._fieldObjects=x.fieldObjects,this._mouseState=x.mouseState,R&&(this.container=this._createContainer(L)),F&&(this.quadrilaterals=this._createQuadrilaterals(L))}_createContainer(x=!1){let R=this.data,L=this.page,F=this.viewport,W=document.createElement("section"),{width:V,height:Z}=y(R.rect);W.setAttribute("data-annotation-id",R.id);let ee=i.Util.normalizeRect([R.rect[0],L.view[3]-R.rect[1]+L.view[1],R.rect[2],L.view[3]-R.rect[3]+L.view[1]]);if(R.hasOwnCanvas){let ie=F.transform.slice(),[ue,de]=i.Util.singularValueDecompose2dScale(ie);V=Math.ceil(V*ue),Z=Math.ceil(Z*de),ee[0]*=ue,ee[1]*=de;for(let ye=0;ye<4;ye++)ie[ye]=Math.sign(ie[ye]);W.style.transform=`matrix(${ie.join(",")})`}else W.style.transform=`matrix(${F.transform.join(",")})`;if(W.style.transformOrigin=`${-ee[0]}px ${-ee[1]}px`,!x&&R.borderStyle.width>0){W.style.borderWidth=`${R.borderStyle.width}px`,R.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(V-=2*R.borderStyle.width,Z-=2*R.borderStyle.width);let ie=R.borderStyle.horizontalCornerRadius,ue=R.borderStyle.verticalCornerRadius;if(ie>0||ue>0){let ye=`${ie}px / ${ue}px`;W.style.borderRadius=ye}switch(R.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:W.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:W.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:W.style.borderBottomStyle="solid";break;default:break}R.borderColor||R.color||null?W.style.borderColor=i.Util.makeHexColor(R.color[0]|0,R.color[1]|0,R.color[2]|0):W.style.borderWidth=0}return W.style.left=`${ee[0]}px`,W.style.top=`${ee[1]}px`,R.hasOwnCanvas?W.style.width=W.style.height="auto":(W.style.width=`${V}px`,W.style.height=`${Z}px`),W}get _commonActions(){let x=(R,L,F)=>{let W=F.detail[R];F.target.style[L]=l.ColorConverters[`${W[0]}_HTML`](W.slice(1))};return(0,i.shadow)(this,"_commonActions",{display:R=>{let L=R.detail.display%2==1;R.target.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:L,print:R.detail.display===0||R.detail.display===3})},print:R=>{this.annotationStorage.setValue(this.data.id,{print:R.detail.print})},hidden:R=>{R.target.style.visibility=R.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:R.detail.hidden})},focus:R=>{setTimeout(()=>R.target.focus({preventScroll:!1}),0)},userName:R=>{R.target.title=R.detail.userName},readonly:R=>{R.detail.readonly?R.target.setAttribute("readonly",""):R.target.removeAttribute("readonly")},required:R=>{R.detail.required?R.target.setAttribute("required",""):R.target.removeAttribute("required")},bgColor:R=>{x("bgColor","backgroundColor",R)},fillColor:R=>{x("fillColor","backgroundColor",R)},fgColor:R=>{x("fgColor","color",R)},textColor:R=>{x("textColor","color",R)},borderColor:R=>{x("borderColor","borderColor",R)},strokeColor:R=>{x("strokeColor","borderColor",R)}})}_dispatchEventFromSandbox(x,R){let L=this._commonActions;for(let F of Object.keys(R.detail)){let W=x[F]||L[F];W&&W(R)}}_setDefaultPropertiesFromJS(x){if(!this.enableScripting)return;let R=this.annotationStorage.getRawValue(this.data.id);if(!R)return;let L=this._commonActions;for(let[F,W]of Object.entries(R)){let V=L[F];V&&(V({detail:W,target:x}),delete R[F])}}_createQuadrilaterals(x=!1){if(!this.data.quadPoints)return null;let R=[],L=this.data.rect;for(let F of this.data.quadPoints)this.data.rect=[F[2].x,F[2].y,F[1].x,F[1].y],R.push(this._createContainer(x));return this.data.rect=L,R}_createPopup(x,R){let L=this.container;this.quadrilaterals&&(x=x||this.quadrilaterals,L=this.quadrilaterals[0]),x||(x=document.createElement("div"),x.style.height=L.style.height,x.style.width=L.style.width,L.appendChild(x));let W=new T({container:L,trigger:x,color:R.color,titleObj:R.titleObj,modificationDate:R.modificationDate,contentsObj:R.contentsObj,richText:R.richText,hideWrapper:!0}).render();W.style.left=L.style.width,L.appendChild(W)}_renderQuadrilaterals(x){for(let R of this.quadrilaterals)R.className=x;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(x,R=null){let L=[];if(this._fieldObjects){let F=this._fieldObjects[x];if(F)for(let{page:W,id:V,exportValues:Z}of F){if(W===-1||V===R)continue;let ee=typeof Z=="string"?Z:null,ie=document.getElementById(V);if(ie&&!h.has(ie)){(0,i.warn)(`_getElementsByName - element not allowed: ${V}`);continue}L.push({id:V,exportValue:ee,domElement:ie})}return L}for(let F of document.getElementsByName(x)){let{id:W,exportValue:V}=F;W!==R&&(!h.has(F)||L.push({id:W,exportValue:V,domElement:F}))}return L}static get platform(){let x=typeof navigator!="undefined"?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:x.includes("Win"),isMac:x.includes("Mac")})}}class p extends w{constructor(x,R=null){let L=!!(x.data.url||x.data.dest||x.data.action||x.data.isTooltipOnly||x.data.resetForm||x.data.actions&&(x.data.actions.Action||x.data.actions["Mouse Up"]||x.data.actions["Mouse Down"]));super(x,{isRenderable:L,ignoreBorder:!!R?.ignoreBorder,createQuadrilaterals:!0})}render(){let{data:x,linkService:R}=this,L=document.createElement("a");if(x.url)R.addLinkAttributes(L,x.url,x.newWindow);else if(x.action)this._bindNamedAction(L,x.action);else if(x.dest)this._bindLink(L,x.dest);else{let F=!1;x.actions&&(x.actions.Action||x.actions["Mouse Up"]||x.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(F=!0,this._bindJSAction(L,x)),x.resetForm?this._bindResetFormAction(L,x.resetForm):F||this._bindLink(L,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((F,W)=>{let V=W===0?L:L.cloneNode();return F.appendChild(V),F}):(this.container.className="linkAnnotation",this.container.appendChild(L),this.container)}_bindLink(x,R){x.href=this.linkService.getDestinationHash(R),x.onclick=()=>(R&&this.linkService.goToDestination(R),!1),(R||R==="")&&(x.className="internalLink")}_bindNamedAction(x,R){x.href=this.linkService.getAnchorUrl(""),x.onclick=()=>(this.linkService.executeNamedAction(R),!1),x.className="internalLink"}_bindJSAction(x,R){x.href=this.linkService.getAnchorUrl("");let L=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let F of Object.keys(R.actions)){let W=L.get(F);!W||(x[W]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R.id,name:F}}),!1))}x.onclick||(x.onclick=()=>!1),x.className="internalLink"}_bindResetFormAction(x,R){let L=x.onclick;if(L||(x.href=this.linkService.getAnchorUrl("")),x.className="internalLink",!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),L||(x.onclick=()=>!1);return}x.onclick=()=>{L&&L();let{fields:F,refs:W,include:V}=R,Z=[];if(F.length!==0||W.length!==0){let ue=new Set(W);for(let de of F){let ye=this._fieldObjects[de]||[];for(let{id:ke}of ye)ue.add(ke)}for(let de of Object.values(this._fieldObjects))for(let ye of de)ue.has(ye.id)===V&&Z.push(ye)}else for(let ue of Object.values(this._fieldObjects))Z.push(...ue);let ee=this.annotationStorage,ie=[];for(let ue of Z){let{id:de}=ue;switch(ie.push(de),ue.type){case"text":{let ke=ue.defaultValue||"";ee.setValue(de,{value:ke});break}case"checkbox":case"radiobutton":{let ke=ue.defaultValue===ue.exportValues;ee.setValue(de,{value:ke});break}case"combobox":case"listbox":{let ke=ue.defaultValue||"";ee.setValue(de,{value:ke});break}default:continue}let ye=document.getElementById(de);!ye||!h.has(ye)||ye.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ie,name:"ResetForm"}}),!1}}}class m extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R})}render(){this.container.className="textAnnotation";let x=document.createElement("img");return x.style.height=this.container.style.height,x.style.width=this.container.style.width,x.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",x.alt="[{{type}} Annotation]",x.dataset.l10nId="text_annotation_type",x.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(x,this.data),this.container.appendChild(x),this.container}}class f extends w{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(x){let{isWin:R,isMac:L}=w.platform;return R&&x.ctrlKey||L&&x.metaKey}_setEventListener(x,R,L,F){R.includes("mouse")?x.addEventListener(R,W=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:F(W),shift:W.shiftKey,modifier:this._getKeyModifier(W)}})}):x.addEventListener(R,W=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:F(W)}})})}_setEventListeners(x,R,L){for(let[F,W]of R)(W==="Action"||this.data.actions?.[W])&&this._setEventListener(x,F,W,L)}_setBackgroundColor(x){let R=this.data.backgroundColor||null;x.style.backgroundColor=R===null?"transparent":i.Util.makeHexColor(R[0],R[1],R[2])}}class g extends f{constructor(x){let R=x.renderForms||!x.data.hasAppearance&&!!x.data.fieldValue;super(x,{isRenderable:R})}setPropertyOnSiblings(x,R,L,F){let W=this.annotationStorage;for(let V of this._getElementsByName(x.name,x.id))V.domElement&&(V.domElement[R]=L),W.setValue(V.id,{[F]:L})}render(){let x=this.annotationStorage,R=this.data.id;this.container.className="textWidgetAnnotation";let L=null;if(this.renderForms){let F=x.getValue(R,{value:this.data.fieldValue}),W=F.formattedValue||F.value||"",V={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(L=document.createElement("textarea"),L.textContent=W):(L=document.createElement("input"),L.type="text",L.setAttribute("value",W)),h.add(L),L.disabled=this.data.readOnly,L.name=this.data.fieldName,L.tabIndex=d,V.userValue=W,L.setAttribute("id",R),L.addEventListener("input",ee=>{x.setValue(R,{value:ee.target.value}),this.setPropertyOnSiblings(L,"value",ee.target.value,"value")}),L.addEventListener("resetform",ee=>{let ie=this.data.defaultFieldValue??"";L.value=V.userValue=ie,V.formattedValue=null});let Z=ee=>{let{formattedValue:ie}=V;ie!=null&&(ee.target.value=ie),ee.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){L.addEventListener("focus",ie=>{V.userValue&&(ie.target.value=V.userValue),V.valueOnFocus=ie.target.value}),L.addEventListener("updatefromsandbox",ie=>{let ue={value(de){V.userValue=de.detail.value??"",x.setValue(R,{value:V.userValue.toString()}),de.target.value=V.userValue},formattedValue(de){let{formattedValue:ye}=de.detail;V.formattedValue=ye,ye!=null&&de.target!==document.activeElement&&(de.target.value=ye),x.setValue(R,{formattedValue:ye})},selRange(de){de.target.setSelectionRange(...de.detail.selRange)}};this._dispatchEventFromSandbox(ue,ie)}),L.addEventListener("keydown",ie=>{let ue=-1;if(ie.key==="Escape"?ue=0:ie.key==="Enter"?ue=2:ie.key==="Tab"&&(ue=3),ue===-1)return;let{value:de}=ie.target;V.valueOnFocus!==de&&(V.userValue=de,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:de,willCommit:!0,commitKey:ue,selStart:ie.target.selectionStart,selEnd:ie.target.selectionEnd}}))});let ee=Z;Z=null,L.addEventListener("blur",ie=>{let{value:ue}=ie.target;V.userValue=ue,this._mouseState.isDown&&V.valueOnFocus!==ue&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:ue,willCommit:!0,commitKey:1,selStart:ie.target.selectionStart,selEnd:ie.target.selectionEnd}}),ee(ie)}),this.data.actions?.Keystroke&&L.addEventListener("beforeinput",ie=>{let{data:ue,target:de}=ie,{value:ye,selectionStart:ke,selectionEnd:He}=de,_e=ke,be=He;switch(ie.inputType){case"deleteWordBackward":{let se=ye.substring(0,ke).match(/\w*[^\w]*$/);se&&(_e-=se[0].length);break}case"deleteWordForward":{let se=ye.substring(ke).match(/^[^\w]*\w*/);se&&(be+=se[0].length);break}case"deleteContentBackward":ke===He&&(_e-=1);break;case"deleteContentForward":ke===He&&(be+=1);break}ie.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:ye,change:ue||"",willCommit:!1,selStart:_e,selEnd:be}})}),this._setEventListeners(L,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ie=>ie.target.value)}if(Z&&L.addEventListener("blur",Z),this.data.maxLen!==null&&(L.maxLength=this.data.maxLen),this.data.comb){let ie=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;L.classList.add("comb"),L.style.letterSpacing=`calc(${ie}px - 1ch)`}}else L=document.createElement("div"),L.textContent=this.data.fieldValue,L.style.verticalAlign="middle",L.style.display="table-cell";return this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.appendChild(L),this.container}_setTextStyle(x){let R=["left","center","right"],{fontSize:L,fontColor:F}=this.data.defaultAppearanceData,W=x.style;L&&(W.fontSize=`${L}px`),W.color=i.Util.makeHexColor(F[0],F[1],F[2]),this.data.textAlignment!==null&&(W.textAlign=R[this.data.textAlignment])}}class v extends f{constructor(x){super(x,{isRenderable:x.renderForms})}render(){let x=this.annotationStorage,R=this.data,L=R.id,F=x.getValue(L,{value:R.exportValue===R.fieldValue}).value;typeof F=="string"&&(F=F!=="Off",x.setValue(L,{value:F})),this.container.className="buttonWidgetAnnotation checkBox";let W=document.createElement("input");return h.add(W),W.disabled=R.readOnly,W.type="checkbox",W.name=R.fieldName,F&&W.setAttribute("checked",!0),W.setAttribute("id",L),W.setAttribute("exportValue",R.exportValue),W.tabIndex=d,W.addEventListener("change",V=>{let{name:Z,checked:ee}=V.target;for(let ie of this._getElementsByName(Z,L)){let ue=ee&&ie.exportValue===R.exportValue;ie.domElement&&(ie.domElement.checked=ue),x.setValue(ie.id,{value:ue})}x.setValue(L,{value:ee})}),W.addEventListener("resetform",V=>{let Z=R.defaultFieldValue||"Off";V.target.checked=Z===R.exportValue}),this.enableScripting&&this.hasJSActions&&(W.addEventListener("updatefromsandbox",V=>{let Z={value(ee){ee.target.checked=ee.detail.value!=="Off",x.setValue(L,{value:ee.target.checked})}};this._dispatchEventFromSandbox(Z,V)}),this._setEventListeners(W,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.checked)),this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.appendChild(W),this.container}}class A extends f{constructor(x){super(x,{isRenderable:x.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";let x=this.annotationStorage,R=this.data,L=R.id,F=x.getValue(L,{value:R.fieldValue===R.buttonValue}).value;typeof F=="string"&&(F=F!==R.buttonValue,x.setValue(L,{value:F}));let W=document.createElement("input");if(h.add(W),W.disabled=R.readOnly,W.type="radio",W.name=R.fieldName,F&&W.setAttribute("checked",!0),W.setAttribute("id",L),W.tabIndex=d,W.addEventListener("change",V=>{let{name:Z,checked:ee}=V.target;for(let ie of this._getElementsByName(Z,L))x.setValue(ie.id,{value:!1});x.setValue(L,{value:ee})}),W.addEventListener("resetform",V=>{let Z=R.defaultFieldValue;V.target.checked=Z!=null&&Z===R.buttonValue}),this.enableScripting&&this.hasJSActions){let V=R.buttonValue;W.addEventListener("updatefromsandbox",Z=>{let ee={value:ie=>{let ue=V===ie.detail.value;for(let de of this._getElementsByName(ie.target.name)){let ye=ue&&de.id===L;de.domElement&&(de.domElement.checked=ye),x.setValue(de.id,{value:ye})}}};this._dispatchEventFromSandbox(ee,Z)}),this._setEventListeners(W,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Z=>Z.target.checked)}return this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.appendChild(W),this.container}}class C extends p{constructor(x){super(x,{ignoreBorder:x.data.hasAppearance})}render(){let x=super.render();return x.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(x.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(x),x}}class O extends f{constructor(x){super(x,{isRenderable:x.renderForms})}render(){this.container.className="choiceWidgetAnnotation";let x=this.annotationStorage,R=this.data.id,L=x.getValue(R,{value:this.data.fieldValue}),{fontSize:F}=this.data.defaultAppearanceData;F||(F=9);let W=`calc(${F}px * var(--zoom-factor))`,V=document.createElement("select");h.add(V),V.disabled=this.data.readOnly,V.name=this.data.fieldName,V.setAttribute("id",R),V.tabIndex=d,V.style.fontSize=`${F}px`,this.data.combo||(V.size=this.data.options.length,this.data.multiSelect&&(V.multiple=!0)),V.addEventListener("resetform",ie=>{let ue=this.data.defaultFieldValue;for(let de of V.options)de.selected=de.value===ue});for(let ie of this.data.options){let ue=document.createElement("option");ue.textContent=ie.displayValue,ue.value=ie.exportValue,this.data.combo&&(ue.style.fontSize=W),L.value.includes(ie.exportValue)&&ue.setAttribute("selected",!0),V.appendChild(ue)}let Z=(ie,ue)=>{let de=ue?"value":"textContent",ye=ie.target.options;return ie.target.multiple?Array.prototype.filter.call(ye,ke=>ke.selected).map(ke=>ke[de]):ye.selectedIndex===-1?null:ye[ye.selectedIndex][de]},ee=ie=>{let ue=ie.target.options;return Array.prototype.map.call(ue,de=>({displayValue:de.textContent,exportValue:de.value}))};return this.enableScripting&&this.hasJSActions?(V.addEventListener("updatefromsandbox",ie=>{let ue={value(de){let ye=de.detail.value,ke=new Set(Array.isArray(ye)?ye:[ye]);for(let He of V.options)He.selected=ke.has(He.value);x.setValue(R,{value:Z(de,!0)})},multipleSelection(de){V.multiple=!0},remove(de){let ye=V.options,ke=de.detail.remove;ye[ke].selected=!1,V.remove(ke),ye.length>0&&Array.prototype.findIndex.call(ye,_e=>_e.selected)===-1&&(ye[0].selected=!0),x.setValue(R,{value:Z(de,!0),items:ee(de)})},clear(de){for(;V.length!==0;)V.remove(0);x.setValue(R,{value:null,items:[]})},insert(de){let{index:ye,displayValue:ke,exportValue:He}=de.detail.insert,_e=document.createElement("option");_e.textContent=ke,_e.value=He,V.insertBefore(_e,V.children[ye]),x.setValue(R,{value:Z(de,!0),items:ee(de)})},items(de){let{items:ye}=de.detail;for(;V.length!==0;)V.remove(0);for(let ke of ye){let{displayValue:He,exportValue:_e}=ke,be=document.createElement("option");be.textContent=He,be.value=_e,V.appendChild(be)}V.options.length>0&&(V.options[0].selected=!0),x.setValue(R,{value:Z(de,!0),items:ee(de)})},indices(de){let ye=new Set(de.detail.indices);for(let ke of de.target.options)ke.selected=ye.has(ke.index);x.setValue(R,{value:Z(de,!0)})},editable(de){de.target.disabled=!de.detail.editable}};this._dispatchEventFromSandbox(ue,ie)}),V.addEventListener("input",ie=>{let ue=Z(ie,!0),de=Z(ie,!1);x.setValue(R,{value:ue}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:de,changeEx:ue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(V,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ie=>ie.target.checked)):V.addEventListener("input",function(ie){x.setValue(R,{value:Z(ie,!0)})}),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.appendChild(V),this.container}}class E extends w{constructor(x){let R=!!(x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R})}render(){let x=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",x.includes(this.data.parentType))return this.container;let R=`[data-annotation-id="${this.data.parentId}"]`,L=this.layer.querySelectorAll(R);if(L.length===0)return this.container;let F=new T({container:this.container,trigger:Array.from(L),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),W=this.page,V=i.Util.normalizeRect([this.data.parentRect[0],W.view[3]-this.data.parentRect[1]+W.view[1],this.data.parentRect[2],W.view[3]-this.data.parentRect[3]+W.view[1]]),Z=V[0]+this.data.parentRect[2]-this.data.parentRect[0],ee=V[1];return this.container.style.transformOrigin=`${-Z}px ${-ee}px`,this.container.style.left=`${Z}px`,this.container.style.top=`${ee}px`,this.container.appendChild(F.render()),this.container}}class T{constructor(x){this.container=x.container,this.trigger=x.trigger,this.color=x.color,this.titleObj=x.titleObj,this.modificationDate=x.modificationDate,this.contentsObj=x.contentsObj,this.richText=x.richText,this.hideWrapper=x.hideWrapper||!1,this.pinned=!1}render(){let x=.7,R=document.createElement("div");R.className="popupWrapper",this.hideElement=this.hideWrapper?R:this.container,this.hideElement.hidden=!0;let L=document.createElement("div");L.className="popup";let F=this.color;if(F){let Z=x*(255-F[0])+F[0],ee=x*(255-F[1])+F[1],ie=x*(255-F[2])+F[2];L.style.backgroundColor=i.Util.makeHexColor(Z|0,ee|0,ie|0)}let W=document.createElement("h1");W.dir=this.titleObj.dir,W.textContent=this.titleObj.str,L.appendChild(W);let V=o.PDFDateString.toDateObject(this.modificationDate);if(V){let Z=document.createElement("span");Z.className="popupDate",Z.textContent="{{date}}, {{time}}",Z.dataset.l10nId="annotation_date_string",Z.dataset.l10nArgs=JSON.stringify({date:V.toLocaleDateString(),time:V.toLocaleTimeString()}),L.appendChild(Z)}if(this.richText?.str&&(!this.contentsObj?.str||this.contentsObj.str===this.richText.str))u.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:L}),L.lastChild.className="richText popupContent";else{let Z=this._formatContents(this.contentsObj);L.appendChild(Z)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(let Z of this.trigger)Z.addEventListener("click",this._toggle.bind(this)),Z.addEventListener("mouseover",this._show.bind(this,!1)),Z.addEventListener("mouseout",this._hide.bind(this,!1));return L.addEventListener("click",this._hide.bind(this,!0)),R.appendChild(L),R}_formatContents({str:x,dir:R}){let L=document.createElement("p");L.className="popupContent",L.dir=R;let F=x.split(/(?:\r\n?|\n)/);for(let W=0,V=F.length;W<V;++W){let Z=F[W];L.appendChild(document.createTextNode(Z)),W<V-1&&L.appendChild(document.createElement("br"))}return L}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(x=!1){x&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(x=!0){x&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class B extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class M extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";let x=this.data,{width:R,height:L}=y(x.rect),F=this.svgFactory.create(R,L),W=this.svgFactory.createElement("svg:line");return W.setAttribute("x1",x.rect[2]-x.lineCoordinates[0]),W.setAttribute("y1",x.rect[3]-x.lineCoordinates[1]),W.setAttribute("x2",x.rect[2]-x.lineCoordinates[2]),W.setAttribute("y2",x.rect[3]-x.lineCoordinates[3]),W.setAttribute("stroke-width",x.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),F.appendChild(W),this.container.append(F),this._createPopup(W,x),this.container}}class D extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";let x=this.data,{width:R,height:L}=y(x.rect),F=this.svgFactory.create(R,L),W=x.borderStyle.width,V=this.svgFactory.createElement("svg:rect");return V.setAttribute("x",W/2),V.setAttribute("y",W/2),V.setAttribute("width",R-W),V.setAttribute("height",L-W),V.setAttribute("stroke-width",W||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),F.appendChild(V),this.container.append(F),this._createPopup(V,x),this.container}}class U extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";let x=this.data,{width:R,height:L}=y(x.rect),F=this.svgFactory.create(R,L),W=x.borderStyle.width,V=this.svgFactory.createElement("svg:ellipse");return V.setAttribute("cx",R/2),V.setAttribute("cy",L/2),V.setAttribute("rx",R/2-W/2),V.setAttribute("ry",L/2-W/2),V.setAttribute("stroke-width",W||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),F.appendChild(V),this.container.append(F),this._createPopup(V,x),this.container}}class I extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0});this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let x=this.data,{width:R,height:L}=y(x.rect),F=this.svgFactory.create(R,L),W=[];for(let Z of x.vertices){let ee=Z.x-x.rect[0],ie=x.rect[3]-Z.y;W.push(ee+","+ie)}W=W.join(" ");let V=this.svgFactory.createElement(this.svgElementName);return V.setAttribute("points",W),V.setAttribute("stroke-width",x.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),F.appendChild(V),this.container.append(F),this._createPopup(V,x),this.container}}class N extends I{constructor(x){super(x);this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class q extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class z extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0});this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let x=this.data,{width:R,height:L}=y(x.rect),F=this.svgFactory.create(R,L);for(let W of x.inkLists){let V=[];for(let ee of W){let ie=ee.x-x.rect[0],ue=x.rect[3]-ee.y;V.push(`${ie},${ue}`)}V=V.join(" ");let Z=this.svgFactory.createElement(this.svgElementName);Z.setAttribute("points",V),Z.setAttribute("stroke-width",x.borderStyle.width||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),this._createPopup(Z,x),F.appendChild(Z)}return this.container.append(F),this.container}}class ne extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class oe extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ae extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class te extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class le extends w{constructor(x){let R=!!(x.data.hasPopup||x.data.titleObj?.str||x.data.contentsObj?.str||x.data.richText?.str);super(x,{isRenderable:R,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class xe extends w{constructor(x){super(x,{isRenderable:!0});let{filename:R,content:L}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(R),this.content=L,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:R,content:L})}render(){this.container.className="fileAttachmentAnnotation";let x=document.createElement("div");return x.style.height=this.container.style.height,x.style.width=this.container.style.width,x.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(x,this.data),this.container.appendChild(x),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class fe{static render(x){let R=[],L=[];for(let W of x.annotations){if(!W)continue;let{width:V,height:Z}=y(W.rect);if(!(V<=0||Z<=0)){if(W.annotationType===i.AnnotationType.POPUP){L.push(W);continue}R.push(W)}}L.length&&R.push(...L);let F=x.div;for(let W of R){let V=b.create({data:W,layer:F,page:x.page,viewport:x.viewport,linkService:x.linkService,downloadManager:x.downloadManager,imageResourcesPath:x.imageResourcesPath||"",renderForms:x.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:x.annotationStorage||new s.AnnotationStorage,enableScripting:x.enableScripting,hasJSActions:x.hasJSActions,fieldObjects:x.fieldObjects,mouseState:x.mouseState||{isDown:!1}});if(V.isRenderable){let Z=V.render();if(W.hidden&&(Z.style.visibility="hidden"),Array.isArray(Z))for(let ee of Z)F.appendChild(ee);else V instanceof E?F.prepend(Z):F.appendChild(Z)}}Dr(this,J,ax).call(this,F,x.annotationCanvasMap)}static update(x){let{page:R,viewport:L,annotations:F,annotationCanvasMap:W,div:V}=x,Z=L.transform,ee=`matrix(${Z.join(",")})`,ie,ue;for(let de of F){let ye=V.querySelectorAll(`[data-annotation-id="${de.id}"]`);if(ye)for(let ke of ye)if(de.hasOwnCanvas){let He=i.Util.normalizeRect([de.rect[0],R.view[3]-de.rect[1]+R.view[1],de.rect[2],R.view[3]-de.rect[3]+R.view[1]]);if(!ue){ie=Math.abs(Z[0]||Z[1]);let se=Z.slice();for(let Ce=0;Ce<4;Ce++)se[Ce]=Math.sign(se[Ce]);ue=`matrix(${se.join(",")})`}let _e=He[0]*ie,be=He[1]*ie;ke.style.left=`${_e}px`,ke.style.top=`${be}px`,ke.style.transformOrigin=`${-_e}px ${-be}px`,ke.style.transform=ue}else ke.style.transform=ee}Dr(this,J,ax).call(this,V,W),V.hidden=!1}}J=new WeakSet,ax=function(x,R){if(!!R){for(let[L,F]of R){let W=x.querySelector(`[data-annotation-id="${L}"]`);if(!W)continue;let{firstChild:V}=W;V.nodeName==="CANVAS"?W.replaceChild(F,V):W.insertBefore(F,V)}R.clear()}},_n(fe,J),t.AnnotationLayer=fe},(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function n(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}class i{static CMYK_G([s,l,u,d]){return["G",1-Math.min(1,.3*s+.59*u+.11*l+d)]}static G_CMYK([s]){return["CMYK",0,0,0,1-s]}static G_RGB([s]){return["RGB",s,s,s]}static G_HTML([s]){let l=n(s);return`#${l}${l}${l}`}static RGB_G([s,l,u]){return["G",.3*s+.59*l+.11*u]}static RGB_HTML([s,l,u]){let d=n(s),h=n(l),y=n(u);return`#${d}${h}${y}`}static T_HTML(){return"#00000000"}static CMYK_RGB([s,l,u,d]){return["RGB",1-Math.min(1,s+d),1-Math.min(1,u+d),1-Math.min(1,l+d)]}static CMYK_HTML(s){return this.RGB_HTML(this.CMYK_RGB(s))}static RGB_CMYK([s,l,u]){let d=1-s,h=1-l,y=1-u,b=Math.min(d,h,y);return["CMYK",d,h,y,b]}}t.ColorConverters=i},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var i=n(18);class o{static setupStorage(l,u,d,h,y){let b=h.getValue(u,{value:null});switch(d.name){case"textarea":if(b.value!==null&&(l.textContent=b.value),y==="print")break;l.addEventListener("input",w=>{h.setValue(u,{value:w.target.value})});break;case"input":if(d.attributes.type==="radio"||d.attributes.type==="checkbox"){if(b.value===d.attributes.xfaOn?l.setAttribute("checked",!0):b.value===d.attributes.xfaOff&&l.removeAttribute("checked"),y==="print")break;l.addEventListener("change",w=>{h.setValue(u,{value:w.target.checked?w.target.getAttribute("xfaOn"):w.target.getAttribute("xfaOff")})})}else{if(b.value!==null&&l.setAttribute("value",b.value),y==="print")break;l.addEventListener("input",w=>{h.setValue(u,{value:w.target.value})})}break;case"select":if(b.value!==null)for(let w of d.children)w.attributes.value===b.value&&(w.attributes.selected=!0);l.addEventListener("input",w=>{let p=w.target.options,m=p.selectedIndex===-1?"":p[p.selectedIndex].value;h.setValue(u,{value:m})});break}}static setAttributes({html:l,element:u,storage:d=null,intent:h,linkService:y}){let{attributes:b}=u,w=l instanceof HTMLAnchorElement;b.type==="radio"&&(b.name=`${b.name}-${h}`);for(let[p,m]of Object.entries(b))if(!(m==null||p==="dataId"))if(p!=="style")if(p==="textContent")l.textContent=m;else if(p==="class")m.length&&l.setAttribute(p,m.join(" "));else{if(w&&(p==="href"||p==="newWindow"))continue;l.setAttribute(p,m)}else Object.assign(l.style,m);w&&y.addLinkAttributes(l,b.href,b.newWindow),d&&b.dataId&&this.setupStorage(l,b.dataId,u,d)}static render(l){let u=l.annotationStorage,d=l.linkService,h=l.xfaHtml,y=l.intent||"display",b=document.createElement(h.name);h.attributes&&this.setAttributes({html:b,element:h,intent:y,linkService:d});let w=[[h,-1,b]],p=l.div;if(p.appendChild(b),l.viewport){let f=`matrix(${l.viewport.transform.join(",")})`;p.style.transform=f}y!=="richText"&&p.setAttribute("class","xfaLayer xfaFont");let m=[];for(;w.length>0;){let[f,g,v]=w[w.length-1];if(g+1===f.children.length){w.pop();continue}let A=f.children[++w[w.length-1][1]];if(A===null)continue;let{name:C}=A;if(C==="#text"){let E=document.createTextNode(A.value);m.push(E),v.appendChild(E);continue}let O;if(A?.attributes?.xmlns?O=document.createElementNS(A.attributes.xmlns,C):O=document.createElement(C),v.appendChild(O),A.attributes&&this.setAttributes({html:O,element:A,storage:u,intent:y,linkService:d}),A.children&&A.children.length>0)w.push([A,-1,O]);else if(A.value){let E=document.createTextNode(A.value);i.XfaText.shouldBuildText(C)&&m.push(E),O.appendChild(E)}}for(let f of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:m}}static update(l){let u=`matrix(${l.viewport.transform.join(",")})`;l.div.style.transform=u,l.div.hidden=!1}}t.XfaLayer=o},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=v;var i=n(1);let o=1e5,s=30,l=.8,u=new Map,d=/^\s+$/g;function h(A,C){let O=u.get(A);if(O)return O;C.save(),C.font=`${s}px ${A}`;let E=C.measureText(""),T=E.fontBoundingBoxAscent,B=Math.abs(E.fontBoundingBoxDescent);if(T){C.restore();let D=T/(T+B);return u.set(A,D),D}C.strokeStyle="red",C.clearRect(0,0,s,s),C.strokeText("g",0,0);let M=C.getImageData(0,0,s,s).data;B=0;for(let D=M.length-1-3;D>=0;D-=4)if(M[D]>0){B=Math.ceil(D/4/s);break}C.clearRect(0,0,s,s),C.strokeText("A",0,s),M=C.getImageData(0,0,s,s).data,T=0;for(let D=0,U=M.length;D<U;D+=4)if(M[D]>0){T=s-Math.floor(D/4/s);break}if(C.restore(),T){let D=T/(T+B);return u.set(A,D),D}return u.set(A,l),l}function y(A,C,O,E){let T=document.createElement("span"),B=A._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:C.str!=="",hasEOL:C.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:C.str!=="",hasEOL:C.hasEOL};A._textDivs.push(T);let M=i.Util.transform(A._viewport.transform,C.transform),D=Math.atan2(M[1],M[0]),U=O[C.fontName];U.vertical&&(D+=Math.PI/2);let I=Math.hypot(M[2],M[3]),N=I*h(U.fontFamily,E),q,z;D===0?(q=M[4],z=M[5]-N):(q=M[4]+N*Math.sin(D),z=M[5]-N*Math.cos(D)),T.style.left=`${q}px`,T.style.top=`${z}px`,T.style.fontSize=`${I}px`,T.style.fontFamily=U.fontFamily,T.setAttribute("role","presentation"),T.textContent=C.str,T.dir=C.dir,A._fontInspectorEnabled&&(T.dataset.fontName=C.fontName),D!==0&&(B.angle=D*(180/Math.PI));let ne=!1;if(C.str.length>1||A._enhanceTextSelection&&d.test(C.str))ne=!0;else if(C.str!==" "&&C.transform[0]!==C.transform[3]){let oe=Math.abs(C.transform[0]),ae=Math.abs(C.transform[3]);oe!==ae&&Math.max(oe,ae)/Math.min(oe,ae)>1.5&&(ne=!0)}if(ne&&(U.vertical?B.canvasWidth=C.height*A._viewport.scale:B.canvasWidth=C.width*A._viewport.scale),A._textDivProperties.set(T,B),A._textContentStream&&A._layoutText(T),A._enhanceTextSelection&&B.hasText){let oe=1,ae=0;D!==0&&(oe=Math.cos(D),ae=Math.sin(D));let te=(U.vertical?C.height:C.width)*A._viewport.scale,le=I,xe,fe;D!==0?(xe=[oe,ae,-ae,oe,q,z],fe=i.Util.getAxialAlignedBoundingBox([0,0,te,le],xe)):fe=[q,z,q+te,z+le],A._bounds.push({left:fe[0],top:fe[1],right:fe[2],bottom:fe[3],div:T,size:[te,le],m:xe})}}function b(A){if(A._canceled)return;let C=A._textDivs,O=A._capability,E=C.length;if(E>o){A._renderingDone=!0,O.resolve();return}if(!A._textContentStream)for(let T=0;T<E;T++)A._layoutText(C[T]);A._renderingDone=!0,O.resolve()}function w(A,C,O){let E=0;for(let T=0;T<O;T++){let B=A[C++];B>0&&(E=E?Math.min(B,E):B)}return E}function p(A){let C=A._bounds,O=A._viewport,E=m(O.width,O.height,C);for(let T=0;T<E.length;T++){let B=C[T].div,M=A._textDivProperties.get(B);if(M.angle===0){M.paddingLeft=C[T].left-E[T].left,M.paddingTop=C[T].top-E[T].top,M.paddingRight=E[T].right-C[T].right,M.paddingBottom=E[T].bottom-C[T].bottom,A._textDivProperties.set(B,M);continue}let D=E[T],U=C[T],I=U.m,N=I[0],q=I[1],z=[[0,0],[0,U.size[1]],[U.size[0],0],U.size],ne=new Float64Array(64);for(let ae=0,te=z.length;ae<te;ae++){let le=i.Util.applyTransform(z[ae],I);ne[ae+0]=N&&(D.left-le[0])/N,ne[ae+4]=q&&(D.top-le[1])/q,ne[ae+8]=N&&(D.right-le[0])/N,ne[ae+12]=q&&(D.bottom-le[1])/q,ne[ae+16]=q&&(D.left-le[0])/-q,ne[ae+20]=N&&(D.top-le[1])/N,ne[ae+24]=q&&(D.right-le[0])/-q,ne[ae+28]=N&&(D.bottom-le[1])/N,ne[ae+32]=N&&(D.left-le[0])/-N,ne[ae+36]=q&&(D.top-le[1])/-q,ne[ae+40]=N&&(D.right-le[0])/-N,ne[ae+44]=q&&(D.bottom-le[1])/-q,ne[ae+48]=q&&(D.left-le[0])/q,ne[ae+52]=N&&(D.top-le[1])/-N,ne[ae+56]=q&&(D.right-le[0])/q,ne[ae+60]=N&&(D.bottom-le[1])/-N}let oe=1+Math.min(Math.abs(N),Math.abs(q));M.paddingLeft=w(ne,32,16)/oe,M.paddingTop=w(ne,48,16)/oe,M.paddingRight=w(ne,0,16)/oe,M.paddingBottom=w(ne,16,16)/oe,A._textDivProperties.set(B,M)}}function m(A,C,O){let E=O.map(function(B,M){return{x1:B.left,y1:B.top,x2:B.right,y2:B.bottom,index:M,x1New:void 0,x2New:void 0}});f(A,E);let T=new Array(O.length);for(let B of E){let M=B.index;T[M]={left:B.x1New,top:0,right:B.x2New,bottom:0}}O.map(function(B,M){let D=T[M],U=E[M];U.x1=B.top,U.y1=A-D.right,U.x2=B.bottom,U.y2=A-D.left,U.index=M,U.x1New=void 0,U.x2New=void 0}),f(C,E);for(let B of E){let M=B.index;T[M].top=B.x1New,T[M].bottom=B.x2New}return T}function f(A,C){C.sort(function(T,B){return T.x1-B.x1||T.index-B.index});let E=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(let T of C){let B=0;for(;B<E.length&&E[B].end<=T.y1;)B++;let M=E.length-1;for(;M>=0&&E[M].start>=T.y2;)M--;let D,U,I,N,q=-1/0;for(I=B;I<=M;I++){D=E[I],U=D.boundary;let oe;U.x2>T.x1?oe=U.index>T.index?U.x1New:T.x1:U.x2New===void 0?oe=(U.x2+T.x1)/2:oe=U.x2New,oe>q&&(q=oe)}for(T.x1New=q,I=B;I<=M;I++)D=E[I],U=D.boundary,U.x2New===void 0?U.x2>T.x1?U.index>T.index&&(U.x2New=U.x2):U.x2New=q:U.x2New>q&&(U.x2New=Math.max(q,U.x2));let z=[],ne=null;for(I=B;I<=M;I++){D=E[I],U=D.boundary;let oe=U.x2>T.x2?U:T;ne===oe?z[z.length-1].end=D.end:(z.push({start:D.start,end:D.end,boundary:oe}),ne=oe)}for(E[B].start<T.y1&&(z[0].start=T.y1,z.unshift({start:E[B].start,end:T.y1,boundary:E[B].boundary})),T.y2<E[M].end&&(z[z.length-1].end=T.y2,z.push({start:T.y2,end:E[M].end,boundary:E[M].boundary})),I=B;I<=M;I++){if(D=E[I],U=D.boundary,U.x2New!==void 0)continue;let oe=!1;for(N=B-1;!oe&&N>=0&&E[N].start>=U.y1;N--)oe=E[N].boundary===U;for(N=M+1;!oe&&N<E.length&&E[N].end<=U.y2;N++)oe=E[N].boundary===U;for(N=0;!oe&&N<z.length;N++)oe=z[N].boundary===U;oe||(U.x2New=q)}Array.prototype.splice.apply(E,[B,M-B+1].concat(z))}for(let T of E){let B=T.boundary;B.x2New===void 0&&(B.x2New=Math.max(A,B.x2))}}class g{constructor({textContent:C,textContentStream:O,container:E,viewport:T,textDivs:B,textContentItemsStr:M,enhanceTextSelection:D}){this._textContent=C,this._textContentStream=O,this._container=E,this._document=E.ownerDocument,this._viewport=T,this._textDivs=B||[],this._textContentItemsStr=M||[],this._enhanceTextSelection=!!D,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(C,O){for(let E=0,T=C.length;E<T;E++){if(C[E].str===void 0){if(C[E].type==="beginMarkedContentProps"||C[E].type==="beginMarkedContent"){let B=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),C[E].id!==null&&this._container.setAttribute("id",`${C[E].id}`),B.appendChild(this._container)}else C[E].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(C[E].str),y(this,C[E],O,this._layoutTextCtx)}}_layoutText(C){let O=this._textDivProperties.get(C),E="";if(O.canvasWidth!==0&&O.hasText){let{fontSize:T,fontFamily:B}=C.style;(T!==this._layoutTextLastFontSize||B!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${T} ${B}`,this._layoutTextLastFontSize=T,this._layoutTextLastFontFamily=B);let{width:M}=this._layoutTextCtx.measureText(C.textContent);if(M>0){let D=O.canvasWidth/M;this._enhanceTextSelection&&(O.scale=D),E=`scaleX(${D})`}}if(O.angle!==0&&(E=`rotate(${O.angle}deg) ${E}`),E.length>0&&(this._enhanceTextSelection&&(O.originalTransform=E),C.style.transform=E),O.hasText&&this._container.appendChild(C),O.hasEOL){let T=document.createElement("br");T.setAttribute("role","presentation"),this._container.appendChild(T)}}_render(C=0){let O=(0,i.createPromiseCapability)(),E=Object.create(null),T=this._document.createElement("canvas");if(T.height=T.width=s,this._layoutTextCtx=T.getContext("2d",{alpha:!1}),this._textContent){let B=this._textContent.items,M=this._textContent.styles;this._processItems(B,M),O.resolve()}else if(this._textContentStream){let B=()=>{this._reader.read().then(({value:M,done:D})=>{if(D){O.resolve();return}Object.assign(E,M.styles),this._processItems(M.items,E),B()},O.reject)};this._reader=this._textContentStream.getReader(),B()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');O.promise.then(()=>{E=null,C?this._renderTimer=setTimeout(()=>{b(this),this._renderTimer=null},C):b(this)},this._capability.reject)}expandTextDivs(C=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(p(this),this._bounds=null);let O=[],E=[];for(let T=0,B=this._textDivs.length;T<B;T++){let M=this._textDivs[T],D=this._textDivProperties.get(M);!D.hasText||(C?(O.length=0,E.length=0,D.originalTransform&&O.push(D.originalTransform),D.paddingTop>0?(E.push(`${D.paddingTop}px`),O.push(`translateY(${-D.paddingTop}px)`)):E.push(0),D.paddingRight>0?E.push(`${D.paddingRight/D.scale}px`):E.push(0),D.paddingBottom>0?E.push(`${D.paddingBottom}px`):E.push(0),D.paddingLeft>0?(E.push(`${D.paddingLeft/D.scale}px`),O.push(`translateX(${-D.paddingLeft/D.scale}px)`)):E.push(0),M.style.padding=E.join(" "),O.length&&(M.style.transform=O.join(" "))):(M.style.padding=null,M.style.transform=D.originalTransform))}}}function v(A){let C=new g({textContent:A.textContent,textContentStream:A.textContentStream,container:A.container,viewport:A.viewport,textDivs:A.textDivs,textContentItemsStr:A.textContentItemsStr,enhanceTextSelection:A.enhanceTextSelection});return C._render(A.timeout),C}},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var i=n(1),o=n(5),s=n(3);let l=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=l;{let f=function(E){let T=[],B=[];for(let M of E){if(M.fn==="save"){T.push({fnId:92,fn:"group",items:[]}),B.push(T),T=T[T.length-1].items;continue}M.fn==="restore"?T=B.pop():T.push(M)}return T},g=function(E){if(Number.isInteger(E))return E.toString();let T=E.toFixed(10),B=T.length-1;if(T[B]!=="0")return T;do B--;while(T[B]==="0");return T.substring(0,T[B]==="."?B:B+1)},v=function(E){if(E[4]===0&&E[5]===0){if(E[1]===0&&E[2]===0)return E[0]===1&&E[3]===1?"":`scale(${g(E[0])} ${g(E[3])})`;if(E[0]===E[3]&&E[1]===-E[2]){let T=Math.acos(E[0])*180/Math.PI;return`rotate(${g(T)})`}}else if(E[0]===1&&E[1]===0&&E[2]===0&&E[3]===1)return`translate(${g(E[4])} ${g(E[5])})`;return`matrix(${g(E[0])} ${g(E[1])} ${g(E[2])} ${g(E[3])} ${g(E[4])} ${g(E[5])})`},u={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",y=["butt","round","square"],b=["miter","round","bevel"],w=function(E,T="",B=!1){if(URL.createObjectURL&&typeof Blob!="undefined"&&!B)return URL.createObjectURL(new Blob([E],{type:T}));let M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",D=`data:${T};base64,`;for(let U=0,I=E.length;U<I;U+=3){let N=E[U]&255,q=E[U+1]&255,z=E[U+2]&255,ne=N>>2,oe=(N&3)<<4|q>>4,ae=U+1<I?(q&15)<<2|z>>6:64,te=U+2<I?z&63:64;D+=M[ne]+M[oe]+M[ae]+M[te]}return D},p=function(){let E=new Uint8Array([137,80,78,71,13,10,26,10]),T=12,B=new Int32Array(256);for(let z=0;z<256;z++){let ne=z;for(let oe=0;oe<8;oe++)ne&1?ne=3988292384^ne>>1&2147483647:ne=ne>>1&2147483647;B[z]=ne}function M(z,ne,oe){let ae=-1;for(let te=ne;te<oe;te++){let le=(ae^z[te])&255,xe=B[le];ae=ae>>>8^xe}return ae^-1}function D(z,ne,oe,ae){let te=ae,le=ne.length;oe[te]=le>>24&255,oe[te+1]=le>>16&255,oe[te+2]=le>>8&255,oe[te+3]=le&255,te+=4,oe[te]=z.charCodeAt(0)&255,oe[te+1]=z.charCodeAt(1)&255,oe[te+2]=z.charCodeAt(2)&255,oe[te+3]=z.charCodeAt(3)&255,te+=4,oe.set(ne,te),te+=ne.length;let xe=M(oe,ae+4,te);oe[te]=xe>>24&255,oe[te+1]=xe>>16&255,oe[te+2]=xe>>8&255,oe[te+3]=xe&255}function U(z,ne,oe){let ae=1,te=0;for(let le=ne;le<oe;++le)ae=(ae+(z[le]&255))%65521,te=(te+ae)%65521;return te<<16|ae}function I(z){if(!s.isNodeJS)return N(z);try{let ne;parseInt(process.versions.node)>=8?ne=z:ne=Buffer.from(z);let oe=ix().deflateSync(ne,{level:9});return oe instanceof Uint8Array?oe:new Uint8Array(oe)}catch(ne){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ne)}return N(z)}function N(z){let ne=z.length,oe=65535,ae=Math.ceil(ne/oe),te=new Uint8Array(2+ne+ae*5+4),le=0;te[le++]=120,te[le++]=156;let xe=0;for(;ne>oe;)te[le++]=0,te[le++]=255,te[le++]=255,te[le++]=0,te[le++]=0,te.set(z.subarray(xe,xe+oe),le),le+=oe,xe+=oe,ne-=oe;te[le++]=1,te[le++]=ne&255,te[le++]=ne>>8&255,te[le++]=~ne&65535&255,te[le++]=(~ne&65535)>>8&255,te.set(z.subarray(xe),le),le+=z.length-xe;let fe=U(z,0,z.length);return te[le++]=fe>>24&255,te[le++]=fe>>16&255,te[le++]=fe>>8&255,te[le++]=fe&255,te}function q(z,ne,oe,ae){let te=z.width,le=z.height,xe,fe,J,j=z.data;switch(ne){case i.ImageKind.GRAYSCALE_1BPP:fe=0,xe=1,J=te+7>>3;break;case i.ImageKind.RGB_24BPP:fe=2,xe=8,J=te*3;break;case i.ImageKind.RGBA_32BPP:fe=6,xe=8,J=te*4;break;default:throw new Error("invalid format")}let k=new Uint8Array((1+J)*le),x=0,R=0;for(let ee=0;ee<le;++ee)k[x++]=0,k.set(j.subarray(R,R+J),x),R+=J,x+=J;if(ne===i.ImageKind.GRAYSCALE_1BPP&&ae){x=0;for(let ee=0;ee<le;ee++){x++;for(let ie=0;ie<J;ie++)k[x++]^=255}}let L=new Uint8Array([te>>24&255,te>>16&255,te>>8&255,te&255,le>>24&255,le>>16&255,le>>8&255,le&255,xe,fe,0,0,0]),F=I(k),W=E.length+T*3+L.length+F.length,V=new Uint8Array(W),Z=0;return V.set(E,Z),Z+=E.length,D("IHDR",L,V,Z),Z+=T+L.length,D("IDATA",F,V,Z),Z+=T+F.length,D("IEND",new Uint8Array(0),V,Z),w(V,"image/png",oe)}return function(ne,oe,ae){let te=ne.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:ne.kind;return q(ne,te,oe,ae)}}();class m{constructor(){this.fontSizeScale=1,this.fontWeight=u.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=u.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(T,B){this.x=T,this.y=B}}let A=0,C=0,O=0;t.SVGGraphics=l=class{constructor(E,T,B=!1){this.svgFactory=new o.DOMSVGFactory,this.current=new m,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=E,this.objs=T,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!B,this._operatorIdMapping=[];for(let M in i.OPS)this._operatorIdMapping[i.OPS[M]]=M}save(){this.transformStack.push(this.transformMatrix);let E=this.current;this.extraStack.push(E),this.current=E.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(E){this.save(),this.executeOpTree(E),this.restore()}loadDependencies(E){let T=E.fnArray,B=E.argsArray;for(let M=0,D=T.length;M<D;M++)if(T[M]===i.OPS.dependency)for(let U of B[M]){let I=U.startsWith("g_")?this.commonObjs:this.objs,N=new Promise(q=>{I.get(U,q)});this.current.dependencies.push(N)}return Promise.all(this.current.dependencies)}transform(E,T,B,M,D,U){let I=[E,T,B,M,D,U];this.transformMatrix=i.Util.transform(this.transformMatrix,I),this.tgrp=null}getSVG(E,T){this.viewport=T;let B=this._initialize(T);return this.loadDependencies(E).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(E)),B))}convertOpList(E){let T=this._operatorIdMapping,B=E.argsArray,M=E.fnArray,D=[];for(let U=0,I=M.length;U<I;U++){let N=M[U];D.push({fnId:N,fn:T[N],args:B[U]})}return f(D)}executeOpTree(E){for(let T of E){let B=T.fn,M=T.fnId,D=T.args;switch(M|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(D);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(D[0],D[1]);break;case i.OPS.setFont:this.setFont(D);break;case i.OPS.showText:this.showText(D[0]);break;case i.OPS.showSpacedText:this.showText(D[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(D[0],D[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(D[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(D[0]);break;case i.OPS.setHScale:this.setHScale(D[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(D[0],D[1],D[2],D[3],D[4],D[5]);break;case i.OPS.setTextRise:this.setTextRise(D[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(D[0]);break;case i.OPS.setLineWidth:this.setLineWidth(D[0]);break;case i.OPS.setLineJoin:this.setLineJoin(D[0]);break;case i.OPS.setLineCap:this.setLineCap(D[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(D[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(D[0],D[1],D[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(D[0],D[1],D[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(D);break;case i.OPS.setFillColorN:this.setFillColorN(D);break;case i.OPS.shadingFill:this.shadingFill(D[0]);break;case i.OPS.setDash:this.setDash(D[0],D[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(D[0]);break;case i.OPS.setFlatness:this.setFlatness(D[0]);break;case i.OPS.setGState:this.setGState(D[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(D[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(D[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(D[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(D[0],D[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(D[0],D[1],D[2],D[3],D[4],D[5]);break;case i.OPS.constructPath:this.constructPath(D[0],D[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(T.items);break;default:(0,i.warn)(`Unimplemented operator ${B}`);break}}}setWordSpacing(E){this.current.wordSpacing=E}setCharSpacing(E){this.current.charSpacing=E}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(E,T,B,M,D,U){let I=this.current;I.textMatrix=I.lineMatrix=[E,T,B,M,D,U],I.textMatrixScale=Math.hypot(E,T),I.x=I.lineX=0,I.y=I.lineY=0,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${g(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",g(-I.y)),I.txtElement=this.svgFactory.createElement("svg:text"),I.txtElement.appendChild(I.tspan)}beginText(){let E=this.current;E.x=E.lineX=0,E.y=E.lineY=0,E.textMatrix=i.IDENTITY_MATRIX,E.lineMatrix=i.IDENTITY_MATRIX,E.textMatrixScale=1,E.tspan=this.svgFactory.createElement("svg:tspan"),E.txtElement=this.svgFactory.createElement("svg:text"),E.txtgrp=this.svgFactory.createElement("svg:g"),E.xcoords=[],E.ycoords=[]}moveText(E,T){let B=this.current;B.x=B.lineX+=E,B.y=B.lineY+=T,B.xcoords=[],B.ycoords=[],B.tspan=this.svgFactory.createElement("svg:tspan"),B.tspan.setAttributeNS(null,"font-family",B.fontFamily),B.tspan.setAttributeNS(null,"font-size",`${g(B.fontSize)}px`),B.tspan.setAttributeNS(null,"y",g(-B.y))}showText(E){let T=this.current,B=T.font,M=T.fontSize;if(M===0)return;let D=T.fontSizeScale,U=T.charSpacing,I=T.wordSpacing,N=T.fontDirection,q=T.textHScale*N,z=B.vertical,ne=z?1:-1,oe=B.defaultVMetrics,ae=M*T.fontMatrix[0],te=0;for(let fe of E){if(fe===null){te+=N*I;continue}else if(typeof fe=="number"){te+=ne*fe*M/1e3;continue}let J=(fe.isSpace?I:0)+U,j=fe.fontChar,k,x,R=fe.width;if(z){let F,W=fe.vmetric||oe;F=fe.vmetric?W[1]:R*.5,F=-F*ae;let V=W[2]*ae;R=W?-W[0]:R,k=F/D,x=(te+V)/D}else k=te/D,x=0;(fe.isInFont||B.missingFile)&&(T.xcoords.push(T.x+k),z&&T.ycoords.push(-T.y+x),T.tspan.textContent+=j);let L;z?L=R*ae-J*N:L=R*ae+J*N,te+=L}T.tspan.setAttributeNS(null,"x",T.xcoords.map(g).join(" ")),z?T.tspan.setAttributeNS(null,"y",T.ycoords.map(g).join(" ")):T.tspan.setAttributeNS(null,"y",g(-T.y)),z?T.y-=te:T.x+=te*q,T.tspan.setAttributeNS(null,"font-family",T.fontFamily),T.tspan.setAttributeNS(null,"font-size",`${g(T.fontSize)}px`),T.fontStyle!==u.fontStyle&&T.tspan.setAttributeNS(null,"font-style",T.fontStyle),T.fontWeight!==u.fontWeight&&T.tspan.setAttributeNS(null,"font-weight",T.fontWeight);let le=T.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(le===i.TextRenderingMode.FILL||le===i.TextRenderingMode.FILL_STROKE?(T.fillColor!==u.fillColor&&T.tspan.setAttributeNS(null,"fill",T.fillColor),T.fillAlpha<1&&T.tspan.setAttributeNS(null,"fill-opacity",T.fillAlpha)):T.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?T.tspan.setAttributeNS(null,"fill","transparent"):T.tspan.setAttributeNS(null,"fill","none"),le===i.TextRenderingMode.STROKE||le===i.TextRenderingMode.FILL_STROKE){let fe=1/(T.textMatrixScale||1);this._setStrokeAttributes(T.tspan,fe)}let xe=T.textMatrix;T.textRise!==0&&(xe=xe.slice(),xe[5]+=T.textRise),T.txtElement.setAttributeNS(null,"transform",`${v(xe)} scale(${g(q)}, -1)`),T.txtElement.setAttributeNS(d,"xml:space","preserve"),T.txtElement.appendChild(T.tspan),T.txtgrp.appendChild(T.txtElement),this._ensureTransformGroup().appendChild(T.txtElement)}setLeadingMoveText(E,T){this.setLeading(-T),this.moveText(E,T)}addFontStyle(E){if(!E.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));let T=w(E.data,E.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${E.loadedName}"; src: url(${T}); }
`}setFont(E){let T=this.current,B=this.commonObjs.get(E[0]),M=E[1];T.font=B,this.embedFonts&&!B.missingFile&&!this.embeddedFonts[B.loadedName]&&(this.addFontStyle(B),this.embeddedFonts[B.loadedName]=B),T.fontMatrix=B.fontMatrix||i.FONT_IDENTITY_MATRIX;let D="normal";B.black?D="900":B.bold&&(D="bold");let U=B.italic?"italic":"normal";M<0?(M=-M,T.fontDirection=-1):T.fontDirection=1,T.fontSize=M,T.fontFamily=B.loadedName,T.fontWeight=D,T.fontStyle=U,T.tspan=this.svgFactory.createElement("svg:tspan"),T.tspan.setAttributeNS(null,"y",g(-T.y)),T.xcoords=[],T.ycoords=[]}endText(){let E=this.current;E.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&E.txtElement?.hasChildNodes()&&(E.element=E.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(E){E>0&&(this.current.lineWidth=E)}setLineCap(E){this.current.lineCap=y[E]}setLineJoin(E){this.current.lineJoin=b[E]}setMiterLimit(E){this.current.miterLimit=E}setStrokeAlpha(E){this.current.strokeAlpha=E}setStrokeRGBColor(E,T,B){this.current.strokeColor=i.Util.makeHexColor(E,T,B)}setFillAlpha(E){this.current.fillAlpha=E}setFillRGBColor(E,T,B){this.current.fillColor=i.Util.makeHexColor(E,T,B),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(E){this.current.strokeColor=this._makeColorN_Pattern(E)}setFillColorN(E){this.current.fillColor=this._makeColorN_Pattern(E)}shadingFill(E){let T=this.viewport.width,B=this.viewport.height,M=i.Util.inverseTransform(this.transformMatrix),D=i.Util.applyTransform([0,0],M),U=i.Util.applyTransform([0,B],M),I=i.Util.applyTransform([T,0],M),N=i.Util.applyTransform([T,B],M),q=Math.min(D[0],U[0],I[0],N[0]),z=Math.min(D[1],U[1],I[1],N[1]),ne=Math.max(D[0],U[0],I[0],N[0]),oe=Math.max(D[1],U[1],I[1],N[1]),ae=this.svgFactory.createElement("svg:rect");ae.setAttributeNS(null,"x",q),ae.setAttributeNS(null,"y",z),ae.setAttributeNS(null,"width",ne-q),ae.setAttributeNS(null,"height",oe-z),ae.setAttributeNS(null,"fill",this._makeShadingPattern(E)),this.current.fillAlpha<1&&ae.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ae)}_makeColorN_Pattern(E){return E[0]==="TilingPattern"?this._makeTilingPattern(E):this._makeShadingPattern(E)}_makeTilingPattern(E){let T=E[1],B=E[2],M=E[3]||i.IDENTITY_MATRIX,[D,U,I,N]=E[4],q=E[5],z=E[6],ne=E[7],oe=`shading${O++}`,[ae,te,le,xe]=i.Util.normalizeRect([...i.Util.applyTransform([D,U],M),...i.Util.applyTransform([I,N],M)]),[fe,J]=i.Util.singularValueDecompose2dScale(M),j=q*fe,k=z*J,x=this.svgFactory.createElement("svg:pattern");x.setAttributeNS(null,"id",oe),x.setAttributeNS(null,"patternUnits","userSpaceOnUse"),x.setAttributeNS(null,"width",j),x.setAttributeNS(null,"height",k),x.setAttributeNS(null,"x",`${ae}`),x.setAttributeNS(null,"y",`${te}`);let R=this.svg,L=this.transformMatrix,F=this.current.fillColor,W=this.current.strokeColor,V=this.svgFactory.create(le-ae,xe-te);if(this.svg=V,this.transformMatrix=M,ne===2){let Z=i.Util.makeHexColor(...T);this.current.fillColor=Z,this.current.strokeColor=Z}return this.executeOpTree(this.convertOpList(B)),this.svg=R,this.transformMatrix=L,this.current.fillColor=F,this.current.strokeColor=W,x.appendChild(V.childNodes[0]),this.defs.appendChild(x),`url(#${oe})`}_makeShadingPattern(E){switch(typeof E=="string"&&(E=this.objs.get(E)),E[0]){case"RadialAxial":let T=`shading${O++}`,B=E[3],M;switch(E[1]){case"axial":let D=E[4],U=E[5];M=this.svgFactory.createElement("svg:linearGradient"),M.setAttributeNS(null,"id",T),M.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),M.setAttributeNS(null,"x1",D[0]),M.setAttributeNS(null,"y1",D[1]),M.setAttributeNS(null,"x2",U[0]),M.setAttributeNS(null,"y2",U[1]);break;case"radial":let I=E[4],N=E[5],q=E[6],z=E[7];M=this.svgFactory.createElement("svg:radialGradient"),M.setAttributeNS(null,"id",T),M.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),M.setAttributeNS(null,"cx",N[0]),M.setAttributeNS(null,"cy",N[1]),M.setAttributeNS(null,"r",z),M.setAttributeNS(null,"fx",I[0]),M.setAttributeNS(null,"fy",I[1]),M.setAttributeNS(null,"fr",q);break;default:throw new Error(`Unknown RadialAxial type: ${E[1]}`)}for(let D of B){let U=this.svgFactory.createElement("svg:stop");U.setAttributeNS(null,"offset",D[0]),U.setAttributeNS(null,"stop-color",D[1]),M.appendChild(U)}return this.defs.appendChild(M),`url(#${T})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${E[0]}`)}}setDash(E,T){this.current.dashArray=E,this.current.dashPhase=T}constructPath(E,T){let B=this.current,M=B.x,D=B.y,U=[],I=0;for(let N of E)switch(N|0){case i.OPS.rectangle:M=T[I++],D=T[I++];let q=T[I++],z=T[I++],ne=M+q,oe=D+z;U.push("M",g(M),g(D),"L",g(ne),g(D),"L",g(ne),g(oe),"L",g(M),g(oe),"Z");break;case i.OPS.moveTo:M=T[I++],D=T[I++],U.push("M",g(M),g(D));break;case i.OPS.lineTo:M=T[I++],D=T[I++],U.push("L",g(M),g(D));break;case i.OPS.curveTo:M=T[I+4],D=T[I+5],U.push("C",g(T[I]),g(T[I+1]),g(T[I+2]),g(T[I+3]),g(M),g(D)),I+=6;break;case i.OPS.curveTo2:U.push("C",g(M),g(D),g(T[I]),g(T[I+1]),g(T[I+2]),g(T[I+3])),M=T[I+2],D=T[I+3],I+=4;break;case i.OPS.curveTo3:M=T[I+2],D=T[I+3],U.push("C",g(T[I]),g(T[I+1]),g(M),g(D),g(M),g(D)),I+=4;break;case i.OPS.closePath:U.push("Z");break}U=U.join(" "),B.path&&E.length>0&&E[0]!==i.OPS.rectangle&&E[0]!==i.OPS.moveTo?U=B.path.getAttributeNS(null,"d")+U:(B.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(B.path)),B.path.setAttributeNS(null,"d",U),B.path.setAttributeNS(null,"fill","none"),B.element=B.path,B.setCurrentPoint(M,D)}endPath(){let E=this.current;if(E.path=null,!this.pendingClip)return;if(!E.element){this.pendingClip=null;return}let T=`clippath${A++}`,B=this.svgFactory.createElement("svg:clipPath");B.setAttributeNS(null,"id",T),B.setAttributeNS(null,"transform",v(this.transformMatrix));let M=E.element.cloneNode(!0);if(this.pendingClip==="evenodd"?M.setAttributeNS(null,"clip-rule","evenodd"):M.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,B.appendChild(M),this.defs.appendChild(B),E.activeClipUrl){E.clipGroup=null;for(let D of this.extraStack)D.clipGroup=null;B.setAttributeNS(null,"clip-path",E.activeClipUrl)}E.activeClipUrl=`url(#${T})`,this.tgrp=null}clip(E){this.pendingClip=E}closePath(){let E=this.current;if(E.path){let T=`${E.path.getAttributeNS(null,"d")}Z`;E.path.setAttributeNS(null,"d",T)}}setLeading(E){this.current.leading=-E}setTextRise(E){this.current.textRise=E}setTextRenderingMode(E){this.current.textRenderingMode=E}setHScale(E){this.current.textHScale=E/100}setRenderingIntent(E){}setFlatness(E){}setGState(E){for(let[T,B]of E)switch(T){case"LW":this.setLineWidth(B);break;case"LC":this.setLineCap(B);break;case"LJ":this.setLineJoin(B);break;case"ML":this.setMiterLimit(B);break;case"D":this.setDash(B[0],B[1]);break;case"RI":this.setRenderingIntent(B);break;case"FL":this.setFlatness(B);break;case"Font":this.setFont(B);break;case"CA":this.setStrokeAlpha(B);break;case"ca":this.setFillAlpha(B);break;default:(0,i.warn)(`Unimplemented graphic state operator ${T}`);break}}fill(){let E=this.current;E.element&&(E.element.setAttributeNS(null,"fill",E.fillColor),E.element.setAttributeNS(null,"fill-opacity",E.fillAlpha),this.endPath())}stroke(){let E=this.current;E.element&&(this._setStrokeAttributes(E.element),E.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(E,T=1){let B=this.current,M=B.dashArray;T!==1&&M.length>0&&(M=M.map(function(D){return T*D})),E.setAttributeNS(null,"stroke",B.strokeColor),E.setAttributeNS(null,"stroke-opacity",B.strokeAlpha),E.setAttributeNS(null,"stroke-miterlimit",g(B.miterLimit)),E.setAttributeNS(null,"stroke-linecap",B.lineCap),E.setAttributeNS(null,"stroke-linejoin",B.lineJoin),E.setAttributeNS(null,"stroke-width",g(T*B.lineWidth)+"px"),E.setAttributeNS(null,"stroke-dasharray",M.map(g).join(" ")),E.setAttributeNS(null,"stroke-dashoffset",g(T*B.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width","1px"),E.setAttributeNS(null,"height","1px"),E.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(E)}paintImageXObject(E){let T=E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E);if(!T){(0,i.warn)(`Dependent image with object ID ${E} is not ready yet`);return}this.paintInlineImageXObject(T)}paintInlineImageXObject(E,T){let B=E.width,M=E.height,D=p(E,this.forceDataSchema,!!T),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y","0"),U.setAttributeNS(null,"width",g(B)),U.setAttributeNS(null,"height",g(M)),this.current.element=U,this.clip("nonzero");let I=this.svgFactory.createElement("svg:image");I.setAttributeNS(h,"xlink:href",D),I.setAttributeNS(null,"x","0"),I.setAttributeNS(null,"y",g(-M)),I.setAttributeNS(null,"width",g(B)+"px"),I.setAttributeNS(null,"height",g(M)+"px"),I.setAttributeNS(null,"transform",`scale(${g(1/B)} ${g(-1/M)})`),T?T.appendChild(I):this._ensureTransformGroup().appendChild(I)}paintImageMaskXObject(E){let T=this.current,B=E.width,M=E.height,D=T.fillColor;T.maskId=`mask${C++}`;let U=this.svgFactory.createElement("svg:mask");U.setAttributeNS(null,"id",T.maskId);let I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x","0"),I.setAttributeNS(null,"y","0"),I.setAttributeNS(null,"width",g(B)),I.setAttributeNS(null,"height",g(M)),I.setAttributeNS(null,"fill",D),I.setAttributeNS(null,"mask",`url(#${T.maskId})`),this.defs.appendChild(U),this._ensureTransformGroup().appendChild(I),this.paintInlineImageXObject(E,U)}paintFormXObjectBegin(E,T){if(Array.isArray(E)&&E.length===6&&this.transform(E[0],E[1],E[2],E[3],E[4],E[5]),T){let B=T[2]-T[0],M=T[3]-T[1],D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x",T[0]),D.setAttributeNS(null,"y",T[1]),D.setAttributeNS(null,"width",g(B)),D.setAttributeNS(null,"height",g(M)),this.current.element=D,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(E){let T=this.svgFactory.create(E.width,E.height),B=this.svgFactory.createElement("svg:defs");T.appendChild(B),this.defs=B;let M=this.svgFactory.createElement("svg:g");return M.setAttributeNS(null,"transform",v(E.transform)),T.appendChild(M),this.svg=M,T}_ensureClipGroup(){if(!this.current.clipGroup){let E=this.svgFactory.createElement("svg:g");E.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(E),this.current.clipGroup=E}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",v(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var i=n(1),o=n(26);let s=bd(),l=rx(),u=ox(),d=yd(),h=/^file:\/\/\/[a-zA-Z]:\//;function y(C){let O=d.parse(C);return O.protocol==="file:"||O.host?O:/^[a-z]:[/\\]/i.test(C)?d.parse(`file:///${C}`):(O.host||(O.protocol="file:"),O)}class b{constructor(O){this.source=O,this.url=y(O.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&O.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new v(this):new f(this),this._fullRequestReader}getRangeReader(O,E){if(E<=this._progressiveDataLength)return null;let T=this.isFsUrl?new A(this,O,E):new g(this,O,E);return this._rangeRequestReaders.push(T),T}cancelAllRequests(O){this._fullRequestReader&&this._fullRequestReader.cancel(O);for(let E of this._rangeRequestReaders.slice(0))E.cancel(O)}}t.PDFNodeStream=b;class w{constructor(O){this._url=O.url,this._done=!1,this._storedError=null,this.onProgress=null;let E=O.source;this._contentLength=E.length,this._loaded=0,this._filename=null,this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let O=this._readableStream.read();return O===null?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=O.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(O).buffer,done:!1})}cancel(O){if(!this._readableStream){this._error(O);return}this._readableStream.destroy(O)}_error(O){this._storedError=O,this._readCapability.resolve()}_setReadableStream(O){this._readableStream=O,O.on("readable",()=>{this._readCapability.resolve()}),O.on("end",()=>{O.destroy(),this._done=!0,this._readCapability.resolve()}),O.on("error",E=>{this._error(E)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class p{constructor(O){this._url=O.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)();let E=O.source;this._isStreamingSupported=!E.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let O=this._readableStream.read();return O===null?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=O.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(O).buffer,done:!1})}cancel(O){if(!this._readableStream){this._error(O);return}this._readableStream.destroy(O)}_error(O){this._storedError=O,this._readCapability.resolve()}_setReadableStream(O){this._readableStream=O,O.on("readable",()=>{this._readCapability.resolve()}),O.on("end",()=>{O.destroy(),this._done=!0,this._readCapability.resolve()}),O.on("error",E=>{this._error(E)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(C,O){return{protocol:C.protocol,auth:C.auth,host:C.hostname,port:C.port,path:C.path,method:"GET",headers:O}}class f extends w{constructor(O){super(O);let E=T=>{if(T.statusCode===404){let U=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=U,this._headersCapability.reject(U);return}this._headersCapability.resolve(),this._setReadableStream(T);let B=U=>this._readableStream.headers[U.toLowerCase()],{allowRangeRequests:M,suggestedLength:D}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:B,isHttp:O.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=M,this._contentLength=D||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(B)};this._request=null,this._url.protocol==="http:"?this._request=l.request(m(this._url,O.httpHeaders),E):this._request=u.request(m(this._url,O.httpHeaders),E),this._request.on("error",T=>{this._storedError=T,this._headersCapability.reject(T)}),this._request.end()}}class g extends p{constructor(O,E,T){super(O);this._httpHeaders={};for(let M in O.httpHeaders){let D=O.httpHeaders[M];typeof D!="undefined"&&(this._httpHeaders[M]=D)}this._httpHeaders.Range=`bytes=${E}-${T-1}`;let B=M=>{if(M.statusCode===404){let D=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=D;return}this._setReadableStream(M)};this._request=null,this._url.protocol==="http:"?this._request=l.request(m(this._url,this._httpHeaders),B):this._request=u.request(m(this._url,this._httpHeaders),B),this._request.on("error",M=>{this._storedError=M}),this._request.end()}}class v extends w{constructor(O){super(O);let E=decodeURIComponent(this._url.path);h.test(this._url.href)&&(E=E.replace(/^\//,"")),s.lstat(E,(T,B)=>{if(T){T.code==="ENOENT"&&(T=new i.MissingPDFException(`Missing PDF "${E}".`)),this._storedError=T,this._headersCapability.reject(T);return}this._contentLength=B.size,this._setReadableStream(s.createReadStream(E)),this._headersCapability.resolve()})}}class A extends p{constructor(O,E,T){super(O);let B=decodeURIComponent(this._url.path);h.test(this._url.href)&&(B=B.replace(/^\//,"")),this._setReadableStream(s.createReadStream(B,{start:E,end:T-1}))}}},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=d,t.extractFilenameFromHeader=u,t.validateRangeRequestCapabilities=l,t.validateResponseStatus=h;var i=n(1),o=n(27),s=n(5);function l({getResponseHeader:y,isHttp:b,rangeChunkSize:w,disableRange:p}){let m={allowRangeRequests:!1,suggestedLength:void 0},f=parseInt(y("Content-Length"),10);return!Number.isInteger(f)||(m.suggestedLength=f,f<=2*w)||p||!b||y("Accept-Ranges")!=="bytes"||(y("Content-Encoding")||"identity")!=="identity"||(m.allowRangeRequests=!0),m}function u(y){let b=y("Content-Disposition");if(b){let w=(0,o.getFilenameFromContentDispositionHeader)(b);if(w.includes("%"))try{w=decodeURIComponent(w)}catch(p){}if((0,s.isPdfFile)(w))return w}return null}function d(y,b){return y===404||y===0&&b.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+b+'".'):new i.UnexpectedResponseException(`Unexpected server response (${y}) while retrieving PDF "${b}".`,y)}function h(y){return y===200||y===206}},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=o;var i=n(1);function o(s){let l=!0,u=d("filename\\*","i").exec(s);if(u){u=u[1];let f=w(u);return f=unescape(f),f=p(f),f=m(f),y(f)}if(u=b(s),u){let f=m(u);return y(f)}if(u=d("filename","i").exec(s),u){u=u[1];let f=w(u);return f=m(f),y(f)}function d(f,g){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function h(f,g){if(f){if(!/^[\x00-\xFF]+$/.test(g))return g;try{let v=new TextDecoder(f,{fatal:!0}),A=(0,i.stringToBytes)(g);g=v.decode(A),l=!1}catch(v){}}return g}function y(f){return l&&/[\x80-\xff]/.test(f)&&(f=h("utf-8",f),l&&(f=h("iso-8859-1",f))),f}function b(f){let g=[],v,A=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=A.exec(f))!==null;){let[,O,E,T]=v;if(O=parseInt(O,10),O in g){if(O===0)break;continue}g[O]=[E,T]}let C=[];for(let O=0;O<g.length&&O in g;++O){let[E,T]=g[O];T=w(T),E&&(T=unescape(T),O===0&&(T=p(T))),C.push(T)}return C.join("")}function w(f){if(f.startsWith('"')){let g=f.slice(1).split('\\"');for(let v=0;v<g.length;++v){let A=g[v].indexOf('"');A!==-1&&(g[v]=g[v].slice(0,A),g.length=v+1),g[v]=g[v].replace(/\\(.)/g,"$1")}f=g.join('"')}return f}function p(f){let g=f.indexOf("'");if(g===-1)return f;let v=f.slice(0,g),C=f.slice(g+1).replace(/^[^']*'/,"");return h(v,C)}function m(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,v,A,C){if(A==="q"||A==="Q")return C=C.replace(/_/g," "),C=C.replace(/=([0-9a-fA-F]{2})/g,function(O,E){return String.fromCharCode(parseInt(E,16))}),h(v,C);try{C=atob(C)}catch(O){}return h(v,C)})}return""}},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var i=n(1),o=n(26);let s=200,l=206;function u(w){let p=w.response;return typeof p!="string"?p:(0,i.stringToBytes)(p).buffer}class d{constructor(p,m={}){this.url=p,this.isHttp=/^https?:/i.test(p),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(p,m,f){let g={begin:p,end:m};for(let v in f)g[v]=f[v];return this.request(g)}requestFull(p){return this.request(p)}request(p){let m=this.getXhr(),f=this.currXhrId++,g=this.pendingRequests[f]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(let v in this.httpHeaders){let A=this.httpHeaders[v];typeof A!="undefined"&&m.setRequestHeader(v,A)}return this.isHttp&&"begin"in p&&"end"in p?(m.setRequestHeader("Range",`bytes=${p.begin}-${p.end-1}`),g.expectedStatus=l):g.expectedStatus=s,m.responseType="arraybuffer",p.onError&&(m.onerror=function(v){p.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,f),m.onprogress=this.onProgress.bind(this,f),g.onHeadersReceived=p.onHeadersReceived,g.onDone=p.onDone,g.onError=p.onError,g.onProgress=p.onProgress,m.send(null),f}onProgress(p,m){let f=this.pendingRequests[p];!f||f.onProgress?.(m)}onStateChange(p,m){let f=this.pendingRequests[p];if(!f)return;let g=f.xhr;if(g.readyState>=2&&f.onHeadersReceived&&(f.onHeadersReceived(),delete f.onHeadersReceived),g.readyState!==4||!(p in this.pendingRequests))return;if(delete this.pendingRequests[p],g.status===0&&this.isHttp){f.onError?.(g.status);return}let v=g.status||s;if(!(v===s&&f.expectedStatus===l)&&v!==f.expectedStatus){f.onError?.(g.status);return}let C=u(g);if(v===l){let O=g.getResponseHeader("Content-Range"),E=/bytes (\d+)-(\d+)\/(\d+)/.exec(O);f.onDone({begin:parseInt(E[1],10),chunk:C})}else C?f.onDone({begin:0,chunk:C}):f.onError?.(g.status)}getRequestXhr(p){return this.pendingRequests[p].xhr}isPendingRequest(p){return p in this.pendingRequests}abortRequest(p){let m=this.pendingRequests[p].xhr;delete this.pendingRequests[p],m.abort()}}class h{constructor(p){this._source=p,this._manager=new d(p.url,{httpHeaders:p.httpHeaders,withCredentials:p.withCredentials}),this._rangeChunkSize=p.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(p){let m=this._rangeRequestReaders.indexOf(p);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new y(this._manager,this._source),this._fullRequestReader}getRangeReader(p,m){let f=new b(this._manager,p,m);return f.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(f),f}cancelAllRequests(p){this._fullRequestReader?.cancel(p);for(let m of this._rangeRequestReaders.slice(0))m.cancel(p)}}t.PDFNetworkStream=h;class y{constructor(p,m){this._manager=p;let f={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=p.requestFull(f),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let p=this._fullRequestId,m=this._manager.getRequestXhr(p),f=A=>m.getResponseHeader(A),{allowRangeRequests:g,suggestedLength:v}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});g&&(this._isRangeSupported=!0),this._contentLength=v||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(f),this._isRangeSupported&&this._manager.abortRequest(p),this._headersReceivedCapability.resolve()}_onDone(p){if(p&&(this._requests.length>0?this._requests.shift().resolve({value:p.chunk,done:!1}):this._cachedChunks.push(p.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(p){this._storedError=(0,o.createResponseStatusError)(p,this._url),this._headersReceivedCapability.reject(this._storedError);for(let m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(p){this.onProgress?.({loaded:p.loaded,total:p.lengthComputable?p.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let p=(0,i.createPromiseCapability)();return this._requests.push(p),p.promise}cancel(p){this._done=!0,this._headersReceivedCapability.reject(p);for(let m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class b{constructor(p,m,f){this._manager=p;let g={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._requestId=p.requestRange(m,f,g),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(p){let m=p.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(p){this._storedError=(0,o.createResponseStatusError)(p,this._url);for(let m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(p){this.isStreamingSupported||this.onProgress?.({loaded:p.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};let p=(0,i.createPromiseCapability)();return this._requests.push(p),p.promise}cancel(p){this._done=!0;for(let m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var i=n(1),o=n(26);function s(y,b,w){return{method:"GET",headers:y,signal:w?.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function l(y){let b=new Headers;for(let w in y){let p=y[w];typeof p!="undefined"&&b.append(w,p)}return b}class u{constructor(b){this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(b,w){if(w<=this._progressiveDataLength)return null;let p=new h(this,b,w);return this._rangeRequestReaders.push(p),p}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(let w of this._rangeRequestReaders.slice(0))w.cancel(b)}}t.PDFFetchStream=u;class d{constructor(b){this._stream=b,this._reader=null,this._loaded=0,this._filename=null;let w=b.source;this._withCredentials=w.withCredentials||!1,this._contentLength=w.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=w.disableRange||!1,this._rangeChunkSize=w.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!w.disableStream,this._isRangeSupported=!w.disableRange,this._headers=l(this._stream.httpHeaders);let p=w.url;fetch(p,s(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,o.validateResponseStatus)(m.status))throw(0,o.createResponseStatusError)(m.status,p);this._reader=m.body.getReader(),this._headersCapability.resolve();let f=A=>m.headers.get(A),{allowRangeRequests:g,suggestedLength:v}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=v||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(f),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value:b,done:w}=await this._reader.read();return w?{value:b,done:w}:(this._loaded+=b.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(b).buffer,done:!1})}cancel(b){this._reader&&this._reader.cancel(b),this._abortController&&this._abortController.abort()}}class h{constructor(b,w,p){this._stream=b,this._reader=null,this._loaded=0;let m=b.source;this._withCredentials=m.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!m.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=l(this._stream.httpHeaders),this._headers.append("Range",`bytes=${w}-${p-1}`);let f=m.url;fetch(f,s(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,o.validateResponseStatus)(g.status))throw(0,o.createResponseStatusError)(g.status,f);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value:b,done:w}=await this._reader.read();return w?{value:b,done:w}:(this._loaded+=b.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(b).buffer,done:!1})}cancel(b){this._reader&&this._reader.cancel(b),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(r){var t=__webpack_module_cache__[r];if(t!==void 0)return t.exports;var n=__webpack_module_cache__[r]={exports:{}};return __webpack_modules__[r](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var r=__webpack_exports__;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(r,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(r,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(r,"GlobalWorkerOptions",{enumerable:!0,get:function(){return s.GlobalWorkerOptions}}),Object.defineProperty(r,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(r,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(r,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(r,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(r,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(r,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(r,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(r,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(r,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(r,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(r,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(r,"SVGGraphics",{enumerable:!0,get:function(){return d.SVGGraphics}}),Object.defineProperty(r,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(r,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(r,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(r,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(r,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(r,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(r,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(r,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(r,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(r,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(r,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(r,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(r,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(r,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(r,"renderTextLayer",{enumerable:!0,get:function(){return u.renderTextLayer}}),Object.defineProperty(r,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),o=__w_pdfjs_require__(20),s=__w_pdfjs_require__(13),l=__w_pdfjs_require__(3),u=__w_pdfjs_require__(23),d=__w_pdfjs_require__(24),h=__w_pdfjs_require__(22);let y="2.14.305",b="eaaa8b4ad";if(l.isNodeJS){let{PDFNodeStream:w}=__w_pdfjs_require__(25);(0,n.setPDFNetworkStreamFactory)(p=>new w(p))}else{let{PDFNetworkStream:w}=__w_pdfjs_require__(28),{PDFFetchStream:p}=__w_pdfjs_require__(29);(0,n.setPDFNetworkStreamFactory)(m=>(0,i.isValidFetchUrl)(m.url)?new p(m):new w(m))}})(),__webpack_exports__})())});var H8={};IP(H8,{Link:()=>Hl,default:()=>j8,load:()=>F8});H();H();H();var dw=nt(cw()),hw=nt(Un());H();var uw=nt(Un());function Ks(r,t){return uw.TaJson.deserialize(r,t)}var bo=class extends dw.Publication{static async fromUrl(t,n){let o=await(await fetch(t.href,n)).json(),s=Ks(o,bo);return s.manifestUrl=t,s}get readingOrder(){return this.Spine??[]}get resources(){return this.Resources??[]}get tableOfContents(){return this.sample?.isSampleRead&&this.positions?.length>0?this.limitedTOC():this.TOC}limitedTOC(){function t(i){for(let o=0;o<i.Children.length;o++){let s=i.Children[o];s.Href=void 0,s.Children&&t(s)}}return this.TOC.map(i=>{if(i.Href){let o=this.positionsByHref(this.getRelativeHref(i.Href));if(o?.length>0){let s=o[0],l=Math.round(s.locations.totalProgression?s.locations.totalProgression:0*100);this.sample?.limit&&(l<=this.sample?.limit||(i.Href=void 0,i.Children&&t(i)))}}return i})}get landmarks(){return this.Landmarks}get pageList(){return this.PageList}get isFixedLayout(){return this.Metadata.Rendition?.Layout==="fixed"}get isReflowable(){return!this.isFixedLayout}get layout(){return this.isFixedLayout?"fixed":"reflowable"}get hasMediaOverlays(){return this.readingOrder?this.readingOrder.filter(t=>t.Properties?.MediaOverlay).length>0:!1}getStartLink(){if(this.readingOrder!==void 0&&this.readingOrder.length>0)return this.readingOrder[0]}getPreviousSpineItem(t){let n=this.getSpineIndex(t);if(n!==void 0&&this.readingOrder!==void 0&&n>0)return this.readingOrder[n-1]}getNextSpineItem(t){let n=this.getSpineIndex(t);if(n!==void 0&&this.readingOrder!==void 0&&n<this.readingOrder.length-1)return this.readingOrder[n+1]}getSpineItem(t){let n=this.getSpineIndex(t);if(n!==void 0&&this.readingOrder!==void 0)return this.readingOrder[n]}getSpineIndex(t){return this.readingOrder?.findIndex(n=>n.Href&&this.getAbsoluteHref(n.Href)===t)}getAbsoluteHref(t){return new URL(t,this.manifestUrl.href).href}getRelativeHref(t){let n=this.manifestUrl.href.replace("/manifest.json",""),i=t.replace(n,"");return i.indexOf("#")>0&&(i=i.slice(0,i.indexOf("#"))),i.charAt(0)==="/"&&(i=i.substring(1)),i}getTOCItemAbsolute(t){let n=this.getAbsoluteHref(t),i=(s,l)=>{for(let u=0;u<l.length;u++){let d=l[u];if(d.Href){let h=d.Href.indexOf("#")!==-1?d.Href.slice(0,d.Href.indexOf("#")):d.Href;if(this.getAbsoluteHref(h)===s)return d}if(d.Children){let h=i(s,d.Children);if(h!==void 0)return h}}},o=i(n,this.tableOfContents);return o===void 0&&this.readingOrder!==void 0&&(o=i(n,this.readingOrder)),o}getTOCItem(t){let n=(o,s)=>{for(let l=0;l<s.length;l++){let u=s[l];if(u.Href&&this.getAbsoluteHref(u.Href)===o)return u;if(u.Children){let d=n(o,u.Children);if(d!==void 0)return d}}},i=n(t,this.tableOfContents);if(i===void 0&&this.readingOrder!==void 0&&(i=n(t,this.readingOrder)),i===void 0&&t.indexOf("#")!==-1){let o=t.slice(0,t.indexOf("#"));i=n(o,this.tableOfContents),i===void 0&&this.readingOrder!==void 0&&(i=n(o,this.readingOrder))}return i}positionsByHref(t){let n=decodeURI(t)??"";return this.positions?.filter(i=>n.includes(i.href))}async autoGeneratePositions(t,n=XL){let i=0,o=0,s=[];if(this.readingOrder!==void 0)for(let u of this.readingOrder)if(this.isFixedLayout){let d={href:u.Href,locations:{progression:0,position:i+1},type:u.TypeLink};s.push(d),i=i+1}else{let d=this.getAbsoluteHref(u.Href),h=await n(d,t);u.contentLength=h,o+=h;let b=Math.max(1,Math.ceil(h/1024));for(let w=0;w<b;w++){let p={href:u.Href,locations:{progression:w/b,position:i+(w+1)},type:u.TypeLink};s.push(p)}i=i+b}var l=0;if(this.isReflowable&&this.readingOrder!==void 0)for(let u of this.readingOrder){if(!u.contentLength){console.error("Link is missing contentLength",u);return}u.contentWeight=100/o*u.contentLength,l=l+u.contentWeight}for(let u of s){let d=s.filter(y=>y.href===decodeURI(u.href)),h=Math.ceil((u.locations.progression?u.locations.progression:0)*(d.length-1));u.locations.position&&(u.locations.totalProgression=(u.locations.position-1)/s.length),u.locations.remainingPositions=Math.abs(h-(d.length-1)),u.locations.position&&(u.locations.totalRemainingPositions=Math.abs(u.locations.position-1-(s.length-1)))}this.positions=s}async fetchPositionsFromService(t,n){let o=await(await fetch(t,n)).json();this.positions=o.positions}async fetchWeightsFromService(t,n){if(this.isFixedLayout){console.warn("Not fetching weights from service for fixed layout publication.");return}let o=await(await fetch(t,n)).json();this.readingOrder!==void 0&&this.readingOrder.forEach(s=>{s.contentWeight=o[s.Href]})}};bo=kc([(0,hw.JsonObject)()],bo);var XL=async(r,t)=>(await(await fetch(r,t)).blob()).size;H();H();var Ys=class{json(){return JSON.stringify(this)}},fw=class extends Ys{constructor(t,n,i){super();this.value=t,this.ref=n,this.name=i}toString(){return this.value}},pw=class extends Ys{constructor(t,n,i){super();this.value=t,this.ref=n,this.name=i}toString(){return this.value}toJson(){return JSON.parse(this.value)}},gw=class extends Ys{constructor(t,n,i,o){super();this.value=t,this.values=n,this.ref=i,this.name=o}toString(){return this.values[this.value]}},mw=class extends Ys{constructor(t,n,i,o,s,l,u){super();this.countDecimals=function(t){return t%1!=0?t.toString().split(".")[1].length:1};this.value=t,this.min=n,this.max=i,this.step=o,this.suffix=s,this.ref=l,this.name=u}toString(){return this.value.toString()+this.suffix}increment(){let t=this.countDecimals(this.max);parseFloat(this.value.toFixed(t))<this.max&&(this.value=parseFloat(this.value.toFixed(t))+this.step)}decrement(){let t=this.countDecimals(this.min);parseFloat(this.value.toFixed(t))>this.min&&(this.value=parseFloat(this.value.toFixed(t))-this.step)}},Xa=class extends Ys{constructor(t,n,i,o,s){super();this.value=i,this.onValue=t,this.offValue=n,this.ref=o,this.name=s}toString(){return this.value?this.onValue:this.offValue}switch(){this.value=!this.value}},Wr=class{constructor(){this.properties=[]}addIncremental(t,n,i,o,s,l,u){this.properties.push(new mw(t,n,i,o,s,l,u))}addStringable(t,n,i){this.properties.push(new fw(t,n,i))}addJSONable(t,n,i){this.properties.push(new pw(t,n,i))}addSwitchable(t,n,i,o,s){this.properties.push(new Xa(t,n,i,o,s))}addEnumerable(t,n,i,o){this.properties.push(new gw(t,n,i,o))}getByRef(t){let n=this.properties.filter(i=>i.ref===t);return n.length>0?n[0]:null}getByKey(t){let n=this.properties.filter(i=>i.key===t);return n.length>0?n[0]:null}};H();var wi=class{},me=wi;me.FONT_SIZE_REF="fontSize",me.FONT_FAMILY_REF="fontFamily",me.FONT_OVERRIDE_REF="fontOverride",me.APPEARANCE_REF="appearance",me.SCROLL_REF="scroll",me.TEXT_ALIGNMENT_REF="textAlign",me.COLUMN_COUNT_REF="colCount",me.WORD_SPACING_REF="wordSpacing",me.LETTER_SPACING_REF="letterSpacing",me.PAGE_MARGINS_REF="pageMargins",me.LINE_HEIGHT_REF="lineHeight",me.FONT_SIZE_KEY="--USER__"+wi.FONT_SIZE_REF,me.FONT_FAMILY_KEY="--USER__"+wi.FONT_FAMILY_REF,me.FONT_OVERRIDE_KEY="--USER__"+wi.FONT_OVERRIDE_REF,me.APPEARANCE_KEY="--USER__"+wi.APPEARANCE_REF,me.SCROLL_KEY="--USER__"+wi.SCROLL_REF,me.TEXT_ALIGNMENT_KEY="--USER__"+wi.TEXT_ALIGNMENT_REF,me.COLUMN_COUNT_KEY="--USER__"+wi.COLUMN_COUNT_REF,me.WORD_SPACING_KEY="--USER__"+wi.WORD_SPACING_REF,me.LETTER_SPACING_KEY="--USER__"+wi.LETTER_SPACING_REF,me.PAGE_MARGINS_KEY="--USER__"+wi.PAGE_MARGINS_REF,me.LINE_HEIGHT_KEY="--USER__"+wi.LINE_HEIGHT_REF;H();function Ie(r,t){return r.querySelector(t)}function yt(r,t){let n=Ie(r,t);if(n&&n instanceof HTMLElement)return n;throw new Error("required element "+t+" not found")}function un(r,t){if(r===null)throw new Error("parent element is null");return r.querySelector(t)}function Gr(r,t){let n=un(r,t);if(n)return n;throw new Error("required element "+t+" not found in iframe")}function Cn(r,t,n){r.setAttribute(t,n)}H();H();var d_=nt(E0());var wl=class{constructor(t){this.getScrollingElement=t=>t.scrollingElement?t.scrollingElement:t.body;this.navigator=t}async handleFootnote(t,n){let i=t.getAttribute("href");if(i&&i.indexOf("#")>0){let s=function(u){let d=document.location.href;return new URL(u,d).href},o=i.substring(i.indexOf("#")+1),l=s(i);l&&(l=l.substring(0,l.indexOf("#")),n.preventDefault(),n.stopPropagation(),await fetch(l,this.navigator.requestConfig).then(u=>u.text()).then(async u=>{let y=new DOMParser().parseFromString(u,"text/html").querySelector("#"+o);y&&(n.preventDefault(),n.stopPropagation(),this.showPopup(y,n))}))}}async hidePopover(){let t=this.navigator.iframes[0].contentDocument?.getElementById("d2-popover");t&&t.parentElement?.removeChild(t);let n=yt(document,"#iframe-wrapper");n.style.overflow="auto"}async showPopover(t,n){let i=t.getAttribute("href"),o=t.getAttribute("src");function s(l){let u=document.location.href;return new URL(l,u).href}if(i){let l=s(i);if(l){n.preventDefault(),n.stopPropagation();let u=this.navigator.iframes[0].contentDocument?.getElementById("d2-popover");u&&u.parentElement?.removeChild(u);let d=document.createElement("div");d.id="d2-popover",d.className="d2-popover is-active";let h=yt(document,"#iframe-wrapper");h.style.overflow="hidden",d.style.top=h.scrollTop+"px",d.style.height=h.clientHeight*.9+"px";let y=document.createElement("div");y.className="d2-popover-wrapper",d.appendChild(y);let b=document.createElement("div");b.className="d2-popover-content",y.appendChild(b),await fetch(l,this.navigator.requestConfig).then(m=>m.text()).then(async m=>{b.innerHTML=m;let f=this.navigator.iframes[0].contentDocument;f&&f.body.appendChild(d)});let w=this.navigator.iframes[0].contentWindow;if(!w)return;let p=this;w.onclick=function(m){n.target!==m.target&&d.parentElement&&(p.hidePopover(),w&&(w.onclick=null))}}}else if(o&&s(o)){n.preventDefault(),n.stopPropagation();let u=this.navigator.iframes[0].contentDocument?.getElementById("d2-popover");u&&u.parentElement?.removeChild(u);let d=document.createElement("div");d.id="d2-popover",d.className="d2-popover is-active";let h=yt(document,"#iframe-wrapper");h.style.overflow="hidden",d.style.top=h.scrollTop+"px",d.style.height=h.clientHeight*.9+"px";let y=document.createElement("div");y.className="d2-popover-wrapper",d.appendChild(y);let b=document.createElement("img");b.className="d2-popover-content",y.appendChild(b),b.src=o;let w=this.navigator.iframes[0].contentDocument;w&&w.body.appendChild(d);let p=this.navigator.iframes[0].contentWindow;if(!p)return;let m=this;p.onclick=function(f){n.target!==f.target&&d.parentElement&&(m.hidePopover(),p&&(p.onclick=null))}}}showPopup(t,n){let i=this.navigator.iframes[0].contentDocument?.getElementById("d2-popup");i&&i.parentElement?.removeChild(i);let o=document.createElement("aside");o.id="d2-popup",o.className="d2-popup is-active";let s=document.createElement("div");s.className="d2-popup-wrapper",o.appendChild(s);let l=document.createElement("div");l.className="d2-popup-content",s.appendChild(l);let u=document.createElement("p");l.appendChild(u),typeof t=="string"?u.innerHTML=t:u.innerHTML=(0,d_.default)(t.innerHTML,{allowedTags:[],allowedAttributes:{}});let d=this.navigator.view?.isPaginated(),h=this.navigator.iframes[0].contentDocument;if(!h)return;let y=this.getScrollingElement(h),b=d?y.scrollLeft:0,w=d?y.scrollTop:0,p=n.x+b,m=n.y+w;o.style.top=m+"px",d&&(o.style.left=p+"px"),h.body.appendChild(o);let f=this.navigator.iframes[0].contentWindow;!f||(f.onclick=function(g){n.target!==g.target&&o.parentElement&&(o.style.display="none",o.parentElement.removeChild(o),f&&(f.onclick=null))})}};var Ud=nt(Jt());function Ee(r,t,n){r&&r.addEventListener(t,n,!0)}function je(r,t,n){r&&r.removeEventListener(t,n,!0)}var $d=class{constructor(t){this.onInternalLink=()=>{};this.onClickThrough=()=>{};this.checkForLink=t=>{let n=t.target;for(;n&&n.tagName.toLowerCase()!=="body";){if(n.tagName.toLowerCase()==="a"&&n.href)return n;n=n.parentElement}return null};this.linkInPublication=(t,n)=>t.some(i=>!i.Rel?.includes("external")&&this.navigator.publication.getRelativeHref(n).includes(i.Href));this.isReadingOrderInternal=t=>(Ud.default.log("clickedLink: ",t),this.linkInPublication(this.navigator.publication.readingOrder,t.href));this.isResourceInternal=t=>(Ud.default.log("clickedLink: ",t),this.linkInPublication(this.navigator.publication.resources,t.href));this.handleLinks=async t=>{Ud.default.log("R2 Click Handler");let n=this.checkForLink(t);if(n){let i=window.location.protocol===n.protocol&&window.location.port===n.port&&window.location.hostname===n.hostname,o=this.isReadingOrderInternal(n),s=this.isResourceInternal(n);s||await this.popup.hidePopover();let l=n.href.indexOf("#");if(!o&&!s)window.open(n.href,n.target??"_blank"),t.preventDefault(),t.stopPropagation();else if(t.target.href=n.href,(i||o)&&l!==-1){let u=t.target;u?u.getAttribute("epub:type")==="noteref"?await this.popup.handleFootnote(u,t):s&&!o?await this.popup.showPopover(u,t):this.onInternalLink(t):this.onInternalLink(t)}else(i||o)&&l===-1&&this.onInternalLink(t)}else this.onClickThrough(t)};this.navigator=t,this.popup=new wl(this.navigator)}setupEvents(t){if(t!==null)t.addEventListener("dblclick",async n=>{let i=n.target;n.target&&i.tagName.toLowerCase()==="img"&&await this.popup.showPopover(i,n)},!0),t.addEventListener("click",this.handleLinks.bind(this));else throw"cannot setup events for null"}};H();H();function f_(){return yt(document,"#iframe-wrapper").clientWidth}function tr(){return yt(document,"#iframe-wrapper").clientHeight}var g_=nt(So()),qd=class{constructor(t){this.layout="reflowable";this.USERSETTINGS="userSetting";this.sideMargin=20;this.height=0;this.attributes={margin:0};this.hasFixedScrollWidth=!1;this.store=t,this.scrollMode?(this.name="readium-scroll-on",this.label="Scrolling"):(this.name="readium-scroll-off",this.label="Paginated")}setMode(t){if(this.scrollMode=t,t){this.name="readium-scroll-on",this.label="Scrolling";let n=this.iframe.contentDocument;if(n){let i=un(n,"head");if(i){let s=Ie(i,"meta[name=viewport]");s&&s.remove()}let o=un(n,"html");o&&o.style.setProperty("--USER__scroll","readium-scroll-on")}this.setSize(),this.setIframeHeight(this.iframe)}else{this.height=tr()-40-this.attributes.margin,this.name="readium-scroll-off",this.label="Paginated",this.checkForFixedScrollWidth();let n=this.iframe.contentDocument;if(n){let i=un(n,"html");i&&i.style.setProperty("--USER__scroll","readium-scroll-off")}this.setSize()}this.navigator.rights.enableContentProtection&&this.navigator.contentProtectionModule?.recalculate()}start(){if(this.scrollMode){let t=this.iframe.contentDocument;if(t){let n=un(t,"head");if(n){let i=Ie(n,"meta[name=viewport]");i&&i.remove()}}this.setSize(),this.setIframeHeight(this.iframe)}else{this.iframe.height="0",this.iframe.width="0",this.setSize();let t=document.createElement("meta");t.name="viewport",t.content="width=device-width, initial-scale=1, maximum-scale=1",this.checkForFixedScrollWidth()}}stop(){if(this.iframe.height="0",this.iframe.width="0",this.iframe.contentDocument){let n=un(this.iframe.contentDocument,"body"),i=Array.prototype.slice.call(n.querySelectorAll("img"));for(let o of i)o.style.maxWidth=""}}getCurrentPosition(){let t=yt(document,"#iframe-wrapper");if(this.scrollMode)return t.scrollTop/this.scrollingElement.scrollHeight;{let n=this.getColumnWidth(),i=this.getLeftColumnsWidth(),o=this.getRightColumnsWidth(),s=i+n+o;return i/s}}goToProgression(t){let n=yt(document,"#iframe-wrapper");if(this.scrollMode)n.scrollTop=this.scrollingElement.scrollHeight*t;else{let i=this.getColumnWidth(),o=this.getLeftColumnsWidth(),s=this.getRightColumnsWidth(),l=o+i+s,u=t*l,d=Math.round(u/i)*i;d>=l&&(d=d-i),this.setLeftColumnsWidth(d)}}goToCssSelector(t,n){let i=this.iframe.contentDocument;if(i){let o=i.querySelector(t);this.goToElement(o,n)}}goToFragment(t,n){let i=this.iframe.contentDocument;if(i){let o=i.getElementById(t);this.goToElement(o,n)}}snap(t,n){if(t&&!this.scrollMode){let i=t.style.height;t.style.height="0";let o=this.getColumnWidth(),s=this.getLeftColumnsWidth()+t.getBoundingClientRect().left,l=Math.floor(s/o)*o;t.style.height=i,this.setLeftColumnsWidth(l),this.navigator.rights.enableContentProtection&&this.navigator.contentProtectionModule?.recalculate(0)}}goToElement(t,n){if(this.scrollMode)t&&t.scrollIntoView({block:"center"});else if(t){let i=t.style.height;t.style.height="0";let o=t.getBoundingClientRect().left,s=this.getColumnWidth(),l=this.scrollingElement.scrollLeft-s,u=Math.ceil(o/s)*s+l;if(n){let d=this.getLeftColumnsWidth();u=Math.ceil(o/s)*s+d}t.style.height=i,this.setLeftColumnsWidth(u),this.navigator.rights.enableContentProtection&&this.navigator.contentProtectionModule?.recalculate(200)}}atStart(){return this.scrollMode?yt(document,"#iframe-wrapper").scrollTop===0:this.getLeftColumnsWidth()<=0}atEnd(){if(this.scrollMode){let t=yt(document,"#iframe-wrapper");return Math.ceil(this.scrollingElement.scrollHeight-t.scrollTop)-1<=tr()}else return Math.floor(this.getRightColumnsWidth())<=0||Math.ceil(this.getCurrentPage())===this.getPageCount()}goToPreviousPage(){let t=yt(document,"#iframe-wrapper");if(this.scrollMode){let n=t.scrollTop,i=this.getScreenHeight()-40,o=n-i;o>=0?t.scrollTop=o:t.scrollTop=0}else{let n=this.getLeftColumnsWidth(),i=this.getColumnWidth(),o=n-i;o>=0?this.setLeftColumnsWidth(o):this.setLeftColumnsWidth(0),this.navigator.checkResourcePosition()}this.navigator.rights.enableContentProtection&&this.navigator.contentProtectionModule?.recalculate()}goToNextPage(){let t=yt(document,"#iframe-wrapper");if(this.scrollMode){let n=t.scrollTop,i=this.getScreenHeight()-40,o=this.scrollingElement.scrollHeight,s=n+i;s<o?t.scrollTop=s:t.scrollTop=o}else{let n=this.getLeftColumnsWidth(),i=this.getColumnWidth(),o=this.scrollWidth,s=n+i;s<o?this.setLeftColumnsWidth(s):this.setLeftColumnsWidth(o),this.navigator.checkResourcePosition()}this.navigator.rights.enableContentProtection&&this.navigator.contentProtectionModule?.recalculate()}getCurrentPage(){return this.scrollMode?0:this.getCurrentPosition()*this.getPageCount()+1}getPageCount(){if(this.scrollMode)return 0;{let t=this.getColumnWidth();return this.scrollWidth/t}}isPaginated(){if(this.iframe){let t=this.iframe.contentDocument;if(t){let n=un(t,"html");if(n)return!(n.style.getPropertyValue("--USER__scroll")==="readium-scroll-on")}}return!this.scrollMode}isScrollMode(){if(this.iframe){let t=this.iframe.contentDocument;if(t){let n=un(t,"html");if(n)return n.style.getPropertyValue("--USER__scroll")==="readium-scroll-on"}}return this.scrollMode}async getProperty(t){let n=await this.store.get(this.USERSETTINGS);if(n){let i=JSON.parse(n);return i=i.filter(o=>o.name===t),i.length===0?null:i[0]}return null}getScreenHeight(){return yt(document,"#iframe-wrapper").clientHeight}setIframeHeight(t){(0,g_.debounce)(i=>{if(i){let o=i.contentWindow.document.body,s=i.contentWindow.document.documentElement,l=Math.max(o?.scrollHeight,o?.offsetHeight,s?.clientHeight,s?.scrollHeight,s?.offsetHeight);if(l){let u=tr()-this.attributes.margin;i.height=Math.max(u,l)+"px"}}},200)(t)}checkForFixedScrollWidth(){let t=this.iframe.contentDocument;if(t){let n=un(t,"body"),i=n?.scrollWidth;this.hasFixedScrollWidth=n?.scrollWidth===i}}setSize(){if(this.iframe.width=f_()+"px",this.scrollMode){let t=this.iframe.contentWindow?.document?.documentElement;this.iframe.height=t?.offsetHeight+"px"}else{let t=this.iframe.contentDocument;t&&t.documentElement&&(t.documentElement.style.height=this.height+"px"),this.iframe.height=this.height+"px"}}getLeftColumnsWidth(){return Math.ceil(this.scrollingElement.scrollLeft)}getRightColumnsWidth(){let t=this.getColumnWidth(),n=this.scrollWidth-t;if(this.hasFixedScrollWidth){let i=this.getLeftColumnsWidth();n=Math.max(0,n-i)}return n}getColumnWidth(){return this.scrollingElement.clientWidth}setLeftColumnsWidth(t){this.scrollingElement.scrollLeft=t}get scrollingElement(){return this.iframe.contentDocument?.scrollingElement?this.iframe.contentDocument?.scrollingElement:this.iframe.contentDocument?.body?this.iframe.contentDocument?.body:document.createElement("body")}get scrollWidth(){let t=this.scrollingElement?.scrollWidth,n=this.getColumnWidth();return Math.ceil(t/n)*n}};H();var Wd=class{constructor(){this.layout="fixed";this.sideMargin=20;this.height=0;this.attributes={margin:0}}start(){}stop(){}getCurrentPosition(){return 0}getScreenHeight(){return yt(document,"#iframe-wrapper").clientHeight}goToProgression(t){}goToCssSelector(t,n){}goToFragment(t,n){}snap(t,n){}getCurrentPage(){return 0}getPageCount(){return 1}setSize(){}isPaginated(){return!0}isScrollMode(){return!1}atEnd(){return!0}atStart(){return!0}};var _i=nt(Jt()),kt=class{constructor(t,n,i,o,s){this.USERSETTINGS="userSetting";this.fontSize=100;this.fontOverride=!1;this.fontFamily=0;this.appearance=0;this.verticalScroll=!0;this.textAlignment=0;this.columnCount=0;this.wordSpacing=0;this.letterSpacing=0;this.pageMargins=2;this.lineHeight=1;this.settingsChangeCallback=()=>{};this.settingsColumnsChangeCallback=()=>{};this.viewChangeCallback=()=>{};this.store=t,this.view=s==="fixed"?new Wd:new qd(this.store),this.headerMenu=n,this.api=i,this.injectables=o,this.injectables?.forEach(l=>{l.type==="style"&&(l.fontFamily&&this.addFont(l.fontFamily),l.appearance&&this.addAppearance(l.appearance))})}async isPaginated(){return!await this.getPropertyAndFallback("verticalScroll",me.SCROLL_KEY)}async isScrollMode(){return!await this.isPaginated()}static async create(t){let n=new this(t.store,t.headerMenu,t.api,t.injectables,t.layout);if(await n.initialise(),t.initialUserSettings){n.userProperties||(n.userProperties=n.getUserSettings());let i=t.initialUserSettings;if(i.verticalScroll!==void 0){n.verticalScroll=this.parseScrollSetting(i.verticalScroll);let o=n.userProperties.getByRef(me.SCROLL_REF);o&&(o.value=n.verticalScroll,await n.saveProperty(o)),_i.default.log(n.verticalScroll)}if(i.appearance){n.appearance=kt.appearanceValues.findIndex(s=>s===i.appearance);let o=n.userProperties.getByRef(me.APPEARANCE_REF);o&&(o.value=n.appearance,await n.saveProperty(o)),_i.default.log(n.appearance)}if(i.fontSize){n.fontSize=i.fontSize;let o=n.userProperties.getByRef(me.FONT_SIZE_REF);o&&(o.value=n.fontSize,await n.saveProperty(o)),_i.default.log(n.fontSize)}if(i.fontFamily){n.fontFamily=kt.fontFamilyValues.findIndex(s=>s===i.fontFamily);let o=n.userProperties.getByRef(me.FONT_FAMILY_REF);o&&(o.value=n.fontFamily,await n.saveProperty(o)),_i.default.log(n.fontFamily),n.fontFamily!==0&&(n.fontOverride=!0)}if(i.textAlignment){n.textAlignment=kt.textAlignmentValues.findIndex(s=>s===i.textAlignment);let o=n.userProperties.getByRef(me.TEXT_ALIGNMENT_REF);o&&(o.value=n.textAlignment,await n.saveProperty(o)),_i.default.log(n.textAlignment)}if(i.columnCount){n.columnCount=kt.columnCountValues.findIndex(s=>s===i.columnCount);let o=n.userProperties.getByRef(me.COLUMN_COUNT_REF);o&&(o.value=n.columnCount,await n.saveProperty(o)),_i.default.log(n.columnCount)}if(i.wordSpacing){n.wordSpacing=i.wordSpacing;let o=n.userProperties.getByRef(me.WORD_SPACING_REF);o&&(o.value=n.wordSpacing,await n.saveProperty(o)),_i.default.log(n.wordSpacing)}if(i.letterSpacing){n.letterSpacing=i.letterSpacing;let o=n.userProperties.getByRef(me.LETTER_SPACING_REF);o&&(o.value=n.letterSpacing,await n.saveProperty(o)),_i.default.log(n.letterSpacing)}if(i.pageMargins){n.pageMargins=i.pageMargins;let o=n.userProperties.getByRef(me.PAGE_MARGINS_REF);o&&(o.value=n.pageMargins,await n.saveProperty(o)),_i.default.log(n.pageMargins)}if(i.lineHeight){n.lineHeight=i.lineHeight;let o=n.userProperties.getByRef(me.LINE_HEIGHT_REF);o&&(o.value=n.lineHeight,await n.saveProperty(o)),_i.default.log(n.lineHeight)}n.userProperties=n.getUserSettings(),await n.initialise()}return await n.initializeSelections(),new Promise(i=>i(n))}stop(){_i.default.log("book settings stop")}async initialise(){this.appearance=await this.getPropertyAndFallback("appearance",me.APPEARANCE_KEY),this.verticalScroll=await this.getPropertyAndFallback("verticalScroll",me.SCROLL_KEY),this.fontFamily=await this.getPropertyAndFallback("fontFamily",me.FONT_FAMILY_KEY),this.fontFamily!==0&&(this.fontOverride=!0),this.textAlignment=await this.getPropertyAndFallback("textAlignment",me.TEXT_ALIGNMENT_KEY),this.columnCount=await this.getPropertyAndFallback("columnCount",me.COLUMN_COUNT_KEY),this.fontSize=await this.getPropertyAndFallback("fontSize",me.FONT_SIZE_KEY),this.wordSpacing=await this.getPropertyAndFallback("wordSpacing",me.WORD_SPACING_KEY),this.letterSpacing=await this.getPropertyAndFallback("letterSpacing",me.LETTER_SPACING_KEY),this.pageMargins=await this.getPropertyAndFallback("pageMargins",me.PAGE_MARGINS_KEY),this.lineHeight=await this.getPropertyAndFallback("lineHeight",me.LINE_HEIGHT_KEY),this.userProperties=this.getUserSettings()}async reset(){this.appearance=0,this.verticalScroll=!0,this.fontSize=100,this.fontOverride=!1,this.fontFamily=0,this.textAlignment=0,this.columnCount=0,this.wordSpacing=0,this.letterSpacing=0,this.pageMargins=2,this.lineHeight=1,this.userProperties=this.getUserSettings();let t=this.iframe.contentDocument;if(t){let n=un(t,"html");if(n){let i=document.documentElement,o=yt(i,"body");n.style.removeProperty(me.FONT_SIZE_KEY),n.style.removeProperty(me.WORD_SPACING_KEY),n.style.removeProperty(me.LETTER_SPACING_KEY),n.style.removeProperty(me.COLUMN_COUNT_KEY),n.style.removeProperty(me.TEXT_ALIGNMENT_KEY),n.style.removeProperty(me.LINE_HEIGHT_KEY),n.style.removeProperty(me.PAGE_MARGINS_KEY),n.style.removeProperty(me.APPEARANCE_KEY),Cn(i,"data-viewer-theme","day"),Cn(o,"data-viewer-theme","day"),n.style.removeProperty(me.FONT_FAMILY_KEY),Cn(n,"data-viewer-font","publisher"),n.style.setProperty(me.FONT_OVERRIDE_KEY,"readium-font-off")}}}async initializeSelections(){this.headerMenu&&(this.settingsView=Ie(this.headerMenu,"#container-view-settings"))}async applyProperties(){this.userProperties=this.getUserSettings();let t=this.iframe.contentDocument;if(t){let n=un(t,"html");if(n){let i=document.documentElement,o=yt(i,"body");if(this.view?.navigator.publication.isReflowable&&(await this.getProperty(me.FONT_SIZE_KEY)&&n.style.setProperty(me.FONT_SIZE_KEY,this.userProperties.getByRef(me.FONT_SIZE_REF)?.toString()??null),await this.getProperty(me.WORD_SPACING_KEY)&&n.style.setProperty(me.WORD_SPACING_KEY,this.userProperties.getByRef(me.WORD_SPACING_REF)?.toString()??null),await this.getProperty(me.LETTER_SPACING_KEY)&&n.style.setProperty(me.LETTER_SPACING_KEY,this.userProperties.getByRef(me.LETTER_SPACING_REF)?.toString()??null)),await this.getProperty(me.COLUMN_COUNT_KEY)&&n.style.setProperty(me.COLUMN_COUNT_KEY,this.userProperties.getByRef(me.COLUMN_COUNT_REF)?.toString()??null),this.view?.navigator.publication.isReflowable&&(await this.getProperty(me.TEXT_ALIGNMENT_KEY)&&(this.userProperties.getByRef(me.TEXT_ALIGNMENT_REF)?.toString()==="auto"?n.style.removeProperty(me.TEXT_ALIGNMENT_KEY):n.style.setProperty(me.TEXT_ALIGNMENT_KEY,this.userProperties.getByRef(me.TEXT_ALIGNMENT_REF)?.toString()??null)),await this.getProperty(me.LINE_HEIGHT_KEY)&&n.style.setProperty(me.LINE_HEIGHT_KEY,this.userProperties.getByRef(me.LINE_HEIGHT_REF)?.toString()??null),await this.getProperty(me.PAGE_MARGINS_KEY)&&n.style.setProperty(me.PAGE_MARGINS_KEY,this.userProperties.getByRef(me.PAGE_MARGINS_REF)?.toString()??null)),await this.getProperty(me.APPEARANCE_KEY)?(n.style.setProperty(me.APPEARANCE_KEY,this.userProperties.getByRef(me.APPEARANCE_REF)?.toString()??null),this.userProperties.getByRef(me.APPEARANCE_REF)?.value===0?(Cn(i,"data-viewer-theme","day"),Cn(o,"data-viewer-theme","day")):this.userProperties.getByRef(me.APPEARANCE_REF)?.value===1?(Cn(i,"data-viewer-theme","sepia"),Cn(o,"data-viewer-theme","sepia")):this.userProperties.getByRef(me.APPEARANCE_REF)?.value===2&&(Cn(i,"data-viewer-theme","night"),Cn(o,"data-viewer-theme","night"))):(n.style.setProperty(me.APPEARANCE_KEY,this.userProperties.getByRef(me.APPEARANCE_REF)?.toString()??null),Cn(i,"data-viewer-theme","day"),Cn(o,"data-viewer-theme","day")),this.view?.navigator.publication.isReflowable){if(await this.getProperty(me.FONT_FAMILY_KEY))if(n.style.setProperty(me.FONT_FAMILY_KEY,this.userProperties.getByRef(me.FONT_FAMILY_REF)?.toString()??null),this.userProperties.getByRef(me.FONT_FAMILY_REF)?.value===0)Cn(n,"data-viewer-font","publisher"),n.style.setProperty(me.FONT_OVERRIDE_KEY,"readium-font-off");else if(this.userProperties.getByRef(me.FONT_FAMILY_REF)?.value===1)Cn(n,"data-viewer-font","serif"),n.style.setProperty(me.FONT_OVERRIDE_KEY,"readium-font-on");else if(this.userProperties.getByRef(me.FONT_FAMILY_REF)?.value===2)Cn(n,"data-viewer-font","sans"),n.style.setProperty(me.FONT_OVERRIDE_KEY,"readium-font-on");else{let s=this.userProperties.getByRef(me.FONT_FAMILY_REF);s&&Cn(n,"data-viewer-font",s.toString()),n.style.setProperty(me.FONT_OVERRIDE_KEY,"readium-font-on")}else n.style.setProperty(me.FONT_FAMILY_KEY,this.userProperties.getByRef(me.FONT_FAMILY_REF)?.toString()??null),Cn(n,"data-viewer-font","publisher"),n.style.setProperty(me.FONT_OVERRIDE_KEY,"readium-font-off");await this.getProperty(me.SCROLL_KEY)?this.userProperties.getByRef(me.SCROLL_REF)?.value===!0?n.style.setProperty("--USER__scroll","readium-scroll-on"):n.style.setProperty("--USER__scroll","readium-scroll-off"):n.style.setProperty("--USER__scroll","readium-scroll-on"),n.style.setProperty("--USER__advancedSettings","readium-advanced-on"),this.isScrollMode().then(s=>{this.view?.setMode?.(s)})}}}}setIframe(t){this.iframe=t,this.view&&(this.view.iframe=t),this.settingsView&&kt.renderControls(this.settingsView)}static renderControls(t){Ee(Ie(t,"ul"),"click",n=>{n.stopPropagation()})}onSettingsChange(t){this.settingsChangeCallback=t}onColumnSettingsChange(t){this.settingsColumnsChangeCallback=t}onViewChange(t){this.viewChangeCallback=t}async storeProperty(t){await this.updateUserSettings(),await this.saveProperty(t)}addAppearance(t){kt.appearanceValues.includes(t)||kt.appearanceValues.push(t)}initAddedAppearance(){this.applyProperties()}addFont(t){kt.fontFamilyValues.includes(t)||kt.fontFamilyValues.push(t)}initAddedFont(){this.applyProperties()}async updateUserSettings(){let t={fontFamily:kt.fontFamilyValues[await this.userProperties?.getByRef(me.FONT_FAMILY_REF)?.value],fontSize:this.userProperties?.getByRef(me.FONT_SIZE_REF)?.value,appearance:kt.appearanceValues[await this.userProperties?.getByRef(me.APPEARANCE_REF)?.value],textAlignment:kt.textAlignmentValues[await this.userProperties?.getByRef(me.TEXT_ALIGNMENT_REF)?.value],columnCount:kt.columnCountValues[await this.userProperties?.getByRef(me.COLUMN_COUNT_REF)?.value],wordSpacing:this.userProperties?.getByRef(me.WORD_SPACING_REF)?.value,letterSpacing:this.userProperties?.getByRef(me.LETTER_SPACING_REF)?.value,verticalScroll:this.userProperties?.getByRef(me.SCROLL_REF)?.value};this.api?.updateSettings&&this.api?.updateSettings(t).then(n=>{_i.default.log("api updated user settings",JSON.stringify(t))})}getUserSettings(){let t=new Wr;return t.addSwitchable("readium-font-on","readium-font-off",this.fontOverride,me.FONT_OVERRIDE_REF,me.FONT_OVERRIDE_KEY),t.addEnumerable(this.columnCount,kt.columnCountValues,me.COLUMN_COUNT_REF,me.COLUMN_COUNT_KEY),t.addEnumerable(this.appearance,kt.appearanceValues,me.APPEARANCE_REF,me.APPEARANCE_KEY),t.addIncremental(this.pageMargins,.5,4,.25,"",me.PAGE_MARGINS_REF,me.PAGE_MARGINS_KEY),t.addEnumerable(this.textAlignment,kt.textAlignmentValues,me.TEXT_ALIGNMENT_REF,me.TEXT_ALIGNMENT_KEY),t.addEnumerable(this.fontFamily,kt.fontFamilyValues,me.FONT_FAMILY_REF,me.FONT_FAMILY_KEY),t.addIncremental(this.fontSize,100,300,25,"%",me.FONT_SIZE_REF,me.FONT_SIZE_KEY),t.addIncremental(this.lineHeight,1,2,.25,"em",me.LINE_HEIGHT_REF,me.LINE_HEIGHT_KEY),t.addIncremental(this.wordSpacing,0,1,.25,"rem",me.WORD_SPACING_REF,me.WORD_SPACING_KEY),t.addIncremental(this.letterSpacing,0,.5,.0625,"em",me.LETTER_SPACING_REF,me.LETTER_SPACING_KEY),t.addSwitchable("readium-scroll-on","readium-scroll-off",this.verticalScroll,me.SCROLL_REF,me.SCROLL_KEY),t}async saveProperty(t){let n=await this.store.get(this.USERSETTINGS);if(n){let i=JSON.parse(n);i=i.filter(o=>o.name!==t.name),t.value!==void 0&&i.push(t),await this.store.set(this.USERSETTINGS,JSON.stringify(i))}else{let i=[];i.push(t),await this.store.set(this.USERSETTINGS,JSON.stringify(i))}return new Promise(i=>i(t))}async getProperty(t){let n=await this.store.get(this.USERSETTINGS);if(n){let i=JSON.parse(n);return i=i.filter(o=>o.name===t),i.length===0?null:i[0]}return null}async getPropertyAndFallback(t,n){return(await this.getProperty(n))?.value??this[t]}async resetUserSettings(){await this.store.remove(this.USERSETTINGS),await this.reset(),this.settingsChangeCallback()}get currentSettings(){return{appearance:kt.appearanceValues[this.userProperties?.getByRef(me.APPEARANCE_REF)?.value],fontFamily:kt.fontFamilyValues[this.userProperties?.getByRef(me.FONT_FAMILY_REF)?.value],textAlignment:kt.textAlignmentValues[this.userProperties?.getByRef(me.TEXT_ALIGNMENT_REF)?.value],columnCount:kt.columnCountValues[this.userProperties?.getByRef(me.COLUMN_COUNT_REF)?.value],verticalScroll:this.verticalScroll,fontSize:this.fontSize,wordSpacing:this.wordSpacing,letterSpacing:this.letterSpacing,pageMargins:this.pageMargins,lineHeight:this.lineHeight}}async applyUserSettings(t){if(t.appearance){let n;t.appearance==="day"||t.appearance==="readium-default-on"?n=kt.appearanceValues[0]:t.appearance==="sepia"||t.appearance==="readium-sepia-on"?n=kt.appearanceValues[1]:t.appearance==="night"||t.appearance==="readium-night-on"?n=kt.appearanceValues[2]:n=t.appearance,this.appearance=kt.appearanceValues.findIndex(o=>o===n);let i=this.userProperties?.getByRef(me.APPEARANCE_REF);i&&(i.value=this.appearance,await this.storeProperty(i))}if(t.fontSize){this.fontSize=t.fontSize;let n=this.userProperties?.getByRef(me.FONT_SIZE_REF);n&&(n.value=this.fontSize,await this.storeProperty(n))}if(t.fontFamily){this.fontFamily=kt.fontFamilyValues.findIndex(i=>i===t.fontFamily);let n=this.userProperties?.getByRef(me.FONT_FAMILY_REF);n&&(n.value=this.fontFamily,await this.storeProperty(n))}if(t.letterSpacing){this.letterSpacing=t.letterSpacing;let n=this.userProperties?.getByRef(me.LETTER_SPACING_REF);n&&(n.value=this.letterSpacing,await this.storeProperty(n))}if(t.wordSpacing){this.wordSpacing=t.wordSpacing;let n=this.userProperties?.getByRef(me.WORD_SPACING_REF);n&&(n.value=this.wordSpacing,await this.storeProperty(n))}if(t.columnCount){this.columnCount=kt.columnCountValues.findIndex(i=>i===t.columnCount);let n=this.userProperties?.getByRef(me.COLUMN_COUNT_REF);n&&(n.value=this.columnCount,await this.storeProperty(n)),this.settingsColumnsChangeCallback()}if(t.textAlignment){this.textAlignment=kt.textAlignmentValues.findIndex(i=>i===t.textAlignment);let n=this.userProperties?.getByRef(me.TEXT_ALIGNMENT_REF);n&&(n.value=this.textAlignment,await this.storeProperty(n))}if(t.lineHeight){this.lineHeight=t.lineHeight;let n=this.userProperties?.getByRef(me.LINE_HEIGHT_REF);n&&(n.value=this.lineHeight,await this.storeProperty(n))}if(t.pageMargins){this.pageMargins=t.pageMargins;let n=this.userProperties?.getByRef(me.PAGE_MARGINS_REF);n&&(n.value=this.pageMargins,await this.storeProperty(n))}if(t.verticalScroll!==void 0){let n=this.view?.getCurrentPosition();this.verticalScroll=kt.parseScrollSetting(t.verticalScroll);let i=this.userProperties?.getByRef(me.SCROLL_REF);i&&(i.value=this.verticalScroll,await this.saveProperty(i)),this.view?.setMode?.(this.verticalScroll),n&&this.view?.goToProgression(n),this.viewChangeCallback()}await this.applyProperties(),this.settingsChangeCallback()}static parseScrollSetting(t){switch(t){case!0:case"scroll":case"readium-scroll-on":return!0;case!1:case"paginated":case"readium-scroll-off":return!1;default:return!1}}async scroll(t){let n=this.view?.getCurrentPosition();this.verticalScroll=t;let i=this.userProperties?.getByRef(me.SCROLL_REF);i&&(i.value=this.verticalScroll,await this.saveProperty(i)),await this.applyProperties(),this.view?.setMode?.(this.verticalScroll),n&&this.view?.goToProgression(n),this.viewChangeCallback()}async increase(t){if(t==="fontSize"){(this.userProperties?.getByRef(me.FONT_SIZE_REF)).increment(),this.fontSize=this.userProperties?.getByRef(me.FONT_SIZE_REF)?.value;let n=this.userProperties?.getByRef(me.FONT_SIZE_REF);n&&await this.storeProperty(n)}else if(t==="letterSpacing"){(this.userProperties?.getByRef(me.LETTER_SPACING_REF)).increment(),this.letterSpacing=this.userProperties?.getByRef(me.LETTER_SPACING_REF)?.value;let n=this.userProperties?.getByRef(me.LETTER_SPACING_REF);n&&await this.storeProperty(n)}else if(t==="wordSpacing"){(this.userProperties?.getByRef(me.WORD_SPACING_REF)).increment(),this.wordSpacing=this.userProperties?.getByRef(me.WORD_SPACING_REF)?.value;let n=this.userProperties?.getByRef(me.WORD_SPACING_REF);n&&await this.storeProperty(n)}else if(t==="lineHeight"){(this.userProperties?.getByRef(me.LINE_HEIGHT_REF)).increment(),this.lineHeight=this.userProperties?.getByRef(me.LINE_HEIGHT_REF)?.value;let n=this.userProperties?.getByRef(me.LINE_HEIGHT_REF);n&&await this.storeProperty(n)}await this.applyProperties(),this.settingsChangeCallback()}async decrease(t){if(t==="fontSize"){(this.userProperties?.getByRef(me.FONT_SIZE_REF)).decrement(),this.fontSize=this.userProperties?.getByRef(me.FONT_SIZE_REF)?.value;let n=this.userProperties?.getByRef(me.FONT_SIZE_REF);n&&await this.storeProperty(n)}else if(t==="letterSpacing"){(this.userProperties?.getByRef(me.LETTER_SPACING_REF)).decrement(),this.letterSpacing=this.userProperties?.getByRef(me.LETTER_SPACING_REF)?.value;let n=this.userProperties?.getByRef(me.LETTER_SPACING_REF);n&&await this.storeProperty(n)}else if(t==="wordSpacing"){(this.userProperties?.getByRef(me.WORD_SPACING_REF)).decrement(),this.wordSpacing=this.userProperties?.getByRef(me.WORD_SPACING_REF)?.value;let n=this.userProperties?.getByRef(me.WORD_SPACING_REF);n&&await this.storeProperty(n)}else if(t==="lineHeight"){(this.userProperties?.getByRef(me.LINE_HEIGHT_REF)).decrement(),this.wordSpacing=this.userProperties?.getByRef(me.LINE_HEIGHT_REF)?.value;let n=this.userProperties?.getByRef(me.LINE_HEIGHT_REF);n&&await this.storeProperty(n)}await this.applyProperties(),this.settingsChangeCallback()}},Ao=kt;Ao.appearanceValues=["readium-default-on","readium-sepia-on","readium-night-on"],Ao.fontFamilyValues=["Original","serif","sans-serif"],Ao.textAlignmentValues=["auto","justify","start"],Ao.columnCountValues=["auto","1","2"];H();H();var Si;(function(n){n[n.Bookmark=0]="Bookmark",n[n.Annotation=1]="Annotation"})(Si||(Si={}));H();H();H();H();H();H();var m_={stringify(r){let t=r.nSigBytes,n=r.words,i=[];for(let o=0;o<t;o++){let s=n[o>>>2]>>>24-o%4*8&255;i.push((s>>>4).toString(16)),i.push((s&15).toString(16))}return i.join("")},parse(r){let t=r.length;if(t%2!=0)throw new Error("Hex string count must be even");if(!/^[a-fA-F0-9]+$/.test(r))throw new Error(`Invalid Hex string: ${r}`);let n=[];for(let i=0;i<t;i+=2)n[i>>>3]|=parseInt(r.substr(i,2),16)<<24-i%8*4;return new Ln(n,t/2)}};H();H();var y_=typeof navigator!="undefined"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",ss=(()=>{let r=parseInt((/msie (\d+)/.exec(y_)||[])[1],10);return isNaN(r)?(r=parseInt((/trident\/.*; rv:(\d+)/.exec(y_)||[])[1],10),isNaN(r)?!1:r):r})();function b_(r,t){return ss===!1?!1:t?r==="<"?ss<t:r==="<="?ss<=t:r===">"?ss>t:r===">="?ss>=t:ss===t:!0}function v5(){if(typeof window!="undefined"){let r=window.crypto||window.msCrypto;if(!r){if(b_("<",11))return console.warn("IE <= 10 uses insecure random generator. Please consider to use IE11 or another modern browser"),function(){return Math.floor(Math.random()*512)%256};throw new Error("Crypto module not found")}return function(){return r.getRandomValues(new Uint32Array(1))[0]}}else{if(typeof globalThis!="undefined"&&globalThis.crypto)return function(){return globalThis.crypto.randomBytes(4).readInt32LE()};if(typeof Ha=="function")return function(){return __non_webpack_require__("crypto").randomBytes(4).readInt32LE()}}throw new Error("Unable to find crypto module")}var v_=v5();var Ln=class{constructor(t,n){if(Array.isArray(t)||!t){this._words=Array.isArray(t)?t:[],this._nSignificantBytes=typeof n=="number"?n:this._words.length*4;return}else if(t instanceof Ln){this._words=t.words.slice(),this._nSignificantBytes=t.nSigBytes;return}let i;try{t instanceof ArrayBuffer?i=new Uint8Array(t):(t instanceof Uint8Array||t instanceof Int8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}catch(l){throw new Error("Invalid argument")}if(!i)throw new Error("Invalid argument");let o=i.byteLength,s=[];for(let l=0;l<o;l++)s[l>>>2]|=i[l]<<24-l%4*8;this._words=s,this._nSignificantBytes=o}get nSigBytes(){return this._nSignificantBytes}set nSigBytes(t){this._nSignificantBytes=t}get words(){return this._words}toString(t){return t?t.stringify(this):m_.stringify(this)}toUint8Array(){let t=this._words,n=this._nSignificantBytes,i=new Uint8Array(n);for(let o=0;o<n;o++)i[o]=t[o>>>2]>>>24-o%4*8&255;return i}concat(t){let n=t.words.slice(),i=t.nSigBytes;if(this.clamp(),this._nSignificantBytes%4)for(let o=0;o<i;o++){let s=n[o>>>2]>>>24-o%4*8&255;this._words[this._nSignificantBytes+o>>>2]|=s<<24-(this._nSignificantBytes+o)%4*8}else for(let o=0;o<i;o+=4)this._words[this._nSignificantBytes+o>>>2]=n[o>>>2];return this._nSignificantBytes+=i,this}clamp(){let t=this._nSignificantBytes;this._words[t>>>2]&=4294967295<<32-t%4*8,this._words.length=Math.ceil(t/4)}clone(){return new Ln(this._words.slice(),this._nSignificantBytes)}static random(t){let n=[];for(let i=0;i<t;i+=4)n.push(v_());return new Ln(n,t)}};H();H();var S0={stringify(r){let t=r.nSigBytes,n=r.words,i=[];for(let o=0;o<t;o++){let s=n[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(s))}return i.join("")},parse(r){let t=r.length,n=[];for(let i=0;i<t;i++)n[i>>>2]|=(r.charCodeAt(i)&255)<<24-i%4*8;return new Ln(n,t)}};var w_={stringify(r){try{return decodeURIComponent(escape(S0.stringify(r)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse(r){return S0.parse(unescape(encodeURIComponent(r)))}};var A0=class{constructor(t){this._minBufferSize=0,this._blockSize=0,this._props=t,this._data=t&&typeof t.data!="undefined"?t.data.clone():new Ln,this._nBytes=t&&typeof t.nBytes=="number"?t.nBytes:0}get blockSize(){return this._blockSize}reset(t,n){this._data=typeof t!="undefined"?t.clone():new Ln,this._nBytes=typeof n=="number"?n:0}_append(t){let n=typeof t=="string"?w_.parse(t):t;this._data.concat(n),this._nBytes+=n.nSigBytes}_process(t){let n,i=this._data.words,o=this._data.nSigBytes,s=this._blockSize,l=this._blockSize*4,u=o/l;t?u=Math.ceil(u):u=Math.max((u|0)-this._minBufferSize,0);let d=u*s,h=Math.min(d*4,o);if(d){for(let y=0;y<d;y+=s)this._doProcessBlock(i,y);n=i.splice(0,d),this._data.nSigBytes-=h}return new Ln(n,h)}_doProcessBlock(t,n){throw new Error("Not implemented")}};var x0=class extends A0{constructor(t){super(t);this._blockSize=512/32,this._props=t,t&&typeof t.blockSize=="number"&&(this._blockSize=t.blockSize),this.reset(t?t.data:void 0,t?t.nBytes:void 0)}get blockSize(){return this._blockSize}reset(t,n){super.reset.call(this,t,n),this._doReset()}update(t){return this._append(t),this._process(),this}finalize(t){return t&&this._append(t),this._doFinalize()}_doReset(){throw new Error("Not implemented")}_doFinalize(){throw new Error("Not implemented")}};var C0=[],E_=[];function w5(r){let t=Math.sqrt(r);for(let n=2;n<=t;n++)if(!(r%n))return!1;return!0}function __(r){return(r-(r|0))*4294967296|0}(function(){let t=2,n=0;for(;n<64;)w5(t)&&(n<8&&(C0[n]=__(Math.pow(t,1/2))),E_[n]=__(Math.pow(t,1/3)),n++),t++})();var as=[],Fi=class extends x0{constructor(t){super(t);this._hash=new Ln(C0.slice(0)),this._props=t,t&&typeof t.hash!="undefined"&&(this._hash=t.hash.clone())}_doReset(){this._hash=new Ln(C0.slice(0))}_doProcessBlock(t,n){let i=this._hash.words,o=i[0],s=i[1],l=i[2],u=i[3],d=i[4],h=i[5],y=i[6],b=i[7];for(let w=0;w<64;w++){if(w<16)as[w]=t[n+w]|0;else{let C=as[w-15],O=(C<<25|C>>>7)^(C<<14|C>>>18)^C>>>3,E=as[w-2],T=(E<<15|E>>>17)^(E<<13|E>>>19)^E>>>10;as[w]=O+as[w-7]+T+as[w-16]}let p=d&h^~d&y,m=o&s^o&l^s&l,f=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),g=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),v=b+g+p+E_[w]+as[w],A=f+m;b=y,y=h,h=d,d=u+v|0,u=l,l=s,s=o,o=v+A|0}i[0]=i[0]+o|0,i[1]=i[1]+s|0,i[2]=i[2]+l|0,i[3]=i[3]+u|0,i[4]=i[4]+d|0,i[5]=i[5]+h|0,i[6]=i[6]+y|0,i[7]=i[7]+b|0}_doFinalize(){let t=this._data.words,n=this._nBytes*8,i=this._data.nSigBytes*8;return t[i>>>5]|=128<<24-i%32,t[(i+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(i+64>>>9<<4)+15]=n,this._data.nSigBytes=t.length*4,this._process(),this._hash}clone(){let t={hash:this._hash,blockSize:this._blockSize,data:this._data,nBytes:this._nBytes};return new Fi(t)}static hash(t,n){return new Fi(n).finalize(t)}};var _l=nt(So());H();var it;(function(u){u[u.Annotation=0]="Annotation",u[u.Search=1]="Search",u[u.ReadAloud=2]="ReadAloud",u[u.PageBreak=3]="PageBreak",u[u.Definition=4]="Definition",u[u.LineFocus=5]="LineFocus",u[u.Comment=6]="Comment"})(it||(it={}));H();var In=nt(Jt());function Gd(r,t){let n=r.getClientRects();return T0(n,t)}function T0(r,t){let n=1,i=[];for(let d of r)i.push({bottom:d.bottom,height:d.height,left:d.left,right:d.right,top:d.top,width:d.width});let o=A_(i,n,t),s=C5(o,n),l=x_(s),u=2*2;for(let d=l.length-1;d>=0;d--){let h=l[d];if(!(h.width*h.height>u))if(l.length>1)In.default.log("CLIENT RECT: remove small"),l.splice(d,1);else{In.default.log("CLIENT RECT: remove small, but keep otherwise empty!");break}}return C_(l),In.default.log(`CLIENT RECT: reduced ${i.length} --> ${l.length}`),l}function Hi(r,t,n){return Math.abs(r-t)<=n}function E5(r,t){let n=Math.max(r.left,t.left),i=Math.min(r.right,t.right),o=Math.max(r.top,t.top),s=Math.min(r.bottom,t.bottom);return{bottom:s,height:Math.max(0,s-o),left:n,right:i,top:o,width:Math.max(0,i-n)}}function S_(r,t){let n=E5(t,r);if(n.height===0||n.width===0)return[r];let i=[];{let o={bottom:r.bottom,height:0,left:r.left,right:n.left,top:r.top,width:0};o.width=o.right-o.left,o.height=o.bottom-o.top,o.height!==0&&o.width!==0&&i.push(o)}{let o={bottom:n.top,height:0,left:n.left,right:n.right,top:r.top,width:0};o.width=o.right-o.left,o.height=o.bottom-o.top,o.height!==0&&o.width!==0&&i.push(o)}{let o={bottom:r.bottom,height:0,left:n.left,right:n.right,top:n.bottom,width:0};o.width=o.right-o.left,o.height=o.bottom-o.top,o.height!==0&&o.width!==0&&i.push(o)}{let o={bottom:r.bottom,height:0,left:n.right,right:r.right,top:r.top,width:0};o.width=o.right-o.left,o.height=o.bottom-o.top,o.height!==0&&o.width!==0&&i.push(o)}return i}function zd(r,t,n,i){return(r.left<t||Hi(r.left,t,i))&&(r.right>t||Hi(r.right,t,i))&&(r.top<n||Hi(r.top,n,i))&&(r.bottom>n||Hi(r.bottom,n,i))}function _5(r,t,n){return zd(r,t.left,t.top,n)&&zd(r,t.right,t.top,n)&&zd(r,t.left,t.bottom,n)&&zd(r,t.right,t.bottom,n)}function S5(r,t){let n=Math.min(r.left,t.left),i=Math.max(r.right,t.right),o=Math.min(r.top,t.top),s=Math.max(r.bottom,t.bottom);return{bottom:s,height:s-o,left:n,right:i,top:o,width:i-n}}function O0(r,t,n){return(r.left<t.right||n>=0&&Hi(r.left,t.right,n))&&(t.left<r.right||n>=0&&Hi(t.left,r.right,n))&&(r.top<t.bottom||n>=0&&Hi(r.top,t.bottom,n))&&(t.top<r.bottom||n>=0&&Hi(t.top,r.bottom,n))}function A_(r,t,n){for(let i=0;i<r.length;i++)for(let o=i+1;o<r.length;o++){let s=r[i],l=r[o];if(s===l){In.default.log("mergeTouchingRects rect1 === rect2 ??!");continue}let u=Hi(s.top,l.top,t)&&Hi(s.bottom,l.bottom,t),d=Hi(s.left,l.left,t)&&Hi(s.right,l.right,t);if((d&&!n||u&&!d)&&O0(s,l,t)){In.default.log(`CLIENT RECT: merging two into one, VERTICAL: ${u} HORIZONTAL: ${d} (${n})`);let w=r.filter(m=>m!==s&&m!==l),p=S5(s,l);return w.push(p),A_(w,t,n)}}return r}function x_(r){for(let t=0;t<r.length;t++)for(let n=t+1;n<r.length;n++){let i=r[t],o=r[n];if(i===o){In.default.log("replaceOverlappingRects rect1 === rect2 ??!");continue}if(O0(i,o,-1)){let s=[],l,u,d=S_(i,o);if(d.length===1)s=d,l=i,u=o;else{let b=S_(o,i);d.length<b.length?(s=d,l=i,u=o):(s=b,l=o,u=i)}let h=[];h.push(u),Array.prototype.push.apply(h,s),C_(h),In.default.log(`CLIENT RECT: overlap, cut one rect into ${s.length}`);let y=r.filter(b=>b!==l);return Array.prototype.push.apply(y,s),x_(y)}}return r}function A5(r,t){return Math.max(0,Math.min(r.right,t.right)-Math.max(r.left,t.left))}function x5(r,t){return Math.max(0,Math.min(r.bottom,t.bottom)-Math.max(r.top,t.top))}function C5(r,t){let n=new Set(r);for(let i of r){if(!(i.width>1&&i.height>1)){In.default.log("CLIENT RECT: remove tiny"),n.delete(i);continue}for(let s of r)if(i!==s&&!!n.has(s)&&_5(s,i,t)){In.default.log("CLIENT RECT: remove contained"),n.delete(i);break}}return Array.from(n)}function C_(r){let t=[];for(let n of r)for(let i of r){if(n===i)continue;let o=t.indexOf(n)>=0,s=t.indexOf(i)>=0;if((!o||!s)&&O0(n,i,-1)){o||t.push(n),s||t.push(i),In.default.log("CLIENT RECT: overlap ---"),In.default.log(`#1 TOP:${n.top} BOTTOM:${n.bottom} LEFT:${n.left} RIGHT:${n.right} WIDTH:${n.width} HEIGHT:${n.height}`),In.default.log(`#2 TOP:${i.top} BOTTOM:${i.bottom} LEFT:${i.left} RIGHT:${i.right} WIDTH:${i.width} HEIGHT:${i.height}`);let l=A5(n,i);In.default.log(`xOverlap: ${l}`);let u=x5(n,i);In.default.log(`yOverlap: ${u}`)}}t.length&&In.default.log(`CLIENT RECT: overlaps ${t.length}`)}H();var Ht=nt(Jt());function Er(r,t){let n=r?r.getSelection():null;if(!n)return;if(n.isCollapsed){Ht.default.log("^^^ SELECTION COLLAPSED.");return}let i=n.toString(),o=i.trim().replace(/\n/g," ").replace(/\s\s+/g," ");if(o.length===0){Ht.default.log("^^^ SELECTION TEXT EMPTY.");return}if(!n.anchorNode||!n.focusNode)return;let s=n.rangeCount===1?n.getRangeAt(0):T_(n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset);if(!s||s.collapsed){Ht.default.log("$$$$$$$$$$$$$$$$$ CANNOT GET NON-COLLAPSED SELECTION RANGE?!");return}let l=O5(s);l.startContainer!==s.startContainer&&(Ht.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: startContainer"),Ht.default.log(l.startContainer),Ht.default.log(s.startContainer)),l.startOffset!==s.startOffset&&(Ht.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: startOffset"),Ht.default.log(`${l.startOffset} !== ${s.startOffset}`)),l.endContainer!==s.endContainer&&(Ht.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: endContainer"),Ht.default.log(l.endContainer),Ht.default.log(s.endContainer)),l.endOffset!==s.endOffset&&(Ht.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: endOffset"),Ht.default.log(`${l.endOffset} !== ${s.endOffset}`));let u=Xr(l,t);if(!u){Ht.default.log("^^^ SELECTION RANGE INFO FAIL?!");return}return{rangeInfo:u,cleanText:o,rawText:i,range:l}}function T_(r,t,n,i){try{let o=new Range;if(o.setStart(r,t),o.setEnd(n,i),!o.collapsed)return Ht.default.log(">>> createOrderedRange RANGE OK"),o;Ht.default.log(">>> createOrderedRange COLLAPSED ... RANGE REVERSE?");let s=new Range;if(s.setStart(n,i),s.setEnd(r,t),!s.collapsed)return Ht.default.log(">>> createOrderedRange RANGE REVERSE OK."),o;Ht.default.log(">>> createOrderedRange RANGE REVERSE ALSO COLLAPSED?!");return}catch(o){console.warn(o.message);return}}function Xr(r,t){let n=r.startContainer.nodeType===Node.ELEMENT_NODE,i=n?r.startContainer:r.startContainer.parentNode&&r.startContainer.parentNode.nodeType===Node.ELEMENT_NODE?r.startContainer.parentNode:void 0;if(!i)return;let o=n?-1:Array.from(i.childNodes).indexOf(r.startContainer);if(o<-1)return;let s=t(i),l=r.endContainer.nodeType===Node.ELEMENT_NODE,u=l?r.endContainer:r.endContainer.parentNode&&r.endContainer.parentNode.nodeType===Node.ELEMENT_NODE?r.endContainer.parentNode:void 0;if(!u)return;let d=l?-1:Array.from(u.childNodes).indexOf(r.endContainer);if(d<-1)return;let h=t(u),y=T5(r.startContainer,r.endContainer);if(!y){Ht.default.log("^^^ NO RANGE COMMON ANCESTOR?!");return}if(r.commonAncestorContainer){let b=r.commonAncestorContainer.nodeType===Node.ELEMENT_NODE?r.commonAncestorContainer:r.commonAncestorContainer.parentNode;b&&b.nodeType===Node.ELEMENT_NODE&&y!==b&&(Ht.default.log(">>>>>> COMMON ANCESTOR CONTAINER DIFF??!"),Ht.default.log(t(y)),Ht.default.log(t(b)))}if(h&&s)return{endContainerChildTextNodeIndex:d,endContainerElementCssSelector:h,endOffset:r.endOffset,startContainerChildTextNodeIndex:o,startContainerElementCssSelector:s,startOffset:r.startOffset}}function Vd(r,t){let n=r.querySelector(t.startContainerElementCssSelector);if(!n){Ht.default.log("^^^ convertRangeInfo NO START ELEMENT CSS SELECTOR?!");return}let i=n;if(t.startContainerChildTextNodeIndex>=0){if(t.startContainerChildTextNodeIndex>=n.childNodes.length){Ht.default.log("^^^ convertRangeInfo rangeInfo.startContainerChildTextNodeIndex >= startElement.childNodes.length?!");return}if(i=n.childNodes[t.startContainerChildTextNodeIndex],i.nodeType!==Node.TEXT_NODE){Ht.default.log("^^^ convertRangeInfo startContainer.nodeType !== Node.TEXT_NODE?!");return}}let o=r.querySelector(t.endContainerElementCssSelector);if(!o){Ht.default.log("^^^ convertRangeInfo NO END ELEMENT CSS SELECTOR?!");return}let s=o;if(t.endContainerChildTextNodeIndex>=0){if(t.endContainerChildTextNodeIndex>=o.childNodes.length){Ht.default.log("^^^ convertRangeInfo rangeInfo.endContainerChildTextNodeIndex >= endElement.childNodes.length?!");return}if(s=o.childNodes[t.endContainerChildTextNodeIndex],s.nodeType!==Node.TEXT_NODE){Ht.default.log("^^^ convertRangeInfo endContainer.nodeType !== Node.TEXT_NODE?!");return}}return T_(i,t.startOffset,s,t.endOffset)}function T5(r,t){if(r.nodeType===Node.ELEMENT_NODE&&r===t||r.nodeType===Node.ELEMENT_NODE&&r.contains(t))return r;if(t.nodeType===Node.ELEMENT_NODE&&t.contains(r))return t;let n=[],i=r.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE;)n.push(i),i=i.parentNode;let o=[];for(i=t.parentNode;i&&i.nodeType===Node.ELEMENT_NODE;)o.push(i),i=i.parentNode;let s=n.find(l=>o.indexOf(l)>=0);return s||(s=o.find(l=>n.indexOf(l)>=0)),s}function O5(r){let t=r.cloneRange(),n=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset;n.childNodes.length&&i>0&&(n=R_(n.childNodes[i-1]),i=n.length||0),s<o.childNodes.length&&(o=O_(o.childNodes[s]),s=0);let l=O_(n),u=R_(o);function d(h){if(h.childNodes.length)return!1;let y=h.length||0;return h===n&&i===y?!1:!(h===o&&s===0)}for(;l&&!d(l)&&l!==u;)l=R5(l);for(l===n?t.setStart(n,i):l!==null&&(l.nodeType===3?t.setStart(l,0):t.setStartBefore(l));u&&!d(u)&&u!==l;)u=P5(u);return u===o?t.setEnd(o,s):u!==null&&(u.nodeType===3?t.setEnd(u,u.length):t.setEndAfter(u)),t}function R5(r){if(r.firstChild)return r.firstChild;let t=r;for(;!t.nextSibling;)if(t=t.parentNode,!t)return null;return t.nextSibling}function P5(r){if(r.lastChild)return r.lastChild;let t=r;for(;!t.previousSibling;)if(t=t.parentNode,!t)return null;return t.previousSibling}function O_(r){for(;r.firstChild;)r=r.firstChild;return r}function R_(r){for(;r.lastChild;)r=r.lastChild;return r}H();var P0=nt(M_()),xo;(function(i){i[i.All=0]="All",i[i.Two=1]="Two",i[i.One=2]="One"})(xo||(xo={}));var Zr,M0;function wn(r,t,n){if(r.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(r.tagName.toLowerCase()==="html")return r.tagName.toLowerCase();let i={className:s=>!0,idName:s=>!0,optimizedMinLength:2,root:t.body,seedMinLength:1,tagName:s=>!0,threshold:1e3};Zr=et(et({},i),n),M0=D5(Zr.root,i);let o=k0(r,0,()=>k0(r,1,()=>k0(r,2)));if(o){let s=N_(D_(o,r));return s.length>0&&(o=s[0]),Jd(o)}else throw new Error("Selector was not found.")}function D5(r,t){return r.nodeType===Node.DOCUMENT_NODE?r:r===t.root?r.ownerDocument:r}function k0(r,t,n){let i=null,o=[],s=r,l=0;for(;s&&s!==Zr.root.parentElement;){let u=B0(j5(s))||B0(...F5(s))||B0(H5(s))||[U5()],d=$5(s);if(t===0)d&&(u=u.concat(u.filter(I0).map(h=>L0(h,d))));else if(t===1)u=u.slice(0,1),d&&(u=u.concat(u.filter(I0).map(h=>L0(h,d))));else if(t===2){let[h]=u=u.slice(0,1);d&&I0(h)&&(u=[L0(h,d)])}for(let h of u)h.level=l;if(o.push(u),o.length>=Zr.seedMinLength&&(i=k_(o,n),i))break;s=s.parentElement,l++}return i||(i=k_(o,n)),i}function k_(r,t){let n=N_(B_(r));if(n.length>Zr.threshold)return t?t():null;for(let i of n)if(I_(i))return i;return null}function Jd(r){let t=r[0],n=t.name;for(let i=1;i<r.length;i++){let o=r[i].level||0;t.level===o-1?n=`${r[i].name} > ${n}`:n=`${r[i].name} ${n}`,t=r[i]}return n}function L_(r){return r.map(t=>t.penalty).reduce((t,n)=>t+n,0)}function I_(r){switch(M0.querySelectorAll(Jd(r)).length){case 0:throw new Error(`Can't select any node with this selector: ${Jd(r)}`);case 1:return!0;default:return!1}}function j5(r){let t=r.getAttribute("id");return t&&Zr.idName(t)?{name:"#"+(0,P0.default)(t,{isIdentifier:!0}),penalty:0}:null}function F5(r){return Array.from(r.classList).filter(Zr.className).map(n=>({name:"."+(0,P0.default)(n,{isIdentifier:!0}),penalty:1}))}function H5(r){let t=r.tagName.toLowerCase();return Zr.tagName(t)?{name:t,penalty:2}:null}function U5(){return{name:"*",penalty:3}}function $5(r){let t=r.parentNode;if(!t)return null;let n=t.firstChild;if(!n)return null;let i=0;for(;n&&(n.nodeType===Node.ELEMENT_NODE&&i++,n!==r);)n=n.nextSibling;return i}function L0(r,t){return{name:r.name+`:nth-child(${t})`,penalty:r.penalty+1}}function I0(r){return r.name!=="html"&&!r.name.startsWith("#")}function B0(...r){let t=r.filter(q5);return t.length>0?t:null}function q5(r){return r!=null}function*B_(r,t=[]){if(r.length>0)for(let n of r[0])yield*B_(r.slice(1,r.length),t.concat(n));else yield t}function N_(r){return Array.from(r).sort((t,n)=>L_(t)-L_(n))}function*D_(r,t){if(r.length>2&&r.length>Zr.optimizedMinLength)for(let n=1;n<r.length-1;n++){let i=[...r];i.splice(n,1),I_(i)&&W5(i,t)&&(yield i,yield*D_(i,t))}}function W5(r,t){return M0.querySelector(Jd(r))===t}H();var Ve;(function(s){s[s.Highlight=0]="Highlight",s[s.Underline=1]="Underline",s[s.Bookmark=2]="Bookmark",s[s.Custom=3]="Custom",s[s.Comment=4]="Comment"})(Ve||(Ve={}));H();var N0=24,G5=24,j_="0 0 24 24",ti=(r,t,n,i="icon")=>`<svg xmlns="http://www.w3.org/2000/svg" width="${N0}" height="${G5}" viewBox="${j_}" preserveAspectRatio="xMidYMid meet" role="img" class="${i}" aria-labelledBy="${r}">
  <title id="${r}">${t}</title>
  ${n}
</svg>`,z5=(r,t,n,i,o="icon")=>`<svg xmlns="http://www.w3.org/2000/svg" width="${N0}" height="${N0}" viewBox="${i}" preserveAspectRatio="xMidYMid meet" role="img" class="${o}" aria-labelledBy="${r}">
  <title id="${r}">${t}</title>
  ${n}
</svg>`,ua=(r,t,n,i="icon",o,s)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${o}" height="${o}" viewBox="${j_}" style="fill:${s}" preserveAspectRatio="xMidYMid meet" role="img" class="${i}" aria-labelledBy="${r}">
  <title id="${r}">${t}</title>
  ${n}
</svg>`,nr={error:ti("error-icon","Warning",'<path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>'),home:'<path d="M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"/>',expand:ti("expand-icon","Enter fullscreen",'<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>',"icon active-icon"),loading:z5("loading-icon","Loading",'<path fill="#BBBBBB" d="M145,241.6c-53.3,0-96.6-43.2-96.6-96.6c0-53.3,43.2-96.6,96.6-96.6c53.3,0,96.6,43.2,96.6,96.6 c0,26.7-10.8,50.9-28.3,68.3l7.6,7.6c19.4-19.4,31.5-46.3,31.5-75.9c0-59.3-48-107.3-107.3-107.3S37.7,85.7,37.7,145 c0,59.3,48,107.3,107.3,107.3V241.6z"/>',"0 0 290 290"),next:ti("next-icon","Next Chapter",'<path d="M6.49 20.13l1.77 1.77 9.9-9.9-9.9-9.9-1.77 1.77L14.62 12l-8.13 8.13z"/>'),previous:ti("previous-icon","Previous Chapter",'<path d="M17.51 3.87L15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"/>'),settings:ti("settings-icon","Settings",'<path d="M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>',"icon open"),toc:ti("toc-icon","Table of Contents",'<path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"/>',"icon open"),bookmarks:ti("toc-icon","Bookmarks",'<path d="M4,6H2v16h16v-2H4V6z"/><path d="M22,2H6v16h16V2z M20,12l-2.5-1.5L15,12V4h5V12z"/>',"icon open"),bookmark:ti("toc-icon","Bookmark",'<path d="M19,3H5v18l7-3l7,3V3z"/>',"icon open"),delete:ti("delete-icon","Delete",'<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>',"icon open"),close:ti("close-icon","Close",'<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>',"icon open"),text:ti("text-icon","Text",'<path d="M5 4v3h5.5v12h3V7H19V4z"/>',"icon open"),speak:ti("speak-icon","Speak",'<circle cx="9" cy="9" r="4"/><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"/><path d="M0 0h24v24H0z" fill="none"/>',"icon open"),note:ti("note-icon","Note",'<polygon points="17.71 24.66 22.3 20.07 17.71 20.07 17.71 24.66" fill="none"/><path d="M22.42.07H5.58A3.28,3.28,0,0,0,2.29,3.35V24.79a3.28,3.28,0,0,0,3.29,3.28H16.71a1,1,0,0,0,.71-.29l8-8a1,1,0,0,0,.29-.71V3.35A3.28,3.28,0,0,0,22.42.07Zm-8.17,15h-7v-2h7Zm-7-6v-2h13v2ZM16.5,25.86v-6a1,1,0,0,1,1-1h6Z" />',"icon open"),highlight:ti("highlight-icon","Highlight",'<path d="M27.71,7.78,21.12,1.19a1,1,0,0,0-1.38,0L4.32,15A1,1,0,0,0,4,15.7a1,1,0,0,0,.3.73c1.22,1.22,1.2,2.37,0,3.62a1,1,0,0,0,0,1.41l3.2,3.2a1,1,0,0,0,1.41,0c1.28-1.28,2.36-1.29,3.62,0a1,1,0,0,0,1.45,0L27.74,9.16A1,1,0,0,0,27.71,7.78Z" /><path d="M3.09,22.59l-2.8,2.8a1,1,0,0,0-.21,1.09A1,1,0,0,0,1,27.1H4.6a1,1,0,0,0,.71-.29l1-1Z" />',"icon open")};var D0=nt(Kd());var ni=nt(Jt()),qe;(function(d){d.R2_ID_HIGHLIGHTS_CONTAINER="R2_ID_HIGHLIGHTS_CONTAINER",d.R2_ID_BOOKMAKRS_CONTAINER="R2_ID_BOOKMAKRS_CONTAINER",d.R2_ID_READALOUD_CONTAINER="R2_ID_READALOUD_CONTAINER",d.R2_ID_PAGEBREAK_CONTAINER="R2_ID_PAGEBREAK_CONTAINER",d.R2_ID_SEARCH_CONTAINER="R2_ID_SEARCH_CONTAINER",d.R2_ID_DEFINITIONS_CONTAINER="R2_ID_DEFINITIONS_CONTAINER",d.R2_ID_LINEFOCUS_CONTAINER="R2_ID_LINEFOCUS_CONTAINER",d.R2_ID_GUTTER_RIGHT_CONTAINER="R2_ID_GUTTER_RIGHT_CONTAINER"})(qe||(qe={}));var F_="R2_CLASS_HIGHLIGHT_CONTAINER",Sl="R2_CLASS_HIGHLIGHT_BOUNDING_AREA",Tn="R2_CLASS_HIGHLIGHT_AREA",Al="R2_CLASS_HIGHLIGHT_ICON",_r=.5,H_=.75,ls={blue:100,green:50,red:230},tn=[],V5="data-highlighted",J5="data-timestamp",ha={ELEMENT_NODE:1,TEXT_NODE:3},Ai=[qe.R2_ID_HIGHLIGHTS_CONTAINER,qe.R2_ID_PAGEBREAK_CONTAINER,qe.R2_ID_SEARCH_CONTAINER,qe.R2_ID_READALOUD_CONTAINER,qe.R2_ID_BOOKMAKRS_CONTAINER,qe.R2_ID_DEFINITIONS_CONTAINER,qe.R2_ID_LINEFOCUS_CONTAINER,qe.R2_ID_GUTTER_RIGHT_CONTAINER,F_,Tn,Sl],j0=-1,F0=-1,Qe=class{constructor(t,n,i,o,s){this.lastSelectedHighlight=void 0;this.activeAnnotationMarkerId=void 0;this.showTool=(0,_l.debounce)(t=>{this.isAndroid()||this.snapSelectionToWord(t),this.toolboxShow()},navigator.userAgent.toLowerCase().indexOf("firefox")>-1?200:100);this.isSelectionMenuOpen=!1;this.selectionMenuOpened=(0,_l.debounce)(()=>{this.isSelectionMenuOpen||(this.isSelectionMenuOpen=!0,this.api?.selectionMenuOpen&&this.api?.selectionMenuOpen(),this.navigator.emit("toolbox.opened","opened"))},100);this.selectionMenuClosed=(0,_l.debounce)(()=>{this.isSelectionMenuOpen&&(this.isSelectionMenuOpen=!1,this.api?.selectionMenuClose&&this.api?.selectionMenuClose(),this.navigator.emit("toolbox.closed","closed"))},100);this.selection=(0,_l.debounce)((t,n)=>{this.api?.selection&&this.api?.selection(t,n)},100);this.getScrollingElement=t=>t?.scrollingElement?t?.scrollingElement:t?.body?t?.body:document.createElement("body");this.layerSettings=t,this.properties=n,this.api=s,this.hasEventListener=i,this.options=this.defaults(o,{color:"#fce300",highlightedClass:"highlighted",contextClass:"highlighter-context",onBeforeHighlight:function(){return!0},onAfterHighlight:function(){}})}static async create(t){let n=new this(t.layerSettings,t,!1,{},t.api);return new Promise(i=>i(n))}async initialize(){let t=this.navigator.iframes[0].contentDocument;t&&this.dom(t.body).addClass(this.options.contextClass),this.bindEvents(this.navigator.iframes[0].contentDocument?.body,this,this.hasEventListener),this.initializeToolbox(),j0=-1,F0=-1;let n=this;async function i(){n.lastSelectedHighlight===void 0||(n.lastSelectedHighlight=void 0)}setTimeout(async()=>{let o=this.navigator.iframes[0].contentDocument;o&&await o.body?.addEventListener("click",i)},100)}haveSameColor(t,n){return this.dom(t).color()===this.dom(n).color()}defaults(t,n){t=t||{};for(let i in n)n.hasOwnProperty(i)&&t[i]===void 0&&(t[i]=n[i]);return t}unique(t){return t.filter(function(n,i,o){return o.indexOf(n)===i})}refineRangeBoundaries(t){let n=t.startContainer,i=t.endContainer,o=t.commonAncestorContainer,s=!0;if(t.endOffset===0){for(;!i.previousSibling&&i.parentNode!==o;)i=i.parentNode;i=i.previousSibling}else i.nodeType===ha.TEXT_NODE?t.endOffset<i.nodeValue.length&&i.splitText(t.endOffset):t.endOffset>0&&(i=i.childNodes.item(t.endOffset-1));return n.nodeType===ha.TEXT_NODE?t.startOffset===n.nodeValue.length?s=!1:t.startOffset>0&&(n=n.splitText(t.startOffset),i===n.previousSibling&&(i=n)):t.startOffset<n.childNodes.length?n=n.childNodes.item(t.startOffset):n=n.nextSibling,{startContainer:n,endContainer:i,goDeeper:s}}sortByDepth(t,n){let i=this;t.sort(function(o,s){return i.dom(n?s:o).parents().length-i.dom(n?o:s).parents().length})}groupHighlights(t){let n=[],i={},o=[];return t.forEach(function(s){let l=s.getAttribute(J5);typeof i[l]=="undefined"&&(i[l]=[],n.push(l)),i[l].push(s)}),n.forEach(function(s){let l=i[s];o.push({chunks:l,timestamp:s,toString:function(){return l.map(function(u){return u.textContent}).join("")}})}),o}dom(t){let n=this;return{addClass:function(i){t.classList?t.classList.add(i):t.className+=" "+i},removeClass:function(i){t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i+"(\\b|$)","gi")," ")},prepend:function(i){let o=Array.prototype.slice.call(i),s=o.length;for(;s--;)t.insertBefore(o[s],t.firstChild)},append:function(i){let o=Array.prototype.slice.call(i);for(let s=0,l=o.length;s<l;++s)t.appendChild(o[s])},insertAfter:function(i){return i.parentNode?.insertBefore(t,i.nextSibling)},insertBefore:function(i){return i.parentNode?.insertBefore(t,i)},remove:function(){t.parentNode.removeChild(t),t=null},contains:function(i){return t!==i&&t.contains(i)},wrap:function(i){return t.parentNode&&t.parentNode.insertBefore(i,t),i.appendChild(t),i},unwrap:function(){let i=Array.prototype.slice.call(t.childNodes),o;return i.forEach(function(s){o=s.parentNode,n.dom(s).insertBefore(s.parentNode),n.dom(o).remove()}),i},parents:function(){let i,o=[];for(;i=t.parentNode;)o.push(i),t=i;return o},normalizeTextNodes:function(){if(!!t){if(t.nodeType===ha.TEXT_NODE)for(;t.nextSibling&&t.nextSibling.nodeType===ha.TEXT_NODE;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else n.dom(t.firstChild).normalizeTextNodes();n.dom(t.nextSibling).normalizeTextNodes()}},color:function(){return t.style.backgroundColor},fromHTML:function(i){let o=document.createElement("div");return o.innerHTML=i,o.childNodes},getRange:function(){let i=n.dom(t)?.getSelection(),o;return i?.rangeCount>0&&(o=i?.getRangeAt(0)),o},removeAllRanges:function(){n.dom(t)?.getSelection()?.removeAllRanges(),n.toolboxHide()},getSelection:function(){return n.dom(t).getWindow()?.getSelection()},getWindow:function(){return n.dom(t).getDocument()?.defaultView},getDocument:function(){return t?.ownerDocument||t}}}disableContext(t){return t.preventDefault(),t.stopPropagation(),!1}bindEvents(t,n,i){let o=t.ownerDocument;t.addEventListener("mouseup",this.toolboxShowDelayed.bind(this)),t.addEventListener("touchend",this.toolboxShowDelayed.bind(this)),o.addEventListener("mouseup",this.toolboxShowDelayed.bind(this)),o.addEventListener("touchend",this.toolboxShowDelayed.bind(this)),i||window.addEventListener("resize",this.toolboxPlacement.bind(this)),o.addEventListener("selectionchange",this.toolboxPlacement.bind(this)),t.addEventListener("mousedown",this.toolboxHide.bind(this)),t.addEventListener("touchstart",this.toolboxHide.bind(this)),this.isAndroid()&&t.addEventListener("contextmenu",this.disableContext),t.addEventListener("mousedown",this.mousedown.bind(this)),t.addEventListener("mouseup",this.mouseup.bind(this)),t.addEventListener("mousemove",this.mousemove.bind(this)),t.addEventListener("touchstart",this.mousedown.bind(this)),t.addEventListener("touchend",this.mouseup.bind(this)),t.addEventListener("touchmove",this.mousemove.bind(this)),this.hasEventListener=!0}async mousedown(t){j0=t.clientX,F0=t.clientY}async mouseup(t){Math.abs(j0-t.clientX)<3&&Math.abs(F0-t.clientY)<3&&await this.processMouseEvent(t)}async mousemove(t){await this.processMouseEvent(t)}unbindEvents(t,n){let i=t.ownerDocument;t.removeEventListener("mouseup",this.toolboxShowDelayed.bind(this)),t.removeEventListener("touchend",this.toolboxShowDelayed.bind(this)),i.removeEventListener("mouseup",this.toolboxShowDelayed.bind(this)),i.removeEventListener("touchend",this.toolboxShowDelayed.bind(this)),window.removeEventListener("resize",this.toolboxPlacement.bind(this)),i.removeEventListener("selectionchange",this.toolboxPlacement.bind(this)),t.removeEventListener("mousedown",this.toolboxHide.bind(this)),t.removeEventListener("touchstart",this.toolboxHide.bind(this)),this.isAndroid()&&t.removeEventListener("contextmenu",this.disableContext),t.removeEventListener("mousedown",this.mousedown.bind(this)),t.removeEventListener("mouseup",this.mouseup.bind(this)),t.removeEventListener("mousemove",this.mousemove.bind(this)),t.removeEventListener("touchstart",this.mousedown.bind(this)),t.removeEventListener("touchend",this.mouseup.bind(this)),t.removeEventListener("touchmove",this.mousemove.bind(this)),this.hasEventListener=!1}destroy(){this.toolboxHide();let t=this.navigator.iframes[0].contentDocument;t&&(this.unbindEvents(t.body,this),this.dom(t.body).removeClass(this.options.contextClass))}initializeToolbox(){let t=document.getElementById("highlight-toolbox-mode-colors"),n=document.getElementById("highlight-toolbox-mode-add"),i=["#fce300","#48e200","#00bae5","#157cf9","#6a39b7","#ea426a","#ff8500"],o=document.getElementById("colorIcon"),s=document.getElementById("actionIcon"),l=document.getElementById("dismissIcon"),u=document.getElementById("collapseIcon"),d=document.getElementById("highlightIcon"),h=this;if(l&&(l.innerHTML=nr.close,l.addEventListener("click",function(){h.toolboxMode("add")})),u&&(u.innerHTML=nr.close,u.addEventListener("click",function(){h.toolboxMode("add")})),o){o.style.position="relative",o.style.zIndex="20",i.forEach(w=>{let p=document.getElementById(w),m=document.getElementById(`c${w}`);p&&t?.contains(p)&&t.removeChild(p),n&&m&&n.contains(m)&&n.removeChild(m)});let y=[],b=[];if(o.addEventListener("click",function(){h.toolboxMode("colors")}),this.navigator.rights.enableAnnotations){let w=10;i.forEach(p=>{w--;let m=o?.cloneNode(!0),f=m.lastChild,g=Qe.hexToRgbChannels(p);f.style.backgroundColor="rgba("+[g.red,g.green,g.blue].join(",")+",.5)",m.id=`c${p}`,m.style.display="unset",m.style.position="relative",m.style.zIndex=`${w}`,m.style.marginLeft="-30px",b.push(m),n?.insertBefore(m,d)})}i.forEach(w=>{let p=o?.cloneNode(!0),m=p.lastChild;m.style.backgroundColor=w,p.id=w,p.style.position="relative",p.style.display="unset",y.push(p),o&&p.addEventListener("click",function(){h.setColor(w);let f=o?.lastChild;f&&(f.style.backgroundColor=w);let g=document.getElementById("highlightIcon"),v=document.getElementById("underlineIcon"),A=document.getElementById("noteIcon");(g?.getElementsByTagName?.("span").length??0)>0&&((g?.getElementsByTagName("span")[0]).style.background=h.getColor()),(v?.getElementsByTagName?.("span").length??0)>0&&((v?.getElementsByTagName("span")[0]).style.borderBottomColor=h.getColor()),(A?.getElementsByTagName?.("span").length??0)>0&&((A?.getElementsByTagName("span")[0]).style.borderBottomColor=h.getColor()),h.toolboxMode("add")}),t?.insertBefore(p,l)})}s&&s.addEventListener("click",function(){h.toolboxMode("action")}),h.toolboxMode("add")}toolboxMode(t){let n=document.getElementById("highlight-toolbox-mode-colors"),i=document.getElementById("highlight-toolbox-mode-add"),o=document.getElementById("highlight-toolbox-mode-edit"),s=document.getElementById("highlight-toolbox-mode-action");switch(t){case"colors":n&&(n.style.display="unset"),i&&(i.style.display="none"),o&&(o.style.display="none"),s&&(s.style.display="none");break;case"edit":n&&(n.style.display="none"),i&&(i.style.display="none"),o&&(o.style.display="unset"),s&&(s.style.display="none");break;case"action":n&&(n.style.display="none"),i&&(i.style.display="none"),o&&(o.style.display="none"),s&&(s.style.display="unset");break;default:n&&(n.style.display="none"),i&&(i.style.display="unset"),o&&(o.style.display="none"),s&&(s.style.display="none");break}}toolboxHide(){let t=document.getElementById("highlight-toolbox");t&&(t.style.display="none"),this.selectionMenuClosed()}toolboxShowDelayed(t){this.showTool(t.detail===1)}snapSelectionToWord(t=!1){let n=this,i=this.navigator.iframes[0].contentDocument;if(i){let s=n.dom(i.body)?.getSelection();if(n.dom(i.body)&&s&&!s?.isCollapsed){let h=function(g){let v=g.match(new RegExp("[^a-zA-Z0-9]+$"));return!v||!v.index?g:g.slice(0,v.index)},l=s.toString(),u=l.length-l.trimStart().length,d=l.length-l.trimEnd().length,y=l.length;var o=/[-!$%^&*()_+|~=`{}[\]:/;<>?,.@#]/;l=l.replace(o,""),u=y-l.trimStart().length,l=h(l),d=y-l.trimEnd().length;let b=document.createRange();t?(b.setStart(s.anchorNode,s.anchorOffset+u),b.setEnd(s.focusNode,s.focusOffset-d)):(b.setStart(s.anchorNode,s.anchorOffset),b.setEnd(s.focusNode,s.focusOffset));let w=b.collapsed;b.detach();let p=s.focusNode,m;t?(m=s.focusOffset-d,s.collapse(s.anchorNode,s.anchorOffset+u)):(m=s.focusOffset,s.collapse(s.anchorNode,s.anchorOffset));let f=["forward","backward"];w&&(f=["backward","forward"]),t?(s.modify("move",f[0],"character"),s.modify("move",f[1],"word"),s.extend(p,m),s.modify("extend",f[1],"character"),s.modify("extend",f[0],"word")):s.extend(p,m),this.selection(s.toString(),s)}return s}}toolboxShow(){if(this.activeAnnotationMarkerId===void 0){let t=this,n=document.getElementById("highlight-toolbox-mode-add"),i=this.dom(this.navigator.iframes[0].contentDocument?.body).getRange();if((!i||i.collapsed)&&n){getComputedStyle(n).display!=="none"&&t.toolboxHide();return}this.isIOS()&&setTimeout(function(){let o=t.navigator.iframes[0].contentDocument;if(o){let s=t.dom(o.body).getSelection();s.removeAllRanges(),setTimeout(function(){s.addRange(i);function l(h){let y={className:w=>Ai.indexOf(w)<0,idName:w=>Ai.indexOf(w)<0},b=t.navigator.iframes[0].contentDocument;if(b)return wn(h,b,y)}let u=t.navigator.iframes[0].contentWindow,d=Er(u,l);t.navigator.annotationModule?.annotator?.saveTemporarySelectionInfo(d)},5)}},100),this.toolboxPlacement(),this.toolboxHandler()}}toolboxPlacement(){let t=this.dom(this.navigator.iframes[0].contentDocument?.body).getRange();if(!t||t.collapsed)return;let n=t.getBoundingClientRect(),i=document.getElementById("highlight-toolbox");i&&(this.navigator.view?.isPaginated()?i.style.top=n.top+(this.navigator.attributes?.navHeight??0)+"px":i.style.top=n.top+"px",i.style.left=(n.right-n.left)/2+n.left+"px")}toolboxHandler(){let t=document.getElementById("highlight-toolbox");if(t&&getComputedStyle(t).display==="none"){t.style.display="block",this.navigator.view?.isPaginated()?t.style.position="absolute":t.style.position="relative",this.selectionMenuOpened();let i=this;i.toolboxMode("add");let o=document.getElementById("highlightIcon"),s=document.getElementById("collapseIcon"),l=document.getElementById("underlineIcon"),u=document.getElementById("noteIcon"),d=document.getElementById("colorIcon"),h=document.getElementById("speakIcon");if(this.navigator.rights.enableAnnotations){if(o&&(o.style.display="unset",d&&o.getElementsByTagName("span").length>0&&(o.getElementsByTagName("span")[0].style.background=this.getColor())),l&&(l.style.display="unset",d&&l.getElementsByTagName("span").length>0&&(l.getElementsByTagName("span")[0].style.borderBottomColor=this.getColor())),u&&(u.style.display="unset",d&&u.getElementsByTagName("span").length>0&&(u.getElementsByTagName("span")[0].style.borderBottomColor=this.getColor())),d){d.style.display="unset";let y=d.lastChild;y.style.backgroundColor=this.getColor()}if(o){let y=function(){i.doHighlight(!1,Ve.Highlight),i.toolboxHide(),o?.removeEventListener("click",y)},b=o.cloneNode(!0);o?.parentNode?.replaceChild(b,o),o=document.getElementById("highlightIcon"),o?.addEventListener("click",y)}if(l){let y=function(){i.doHighlight(!1,Ve.Underline),i.toolboxHide(),l?.removeEventListener("click",y)},b=l.cloneNode(!0);l?.parentNode?.replaceChild(b,l),l=document.getElementById("underlineIcon"),l?.addEventListener("click",y)}if(u){let y=function(){i.doHighlight(!1,Ve.Comment),i.toolboxHide(),u?.removeEventListener("click",y)},b=u.cloneNode(!0);u?.parentNode?.replaceChild(b,u),u=document.getElementById("noteIcon"),u?.addEventListener("click",y)}}else o&&o.style.setProperty("display","none"),l&&l.style.setProperty("display","none"),u&&u.style.setProperty("display","none"),d&&d.style.setProperty("display","none"),s&&s.style.setProperty("display","none");if(this.navigator.rights.enableTTS){if(h){let y=function(){h?.removeEventListener("click",y),i.speak()},b=h.cloneNode(!0);h?.parentNode?.replaceChild(b,h),h=document.getElementById("speakIcon"),h?.addEventListener("click",y)}}else h&&h.style.setProperty("display","none");(this.properties?.selectionMenuItems??[])&&(this.properties?.selectionMenuItems??[]).forEach(y=>{y.icon&&(y.icon.id=y.id);let b=document.getElementById(y.id),w=this;function p(){b?.removeEventListener("click",p);function m(g){let v={className:C=>Ai.indexOf(C)<0,idName:C=>Ai.indexOf(C)<0},A=w.navigator.iframes[0].contentDocument;if(A)return wn(g,A,v)}let f=w.navigator.iframes[0].contentWindow;if(f){let g=Er(f,m);if(g===void 0){let v=w.navigator.iframes[0].contentDocument;g=w.navigator.annotationModule?.annotator?.getTemporarySelectionInfo(v)}if(g!==void 0)if(y.callback)y.callback(g.cleanText,g.range?.startContainer.parentElement);else{let v=y.highlight?.style,A=y.marker?y.marker:Ve.Custom;if(A===Ve.Custom&&w.navigator.rights.enableAnnotations||A===Ve.Bookmark&&w.navigator.rights.enableBookmarks){let C=w.navigator.iframes[0].contentDocument;if(C){let O=w.createHighlight(w.dom(C.body).getWindow(),g,y.highlight?.color,!0,A,y.icon,y.popup,v);w.options.onAfterHighlight(O,A),w.navigator.rights.enableAnnotations?w.navigator.annotationModule?.saveAnnotation(O[0]).then(E=>{y?.note&&E.highlight&&w.navigator.annotationModule?.api?.addCommentToAnnotation(E).then(T=>{w.navigator.annotationModule?.updateAnnotation(T).then(async()=>{ni.default.log("update highlight "+T.id)})})}):w.navigator.rights.enableBookmarks&&w.navigator.bookmarkModule?.saveAnnotation(O[0])}}}}w.callbackComplete()}if(b){let m=b.cloneNode(!0);b?.parentNode?.replaceChild(m,b),b=document.getElementById(y.id),b?.addEventListener("click",p)}})}}doHighlight(t,n){let i=this;function o(l){let u={className:h=>Ai.indexOf(h)<0,idName:h=>Ai.indexOf(h)<0},d=i.navigator.iframes[0].contentDocument;if(d)return wn(l,d,u)}let s=i.navigator.iframes[0].contentWindow;if(s){let l=Er(s,o);if(l===void 0){let u=i.navigator.iframes[0].contentDocument;l=this.navigator.annotationModule?.annotator?.getTemporarySelectionInfo(u)}if(l){if(this.options.onBeforeHighlight(l)===!0){let u;u=this.getColor(),Qe.isHexColor(u)&&(u=Qe.hexToRgbChannels(u));let d=i.navigator.iframes[0].contentDocument;if(d){let h=this.createHighlight(i.dom(d.body).getWindow(),l,u,!0,n??Ve.Highlight);this.options.onAfterHighlight(h,n),this.navigator.rights.enableAnnotations&&n!==Ve.Bookmark?this.navigator.annotationModule?.saveAnnotation(h[0]):this.navigator.rights.enableBookmarks&&n===Ve.Bookmark&&this.navigator.bookmarkModule?.saveAnnotation(h[0])}}t||this.dom(this.navigator.iframes[0].contentDocument?.body).removeAllRanges()}else t||this.dom(this.navigator.iframes[0].contentDocument?.body).removeAllRanges()}}speak(){if(this.navigator.rights.enableTTS){let n=function(l){let u={className:h=>Ai.indexOf(h)<0,idName:h=>Ai.indexOf(h)<0},d=t.navigator.iframes[0].contentDocument;if(d)return wn(l,d,u)},t=this,i=t.navigator.iframes[0].contentWindow;if(i){let l=Er(i,n);if(l===void 0){let u=t.navigator.iframes[0].contentDocument;l=t.navigator.annotationModule?.annotator?.getTemporarySelectionInfo(u)}l!==void 0&&this.navigator.ttsModule.speak(l,!0,()=>{})}let o=t.navigator.iframes[0].contentDocument;o&&t.dom(o.body).getSelection().removeAllRanges();let s=document.getElementById("highlight-toolbox");s&&(s.style.display="none"),this.selectionMenuClosed()}}stopReadAloud(){this.navigator.rights.enableTTS&&this.doneSpeaking()}callbackComplete(){this.toolboxHide();let t=this.navigator.iframes[0].contentDocument;t&&this.dom(t.body).removeAllRanges()}isOutsideViewport(t){let n=yt(document,"#iframe-wrapper"),i=n.scrollLeft,o=i+n.clientWidth,s=t.left+t.width,l=t.top+t.height,u=n.scrollTop,d=u+n.clientHeight,h=l<u,y=t.top>d,b=s<i,w=t.left>o;return h||y||b||w}isInsideViewport(t){let n=yt(document,"#iframe-wrapper"),i=n.scrollTop,o=i+n.clientHeight,s=t.top+20>=i,l=t.top<=o,u=n.scrollLeft,d=u+n.clientWidth,h=t.left+t.width,y=t.left>u,b=h<d;return s&&l&&y&&b}get visibleTextRects(){let t=this.navigator.iframes[0].contentDocument;if(t){let i=function(u,d=[]){let h=u.firstChild;for(;h;)h.nodeType===1&&i(h,d),h.nodeType===3&&h.textContent?.trim()&&d.push(h),h=h.nextSibling;return d},o=function(u){return i(u).map(h=>{let{top:y,height:b,left:w,width:p}=s(h);return{top:y,height:b,width:p,left:w,node:h,textContent:h.textContent??""}})},s=function(u){try{let d=document.createRange();d.selectNode(u);let h=d.getBoundingClientRect();return d.detach(),h}catch(d){ni.default.log("measureTextNode "+d),ni.default.log("measureTextNode "+u),ni.default.log(`${u.textContent}`)}},n=Gr(t,"body");return o(n).filter(u=>this.isInsideViewport(u))}return[]}doneSpeaking(t=!1){if(this.navigator.rights.enableTTS){this.toolboxHide();let n=this.navigator.iframes[0].contentDocument;n&&this.dom(n.body).removeAllRanges(),this.navigator.ttsModule.cancel(),t&&this.navigator.reload()}}normalizeHighlights(t){var n;return n=t.filter(function(i){return i.parentElement?i:null}),n=this.unique(n),n.sort(function(i,o){return i.offsetTop-o.offsetTop||i.offsetLeft-o.offsetLeft}),n}flattenNestedHighlights(t){let n,i=this;i.sortByDepth(t,!0);function o(){let s=!1;return t.forEach(function(l,u){let d=l.parentElement,h=d.previousSibling,y=d.nextSibling;i.isHighlight(d)&&(i.haveSameColor(d,l)?(d.replaceChild(l.firstChild,l),t[u]=d,s=!0):(l.nextSibling||(i.dom(l).insertBefore(y||d),s=!0),l.previousSibling||(i.dom(l).insertAfter(h||d),s=!0),d.hasChildNodes()||i.dom(d).remove()))}),s}do n=o();while(n)}mergeSiblingHighlights(t){let n=this;function i(o,s){return s&&s.nodeType===ha.ELEMENT_NODE&&n.haveSameColor(o,s)&&n.isHighlight(s)}t.forEach(function(o){let s=o.previousSibling,l=o.nextSibling;i(o,s)&&(n.dom(o).prepend(s.childNodes),n.dom(s).remove()),i(o,l)&&(n.dom(o).append(l.childNodes),n.dom(l).remove()),n.dom(o).normalizeTextNodes()})}setColor(t){this.options.color=t}getColor(){return this.options.color}isHighlight(t){return t&&t.nodeType===ha.ELEMENT_NODE&&t.hasAttribute(V5)}createWrapper(){let t=document.createElement("mark");return t.style.background="linear-gradient("+Qe.hexToRgbA(this.options.color)+", "+Qe.hexToRgbA(this.options.color)+")",t.className=this.options.highlightedClass,t}static isHexColor(t){return/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)}static hexToRgbString(t){let n;return n=t.substring(1).split(""),n.length===3&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),n}static hexToRgbChannels(t){let n;if(this.isHexColor(t))return n=this.hexToRgbString(t),{red:n>>16&255,green:n>>8&255,blue:n&255};throw new Error("Bad Hex")}static hexToRgbA(t){let n;if(this.isHexColor(t))return n=this.hexToRgbChannels(t),"rgba("+[n.red,n.green,n.blue].join(",")+",.5)";if(typeof t=="object"){let i=t;return"rgba("+[i.red,i.green,i.blue].join(",")+",.5)"}throw new Error("Bad Hex")}static hexToRgbAWithOpacity(t,n){let i;if(this.isHexColor(t))return i=this.hexToRgbChannels(t),"rgba("+[i.red,i.green,i.blue].join(",")+","+n+")";if(typeof t=="object"){let o=t;return"rgba("+[o.red,o.green,o.blue].join(",")+","+n+")"}throw new Error("Bad Hex")}resetHighlightBoundingStyle(t){t.style.outline="none",t.style.setProperty("background-color","transparent","important")}resetHighlightAreaStyle(t,n){let i=this.navigator.iframes[0].contentWindow?.document,o=t.parentNode&&t.parentNode.nodeType===Node.ELEMENT_NODE&&t.parentNode.getAttribute?t.parentNode.getAttribute("id"):void 0;if(o){let s=tn.find(l=>l.id===o);if(s){if(s.marker===Ve.Custom||s.marker===Ve.Bookmark)if(s.style?.hover){if(s.style?.hover)for(let d=0;d<s.style?.hover?.length;d++){let h=s.style?.hover[d];t.style.removeProperty(h.property)}let u="";if(s.style?.default)for(let d=0;d<s.style?.default?.length;d++){let h=s.style?.default[d];t.style.removeProperty(h.property),u+=`${h.property}: ${h.value} !${h.priority};`}t.setAttribute("style",`${t.getAttribute("style")}; ${u}`)}else if(s.style?.hoverClass){s.style?.hoverClass&&t.classList.remove(s.style?.hoverClass);let u="";s.style?.defaultClass&&t.classList.add(s.style?.defaultClass),t.setAttribute("style",`${t.getAttribute("style")}; ${u}`)}else if(Qe.isHexColor(s.color)){let u=Qe.hexToRgbChannels(s.color);t.style.setProperty("background-color",`rgba(${u.red}, ${u.green}, ${u.blue}, ${0})`,"important")}else t.classList.remove("hover");else if(s.marker===Ve.Underline||s.marker===Ve.Comment)if(typeof s.color=="object"){let u=s.color;t.style.setProperty("background-color",`rgba(${u.red}, ${u.green}, ${u.blue}, ${0})`,"important"),t.style.setProperty("border-bottom",`2px solid rgba(${u.red}, ${u.green}, ${u.blue}, ${1})`,"important")}else if(Qe.isHexColor(s.color)){let u=Qe.hexToRgbChannels(s.color);t.style.setProperty("background-color",`rgba(${u.red}, ${u.green}, ${u.blue}, ${0})`,"important"),t.style.setProperty("border-bottom",`2px solid rgba(${u.red}, ${u.green}, ${u.blue}, ${1})`,"important")}else t.classList.remove("hover");else if(typeof s.color=="object"){let u=s.color;t.style.setProperty("background-color",`rgba(${u.red}, ${u.green}, ${u.blue}, ${_r})`,"important")}else if(Qe.isHexColor(s.color)){let u=Qe.hexToRgbChannels(s.color);t.style.setProperty("background-color",`rgba(${u.red}, ${u.green}, ${u.blue}, ${_r})`,"important")}else t.classList.remove("hover");let l;if(i){let u=i.getElementById(n);u&&(l=u.querySelector(`#${s.id}`))}if(l){let u=l.getElementsByClassName(Al);if(u.length>0){let d=u.item(0).getElementsByClassName("icon-tooltip");d.length>0&&d.item(0).style.removeProperty("display")}}}}}setHighlightAreaStyle(t,n,i){for(let o of n){if(i.marker===Ve.Custom||i.marker===Ve.Bookmark)if(i.style?.hover){if(i.style?.default)for(let l=0;l<i.style?.default?.length;l++){let u=i.style?.default[l];o.style.removeProperty(u.property)}let s="";for(let l=0;l<i.style?.hover?.length;l++){let u=i.style?.hover[l];o.style.removeProperty(u.property),s+=`${u.property}: ${u.value} !${u.priority};`}o.setAttribute("style",`${o.getAttribute("style")}; ${s}`)}else if(i.style?.hoverClass){i.style?.defaultClass&&o.classList.remove(i.style?.defaultClass);let s="";o.classList.add(i.style?.hoverClass),o.setAttribute("style",`${o.getAttribute("style")}; ${s}`)}else if(Qe.isHexColor(i.color)){let s=Qe.hexToRgbChannels(i.color);o.style.setProperty("background-color",`rgba(${s.red}, ${s.green}, ${s.blue}, ${.1})`,"important")}else o.classList.add("hover");else if(i.marker===Ve.Underline||i.marker===Ve.Comment)if(typeof i.color=="object"){let s=i.color;o.style.setProperty("background-color",`rgba(${s.red}, ${s.green}, ${s.blue}, ${.1})`,"important"),o.style.setProperty("border-bottom",`2px solid rgba(${s.red}, ${s.green}, ${s.blue}, ${1})`,"important")}else if(Qe.isHexColor(i.color)){let s=Qe.hexToRgbChannels(i.color);o.style.setProperty("background-color",`rgba(${s.red}, ${s.green}, ${s.blue}, ${.1})`,"important"),o.style.setProperty("border-bottom",`2px solid rgba(${s.red}, ${s.green}, ${s.blue}, ${1})`,"important")}else o.classList.add("hover");else if(typeof i.color=="object"){let s=i.color;o.style.setProperty("background-color",`rgba(${s.red}, ${s.green}, ${s.blue}, ${H_})`,"important")}else if(Qe.isHexColor(i.color)){let s=Qe.hexToRgbChannels(i.color);o.style.setProperty("background-color",`rgba(${s.red}, ${s.green}, ${s.blue}, ${H_})`,"important")}else o.classList.add("hover");if(i.type!==it.Definition){let l=t.getElementById(qe.R2_ID_HIGHLIGHTS_CONTAINER).querySelector(`#${i.id}`).getElementsByClassName(Al);if(l.length>0){let u=l.item(0).getElementsByClassName("icon-tooltip");u.length>0&&u.item(0).style.setProperty("display","block")}}}}setAndResetSearchHighlight(t,n){let i=this.navigator.iframes[0].contentWindow?.document,o=Array.from(i.getElementById(qe.R2_ID_SEARCH_CONTAINER).querySelectorAll(`.${Tn}`));for(let s of o){let l=s,u=l.parentNode&&l.parentNode.nodeType===Node.ELEMENT_NODE&&l.parentNode.getAttribute?l.parentNode.getAttribute("id"):void 0;if(n.forEach(d=>{if(u===d.id&&d){if(typeof d.color=="object"){let b=d.color;l.style.setProperty("background-color",`rgba(${b.red}, ${b.green}, ${b.blue}, ${_r})`,"important")}else if(Qe.isHexColor(d.color)){let b=Qe.hexToRgbChannels(d.color);l.style.setProperty("background-color",`rgba(${b.red}, ${b.green}, ${b.blue}, ${_r})`,"important")}else l.classList.remove("hover");let y=i.getElementById(qe.R2_ID_SEARCH_CONTAINER).querySelector(`#${d.id}`).getElementsByClassName(Al);if(y.length>0){let b=y.item(0).getElementsByClassName("icon-tooltip");b.length>0&&b.item(0).style.removeProperty("display")}}}),u===t.id&&t){if(typeof t.color=="object"){let y=t.color;l.style.setProperty("background-color",`rgba(${y.red}, ${y.green}, ${y.blue}, ${_r})`,"important")}else if(Qe.isHexColor(t.color)){let y=Qe.hexToRgbChannels(t.color);l.style.setProperty("background-color",`rgba(${y.red}, ${y.green}, ${y.blue}, ${_r})`,"important")}else l.classList.remove("hover");let h=i.getElementById(qe.R2_ID_SEARCH_CONTAINER).querySelector(`#${t.id}`).getElementsByClassName(Al);if(h.length>0){let y=h.item(0).getElementsByClassName("icon-tooltip");y.length>0&&y.item(0).style.removeProperty("display")}}}}isIOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)!=null||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}isAndroid(){return navigator.userAgent.match(/Android/i)!=null}async processMouseEvent(t){let n=this.navigator.iframes[0].contentWindow?.document,i=t.clientX,o=t.clientY;if(!n||!n.getElementById(qe.R2_ID_HIGHLIGHTS_CONTAINER)&&!n.getElementById(qe.R2_ID_SEARCH_CONTAINER)&&!n.getElementById(qe.R2_ID_PAGEBREAK_CONTAINER)&&!n.getElementById(qe.R2_ID_READALOUD_CONTAINER)&&!n.getElementById(qe.R2_ID_DEFINITIONS_CONTAINER))return;let s=this.navigator.view?.isPaginated(),l=n.body.getBoundingClientRect(),u=this.getScrollingElement(n),d=s?-u.scrollLeft:l.left,h=s?-u.scrollTop:l.top,y,b;for(let w=tn.length-1;w>=0;w--){let p=tn[w],m=n.getElementById(`${p.id}`);if(!m){let v=n.getElementById(qe.R2_ID_HIGHLIGHTS_CONTAINER);v&&(m=v.querySelector(`#${p.id}`))}if(!m)continue;let f=!1,g=m.querySelectorAll(`.${Tn}`);for(let v of g){let A=v,C=A.rect.left+d,O=A.rect.top+h;if(i>=C&&i<C+A.rect.width&&o>=O&&o<O+A.rect.height){f=!0;break}}if(f){y=p,b=m;break}}if(!y||!b){for(let w in qe){let p=n.getElementById(w);if(p){let m=p.querySelectorAll(`.${Sl}`);for(let g of m)this.resetHighlightBoundingStyle(g);let f=Array.from(p.querySelectorAll(`.${Tn}`));for(let g of f)this.resetHighlightAreaStyle(g,w)}}return}if(b.getAttribute("data-click")){if((t.type==="mousemove"||t.type==="touchmove")&&b.parentElement?.style.display!=="none"){let w=Array.from(b.querySelectorAll(`.${Tn}`));for(let m in qe){let f=n.getElementById(m);if(f){let g=f.querySelectorAll(`.${Tn}`);for(let v of g)w.indexOf(v)<0&&this.resetHighlightAreaStyle(v,m)}}this.setHighlightAreaStyle(n,w,y);let p=b.querySelector(`.${Sl}`);for(let m in qe){let f=n.getElementById(m);if(f){let g=f.querySelectorAll(`.${Sl}`);for(let v of g)(!p||v!==p)&&this.resetHighlightBoundingStyle(v)}}}else if((t.type==="mouseup"||t.type==="click"||t.type==="touchup")&&b.parentElement?.style.display!=="none"){let w={highlight:y};ni.default.log(JSON.stringify(w));let p=this,m;if(p.navigator.rights.enableAnnotations?m=await this.navigator.annotationModule?.getAnnotation(w.highlight):p.navigator.rights.enableBookmarks&&(m=await this.navigator.bookmarkModule?.getAnnotation(w.highlight)),w.highlight.type===it.Annotation&&this.navigator.annotationModule?.api?.selectedAnnotation(m).then(async()=>{}),m?.id){ni.default.log("selected highlight "+m.id),p.lastSelectedHighlight=m.id;let f=document.getElementById("highlight-toolbox");if(f)if(f.style.top=t.clientY+(this.navigator.attributes?.navHeight??0)+"px",f.style.left=t.clientX+"px",getComputedStyle(f).display==="none"){let A=function(){p.navigator.annotationModule?.api?.addCommentToAnnotation(m).then(M=>{p.navigator.annotationModule?.updateAnnotation(M).then(async()=>{ni.default.log("update highlight "+M.id),f&&(f.style.display="none"),p.selectionMenuClosed()}),f&&(f.style.display="none"),p.selectionMenuClosed(),C?.removeEventListener("click",A,!1)})},E=function(){p.navigator.rights.enableAnnotations?p.navigator.annotationModule?.deleteSelectedHighlight(m).then(async()=>{ni.default.log("delete highlight "+m.id),f&&(f.style.display="none"),p.selectionMenuClosed()}):p.navigator.rights.enableBookmarks&&p.navigator.bookmarkModule?.deleteSelectedHighlight(m).then(async()=>{ni.default.log("delete highlight "+m.id),f&&(f.style.display="none"),p.selectionMenuClosed()})};f.style.display="block",this.toolboxMode("edit");let g=document.getElementById("colorIcon"),v=document.getElementById("highlightIcon");g&&(g.style.display="none"),v&&(v.style.display="none");let C=document.getElementById("commentIcon"),O=document.getElementById("cloneCommentIcon");if(O){let M=O.parentElement;M&&M.removeChild(O)}if(C){C.style.display="none";let M=C.cloneNode(!0),D=C.parentElement;M.style.display="unset",M.id="cloneCommentIcon",M.addEventListener("click",A,!1),D&&D.append(M)}let T=document.getElementById("deleteIcon"),B=document.getElementById("cloneDeleteIcon");if(B){let M=B.parentElement;M&&M.removeChild(B)}if(T){T.style.display="none";let M=T.cloneNode(!0),D=T.parentElement;M.style.display="unset",M.id="cloneDeleteIcon",M.addEventListener("click",E,!1),D&&D.append(M)}}else f.style.display="none",this.selectionMenuClosed(),f.offsetWidth,f.style.display="block"}else{b.dataset.definition&&new wl(this.navigator).showPopup(b.dataset.definition,t);let f=this.navigator.definitionsModule?.properties?.definitions?.filter(g=>g.order===Number(b?.dataset.order))[0];ni.default.log(f),this.navigator.definitionsModule?.api?.click&&(this.navigator.definitionsModule.api?.click(D0.omit(f,"callbacks"),D0.omit(y,"definition")),this.navigator.emit("definition.click",f,y))}}}}async prepareContainers(t){for(let n in qe)await this.ensureHighlightsContainer(t,n)}async ensureHighlightsContainer(t,n){let i=t.document;if(!i.getElementById(n)){let o=i.createElement("div");o.setAttribute("id",n),n!==qe.R2_ID_GUTTER_RIGHT_CONTAINER&&o.style.setProperty("pointer-events","none"),this.navigator.view?.layout==="fixed"&&(o.style.setProperty("position","absolute"),o.style.setProperty("top","0"),o.style.setProperty("left","0")),i.body&&i.body.append(o),(await this.layerSettings.getProperty(n))?.value===!1&&(o.style.display="none")}return i.getElementById(n)}hideAllhighlights(t){this.removeAllChildNodes(t.getElementById(qe.R2_ID_HIGHLIGHTS_CONTAINER)),this.removeAllChildNodes(t.getElementById(qe.R2_ID_SEARCH_CONTAINER)),this.removeAllChildNodes(t.getElementById(qe.R2_ID_READALOUD_CONTAINER)),this.removeAllChildNodes(t.getElementById(qe.R2_ID_PAGEBREAK_CONTAINER)),this.removeAllChildNodes(t.getElementById(qe.R2_ID_DEFINITIONS_CONTAINER))}destroyAllhighlights(t){this.hideAllhighlights(t),tn.splice(0,tn.length)}removeAllChildNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}destroyHighlights(t){let n=this.navigator.iframes[0].contentWindow?.document;if(n){let i;switch(t){case it.ReadAloud:i=n.getElementById(qe.R2_ID_READALOUD_CONTAINER),i&&this.removeAllChildNodes(i);break;case it.Search:i=n.getElementById(qe.R2_ID_SEARCH_CONTAINER),i&&this.removeAllChildNodes(i);break;case it.PageBreak:i=n.getElementById(qe.R2_ID_PAGEBREAK_CONTAINER),i&&this.removeAllChildNodes(i);break;case it.Definition:i=n.getElementById(qe.R2_ID_DEFINITIONS_CONTAINER),i&&this.removeAllChildNodes(i);break;case it.LineFocus:i=n.getElementById(qe.R2_ID_LINEFOCUS_CONTAINER),i&&this.removeAllChildNodes(i);break;case it.Comment:i=n.getElementById(qe.R2_ID_GUTTER_RIGHT_CONTAINER),i&&this.removeAllChildNodes(i);break;default:i=n.getElementById(qe.R2_ID_HIGHLIGHTS_CONTAINER),i&&this.removeAllChildNodes(i),tn.splice(0,tn.length);break}}}destroyHighlight(t,n){if(!t)return;let i=-1;tn.find((l,u)=>(i=u,l.id===n))&&i>=0&&i<tn.length&&tn.splice(i,1);let s=t.getElementById(n);s&&this.removeAllChildNodes(s)}createHighlight(t,n,i,o,s,l,u,d,h,y){try{let b=`${n.rangeInfo.startContainerElementCssSelector}${n.rangeInfo.startContainerChildTextNodeIndex}${n.rangeInfo.startOffset}${n.rangeInfo.endContainerElementCssSelector}${n.rangeInfo.endContainerChildTextNodeIndex}${n.rangeInfo.endOffset}`,w=Fi.hash(b),p=(y||"R2_HIGHLIGHT_")+w;this.destroyHighlight(t.document,p);let m=`rgb(${ls.red}, ${ls.green}, ${ls.blue})`,f={color:i||m,id:p,pointerInteraction:o,selectionInfo:n,marker:s,icon:l,popup:u,style:d,type:h||it.Annotation};(h===it.Annotation||h===it.Definition||h===void 0)&&tn.push(f);let g=this.createHighlightDom(t,f);return f.position=parseInt((g?.hasChildNodes()?g.childNodes[0]:g).style.top.replace("px","")),[f,g]}catch(b){throw"Can't create highlight: "+b}}createHighlightDom(t,n){let i=t.document,o=Vd(i,n.selectionInfo.rangeInfo);if(!o)return;for(let N in qe)this.ensureHighlightsContainer(t,N);let s=i.createElement("div");s.setAttribute("id",n.id),s.setAttribute("class",F_),s.style.setProperty("pointer-events","none"),n.pointerInteraction&&s.setAttribute("data-click","1");let l=this.navigator.view?.isPaginated();l?i.body.style.position="revert":i.body.style.position="relative";let u=i.body.getBoundingClientRect(),d=this.getScrollingElement(i),h=l?-d.scrollLeft:u.left,y=l?-d.scrollTop:u.top,b=1,w=!1,p=!1,g=Gd(o,w||p||!1),v=3,A=2,C=3,O=0,E=24,T,B;for(let N of g){let q=i.createElement("div");q.setAttribute("class",Tn),q.dataset.marker=""+n.marker;let z="";if(w&&n.marker!==Ve.Custom&&n.marker!==Ve.Bookmark&&n.marker!==Ve.Comment){let x=n.color;Qe.isHexColor(x)&&(x=Qe.hexToRgbChannels(x)),z+=`border-bottom: ${A*b}px solid rgba(${x.red}, ${x.green}, ${x.blue}, ${_r}) !important`}if(n.marker===Ve.Custom||n.marker===Ve.Bookmark)if(n.style?.default){for(let x=0;x<n.style?.default?.length;x++){let R=n.style?.default[x];z+=`${R.property}: ${R.value} !${R.priority};`}q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${v}px !important; ${z}`)}else n.style?.defaultClass&&(q.classList.add(n.style?.defaultClass),q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${v}px !important; ${z}`));else if(n.marker===Ve.Underline||n.marker===Ve.Comment)if(typeof n.color=="object"){let x=n.color;q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${v}px !important; background-color: rgba(${x.red}, ${x.green}, ${x.blue}, ${0}) !important; ${z}`),q.style.setProperty("border-bottom",`2px solid rgba(${x.red}, ${x.green}, ${x.blue}, ${1})`,"important")}else if(Qe.isHexColor(n.color)){let x=Qe.hexToRgbChannels(n.color);q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${v}px !important; background-color: rgba(${x.red}, ${x.green}, ${x.blue}, ${0}) !important; ${z}`),q.style.setProperty("border-bottom",`2px solid rgba(${x.red}, ${x.green}, ${x.blue}, ${1})`,"important")}else q.setAttribute("style",`border-radius: ${v}px !important; ${z}`);else if(typeof n.color=="object"){let x=n.color;q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${v}px !important; background-color: rgba(${x.red}, ${x.green}, ${x.blue}, ${_r}) !important; ${z}`)}else if(Qe.isHexColor(n.color)){let x=Qe.hexToRgbChannels(n.color);q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${v}px !important; background-color: rgba(${x.red}, ${x.green}, ${x.blue}, ${_r}) !important; ${z}`)}else q.setAttribute("style",`border-radius: ${v}px !important; ${z}`);q.style.setProperty("pointer-events","none"),q.style.position="absolute",q.scale=b,q.rect={height:N.height,left:N.left-h,top:N.top-y,width:N.width},n.pointerInteraction&&(q.setAttribute("data-click","1"),q.tabIndex=0),q.style.width=`${q.rect.width*b}px`,q.style.height=`${q.rect.height*b}px`,q.style.left=`${q.rect.left*b}px`,q.style.top=`${q.rect.top*b}px`,s.append(q);let ne=parseInt(q.style.top.replace("px",""));if((ne<O||O===0)&&(O=ne),E=parseInt(q.style.height.replace("px","")),p){let x=i.createElement("div");x.setAttribute("class",Tn);let R=n.color;Qe.isHexColor(R)&&(R=Qe.hexToRgbChannels(R)),x.setAttribute("style",`background-color: rgba(${R.red}, ${R.green}, ${R.blue}, ${_r}) !important;`),x.style.setProperty("pointer-events","none"),x.style.position="absolute",x.scale=b,x.rect={height:N.height,left:N.left-h,top:N.top-y,width:N.width},x.style.width=`${x.rect.width*b}px`,x.style.height=`${C*b}px`,x.style.left=`${x.rect.left*b}px`,x.style.top=`${(x.rect.top+x.rect.height/2-C/2)*b}px`,s.append(x)}let oe=this.navigator.iframes[0].contentWindow?.innerWidth,ae=parseInt(getComputedStyle(i.documentElement).getPropertyValue("column-count")),te=parseInt(getComputedStyle(i.documentElement).getPropertyValue("column-width")),le=parseInt(getComputedStyle(i.body).getPropertyValue("padding-left")),xe=oe/(ae||1);xe<te&&(xe=oe),l||(xe=parseInt(getComputedStyle(i.body).width.replace("px","")));let fe=this.navigator.settings.fontSize/100,J=20*fe;fe<=1&&(J=-60);let j=0*fe;fe<=1&&(j=-60),T=Math.floor(N.left/xe)*xe+xe-(E<40?40:E)+j,B=Math.floor(N.left/xe)*xe+(E<40?40:E)-J;let k=parseInt(this.navigator.iframes[0].contentDocument.documentElement.style.getPropertyValue("--USER__pageMargins"));k>=2&&(B=B+le/ae,T=T-le/ae),l||(T=parseInt(getComputedStyle(this.navigator.iframes[0].contentDocument?.body).width.replace("px","")),B=parseInt(getComputedStyle(this.navigator.iframes[0].contentDocument?.body).width.replace("px",""))-xe,k>=2&&(B=B+le/2,T=T-le/2))}let M=o.getBoundingClientRect(),D=i.createElement("div");D.setAttribute("class",Sl),D.style.setProperty("pointer-events","none"),D.style.position="absolute",D.scale=b,D.rect={height:M.height,left:M.left-h,top:M.top-y,width:M.width},D.style.width=`${D.rect.width*b}px`,D.style.height=`${D.rect.height*b}px`,D.style.left=`${D.rect.left*b}px`,D.style.top=`${D.rect.top*b}px`,s.append(D);let U=i.createElement("div");if(U.setAttribute("class",Al),n.icon?.position==="left")U.setAttribute("style",`position: absolute;top:${O}px;left:${B+this.navigator.iframes[0].contentDocument?.scrollingElement?.scrollLeft}px;height:${E}px; width:${E}px;`);else if(n.icon?.position==="inline")U.setAttribute("style",`position: absolute;top:${O-E/2}px;left:${parseInt(D.style.left.replace("px",""))+parseInt(D.style.width.replace("px",""))-E/2}px;height:${E}px; width:${E}px;`);else if(n.icon?.position==="center"){let q=E/3*2;U.setAttribute("style",`position: absolute;top:${O}px;left:${parseInt(D.style.left.replace("px",""))+parseInt(D.style.width.replace("px",""))-q}px;height:${E}px; width:${E}px;`)}else n.note&&n.marker!==Ve.Custom&&n.marker!==Ve.Bookmark&&n.marker!==Ve.Comment&&n.marker!==Ve.Highlight&&n.marker!==Ve.Underline?U.setAttribute("style",`position: absolute;top:${O-E/2}px;left:${parseInt(D.style.left.replace("px",""))+parseInt(D.style.width.replace("px",""))-E/2}px;height:${E}px; width:${E}px;`):n.note&&n.marker===Ve.Comment||n.marker===Ve.Highlight||n.marker===Ve.Underline?U.setAttribute("style",`position: absolute;top:${O}px;left:${T+this.navigator.iframes[0].contentDocument?.scrollingElement?.scrollLeft}px;height:${E}px; width:${E}px;`):U.setAttribute("style",`position: absolute;top:${O}px;left:${T+this.navigator.iframes[0].contentDocument?.scrollingElement?.scrollLeft}px;height:${E}px; width:${E}px;`);if(n.marker===Ve.Custom||n.marker===Ve.Bookmark)n.icon?.class?(U.classList.add(n.icon?.class),U.id=n.icon?.id):n.icon?.svgPath?U.innerHTML=ua(`${n.icon?.id}`,`${n.icon?.title}`,`${n.icon?.svgPath}`,"icon open",E,`${n.icon?.color} !important`):n.icon?.title&&(U.innerHTML=n.icon?.title);else if(n.note){let N=n.color;Qe.isHexColor(N)&&(N=Qe.hexToRgbChannels(N)),n.marker===Ve.Comment||n.marker===Ve.Highlight||n.marker===Ve.Underline?U.innerHTML=ua("","",'<path d="M24 24H0V0h24v24z" fill="none"/><circle cx="12" cy="12" r="14"/>',"icon open",E/2,`rgba(${N.red}, ${N.green}, ${N.blue}, 1) !important`):U.innerHTML=ua("note-icon","Note",'<rect fill="none" height="24" width="24"/><path d="M19,5v9l-5,0l0,5H5V5H19 M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h10l6-6V5C21,3.9,20.1,3,19,3z M12,14H7v-2h5V14z M17,10H7V8h10V10z"/>',"icon open",E,`rgba(${N.red}, ${N.green}, ${N.blue}, 1) !important`)}U.style.setProperty("pointer-events","all");let I=this;if(n.type!==it.PageBreak&&n.type!==it.Definition&&U.addEventListener("click",async function(N){let q;I.navigator.rights.enableAnnotations?(q=await I.navigator.annotationModule?.getAnnotationByID(n.id),I.navigator.annotationModule?.api?.selectedAnnotation(q).then(async()=>{})):I.navigator.rights.enableBookmarks&&(q=await I.navigator.bookmarkModule?.getAnnotationByID(n.id)),ni.default.log("selected highlight "+q.id),I.lastSelectedHighlight=q.id;let z=document.getElementById("highlight-toolbox");if(z)if(z.style.top=N.clientY+(I.navigator.attributes?.navHeight??0)+"px",z.style.left=N.clientX+"px",getComputedStyle(z).display==="none"){let xe=function(){I.navigator.rights.enableAnnotations?I.navigator.annotationModule?.deleteSelectedHighlight(q).then(async()=>{ni.default.log("delete highlight "+q.id),z.style.display="none",I.selectionMenuClosed()}):I.navigator.rights.enableBookmarks&&I.navigator.bookmarkModule?.deleteSelectedHighlight(q).then(async()=>{ni.default.log("delete highlight "+q.id),z.style.display="none",I.selectionMenuClosed()})};z.style.display="block",I.toolboxMode("edit");let oe=document.getElementById("colorIcon"),ae=document.getElementById("highlightIcon");oe&&(oe.style.display="none"),ae&&(ae.style.display="none");let te=document.getElementById("commentIcon"),le=document.getElementById("cloneCommentIcon");if(le){let j=le.parentElement;j&&j.removeChild(le)}te&&(te.style.display="none");let fe=document.getElementById("deleteIcon"),J=document.getElementById("cloneDeleteIcon");if(J){let j=J.parentElement;j&&j.removeChild(J)}if(fe){fe.style.display="none";let j=fe.cloneNode(!0),k=fe.parentElement;j.style.display="unset",j.id="cloneDeleteIcon",j.addEventListener("click",xe,!1),k&&k.append(j)}}else z.style.display="none",I.selectionMenuClosed(),z.offsetWidth,z.style.display="block";let ne=Array.from(s.querySelectorAll(`.${Tn}`));I.setHighlightAreaStyle(i,ne,n)}),n.note){let N=document.createElement("span");N.innerHTML=n.note,N.className="icon-tooltip",n.marker===Ve.Custom||n.marker===Ve.Bookmark?(n.popup?.background&&N.style.setProperty("background",n.popup.background),n.popup?.textColor&&N.style.setProperty("color",n.popup.textColor),n.popup?.class&&N.classList.add(n.popup.class)):(N.style.setProperty("background","lightyellow"),N.style.setProperty("color","black"))}switch((n.note||n.marker===Ve.Custom||n.marker===Ve.Bookmark)&&s.append(U),n.type){case it.Search:i.getElementById(qe.R2_ID_SEARCH_CONTAINER).append(s);break;case it.ReadAloud:i.getElementById(qe.R2_ID_READALOUD_CONTAINER).append(s);break;case it.PageBreak:i.getElementById(qe.R2_ID_PAGEBREAK_CONTAINER).append(s);break;case it.Definition:i.getElementById(qe.R2_ID_DEFINITIONS_CONTAINER).append(s);break;default:i.getElementById(qe.R2_ID_HIGHLIGHTS_CONTAINER).append(s);break}return s}addSelectionMenuItem(t){(this.properties?.selectionMenuItems??[])&&(this.properties?.selectionMenuItems??[]).push(t)}};var Z_=nt(K0());H();var i8=nt(Jt());var Co={className:r=>!0,idName:r=>!0,tagName:r=>!0};var Q_=nt(Kd()),Ui=nt(Jt());H();var X_=nt(Jt()),cs;(function(n){n.BookmarkCreated="BookmarkCreated",n.HighlightCreated="HighlightCreated"})(cs||(cs={}));var Cl=class{constructor(t,n,i){this.currSeconds=0;this.publication=t,this.properties=n,this.api=i}static async create(t){let n=new this(t.publication,t,t.api);return await n.start(),n}async start(){this.startResearchSession()}async stop(){X_.default.log("Consumption module stop"),this.endResearchSession()}initialize(){let t=this.navigator.iframes[0].contentWindow;if(t){let n=this;t.onload=function(){n.resetTimer()},t.onmousemove=function(){n.resetTimer()},t.onmousedown=function(){n.resetTimer()},t.ontouchstart=function(){n.resetTimer()},t.onclick=function(){n.resetTimer()},t.onkeypress=function(){n.resetTimer()}}}trackAction(t,n){this.api?.actionTracked(t,n)}startReadingSession(t){if(this.firstReadingLocator&&this.lastReadingLocator){let n=this.lastReadingLocator.locations.totalProgression-this.firstReadingLocator.locations.totalProgression,i=(new Date().getTime()-this.startReadingTimer.getTime())/1e3;this.readingSessions.push({lastLocator:this.lastReadingLocator,firstLocator:this.firstReadingLocator,time:i,progress:Math.round(n*100)})}this.firstReadingLocator=t,this.startReadingTimer=new Date}continueReadingSession(t){this.properties.enableTrackingSession&&(this.startResearchTimer===void 0&&this.startResearchSession(),(this.lastReadingLocator===void 0||this.lastReadingLocator.locations.totalProgression<t.locations.totalProgression)&&(this.lastReadingLocator=t),this.firstReadingLocator===void 0&&(this.firstReadingLocator=t),this.startReadingTimer===void 0&&(this.startReadingTimer=new Date))}startResearchSession(){if(this.properties.enableTrackingSession){this.startResearchTimer=new Date,this.readingSessions=[],clearInterval(this.readingSessionsInterval);let t=(new Date().getTime()-this.startResearchTimer.getTime())/1e3;this.researchSessionId=this.api?.startResearchSession(this.readingSessions,Math.round(t));let n=this;this.readingSessionsInterval=setInterval(function(){n.updateResearchSession()},this.properties.updateSessionInterval*1e3)}}updateResearchSession(){if(this.properties.enableTrackingSession){let t=(new Date().getTime()-this.startResearchTimer.getTime())/1e3;this.api?.updateResearchSession(this.researchSessionId,this.readingSessions,Math.round(t))}}endResearchSession(){if(this.properties.enableTrackingSession){if(this.firstReadingLocator&&this.lastReadingLocator){let n=this.lastReadingLocator.locations.totalProgression-this.firstReadingLocator.locations.totalProgression,i=(new Date().getTime()-this.startReadingTimer.getTime())/1e3;this.readingSessions.push({lastLocator:this.lastReadingLocator,firstLocator:this.firstReadingLocator,time:i,progress:Math.round(n*100)})}let t=(new Date().getTime()-this.startResearchTimer.getTime())/1e3;this.api?.updateResearchSession(this.researchSessionId,this.readingSessions,Math.round(t)),this.api?.endResearchSession(this.researchSessionId,this.readingSessions,Math.round(t)),this.researchSessionId=void 0,this.readingSessions=[],this.startResearchTimer=void 0,clearInterval(this.readingSessionsInterval)}}startIdleTimer(){this.currSeconds++,this.currSeconds===this.properties.idleTimeout&&(this.api?.idleSince(this.currSeconds),this.updateResearchSession()),this.currSeconds===this.properties.idleTimeout+this.properties.responseTimeout&&this.endResearchSession()}resetTimer(){clearInterval(this.timer),this.currSeconds=0;let t=this;this.timer=setInterval(function(){t.startIdleTimer()},1e3)}};var us=class{constructor(t,n,i,o,s,l,u,d){this.hide=Ie(document,"#menu-button-hide");this.show=Ie(document,"#menu-button-show");this.annotator=t,this.rights=n,this.publication=i,this.headerMenu=d,this.initialAnnotations=o,this.highlighter=l,this.properties=s,this.api=u}static async create(t){let n=new this(t.annotator,t.rights||{enableAnnotations:!1,enableTTS:!1},t.publication,t.initialAnnotations||null,t,t.highlighter,t.api,t.headerMenu);return await n.start(),n}async stop(){Ui.default.log("Annotation module stop")}async start(){if(this.headerMenu&&(this.highlightsView=Ie(this.headerMenu,"#container-view-highlights")),this.initialAnnotations){var t=this.initialAnnotations.highlights||null;t&&this.annotator?.initAnnotations(t)}setTimeout(()=>{this.properties?.hideLayer?this.navigator.hideLayer("highlights"):this.navigator.showLayer("highlights")},10)}hideAnnotationLayer(){let t=this.navigator.iframes[0].contentDocument;if(t){let n=Ie(t,"#R2_ID_HIGHLIGHTS_CONTAINER");n&&(n.style.display="none")}this.show&&this.hide&&(this.show.style.display="block",this.hide.style.display="none")}showAnnotationLayer(){let t=this.navigator.iframes[0].contentDocument;if(t){let n=Ie(t,"#R2_ID_HIGHLIGHTS_CONTAINER");n&&(n.style.display="block")}this.show&&this.hide&&(this.show.style.display="none",this.hide.style.display="block")}async handleResize(){setTimeout(async()=>{await this.drawHighlights(),await this.showHighlights()},200)}initialize(){return new Promise(async t=>{await document.fonts.ready,this.rights.enableAnnotations&&setTimeout(()=>{this.drawHighlights(),this.showHighlights(),Ee(this.navigator.iframes[0].contentDocument?.body,"click",this.click.bind(this))},300),t(null)})}click(t){if(this.activeAnnotationMarkerId){let n=this.highlighter?.properties?.selectionMenuItems?.filter(i=>i.id===this.activeAnnotationMarkerId);if(n&&n?.length>0){let i=Q_.cloneDeep(n[0]);i.marker=Ve.Custom,this.activeAnnotationMarkerPosition&&(i.icon.position=this.activeAnnotationMarkerPosition),i.highlight.style.default=null,i.highlight.style.hover=null;let o=this.navigator.iframes[0].contentDocument;if(o){let h=function(b){try{let w=d.navigator.iframes[0].contentDocument;return w?wn(b,w,Co):""}catch(w){return Ui.default.log("uniqueCssSelector:"),Ui.default.error(w),""}},s=this.highlighter?.dom(o.body).getSelection(),l=s.getRangeAt(0),u=s.anchorNode;l.setStart(u,l.startOffset),l.setEnd(u,l.endOffset+1),s.removeAllRanges(),s.addRange(l);let d=this,y=Xr(l,h);if(s.removeAllRanges(),y){let b={rangeInfo:y},w=this.navigator.highlighter?.createHighlight(this.navigator.highlighter?.dom(o.body).getWindow(),b,i.highlight.color,!0,Ve.Bookmark,i.icon,i.popup,i.highlight.style);w&&this.saveAnnotation(w[0]).then(p=>{Ui.default.log("saved bookmark "+p.id)})}o.getSelection()?.removeAllRanges()}}}}async scrollToHighlight(t){Ui.default.log("still need to scroll to "+t);var n=await this.annotator?.getAnnotationElement(t,this.navigator.iframes[0].contentWindow);n.scrollIntoView({block:"center",behavior:"smooth"})}async updateLocalHighlight(t){if(this.annotator){let n=await this.annotator.deleteAnnotation(t.id),i=await this.addAnnotation(t);return Ui.default.log("Highlight deleted "+JSON.stringify(n)),Ui.default.log("Highlight added "+JSON.stringify(i)),await this.showHighlights(),await this.drawHighlights(),i}else return new Promise(n=>n(null))}async deleteLocalHighlight(t){if(this.annotator){var n=await this.annotator.deleteAnnotation(t);return Ui.default.log("Highlight deleted "+JSON.stringify(n)),await this.showHighlights(),await this.drawHighlights(),n}else return new Promise(i=>i(null))}async deleteAnnotation(t){await this.deleteLocalHighlight(t.id)}async addAnnotation(t){await this.annotator?.saveAnnotation(t),await this.showHighlights(),await this.drawHighlights()}async deleteHighlight(t){this.api?.deleteAnnotation?this.api?.deleteAnnotation(t).then(async()=>{this.deleteLocalHighlight(t.id)}):this.deleteLocalHighlight(t.id)}async deleteSelectedHighlight(t){this.api?.deleteAnnotation?this.api.deleteAnnotation(t).then(async()=>{this.deleteLocalHighlight(t.id)}):this.deleteLocalHighlight(t.id)}async updateAnnotation(t){this.api?.updateAnnotation?this.api.updateAnnotation(t).then(async()=>{this.updateLocalHighlight(t)}):this.updateLocalHighlight(t)}async saveAnnotation(t){if(this.annotator){var n=this.publication.getTOCItem(this.navigator.currentChapterLink.href);this.navigator.currentTocUrl&&(n=this.publication.getTOCItem(this.navigator.currentTocUrl)),n===void 0&&(n=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href));let i=this.navigator.view?.getCurrentPosition(),o=this.navigator.iframes[0].contentDocument;if(o){let s=Gr(o,"body"),l=t.position?t.position/s.scrollHeight:i,u=(0,Z_.v4)(),d;if(n){let h=n.Href;if(h.indexOf("#")>0&&(h=h.slice(0,h.indexOf("#"))),this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let y=this.publication.positionsByHref(this.publication.getRelativeHref(this.navigator.currentChapterLink.href)),b=Math.ceil((l??0)*(y.length-1)),w=y[b];d=Yt(et({},w),{id:u,href:h,created:new Date,title:this.navigator.currentChapterLink.title,highlight:t,text:{highlight:t.selectionInfo.cleanText}})}else d={id:u,href:h,locations:{progression:l},created:new Date,type:this.navigator.currentChapterLink.type,title:this.navigator.currentChapterLink.title,highlight:t,text:{highlight:t.selectionInfo.cleanText}}}if(d)if(this.navigator.consumptionModule?.trackAction(d,cs.HighlightCreated),this.api?.addAnnotation)try{let h=await this.api.addAnnotation(d),y=await this.annotator.saveAnnotation(h);return await this.showHighlights(),await this.drawHighlights(),new Promise(b=>b(y))}catch(h){await this.showHighlights(),await this.drawHighlights()}else{let h=await this.annotator.saveAnnotation(d);return await this.showHighlights(),await this.drawHighlights(),new Promise(y=>y(h))}}}return new Promise(i=>i(null))}getAnnotations(){let t=[];return this.annotator&&(t=this.annotator.getAnnotations()),t}showHighlights(){let t=[];this.annotator&&(t=this.annotator.getAnnotations(),t&&(t=t.filter(n=>n.highlight.marker!==Ve.Bookmark),t.forEach(n=>{tn.push(n.highlight)}))),this.highlightsView&&this.createTree(Si.Annotation,t,this.highlightsView)}async drawHighlights(){if(this.rights.enableAnnotations&&this.highlighter){if(this.api){let n=[];if(this.annotator&&(n=this.annotator.getAnnotationsByChapter(this.navigator.currentLocator().href)),this.highlighter&&n&&this.navigator.iframes[0].contentDocument?.readyState==="complete"){await this.highlighter.destroyHighlights(it.Annotation);for(let i of n){tn.push(i.highlight);let o=i,s=this.navigator.currentChapterLink.href;var t=this.publication.getTOCItem(s);if(this.navigator.currentTocUrl!==void 0&&(t=this.publication.getTOCItem(this.navigator.currentTocUrl)),t===null&&(t=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),t){let l=t.Href;l.indexOf("#")>0&&(l=l.slice(0,l.indexOf("#"))),o.href===l&&(await this.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,i.highlight),setTimeout(async()=>{if(o.highlight?.marker===Ve.Underline){let u=await this.annotator?.getAnnotationPosition(i.id,this.navigator.iframes[0].contentWindow),d='<div class="comment" style="top: '+u+'px;width:20px"></div>',h=document.createElement("div");h.innerHTML=d;let y=h.childNodes[0],b=document.createElement("i");b.innerHTML="sticky_note_2",b.className="material-icons",b.style.color=o.highlight.color,y.appendChild(b),Ee(h,"click",w=>{w.preventDefault(),w.stopPropagation(),this.scrollToHighlight(o.id)})}},100))}}}}else{let n=[];if(this.annotator&&(n=this.annotator.getAnnotationsByChapter(this.navigator.currentLocator().href)),this.highlighter&&n&&this.navigator.iframes[0].contentDocument?.readyState==="complete"){await this.highlighter.destroyHighlights(it.Annotation);for(let i of n){tn.push(i.highlight);let o=i,s=this.navigator.currentChapterLink.href,l=this.publication.getTOCItem(s);if(this.navigator.currentTocUrl&&(l=this.publication.getTOCItem(this.navigator.currentTocUrl)),l===null&&(l=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),l){let u=l.Href;u.indexOf("#")>0&&(u=u.slice(0,u.indexOf("#"))),o.href===u&&(await this.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,i.highlight),setTimeout(async()=>{if(o.highlight?.marker===Ve.Underline){let d=await this.annotator?.getAnnotationPosition(i.id,this.navigator.iframes[0].contentWindow),h='<div class="comment" style="top: '+d+"px;background: "+o.highlight?.color+';width:20px"></div>',y=document.createElement("div");y.innerHTML=h,y.childNodes[0].innerHTML=nr.note,Ee(y,"click",b=>{b.preventDefault(),b.stopPropagation(),this.scrollToHighlight(o.id)})}},100))}}}}this.properties?.initialAnnotationColor&&this.highlighter.setColor(this.properties?.initialAnnotationColor),this.repositionGutters()}}repositionGutters(){let t=this.navigator.iframes[0].contentDocument;if(t&&(this.commentGutter=t.getElementById(qe.R2_ID_GUTTER_RIGHT_CONTAINER),this.navigator.view?.isScrollMode()&&this.properties?.enableComments?this.commentGutter?.style.removeProperty("display"):this.commentGutter?.style.setProperty("display","none"),this.commentGutter&&this.navigator.view?.isScrollMode()&&this.properties?.enableComments)){this.commentGutter.innerHTML="";let n=[];this.annotator&&(n=this.annotator.getAnnotationsByChapter(this.navigator.currentLocator().href),n&&(n=n.filter(i=>i.highlight?.note?.length>0),n=this.syncPosition(n),n=this.reposition(n),n.forEach(i=>{let o=document.createElement("i");o.innerHTML="sticky_note_2",o.className="material-icons",o.style.color=i.highlight.color;let s=t.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),l,u;s&&(l=s.querySelector(`#${i.highlight.id}`)),u=l.getElementsByClassName(Tn)[0];let h=parseInt(u.style.height.replace("px","")),y=i.highlight.position,b=t.createElement("div");b.setAttribute("style",`position: absolute;top:${y}px;display: flex;max-width: 250px !important;height:${h}px;width: 200px;align-items: center;`);let w=t.createElement("div");b.appendChild(w);let p=i.highlight.color;Qe.isHexColor(p)&&(p=Qe.hexToRgbChannels(p)),b.innerHTML=ua("","",'<path d="M24 24H0V0h24v24z" fill="none"/><circle cx="12" cy="12" r="8"/>',"icon open",10,`rgba(${p.red}, ${p.green}, ${p.blue}, 1) !important`);let m=t.createElement("div");m.innerHTML=i.highlight?.note,m.setAttribute("style",`height:${h}px;overflow: hidden;padding-left: 5px;`),b.appendChild(m),Ee(b,"click",f=>{f.preventDefault(),f.stopPropagation(),this.scrollToHighlight(i.highlight.id)}),this.commentGutter?.appendChild(b)})))}}createTree(t,n,i){if(n){let o=this,s=this.publication.readingOrder;if(s.length){let l=(u,d)=>{let h=document.createElement("ul");h.className="sidenav-annotations";for(let y of d){let b=document.createElement("li"),w=document.createElement("a"),p=document.createElement("span");if(w.tabIndex=-1,w.className="chapter-link",y.Href){let f=this.publication.getAbsoluteHref(y.Href),g=this.publication.getTOCItemAbsolute(f);w.href=f,w.innerHTML=g?.Title||"",b.appendChild(w)}else p.innerHTML=y.Title||"",p.className="chapter-title",b.appendChild(p);Ee(w,"click",f=>{f.preventDefault(),f.stopPropagation();let g={href:w.href,locations:{progression:0},type:y.TypeLink,title:w.title};this.navigator.stopReadAloud(),this.navigator.navigate(g)});let m=document.createElement("ol");n.forEach(function(f){let g=y.Href.indexOf("#")!==-1?y.Href.slice(0,y.Href.indexOf("#")):y.Href;if(y.Href&&f.href.endsWith(g)){let v=document.createElement("li");v.className="annotation-item";let A=document.createElement("a");if(A.setAttribute("href",f.href),t===Si.Annotation){A.className="highlight-link";let O=document.createElement("span"),E=document.createElement("span");if(O.className="title",E.innerHTML=f.highlight.selectionInfo.cleanText,f.highlight?.marker===Ve.Underline)if(typeof f.highlight?.color=="object"){let M=f.highlight?.color;M&&E.style.setProperty("border-bottom",`2px solid ${Qe.hexToRgbA(M)}`,"important")}else E.style.setProperty("border-bottom",`2px solid ${f.highlight?.color}`,"important");else if(typeof f.highlight?.color=="object"){let M=f.highlight?.color;M&&(E.style.backgroundColor=Qe.hexToRgbA(M))}else{let M=f.highlight?.color;M&&(E.style.backgroundColor=M)}O.appendChild(E),A.appendChild(O);let T=document.createElement("span"),B=Math.round((f.locations.progression??0)*100)+"% through resource";T.className="subtitle",T.innerHTML=B,A.appendChild(T)}let C=document.createElement("span");if(C.className="timestamp",C.innerHTML=us.readableTimestamp(f.created),A.appendChild(C),Ee(A,"click",O=>{O.preventDefault(),O.stopPropagation(),o.handleAnnotationLinkClick(O,f)}),v.appendChild(A),o.navigator.sideNavExpanded){let O=document.createElement("button");O.className="delete",O.innerHTML=nr.delete,Ee(O,"click",E=>{E.preventDefault(),E.stopPropagation(),o.handleAnnotationLinkDeleteClick(t,E,f)}),v.appendChild(O)}m.appendChild(v)}}),m.children.length>0&&(h.appendChild(b),h.appendChild(m)),h.children.length>0&&u.appendChild(h),y.Children&&y.Children.length>0&&l(u,y.Children)}};i.innerHTML="",l(i,s)}}}handleAnnotationLinkClick(t,n){n?(n.href=this.publication.getAbsoluteHref(n.href),this.navigator.stopReadAloud(),this.navigator.navigate(n)):Ui.default.log("annotation data missing: ",t)}handleAnnotationLinkDeleteClick(t,n,i){Ui.default.log("annotation data locator: ",i),i?t===Si.Annotation&&this.deleteHighlight(i):Ui.default.log("annotation data missing: ",n)}static readableTimestamp(t){let n=new Date(t);return n.toDateString()+" "+n.toLocaleTimeString()}async getAnnotation(t){return this.annotator?.getAnnotation(t)}async getAnnotationByID(t){return this.annotator?.getAnnotationByID(t)}syncPosition(t){let n=this.navigator.iframes[0].contentDocument,i=(o,s)=>{let l=n.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),u,d;l&&(u=l.querySelector(`#${s.highlight.id}`)),d=u.getElementsByClassName(Tn)[0];let y=parseInt(d.style.top.replace("px","")),b=Yt(et({},s),{highlight:Yt(et({},s.highlight),{position:y})});return[...o,b]};return t.reduce(i,[])}reposition(t){let n=this.navigator.iframes[0].contentDocument,i=(o,s,l)=>{let u=t[0],d=n.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),h,y;d&&(h=d.querySelector(`#${u.highlight.id}`)),y=h.getElementsByClassName(Tn)[0];let w=parseInt(y.style.height.replace("px","")),p=s.highlight.position,m=o[l-1]&&o[l-1].highlight.position,g=l===0?0:m+w+0,v=g>p?g:p,A=Yt(et({},s),{highlight:Yt(et({},s.highlight),{position:v})});return[...o,A]};return t.sort(function(o,s){return o.highlight.position-s.highlight.position}).reduce(i,[])}};H();var Y0=nt(K0());var $i=nt(Jt());var ds=class{static async create(t){let n=new this(t.annotator,t.rights||{enableBookmarks:!1},t.publication,t,t.initialAnnotations,t.api,t.headerMenu);return await n.start(),new Promise(i=>i(n))}constructor(t,n,i,o,s,l,u){this.annotator=t,this.rights=n,this.publication=i,this.headerMenu=u,this.initialAnnotations=s,this.properties=o,this.api=l}stop(){$i.default.log("Bookmark module stop")}async start(){if(this.headerMenu&&(this.bookmarksView=Ie(this.headerMenu,"#container-view-bookmarks")),this.headerMenu&&(this.sideNavSectionBookmarks=Ie(this.headerMenu,"#sidenav-section-bookmarks")),this.headerMenu){let t=Ie(this.headerMenu,"#menu-button-bookmark");t&&t.parentElement?.style.removeProperty("display"),t&&Ee(t,"click",this.saveBookmark.bind(this))}if(this.initialAnnotations){let t=this.initialAnnotations.bookmarks||null;t&&this.annotator?.initBookmarks(t)}}async handleResize(){setTimeout(async()=>{await this.drawBookmarks(),await this.showBookmarks(),setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("highlights"):this.navigator.showLayer("highlights")},10)},100)}initialize(){return new Promise(async t=>{await document.fonts.ready,this.rights.enableBookmarks&&setTimeout(()=>{this.drawBookmarks(),this.showBookmarks()},300),t(null)})}async deleteBookmark(t){if(this.annotator)if(this.api?.deleteBookmark){await this.api?.deleteBookmark(t);let n=await this.annotator.deleteBookmark(t);return $i.default.log("Bookmark deleted "+JSON.stringify(n)),await this.showBookmarks(),await this.drawBookmarks(),n}else{let n=await this.annotator.deleteBookmark(t);return $i.default.log("Bookmark deleted "+JSON.stringify(n)),await this.showBookmarks(),await this.drawBookmarks(),n}else return new Promise(n=>n(null))}async saveBookmarkPlus(){await this.addBookmarkPlus()}async saveBookmark(){if(this.annotator){var t=this.publication.getTOCItem(this.navigator.currentChapterLink.href);if(this.navigator.currentTocUrl&&(t=this.publication.getTOCItem(this.navigator.currentTocUrl)),t===void 0&&(t=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),t){let n=t.Href;n.indexOf("#")>0&&(n=n.slice(0,n.indexOf("#")));let i=this.navigator.view?.getCurrentPosition(),o=(0,Y0.v4)(),s;if(this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let l=this.publication.positionsByHref(this.publication.getRelativeHref(this.navigator.currentChapterLink.href)),u=Math.ceil((i??0)*(l.length-1)),d=l[u];s=Yt(et({},d),{id:o,href:n,created:new Date,title:this.navigator.currentChapterLink.title})}else s={id:o,href:n,locations:{progression:i},created:new Date,type:this.navigator.currentChapterLink.type,title:this.navigator.currentChapterLink.title};if(!this.annotator.locatorExists(s,Si.Bookmark))if(this.navigator.consumptionModule?.trackAction(s,cs.BookmarkCreated),this.api?.addBookmark){let l=await this.api.addBookmark(s);l&&(s=l),$i.default.log(s);let u=this.annotator.saveBookmark(s);return $i.default.log("Bookmark added "+JSON.stringify(u)),this.showBookmarks(),await this.drawBookmarks(),u}else{let l=this.annotator.saveBookmark(s);return $i.default.log("Bookmark added "+JSON.stringify(l)),this.showBookmarks(),await this.drawBookmarks(),l}}}}async addBookmarkPlus(){let t=this,n=this.navigator.highlighter?.visibleTextRects[0],i=this.navigator.iframes[0].contentDocument;if(i){let u=this.navigator.highlighter?.dom(i.body).getWindow().document.createRange(),d=this.navigator.highlighter?.dom(this.navigator.iframes[0].contentDocument?.body).getSelection();d.removeAllRanges(),n&&u.selectNodeContents(n.node),d.addRange(u);let h=Gd(u,!1),y=0;for(let b of h){if(!this.navigator.highlighter?.isOutsideViewport(b)){let w=d.focusNode,p=d.focusOffset;d.collapse(d.anchorNode,d.anchorOffset);for(let v=0;v<y;v++)d.modify("move","forward","line");d.extend(w,p);let m=d.focusNode,f=d.focusNode.length;d.collapse(d.anchorNode,d.anchorOffset);let g=f;d.anchorOffset>f?g=f:g=d.anchorOffset+1,d.modify("move","forward","character"),d.modify("move","backward","word"),d.extend(m,g),d.modify("extend","backward","character"),d.modify("extend","forward","word");break}y++}}function o(u){let d={},h=t.navigator.iframes[0].contentDocument;if(h)return wn(u,t.navigator.highlighter?.dom(h.body).getDocument(),d)}let s=this.navigator.iframes[0].contentWindow,l={id:"bookmarkIcon",marker:Ve.Bookmark,icon:{id:"bookmarkIcon",title:"Bookmark",svgPath:'<path d="M0 0h24v24H0V0z" fill="none"/><path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>',color:"#000000",position:"left"},popup:{background:"#000000",textColor:"#ffffff"},highlight:{color:"#000000",style:{default:[{property:"border-bottom",value:"0px dashed #000000",priority:"important"}]}}};if(s!==null){let u=Er(s,o);if(u===void 0){let h=t.navigator.iframes[0].contentDocument;u=this.navigator.annotationModule?.annotator?.getTemporarySelectionInfo(h)}let d=t.navigator.iframes[0].contentDocument;if(u&&d){let h=this.navigator.highlighter?.createHighlight(this.navigator.highlighter?.dom(d.body).getWindow(),u,l.highlight?.color,!0,Ve.Bookmark,l.icon,l.popup,l.highlight?.style);if(this.navigator.iframes[0].contentDocument?.getSelection()?.removeAllRanges(),h)return this.saveAnnotation(h[0]).then(y=>{$i.default.log("saved bookmark "+y?.id)})}}}async saveAnnotation(t){if(this.annotator){var n=this.publication.getTOCItem(this.navigator.currentChapterLink.href);this.navigator.currentTocUrl&&(n=this.publication.getTOCItem(this.navigator.currentTocUrl)),n===null&&(n=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href));let i=this.navigator.view?.getCurrentPosition(),o=this.navigator.iframes[0].contentDocument;if(o){let s=Gr(o,"body"),l=t.position?t.position/s.scrollHeight:i,u=(0,Y0.v4)(),d;if(n){let h=n.Href;if(h.indexOf("#")>0&&(h=h.slice(0,h.indexOf("#"))),this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let y=this.publication.positionsByHref(this.publication.getRelativeHref(this.navigator.currentChapterLink.href)),b=Math.ceil((l??0)*(y.length-1)),w=y[b];d=Yt(et({},w),{id:u,href:h,created:new Date,title:this.navigator.currentChapterLink.title,highlight:t,text:{highlight:t.selectionInfo.cleanText}})}else d={id:u,href:h,locations:{progression:l},created:new Date,type:this.navigator.currentChapterLink.type,title:this.navigator.currentChapterLink.title,highlight:t,text:{highlight:t.selectionInfo.cleanText}}}if(d)if(this.navigator.consumptionModule?.trackAction(d,cs.BookmarkCreated),this.api?.addBookmark){let h=await this.api.addBookmark(d),y=await this.annotator.saveAnnotation(h);return await this.showBookmarks(),await this.drawBookmarks(),new Promise(b=>b(y))}else{let h=await this.annotator.saveAnnotation(d);return await this.showBookmarks(),await this.drawBookmarks(),new Promise(y=>y(h))}}}return new Promise(i=>i(void 0))}getBookmarks(){let t=[];return this.annotator&&(t=this.annotator.getBookmarks()),t}showBookmarks(){let t=[];this.annotator&&(t=this.annotator.getBookmarks());let n=[];this.annotator&&(n=this.annotator.getAnnotations(),n&&(n=n.filter(i=>i.highlight.marker===Ve.Bookmark),t?t.push.apply(t,n):t=n)),this.bookmarksView&&this.createTree(Si.Bookmark,t,this.bookmarksView)}async drawBookmarks(){if(this.rights.enableBookmarks&&this.navigator.highlighter)if(this.api){let n=[];if(this.annotator&&(n=await this.annotator.getAnnotations()),this.navigator.highlighter&&n&&this.navigator.iframes[0].contentDocument?.readyState==="complete"){await this.navigator.highlighter.destroyHighlights(it.Annotation);for(let i of n){tn.push(i.highlight);let o=i,s=this.navigator.currentChapterLink.href;var t=this.publication.getTOCItem(s);if(this.navigator.currentTocUrl&&(t=this.publication.getTOCItem(this.navigator.currentTocUrl)),t===void 0&&(t=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),t){let l=t.Href;l.indexOf("#")>0&&(l=l.slice(0,l.indexOf("#"))),o.href===l&&await this.navigator.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,i.highlight)}}}}else{let n=[];if(this.annotator&&(n=await this.annotator.getAnnotations()),this.navigator.highlighter&&n&&this.navigator.iframes[0].contentDocument?.readyState==="complete"){await this.navigator.highlighter.destroyHighlights(it.Annotation);for(let i of n){tn.push(i.highlight);let o=i,s=this.navigator.currentChapterLink.href,l=this.publication.getTOCItem(s);if(this.navigator.currentTocUrl&&(l=this.publication.getTOCItem(this.navigator.currentTocUrl)),l===void 0&&(l=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),l){let u=l.Href;u.indexOf("#")>0&&(u=u.slice(0,u.indexOf("#"))),o.href===u&&await this.navigator.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,i.highlight)}}}}}async deleteSelectedHighlight(t){this.api?.deleteBookmark?this.api.deleteBookmark(t).then(async()=>{this.deleteLocalHighlight(t.id)}):this.deleteLocalHighlight(t.id)}async deleteLocalHighlight(t){if(this.annotator){var n=await this.annotator.deleteAnnotation(t);return $i.default.log("Highlight deleted "+JSON.stringify(n)),await this.showBookmarks(),await this.drawBookmarks(),n}else return new Promise(i=>i(null))}createTree(t,n,i){if(n){let o=this,s=this.publication.readingOrder;if(s.length){let l=(u,d)=>{let h=document.createElement("ul");h.className="sidenav-annotations";for(let y of d){let b=document.createElement("li"),w=document.createElement("a"),p=document.createElement("span");if(w.tabIndex=-1,w.className="chapter-link",y.Href){let f=this.publication.getAbsoluteHref(y.Href),g=this.publication.getTOCItemAbsolute(f);w.href=f,w.innerHTML=g?.Title||"",b.appendChild(w)}else p.innerHTML=y.Title||"",p.className="chapter-title",b.appendChild(p);Ee(w,"click",f=>{f.preventDefault(),f.stopPropagation();let g={href:w.href,locations:{progression:0},type:y.TypeLink,title:w.title};this.navigator.stopReadAloud(),this.navigator.navigate(g)});let m=document.createElement("ol");n.forEach(function(f){let g=y.Href.indexOf("#")!==-1?y.Href.slice(0,y.Href.indexOf("#")):y.Href;if(y.Href&&f.href.endsWith(g)){let v=document.createElement("li");v.className="annotation-item";let A=document.createElement("a");if(A.setAttribute("href",f.href),t===Si.Bookmark){A.className="bookmark-link";let O=document.createElement("span"),E=Math.round((f.locations.progression??0)*100)+"% through resource";O.className="title",O.innerHTML=E,A.appendChild(O)}let C=document.createElement("span");if(C.className="timestamp",C.innerHTML=ds.readableTimestamp(f.created),A.appendChild(C),Ee(A,"click",O=>{O.preventDefault(),O.stopPropagation(),o.handleAnnotationLinkClick(O,f)}),v.appendChild(A),o.navigator.sideNavExpanded){let O=document.createElement("button");O.className="delete",O.innerHTML=nr.delete,Ee(O,"click",E=>{E.preventDefault(),E.stopPropagation(),o.handleAnnotationLinkDeleteClick(t,E,f)}),v.appendChild(O)}m.appendChild(v)}}),m.children.length>0&&(h.appendChild(b),h.appendChild(m)),h.children.length>0&&u.appendChild(h),y.Children&&y.Children.length>0&&l(u,y.Children)}};i.innerHTML="",l(i,s)}}}handleAnnotationLinkClick(t,n){n?(n.href=this.publication.getAbsoluteHref(n.href),this.navigator.stopReadAloud(),this.navigator.navigate(n)):$i.default.log("bookmark data missing: ",t)}handleAnnotationLinkDeleteClick(t,n,i){$i.default.log("bookmark data locator: ",i),i?t===Si.Bookmark&&this.deleteBookmark(i):$i.default.log("bookmark data missing: ",n)}static readableTimestamp(t){let n=new Date(t);return n.toDateString()+" "+n.toLocaleTimeString()}async getAnnotation(t){return this.annotator?.getAnnotation(t)}async getAnnotationByID(t){return this.annotator?.getAnnotationByID(t)}};H();var tS=nt(eS());H();var ii=nt(Jt()),Z0="r2-mo-active",fs=class{},Xe=fs;Xe.COLOR_REF="color",Xe.AUTO_SCROLL_REF="autoscroll",Xe.AUTO_TURN_REF="autoturn",Xe.VOLUME_REF="volume",Xe.RATE_REF="rate",Xe.COLOR_KEY="mediaoverlay-"+fs.COLOR_REF,Xe.AUTO_SCROLL_KEY="mediaoverlay-"+fs.AUTO_SCROLL_REF,Xe.AUTO_TURN_KEY="mediaoverlay-"+fs.AUTO_TURN_REF,Xe.VOLUME_KEY="mediaoverlay-"+fs.VOLUME_REF,Xe.RATE_KEY="mediaoverlay-"+fs.RATE_REF;var Q0=class{constructor(t,n,i){this.MEDIAOVERLAYSETTINGS="mediaOverlaySetting";this.color="r2-mo-active";this.autoScroll=!0;this.autoTurn=!0;this.volume=1;this.rate=1;this.playing=!1;this.resourceReady=!1;this.wait=1;this.settingsChangeCallback=()=>{};this.store=t,this.api=n,this.headerMenu=i,this.initialise(),ii.default.log(this.api)}static create(t){let n=new this(t.store,t.api,t.headerMenu);if(t.initialMediaOverlaySettings){let i=t.initialMediaOverlaySettings;i?.color&&(n.color=i.color,ii.default.log(n.color)),i?.autoScroll&&(n.autoScroll=i.autoScroll,ii.default.log(n.autoScroll)),"autoTurn"in i&&(n.autoTurn=i.autoTurn,ii.default.log(n.autoScroll)),i?.volume&&(n.volume=i.volume,ii.default.log(n.volume)),i?.rate&&(n.rate=i.rate,ii.default.log(n.rate)),i?.wait&&(n.wait=i.wait,ii.default.log(n.wait))}return n.initializeSelections(),n}stop(){ii.default.log("MediaOverlay settings stop")}initialise(){this.autoScroll=this.getProperty(Xe.AUTO_SCROLL_KEY)!=null?this.getProperty(Xe.AUTO_SCROLL_KEY).value:this.autoScroll,this.autoTurn=this.getProperty(Xe.AUTO_TURN_KEY)!=null?this.getProperty(Xe.AUTO_TURN_KEY).value:this.autoTurn,this.color=this.getProperty(Xe.COLOR_KEY)!=null?this.getProperty(Xe.COLOR_KEY).value:this.color,this.volume=this.getProperty(Xe.VOLUME_KEY)!=null?this.getProperty(Xe.VOLUME_KEY).value:this.volume,this.rate=this.getProperty(Xe.RATE_KEY)!=null?this.getProperty(Xe.RATE_KEY).value:this.rate,this.userProperties=this.getMediaOverlaySettings()}reset(){this.color="redtext",this.autoScroll=!0,this.autoTurn=!0,this.volume=1,this.rate=1,this.wait=1,this.userProperties=this.getMediaOverlaySettings()}initializeSelections(){this.headerMenu&&(this.settingsView=Ie(this.headerMenu,"#container-view-mediaoverlay-settings"))}setControls(){this.settingsView&&this.renderControls(this.settingsView)}renderControls(t){this.headerMenu&&(this.speechAutoTurn=Ie(this.headerMenu,"#mediaOverlayAutoTurn")),this.headerMenu&&(this.speechAutoScroll=Ie(this.headerMenu,"#mediaOverlayAutoScroll")),this.headerMenu&&(this.speechVolume=Ie(this.headerMenu,"#mediaOverlayVolume")),this.headerMenu&&(this.speechRate=Ie(this.headerMenu,"#mediaOverlayRate")),this.speechAutoScroll&&(this.speechAutoScroll.checked=this.autoScroll),this.speechAutoTurn&&(this.speechAutoTurn.checked=this.autoTurn),this.speechVolume&&(this.speechVolume.value=this.volume.toString()),this.speechRate&&(this.speechRate.value=this.volume.toString()),Ee(Ie(t,"ul"),"click",n=>{n.stopPropagation()})}onSettingsChange(t){this.settingsChangeCallback=t}storeProperty(t){this.updateUserSettings(),this.saveProperty(t)}updateUserSettings(){let t={color:this.userProperties.getByRef(Xe.COLOR_REF)?.value,autoScroll:this.userProperties.getByRef(Xe.AUTO_SCROLL_REF)?.value,autoTurn:this.userProperties.getByRef(Xe.AUTO_TURN_REF)?.value,volume:this.userProperties.getByRef(Xe.VOLUME_REF)?.value,rate:this.userProperties.getByRef(Xe.RATE_REF)?.value};this.applyMediaOverlaySettings(t),this.api?.updateSettings&&this.api?.updateSettings(t).then(async n=>{ii.default.log("api updated sync settings",n)})}getMediaOverlaySettings(){let t=new Wr;return t.addSwitchable("mediaoverlay-auto-scroll-off","mediaoverlay-auto-scroll-on",this.autoScroll,Xe.AUTO_SCROLL_REF,Xe.AUTO_SCROLL_KEY),t.addSwitchable("mediaoverlay-auto-turn-off","mediaoverlay-auto-turn-on",this.autoTurn,Xe.AUTO_TURN_REF,Xe.AUTO_TURN_KEY),t.addStringable(this.color,Xe.COLOR_REF,Xe.COLOR_KEY),t.addIncremental(this.volume,.1,1,.1,"",Xe.VOLUME_REF,Xe.VOLUME_KEY),t.addIncremental(this.rate,.1,3,.1,"",Xe.RATE_REF,Xe.RATE_KEY),t}saveProperty(t){let n=this.store.get(this.MEDIAOVERLAYSETTINGS);if(n){let i=JSON.parse(n);i=i.filter(o=>o.name!==t.name),i.push(t),this.store.set(this.MEDIAOVERLAYSETTINGS,JSON.stringify(i))}else{let i=[];i.push(t),this.store.set(this.MEDIAOVERLAYSETTINGS,JSON.stringify(i))}return t}getProperty(t){let n=this.store.get(this.MEDIAOVERLAYSETTINGS);if(n){let i=JSON.parse(n);return i=i.filter(o=>o.name===t),i.length===0?null:i[0]}return null}resetMediaOverlaySettings(){this.store.remove(this.MEDIAOVERLAYSETTINGS),this.reset(),this.settingsChangeCallback()}applyMediaOverlaySettings(t){if(t.color){this.color=t.color;let n=this.userProperties.getByRef(Xe.COLOR_REF);n&&(n.value=this.color,this.saveProperty(n)),this.settingsChangeCallback()}if(t.autoScroll!==void 0){ii.default.log("autoScroll "+this.autoScroll),this.autoScroll=t.autoScroll;let n=this.userProperties.getByRef(Xe.AUTO_SCROLL_REF);n&&(n.value=this.autoScroll,this.saveProperty(n)),this.settingsChangeCallback()}if(t.autoTurn!==void 0){ii.default.log("autoTurn "+this.autoTurn),this.autoTurn=t.autoTurn;let n=this.userProperties.getByRef(Xe.AUTO_TURN_REF);n&&(n.value=this.autoTurn,this.saveProperty(n)),this.settingsChangeCallback()}if(t.volume){ii.default.log("volume "+this.volume),this.volume=t.volume;let n=this.userProperties.getByRef(Xe.VOLUME_REF);n&&(n.value=this.volume,this.saveProperty(n)),this.settingsChangeCallback()}if(t.rate){ii.default.log("rate "+this.rate),this.rate=t.rate;let n=this.userProperties.getByRef(Xe.RATE_REF);n&&(n.value=this.rate,this.saveProperty(n)),this.settingsChangeCallback()}}applyMediaOverlaySetting(t,n){if(t===Xe.COLOR_REF){this.color=n;let i=this.userProperties.getByRef(Xe.COLOR_REF);i&&(i.value=this.color,this.saveProperty(i)),this.settingsChangeCallback()}else if(t===Xe.AUTO_SCROLL_REF){this.autoScroll=n;let i=this.userProperties.getByRef(Xe.AUTO_SCROLL_REF);i&&(i.value=this.autoScroll,this.saveProperty(i)),this.settingsChangeCallback()}else if(t===Xe.AUTO_TURN_REF){this.autoTurn=n;let i=this.userProperties.getByRef(Xe.AUTO_TURN_REF);i&&(i.value=this.autoTurn,this.saveProperty(i)),this.settingsChangeCallback()}}increase(t){if(t==="mo_volume"){this.userProperties.getByRef(Xe.VOLUME_REF).increment(),this.volume=this.userProperties.getByRef(Xe.VOLUME_REF)?.value;let n=this.userProperties.getByRef(Xe.VOLUME_REF);n&&this.storeProperty(n),this.settingsChangeCallback()}else if(t==="mo_rate"){this.userProperties.getByRef(Xe.RATE_REF).increment(),this.rate=this.userProperties.getByRef(Xe.RATE_REF)?.value;let n=this.userProperties.getByRef(Xe.RATE_REF);n&&this.storeProperty(n),this.settingsChangeCallback()}}decrease(t){if(t==="mo_volume"){this.userProperties.getByRef(Xe.VOLUME_REF).decrement(),this.volume=this.userProperties.getByRef(Xe.VOLUME_REF)?.value;let n=this.userProperties.getByRef(Xe.VOLUME_REF);n&&this.storeProperty(n),this.settingsChangeCallback()}else if(t==="mo_rate"){this.userProperties.getByRef(Xe.RATE_REF).decrement(),this.rate=this.userProperties.getByRef(Xe.RATE_REF)?.value;let n=this.userProperties.getByRef(Xe.RATE_REF);n&&this.storeProperty(n),this.settingsChangeCallback()}}};var Ze=nt(Jt()),Tl=class{constructor(t,n,i){this.play=Ie(document,"#menu-button-play");this.pause=Ie(document,"#menu-button-pause");this.currentLinkIndex=0;this.pid=void 0;this.__ontimeupdate=!1;this.ontimeupdate=async t=>{Ze.default.log("ontimeupdate"),this.trackCurrentTime()};this.ensureOnTimeUpdate=(t,n)=>{t?this.__ontimeupdate&&(this.__ontimeupdate=!1,this.audioElement&&this.audioElement.removeEventListener("timeupdate",this.ontimeupdate),cancelAnimationFrame(this.myReq)):(!this.__ontimeupdate||n)&&(this.__ontimeupdate=!0,n&&(this.audioElement&&this.audioElement.removeEventListener("timeupdate",this.ontimeupdate),this.audioElement.addEventListener("timeupdate",this.ontimeupdate)))};this.publication=t,this.settings=n,this.properties=i}static create(t){let n=new this(t.publication,t.settings,t);return n.start(),n}stop(){Ze.default.log("MediaOverlay module stop")}start(){Ze.default.log("MediaOverlay module start")}async initialize(){return new Promise(async t=>{await document.fonts.ready,this.settings.setControls(),this.settings.onSettingsChange(()=>{this.audioElement.volume=this.settings.volume,this.audioElement.playbackRate=this.settings.rate}),t()})}async initializeResource(t){this.currentLinks=t,this.currentLinkIndex=0,this.mediaOverlayTextAudioPair=void 0,this.ensureOnTimeUpdate(!0,!1),await this.playLink()}async playLink(){let t=this.currentLinks[this.currentLinkIndex];if(t?.Properties?.MediaOverlay){this.ensureOnTimeUpdate(!1,!1);let n=t.Properties?.MediaOverlay,o=new URL(n,this.publication.manifestUrl).toString(),s;try{s=await fetch(o,this.navigator.requestConfig)}catch(h){console.error(h,o);return}s.ok||Ze.default.log("BAD RESPONSE?!");let l;try{l=await s.json()}catch(h){console.error(h)}if(!l){Ze.default.log("## moJson"+l);return}t.MediaOverlays=Ks(l,tS.MediaOverlayNode),t.MediaOverlays.initialized=!0;let u=t.HrefDecoded||t.Href,d=new URL("https://dita.digital/"+u);await this.playMediaOverlays(d.pathname.substr(1),t.MediaOverlays,void 0)}else this.audioElement&&await this.audioElement.pause(),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,await this.playLink()):this.settings.autoTurn&&this.settings.playing?(this.audioElement&&await this.audioElement.pause(),this.navigator.nextResource()):await this.stopReadAloud()}async startReadAloud(){if(this.navigator.rights.enableMediaOverlays){if(this.settings.playing=!0,this.audioElement&&this.currentLinks[this.currentLinkIndex]?.Properties.MediaOverlay){let t=this.currentAudioBegin?this.currentAudioBegin:0;this.audioElement.currentTime=t,await this.audioElement.play(),this.ensureOnTimeUpdate(!1,!0),this.audioElement.volume=this.settings.volume,this.audioElement.playbackRate=this.settings.rate}else this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,await this.playLink()):this.settings.autoTurn&&this.settings.playing?this.navigator.nextResource():await this.stopReadAloud();this.play&&(this.play.style.display="none"),this.pause&&this.pause.style.removeProperty("display")}}async stopReadAloud(){this.navigator.rights.enableMediaOverlays&&(this.settings.playing=!1,this.mediaOverlaysStop(),this.play&&this.play.style.removeProperty("display"),this.pause&&(this.pause.style.display="none"))}pauseReadAloud(){this.navigator.rights.enableMediaOverlays&&(this.settings.playing=!1,this.mediaOverlaysPause(),this.play&&this.play.style.removeProperty("display"),this.pause&&(this.pause.style.display="none"))}async resumeReadAloud(){this.navigator.rights.enableMediaOverlays&&(this.settings.playing=!0,await this.audioElement.play(),this.play&&(this.play.style.display="none"),this.pause&&this.pause.style.removeProperty("display"))}findDepthFirstTextAudioPair(t,n,i){Ze.default.log("findDepthFirstTextAudioPair()");let o,s;if(n.Text){let d=new URL("https://dita.digital/"+n.Text);if(d.pathname.substr(1)===t){if(o=!0,d.hash&&i){s=!1;let h=d.hash.substr(1);for(let y of i)if(y===h){s=!0;break}}}else o=!1}if(Ze.default.log("isFragmentIDMatch: "+s),Ze.default.log("isTextUrlMatch: "+o),!n.Children||!n.Children.length){if(Ze.default.log("findDepthFirstTextAudioPair() - leaf text/audio pair"),!o){Ze.default.log("findDepthFirstTextAudioPair() - leaf - !isTextUrlMatch");return}return s||o&&!i?(Ze.default.log("findDepthFirstTextAudioPair() - leaf - isFragmentIDMatch || (isTextUrlMatch && !textFragmentIDChain"),n):void 0}let l=i,u=i;for(let d of n.Children){Ze.default.log("findDepthFirstTextAudioPair() - child"),Ze.default.log(JSON.stringify(d));let h=this.findDepthFirstTextAudioPair(t,d,u);if(h===null&&(Ze.default.log("findDepthFirstTextAudioPair() - child - match null (skip)"),u=void 0),h)return Ze.default.log("findDepthFirstTextAudioPair() - child - match"),Ze.default.log(JSON.stringify(h)),h}if(s){Ze.default.log("findDepthFirstTextAudioPair() - post isFragmentIDMatch");let d=this.findDepthFirstTextAudioPair(t,n,void 0);return d&&(Ze.default.log("findDepthFirstTextAudioPair() - post isFragmentIDMatch - match"),Ze.default.log(JSON.stringify(d)),d)}if(l&&!u)return null}trackCurrentTime(){if(cancelAnimationFrame(this.myReq),this.mediaOverlayTextAudioPair)try{this.currentAudioEnd&&this.audioElement.currentTime>=this.currentAudioEnd-.05&&(Ze.default.log("ontimeupdate - mediaOverlaysNext()"),this.mediaOverlaysNext());let t=this.mediaOverlayTextAudioPair.Text.lastIndexOf("#"),n=this.mediaOverlayTextAudioPair.Text.substr(t+1);this.mediaOverlayHighlight(n),this.myReq=requestAnimationFrame(this.trackCurrentTime.bind(this))}catch(t){}}mediaOverlaysNext(t){if(Ze.default.log("mediaOverlaysNext()"),this.mediaOverlayRoot&&this.mediaOverlayTextAudioPair){let n=this.findNextTextAudioPair(this.mediaOverlayRoot,this.mediaOverlayTextAudioPair,{prev:void 0},!!t);if(!n)Ze.default.log("mediaOverlaysNext() - navLeftOrRight()"),this.mediaOverlaysStop(),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,this.playLink()):(this.audioElement.pause(),this.settings.autoTurn&&this.settings.playing?(this.audioElement.pause(),this.navigator.nextResource()):(this.stopReadAloud(),this.ensureOnTimeUpdate(!0,!1),this.playLink()));else{let i=!1;if(this.mediaOverlayTextAudioPair.Text&&n.Text){let o=new URL("https://dita.digital/"+this.mediaOverlayTextAudioPair.Text),s=new URL("https://dita.digital/"+n.Text);o.pathname!==s.pathname&&(Ze.default.log("mediaOverlaysNext() SWITCH! "+o.pathname+" != "+s.pathname),i=!0)}i?this.mediaOverlaysStop():(Ze.default.log("mediaOverlaysNext() - playMediaOverlaysAudio()"),setTimeout(async()=>{await this.playMediaOverlaysAudio(n,void 0,void 0)},0))}}else Ze.default.log("mediaOverlaysNext() - navLeftOrRight() 2"),this.mediaOverlaysStop(),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,this.playLink()):(this.audioElement.pause(),this.settings.autoTurn&&this.settings.playing?(this.audioElement.pause(),this.navigator.nextResource()):this.stopReadAloud())}mediaOverlaysStop(){Ze.default.log("mediaOverlaysStop()"),this.mediaOverlaysPause(),this.mediaOverlayRoot=void 0,this.mediaOverlayTextAudioPair=void 0}mediaOverlaysPause(){Ze.default.log("mediaOverlaysPause()"),this.mediaOverlayHighlight(void 0),this.audioElement&&this.audioElement.pause()}findNextTextAudioPair(t,n,i,o){if(!t.Children||!t.Children.length){if(i?.prev===n)return Ze.default.log("findNextTextAudioPair() - prevMo === moToMatch"),t;Ze.default.log("findNextTextAudioPair() - set previous"),Ze.default.log(JSON.stringify(t)),i.prev=t;return}for(let s of t.Children){Ze.default.log("findNextTextAudioPair() - child"),Ze.default.log(JSON.stringify(s));let l=this.findNextTextAudioPair(s,n,i,o);if(l)return Ze.default.log("findNextTextAudioPair() - match"),Ze.default.log(JSON.stringify(l)),l}}async playMediaOverlaysAudio(t,n,i){if(Ze.default.log("playMediaOverlaysAudio()"),this.mediaOverlayTextAudioPair=t,!t.Audio)return;let o=new URL(t.Audio,this.publication.manifestUrl),s=o.toString(),l=new URL(s);l.hash="",l.search="";let u=l.toString(),d=typeof n!="undefined",h=typeof i!="undefined";if(this.previousAudioEnd=this.currentAudioEnd,this.currentAudioBegin=void 0,this.currentAudioEnd=void 0,!d&&!h){if(o.hash){let b=o.hash.match(/t=([0-9.]+)(,([0-9.]+))?/);if(b&&b.length>=1){let w=b[1];try{this.currentAudioBegin=parseFloat(w)}catch(p){Ze.default.error(p)}if(b.length>=3){let p=b[3];try{this.currentAudioEnd=parseFloat(p)}catch(m){Ze.default.error(m)}}}}}else this.currentAudioBegin=n,this.currentAudioEnd=i;Ze.default.log(`${s} => [${this.currentAudioBegin}-${this.currentAudioEnd}]`);let y=async b=>{if(!this.audioElement)return;let w=this.currentAudioBegin?this.currentAudioBegin:0;if(b||this.audioElement.paused)if(b&&!w||this.audioElement.currentTime===w){if(Ze.default.log("playMediaOverlaysAudio() - playClip() - _currentAudioElement.play()"),this.ensureOnTimeUpdate(!1,!1),this.audioElement.playbackRate=this.settings.rate,this.audioElement.volume=this.settings.volume,this.settings.playing){let m=function(){p.settings.resourceReady?setTimeout(async()=>{await p.audioElement.play(),p.ensureOnTimeUpdate(!1,!0)},p.settings.wait*1e3):setTimeout(m,200)},p=this;m()}}else{Ze.default.log("playMediaOverlaysAudio() - playClip() - ontimeupdateSeeked");let p=async m=>{if(this.audioElement.removeEventListener("timeupdate",p),Ze.default.log("playMediaOverlaysAudio() - playClip() - ontimeupdateSeeked - .play()"),this.ensureOnTimeUpdate(!1,!1),this.audioElement&&(this.audioElement.playbackRate=this.settings.rate,this.audioElement.volume=this.settings.volume,this.settings.playing)){let g=function(){f.settings.resourceReady?setTimeout(async()=>{await f.audioElement.play(),f.ensureOnTimeUpdate(!1,!0)},f.settings.wait*1e3):setTimeout(g,200)},f=this;g()}};this.audioElement.addEventListener("timeupdate",p),this.audioElement.currentTime=w}else{let p=this.previousAudioUrl===this.currentAudioUrl&&typeof this.previousAudioEnd!="undefined"&&this.previousAudioEnd>w-.02&&this.previousAudioEnd<=w&&this.audioElement.currentTime>=w-.1;this.ensureOnTimeUpdate(!1,!1),p?Ze.default.log("playMediaOverlaysAudio() - playClip() - ensureOnTimeUpdate"):(Ze.default.log("playMediaOverlaysAudio() - playClip() - currentTime = timeToSeekTo"),this.audioElement.currentTime=w)}};if(this.previousAudioUrl=this.currentAudioUrl,!this.currentAudioUrl||u!==this.currentAudioUrl){this.currentAudioUrl=u,Ze.default.log("playMediaOverlaysAudio() - RESET: "+this.previousAudioUrl+" => "+this.currentAudioUrl),this.audioElement=document.getElementById("AUDIO_MO_ID"),this.audioElement&&(this.audioElement.pause(),this.audioElement.setAttribute("src",""),this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement)),this.audioElement=document.createElement("audio"),this.audioElement.setAttribute("style","display: none"),this.audioElement.setAttribute("id","AUDIO_MO_ID"),this.audioElement.setAttribute("role","media-overlays"),this.audioElement.volume=this.settings.volume,this.audioElement.playbackRate=this.settings.rate,document.body.appendChild(this.audioElement),this.audioElement.addEventListener("error",p=>{Ze.default.log("-1) error: "+(this.currentAudioUrl!==p.currentTarget.src?this.currentAudioUrl+" -- ":"")+p.currentTarget.src.substr(p.currentTarget.src.lastIndexOf("/"))),this.audioElement&&this.audioElement.error&&(Ze.default.log(this.audioElement.error.code),Ze.default.log(this.audioElement.error.message))});let b=async p=>{p.currentTarget.removeEventListener("canplaythrough",b),Ze.default.log("oncanplaythrough"),await y(!0)};this.audioElement.addEventListener("canplaythrough",b);let w=async p=>{Ze.default.log("onended"),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,await this.playLink()):this.settings.autoTurn&&this.settings.playing?(this.audioElement.pause(),this.navigator.nextResource()):(this.stopReadAloud(),this.ensureOnTimeUpdate(!0,!1),this.playLink())};this.audioElement.addEventListener("ended",w),this.audioElement.playbackRate=this.settings.rate,this.audioElement.setAttribute("src",this.currentAudioUrl)}else Ze.default.log("playMediaOverlaysAudio() - playClip()"),await y(!1)}async playMediaOverlays(t,n,i){Ze.default.log("playMediaOverlays()");let o=i?i.filter(l=>l):void 0;o&&o.length===0&&(o=void 0);let s=this.findDepthFirstTextAudioPair(t,n,o);!s&&o&&(Ze.default.log("playMediaOverlays() - findDepthFirstTextAudioPair() SECOND CHANCE "),Ze.default.log(JSON.stringify(o,null,4)),Ze.default.log(JSON.stringify(n,null,4)),s=this.findDepthFirstTextAudioPair(t,n,void 0)),s?s.Audio&&(Ze.default.log("playMediaOverlays() - playMediaOverlaysAudio()"),this.mediaOverlayRoot=n,await this.playMediaOverlaysAudio(s,void 0,void 0)):Ze.default.log("playMediaOverlays() - !moTextAudioPair "+t)}mediaOverlayHighlight(t){Ze.default.log("moHighlight:  ## "+t);let n=this.publication.Metadata?.MediaOverlay?.ActiveClass;n||(n=this.settings.color);let i=this.navigator.iframes[0].contentDocument?.documentElement.getAttribute("style"),o=i?i.indexOf("readium-night-on")>0:!1,s=i?i.indexOf("readium-sepia-on")>0:!1;if((this.publication.Metadata.Rendition?.Layout??"unknown")!=="fixed"&&(n=o||s?Z0:n||Z0),this.pid){let u;this.currentLinkIndex===0?u=this.navigator.iframes[0].contentDocument?.getElementById(this.pid):u=this.navigator.iframes[1].contentDocument?.getElementById(this.pid),u&&u.classList.remove(n)}let l;t&&(this.currentLinkIndex===0?l=this.navigator.iframes[0].contentDocument?.getElementById(t):l=this.navigator.iframes[1].contentDocument?.getElementById(t),l&&l.classList.add(n),this.pid=t),l&&(this.publication.Metadata.Rendition?.Layout??"unknown")!=="fixed"&&l.scrollIntoView({block:"center",behavior:"smooth"})}};H();var eg=nt(Jt()),Ol=class{static async create(t){let n=new this(t.publication);return await n.start(),n}constructor(t){this.publication=t}async stop(){eg.default.log("Timeline module stop")}async start(){this.timelineContainer=Ie(document,"#container-view-timeline"),this.positionSlider=Ie(document,"#positionSlider"),this.publication.positions?this.positionSlider&&(this.positionSlider.style.display="block"):this.positionSlider&&(this.positionSlider.style.display="none")}async initialize(){return new Promise(async t=>{await document.fonts.ready;let n=this.navigator.currentLocator();(this.navigator.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions)&&(this.positionSlider&&(this.positionSlider.value=(n.locations.position??0).toString()),this.positionSlider&&(this.positionSlider.max=((n.locations.totalRemainingPositions??0)+(n.locations.position??0)).toString())),this.timelineContainer&&(this.timelineContainer.innerHTML=""),this.publication.readingOrder?.forEach(i=>{let o=this.publication.getAbsoluteHref(i.Href),s=this.publication.getTOCItemAbsolute(o),l=s?.Href.indexOf("#")!==-1?s?.Href.slice(0,s?.Href.indexOf("#")):s.Href,u=this.publication.getAbsoluteHref(l??"");var d;this.publication.positions&&this.navigator.view?.layout!=="fixed"?i.contentWeight?d=i.contentWeight:d=1:d=100/(this.publication.readingOrder?.length??0);var h=document.createElement("div");if(h.style.height=d+"%",h.style.width="100%",h.className="chapter",s?.Title!==void 0){var y=document.createElement("span");y.innerHTML=s.Title,y.className="chapter-tooltip",h.appendChild(y)}Ee(h,"click",b=>{b.preventDefault(),b.stopPropagation();var w;this.publication.positions||this.navigator.rights.autoGeneratePositions&&this.publication.positions?(w=et({},this.publication.positions.filter(p=>p.href===i.Href)[0]),w.href=this.publication.getAbsoluteHref(w.href)):w={href:u,locations:{progression:0},type:i.TypeLink,title:i.Title},eg.default.log(w),this.navigator.navigate(w)}),u===this.navigator.currentChapterLink.href?h.className+=" active":h.className=h.className.replace(" active",""),this.timelineContainer&&this.timelineContainer.appendChild(h)}),t()})}};H();var wg=nt(So());H();var nS=nt(Jt());function iS(r,t){return new Promise(function(n){setTimeout(n.bind(null,t),r)})}var s8=!1;nS.default.setLevel(s8?"trace":"warn",!0);var LA=nt(MA()),dh=nt(kA()),On=nt(Jt());var ya=class{constructor(t){this.hasEventListener=!1;this.isHacked=!1;this.properties=t}static async setupPreloadProtection(t){if(this.isCurrentBrowserSupported(t))t.detectInspect&&await this.startInspectorProtection(t);else throw new Error("Browser not supported")}static async create(t){let n=new this(t);return await n.start(),n}static async startInspectorProtection(t){(0,dh.addListener)(i=>{i&&(t.clearOnInspect&&(console.clear(),window.localStorage.clear(),window.sessionStorage.clear(),window.location.replace(window.location.origin)),t.detectInspect&&typeof t.api?.inspectDetected=="function"&&t.api.inspectDetected())}),(0,dh.launch)(),await iS(t.detectInspectInitDelay??100)}static isCurrentBrowserSupported(t){if(!t.enforceSupportedBrowsers)return!0;let n=[];return(t.supportedBrowsers??[]).forEach(o=>{n.push("last 1 "+o+" version")}),(0,LA.getUserAgentRegExp)({browsers:n,allowHigherVersions:!0}).test(navigator.userAgent)}async start(){if(this.properties?.enableObfuscation){this.wrapper=yt(document,"#iframe-wrapper"),this.securityContainer=Ie(document,"#container-view-security");var t=this;this.mutationObserver=new MutationObserver(function(n){n.forEach(function(i){On.default.log(i.type),t.isHacked=!0})})}}async stop(){if(On.default.log("Protection module stop"),this.properties?.enableObfuscation&&this.mutationObserver.disconnect(),this.properties?.disableKeys){je(this.navigator.mainElement,"keydown",this.disableSave),je(this.navigator.headerMenu,"keydown",this.disableSave);for(let t of this.navigator.iframes)je(t.contentDocument,"keydown",this.disableSave),je(t.contentWindow,"keydown",this.disableSave);je(window,"keydown",this.disableSave),je(document,"keydown",this.disableSave)}if(this.properties?.disableCopy){je(this.navigator.mainElement,"copy",this.preventCopy),je(this.navigator.headerMenu,"copy",this.preventCopy);for(let t of this.navigator.iframes)je(t.contentDocument,"copy",this.preventCopy),je(t.contentWindow,"copy",this.preventCopy);je(window,"copy",this.preventCopy),je(document,"copy",this.preventCopy),je(this.navigator.mainElement,"cut",this.preventCopy),je(this.navigator.headerMenu,"cut",this.preventCopy);for(let t of this.navigator.iframes)je(t.contentDocument,"cut",this.preventCopy),je(t.contentWindow,"cut",this.preventCopy);je(window,"cut",this.preventCopy),je(document,"cut",this.preventCopy),je(this.navigator.mainElement,"keydown",this.preventCopyKey),je(this.navigator.headerMenu,"keydown",this.preventCopyKey);for(let t of this.navigator.iframes)je(t.contentDocument,"keydown",this.preventCopyKey),je(t.contentWindow,"keydown",this.preventCopyKey);je(window,"keydown",this.preventCopyKey),je(document,"keydown",this.preventCopyKey)}else if(this.properties?.canCopy){je(this.navigator.mainElement,"copy",this.restrictCopy),je(this.navigator.headerMenu,"copy",this.restrictCopy);for(let t of this.navigator.iframes)je(t.contentDocument,"copy",this.restrictCopy),je(t.contentWindow,"copy",this.restrictCopy);je(window,"copy",this.restrictCopy),je(document,"copy",this.restrictCopy),je(this.navigator.mainElement,"cut",this.restrictCopy),je(this.navigator.headerMenu,"cut",this.restrictCopy);for(let t of this.navigator.iframes)je(t.contentDocument,"cut",this.restrictCopy),je(t.contentWindow,"cut",this.restrictCopy);je(window,"cut",this.restrictCopy),je(document,"cut",this.restrictCopy),je(this.navigator.mainElement,"keydown",this.restrictCopyKey),je(this.navigator.headerMenu,"keydown",this.restrictCopyKey);for(let t of this.navigator.iframes)je(t.contentDocument,"keydown",this.restrictCopyKey),je(t.contentWindow,"keydown",this.restrictCopyKey);je(window,"keydown",this.restrictCopyKey),je(document,"keydown",this.restrictCopyKey)}if(this.properties?.disablePrint){je(this.navigator.mainElement,"beforeprint",this.beforePrint.bind(this)),je(this.navigator.headerMenu,"beforeprint",this.beforePrint.bind(this));for(let t of this.navigator.iframes)je(t.contentDocument,"beforeprint",this.beforePrint),je(t.contentWindow,"beforeprint",this.beforePrint);je(window,"beforeprint",this.beforePrint),je(document,"beforeprint",this.beforePrint),je(this.navigator.mainElement,"afterprint",this.afterPrint.bind(this)),je(this.navigator.headerMenu,"afterprint",this.afterPrint.bind(this));for(let t of this.navigator.iframes)je(t.contentDocument,"afterprint",this.afterPrint.bind(this)),je(t.contentWindow,"afterprint",this.afterPrint.bind(this));je(window,"afterprint",this.afterPrint.bind(this)),je(document,"afterprint",this.afterPrint.bind(this))}if(this.properties?.disableContextMenu){je(this.navigator.mainElement,"contextmenu",this.disableContext),je(this.navigator.headerMenu,"contextmenu",this.disableContext);for(let t of this.navigator.iframes)je(t.contentDocument,"contextmenu",this.disableContext),je(t.contentWindow,"contextmenu",this.disableContext);je(window,"contextmenu",this.disableContext),je(document,"contextmenu",this.disableContext)}this.properties?.hideTargetUrl&&this.hideTargetUrls(!1),this.properties?.disableDrag&&this.preventDrag(!1),je(this.wrapper,"scroll",this.handleScroll.bind(this))}observe(){if(this.properties?.enableObfuscation){this.securityContainer.hasAttribute("style")&&(this.isHacked=!0),this.mutationObserver.disconnect();var t={attributes:!0,childList:!0,characterData:!0};this.mutationObserver.observe(this.securityContainer,t)}}async deactivate(){this.properties?.enableObfuscation&&(this.observe(),this.rects.forEach(t=>this.deactivateRect(t,this.securityContainer,this.isHacked)))}async activate(){if(this.properties?.enableObfuscation){this.observe();for(let t of this.navigator.iframes)if(t.contentDocument){let n=Gr(t.contentDocument,"body");this.rects=this.findRects(n),this.rects.forEach(i=>this.toggleRect(i,this.securityContainer,this.isHacked))}}}setupEvents(){if(this.properties?.disableKeys){Ee(this.navigator.mainElement,"keydown",this.disableSave),Ee(this.navigator.headerMenu,"keydown",this.disableSave);for(let t of this.navigator.iframes)Ee(t,"keydown",this.disableSave),Ee(t.ownerDocument,"keydown",this.disableSave),Ee(t.contentDocument,"keydown",this.disableSave),Ee(t.contentWindow,"keydown",this.disableSave),Ee(t.contentWindow?.document,"keydown",this.disableSave);Ee(window,"keydown",this.disableSave),Ee(document,"keydown",this.disableSave)}if(this.properties?.disableCopy){Ee(this.navigator.mainElement,"copy",this.preventCopy),Ee(this.navigator.headerMenu,"copy",this.preventCopy);for(let t of this.navigator.iframes)Ee(t,"copy",this.preventCopy),Ee(t.ownerDocument,"copy",this.preventCopy),Ee(t.contentDocument,"copy",this.preventCopy),Ee(t.contentWindow,"copy",this.preventCopy),Ee(t.contentWindow?.document,"copy",this.preventCopy);Ee(window,"copy",this.preventCopy),Ee(document,"copy",this.preventCopy),Ee(this.navigator.mainElement,"cut",this.preventCopy),Ee(this.navigator.headerMenu,"cut",this.preventCopy);for(let t of this.navigator.iframes)Ee(t,"cut",this.preventCopy),Ee(t.ownerDocument,"cut",this.preventCopy),Ee(t.contentDocument,"cut",this.preventCopy),Ee(t.contentWindow,"cut",this.preventCopy),Ee(t.contentWindow?.document,"cut",this.preventCopy);Ee(window,"cut",this.preventCopy),Ee(document,"cut",this.preventCopy),Ee(this.navigator.mainElement,"keydown",this.preventCopyKey),Ee(this.navigator.headerMenu,"keydown",this.preventCopyKey);for(let t of this.navigator.iframes)Ee(t,"keydown",this.preventCopyKey),Ee(t.ownerDocument,"keydown",this.preventCopyKey),Ee(t.contentDocument,"keydown",this.preventCopyKey),Ee(t.contentWindow,"keydown",this.preventCopyKey),Ee(t.contentWindow?.document,"keydown",this.preventCopyKey);Ee(window,"keydown",this.preventCopyKey),Ee(document,"keydown",this.preventCopyKey)}else if(this.properties?.canCopy){Ee(this.navigator.mainElement,"copy",this.restrictCopy.bind(this)),Ee(this.navigator.headerMenu,"copy",this.restrictCopy.bind(this));for(let t of this.navigator.iframes)Ee(t,"copy",this.restrictCopy),Ee(t.ownerDocument,"copy",this.restrictCopy.bind(this)),Ee(t.contentDocument,"copy",this.restrictCopy.bind(this)),Ee(t.contentWindow,"copy",this.restrictCopy.bind(this)),Ee(t.contentWindow?.document,"copy",this.restrictCopy.bind(this));Ee(window,"copy",this.restrictCopy.bind(this)),Ee(document,"copy",this.restrictCopy.bind(this)),Ee(this.navigator.mainElement,"cut",this.restrictCopy.bind(this)),Ee(this.navigator.headerMenu,"cut",this.restrictCopy.bind(this));for(let t of this.navigator.iframes)Ee(t,"cut",this.restrictCopy.bind(this)),Ee(t.ownerDocument,"cut",this.restrictCopy.bind(this)),Ee(t.contentDocument,"cut",this.restrictCopy.bind(this)),Ee(t.contentWindow,"cut",this.restrictCopy.bind(this)),Ee(t.contentWindow?.document,"cut",this.restrictCopy.bind(this));Ee(window,"cut",this.restrictCopy.bind(this)),Ee(document,"cut",this.restrictCopy.bind(this)),Ee(this.navigator.mainElement,"keydown",this.restrictCopyKey.bind(this)),Ee(this.navigator.headerMenu,"keydown",this.restrictCopyKey.bind(this));for(let t of this.navigator.iframes)Ee(t,"keydown",this.restrictCopyKey.bind(this)),Ee(t.ownerDocument,"keydown",this.restrictCopyKey.bind(this)),Ee(t.contentDocument,"keydown",this.restrictCopyKey.bind(this)),Ee(t.contentWindow,"keydown",this.restrictCopyKey.bind(this)),Ee(t.contentWindow?.document,"keydown",this.restrictCopyKey.bind(this));Ee(window,"keydown",this.restrictCopyKey.bind(this)),Ee(document,"keydown",this.restrictCopyKey.bind(this))}if(this.properties?.disablePrint){Ee(this.navigator.mainElement,"beforeprint",this.beforePrint),Ee(this.navigator.headerMenu,"beforeprint",this.beforePrint);for(let t of this.navigator.iframes)Ee(t,"beforeprint",this.beforePrint.bind(this)),Ee(t.ownerDocument,"beforeprint",this.beforePrint.bind(this)),Ee(t.contentDocument,"beforeprint",this.beforePrint.bind(this)),Ee(t.contentWindow,"beforeprint",this.beforePrint.bind(this)),Ee(t.contentWindow?.document,"beforeprint",this.beforePrint.bind(this));Ee(window,"beforeprint",this.beforePrint.bind(this)),Ee(document,"beforeprint",this.beforePrint.bind(this)),Ee(this.navigator.mainElement,"afterprint",this.afterPrint),Ee(this.navigator.headerMenu,"afterprint",this.afterPrint);for(let t of this.navigator.iframes)Ee(t,"afterprint",this.afterPrint.bind(this)),Ee(t.ownerDocument,"afterprint",this.afterPrint.bind(this)),Ee(t.contentDocument,"afterprint",this.afterPrint.bind(this)),Ee(t.contentWindow,"afterprint",this.afterPrint.bind(this)),Ee(t.contentWindow?.document,"afterprint",this.afterPrint.bind(this));Ee(window,"afterprint",this.afterPrint.bind(this)),Ee(document,"afterprint",this.afterPrint.bind(this))}if(this.properties?.disableContextMenu){Ee(this.navigator.mainElement,"contextmenu",this.disableContext),Ee(this.navigator.headerMenu,"contextmenu",this.disableContext);for(let t of this.navigator.iframes)Ee(t,"contextmenu",this.disableContext),Ee(t.ownerDocument,"contextmenu",this.disableContext),Ee(t.contentDocument,"contextmenu",this.disableContext),Ee(t.contentWindow,"contextmenu",this.disableContext),Ee(t.contentWindow?.document,"contextmenu",this.disableContext);Ee(window,"contextmenu",this.disableContext),Ee(document,"contextmenu",this.disableContext)}}initializeResource(){this.properties?.hideTargetUrl&&this.hideTargetUrls(!0),this.properties?.disableDrag&&this.preventDrag(!0)}async initialize(){if(this.properties?.enableObfuscation)return new Promise(async t=>{await document.fonts.ready;for(let n of this.navigator.iframes)if(n.contentDocument){let i=Gr(n.contentDocument,"body");this.observe(),setTimeout(()=>{this.rects=this.findRects(i),this.rects.forEach(o=>this.toggleRect(o,this.securityContainer,this.isHacked)),this.setupEvents(),this.hasEventListener||(this.hasEventListener=!0,Ee(this.wrapper,"scroll",this.handleScroll.bind(this))),t()},10)}})}handleScroll(){this.rects.forEach(t=>this.toggleRect(t,this.securityContainer,this.isHacked))}handleResize(){if(this.properties?.enableObfuscation){let t=(0,wg.debounce)(()=>{this.calcRects(this.rects),this.rects!==void 0&&this.rects.forEach(n=>this.toggleRect(n,this.securityContainer,this.isHacked))},10);this.rects&&(this.observe(),t())}}disableContext(t){return t.preventDefault(),t.stopPropagation(),!1}disableSave(t){return(navigator.platform==="MacIntel"||navigator.platform.match("Mac")?t.metaKey:t.ctrlKey&&(t.key==="s"||t.keyCode===83))?(t.preventDefault(),t.stopPropagation(),!1):!0}preventCopy(t){return On.default.log("copy action initiated"),t.clipboardData.setData("text/plain","copy not allowed"),t.stopPropagation(),t.preventDefault(),!1}preventCopyKey(t){return(navigator.platform==="MacIntel"||navigator.platform.match("Mac")?t.metaKey:t.ctrlKey&&(t.key==="c"||t.keyCode===67))?(t.preventDefault(),t.stopPropagation(),!1):!0}restrictCopy(t){if(this.citation)return;On.default.log("copy action initiated");let n=this.navigator.iframes[0].contentWindow;if(n){let o=function(l){let u={className:h=>Ai.indexOf(h)<0,idName:h=>Ai.indexOf(h)<0},d=i.navigator.iframes[0].contentDocument;if(d)return wn(l,d,u)},i=this,s=Er(n,o);if(s===void 0){let l=this.navigator.iframes[0].contentDocument;s=this.navigator.annotationModule?.annotator?.getTemporarySelectionInfo(l)}t.clipboardData.setData("text/plain",s?.cleanText?.substring(0,this.properties?.charactersToCopy??0))}else t.clipboardData.setData("text/plain","");return t.stopPropagation(),t.preventDefault(),!1}restrictCopyKey(t){if(navigator.platform==="MacIntel"||navigator.platform.match("Mac")?t.metaKey:t.ctrlKey&&(t.key==="c"||t.keyCode===67)){let n=this.navigator.iframes[0].contentWindow;if(n){let o=function(l){let u={className:h=>Ai.indexOf(h)<0,idName:h=>Ai.indexOf(h)<0},d=i.navigator.iframes[0].contentDocument;if(d)return wn(l,d,u)},i=this,s=Er(n,o);if(s===void 0){let l=this.navigator.iframes[0].contentDocument;s=this.navigator.annotationModule?.annotator?.getTemporarySelectionInfo(l)}this.copyToClipboard(s?.cleanText?.substring(0,this.properties?.charactersToCopy??0))}else this.copyToClipboard("");return t.stopPropagation(),t.preventDefault(),!1}return!0}copyToClipboard(t){if(t=t.substring(0,this.properties?.charactersToCopy??0),window.clipboardData)window.clipboardData.setData("text/plain",t);else{let n=this.createElementForExecCommand(t);this.selectContent(n);try{window.netscape&&netscape.security&&netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),document.execCommand("copy",!1)}catch(i){}document.body.removeChild(n)}}createElementForExecCommand(t){let n=document.createElement("div");return n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.innerHTML=t,document.body.appendChild(n),n.contentEditable=!0,n}selectContent(t){let n=document.createRange();n.selectNodeContents(t);let i=window.getSelection();i?.removeAllRanges(),i?.addRange(n)}beforePrint(t){return On.default.log("before print"),this.navigator&&this.navigator.headerMenu&&(this.navigator.headerMenu.style.display="none",this.navigator.mainElement.style.display="none"),t.stopPropagation(),t.preventDefault(),!1}afterPrint(t){return On.default.log("after print"),this.navigator&&this.navigator.headerMenu&&(this.navigator.headerMenu.style.removeProperty("display"),this.navigator.mainElement.style.removeProperty("display")),t.stopPropagation(),t.preventDefault(),!1}hideTargetUrls(t){function n(i){i.preventDefault();let o=i.currentTarget.getAttribute("data-href-resolved"),s=document.createElement("a");s.setAttribute("href",o),s.click()}for(let i of this.navigator.iframes){let o=i.contentDocument?.querySelectorAll("a");o?.forEach(s=>{let l=s.getAttribute("data-href"),u=s.getAttribute("href");!l&&u&&(s.setAttribute("data-href",u),s.setAttribute("data-href-resolved",s.href))}),t?o?.forEach(s=>{s.setAttribute("href",""),s.addEventListener("click",n)}):o?.forEach(s=>{let l=s.getAttribute("data-href");l&&s.setAttribute("href",l),s.removeEventListener("click",n)})}}preventDrag(t){let n="-webkit-user-drag: none; -khtml-user-drag: none; -moz-user-drag: none; -ms-user-drag: none; user-drag: none; -webkit-pointer-events: none; -khtml-pointer-events: none; -moz-pointer-events: none; -ms-pointer-events: none; pointer-events: none;",i=o=>{o.preventDefault()};for(let o of this.navigator.iframes){let s=o.contentDocument?.body.getAttribute("style")||"";t?(o.contentDocument?.body.addEventListener("dragstart",i),o.contentDocument?.body.setAttribute("style",s+n)):(o.contentDocument?.body.removeEventListener("dragstart",i),o.contentDocument?.body.setAttribute("style",s.replace(n,"")))}}recalculate(t=0){return new Promise(n=>{if(this.properties?.enableObfuscation){let i=(0,wg.debounce)(()=>{this.calcRects(this.rects),this.rects!==void 0&&this.rects.forEach(o=>this.toggleRect(o,this.securityContainer,this.isHacked)),n(!0)},t);this.rects?(this.observe(),i()):n(!1)}else n(!1)})}calcRects(t){t!==void 0&&t.forEach(n=>{try{let{top:i,height:o,left:s,width:l}=this.measureTextNode(n.node);n.top=i,n.height=o,n.width=l,n.left=s}catch(i){On.default.log("error "+i),On.default.log(n),On.default.log(n.node),On.default.log("scrambledTextContent "+n.scrambledTextContent),On.default.log("textContent "+n.textContent),On.default.log("isObfuscated "+n.isObfuscated)}})}deactivateRect(t,n,i){this.isBeingHacked(n)||i?(t.node.textContent=t.scrambledTextContent,t.isObfuscated=!0):(t.node.textContent=t.textContent,t.isObfuscated=!1)}toggleRect(t,n,i){let o=this.isOutsideViewport(t),s=this.isBeingHacked(n);t.isObfuscated&&!o&&!s&&!i&&(t.node.textContent=t.textContent,t.isObfuscated=!1),!t.isObfuscated&&(o||s||i)&&(t.node.textContent=t.scrambledTextContent,t.isObfuscated=!0)}findRects(t){return this.findTextNodes(t).map(i=>{let{top:o,height:s,left:l,width:u}=this.measureTextNode(i),d=i.parentElement?.nodeName==="option"||i.parentElement?.nodeName==="script"?i.textContent:this.obfuscateText(i.textContent??"");return{top:o,height:s,width:u,left:l,node:i,textContent:i.textContent??"",scrambledTextContent:d??"",isObfuscated:!1}})}obfuscateText(t){return this.scramble(t,!0)}measureTextNode(t){try{let n=document.createRange();n.selectNode(t);let i=n.getBoundingClientRect();return n.detach(),i}catch(n){On.default.log("measureTextNode "+n),On.default.log("measureTextNode "+t),On.default.log(t.textContent)}}isBeingHacked(t){return t.style.animation||t.style.transition||t.style.position||t.hasAttribute("style")?(On.default.log("content being hacked"),!0):!1}isOutsideViewport(t){let n=this.wrapper.scrollLeft,i=n+this.wrapper.clientWidth,o=t.left+t.width,s=t.top+t.height,l=this.wrapper.scrollTop,u=l+this.wrapper.clientHeight,d=s<l,h=t.top>u,y=o<n-window.innerWidth,b=t.left>i+window.innerWidth;return d||h||y||b}findTextNodes(t,n=[]){let i=t.firstChild;for(;i;)i.nodeType===1&&this.findTextNodes(i,n),i.nodeType===3&&i.textContent?.trim()&&n.push(i),i=i.nextSibling;return n}scramble(t,n=!1,i=!1){var o=t.split(" ");function s(l){for(var u=l.length,d,h;u>0;)h=Math.floor(Math.random()*u),u--,d=l[u],l[u]=l[h],l[h]=d;return l}return n&&(o=o.map(function(l){return l.includes("-")?l:s(l.split("")).join("")})),i?s(o).join(" "):o.join(" ")}};H();var FA=nt(BA());H();var hh=r=>r.replace(/\n/g," ").replace(/\s\s+/g," "),S8=r=>hh(r).trim(),NA=/[\\^$.*+?()[\]{}|]/g,A8=RegExp(NA.source);function DA(r){return r&&A8.test(r)?r.replace(NA,"\\$&"):r||""}var fh=0,x8=()=>()=>Number.isSafeInteger(++fh)?fh:fh=1,jA=()=>{fh=0},C8=x8(),T8=r=>t=>{try{return wn(t,r,Co)}catch(n){return console.error("uniqueCssSelector:",n),""}};async function Mo(r,t,n,i,o=!1){if(!t)return[];let s=t.body?.textContent;if(!s)return[];if(r=S8(r),!r.length)return[];let l=t.createNodeIterator(t.body,NodeFilter.SHOW_TEXT,{acceptNode:p=>NodeFilter.FILTER_ACCEPT}),u=new RegExp(DA(r).replace(/ /g,"\\s+"),"gim");o&&(u=new RegExp("\\b"+DA(r).replace(/ /g,"\\s+")+"\\b","gim"));let d=[],h=100,y=30,b=0,w;for(;w=u.exec(s);){let p=Math.max(0,w.index-h),m=Math.min(h,w.index),f=hh(s.substr(p,m));f=f.substr(f.length-y),p=u.lastIndex,m=Math.min(h,s.length-p);let g=hh(s.substr(p,m)).substr(0,y),v=new Range,A=w.index;for(;b<=A;){let E=l.nextNode();E&&E.nodeValue&&(b+=E.nodeValue.length)}let C=l.referenceNode.nodeValue?l.referenceNode.nodeValue?.length-(b-A):0;for(v.setStart(l.referenceNode,C),A=w.index+w[0].length;b<=A;){let T=l.nextNode()?.nodeValue;T&&(b+=T.length)}C=l.referenceNode.nodeValue?l.referenceNode.nodeValue?.length-(b-A):0,v.setEnd(l.referenceNode,C),t.getCssSelector||(t.getCssSelector=T8(t));let O=Xr(v,t.getCssSelector);O&&d.push({textMatch:hh(w[0]),textBefore:f,textAfter:g,rangeInfo:O,href:n,title:i,uuid:C8().toString()})}return d}var HA=nt(Jt()),Ll=class{constructor(t,n,i,o,s){this.currentChapterSearchResult=[];this.bookSearchResult=[];this.currentSearchHighlights=[];this.headerMenu=s,this.publication=t,this.properties=n,this.api=o,this.highlighter=i}static async create(t){let n=new this(t.publication,t,t.highlighter,t.api,t.headerMenu);return await n.start(),n}async stop(){HA.default.log("Search module stop"),je(this.searchInput,"keypress",this.handleSearch.bind(this)),je(this.searchGo,"click",this.handleSearch.bind(this))}async start(){if(this.headerMenu){this.searchInput=Ie(this.headerMenu,"#searchInput"),Ee(this.searchInput,"keypress",this.handleSearch.bind(this)),this.searchGo=Ie(this.headerMenu,"#searchGo"),Ee(this.searchGo,"click",this.handleSearch.bind(this));var t=Ie(this.headerMenu,"#menu-button-search");t&&t.parentElement?.style.removeProperty("display")}setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("search"):this.navigator.showLayer("search")},10)}async handleSearch(t){(t.key==="Enter"||t.type==="click")&&(await this.handleSearchChapter(),await this.handleSearchBook())}async handleSearchChapter(t){var n=this,i=this.searchInput.value;let o=this.navigator.currentChapterLink.href,s=this.publication.getSpineItem(o);if(this.headerMenu)var l=Ie(document,"#searchResultChapter");n.currentChapterSearchResult=[],n.currentSearchHighlights=[];var u=[];this.navigator.rights.enableContentProtection&&this.navigator.contentProtectionModule?.deactivate(),await this.searchAndPaintChapter(i,t,async h=>{u=h,d(1),this.navigator.rights.enableContentProtection&&this.navigator.contentProtectionModule?.recalculate(200)});async function d(h){l.innerHTML="";var y;if(y=n.paginate(u,h,10),y.total===0){let b=document.createElement("a");b.className="collection-item",b.innerHTML="nothing found",l.appendChild(b)}else{for(let f=0;f<y.data.length;f++){let g=document.createElement("a"),v=y.data[f];g.className="collection-item",g.href=s?.Href??"",g.innerHTML="..."+v.textBefore+"<mark>"+v.textMatch+"</mark>"+v.textAfter+"...",Ee(g,"click",A=>{A.preventDefault(),A.stopPropagation(),n.jumpToMark(f+h*10-10)}),l.appendChild(g)}let b=document.createElement("div");b.style.textAlign="center",b.style.marginTop="10px";let w=document.createElement("ul");w.className="pagination";let p=document.createElement("li");if(p.className="disabled",p.innerHTML='<a href="#!"> < </a>',y.pre_page!==void 0){let f=y.pre_page;p.className="waves-effect",Ee(p,"click",g=>{g.preventDefault(),g.stopPropagation(),d(f)})}w.appendChild(p);for(let f=1;f<=y.total_pages;f++){let g,v=document.createElement("li");v.className="waves-effect",f===y.page&&(v.className="active",g=v),v.innerHTML='<a href="#!">'+f+"</a>",Ee(v,"click",A=>{A.preventDefault(),A.stopPropagation(),g&&(g.className="waves-effect"),v.className="active",g=v,d(f)}),w.appendChild(v)}let m=document.createElement("li");if(m.className="disabled",m.innerHTML='<a href="#!"> > </a>',y.next_page!==void 0){let f=y.next_page;m.className="waves-effect",Ee(m,"click",g=>{g.preventDefault(),g.stopPropagation(),d(f)})}w.appendChild(m),b.appendChild(w),l.appendChild(b)}}}async searchAndPaintChapter(t,n=0,i){let o=this.publication.getAbsoluteHref(this.publication.readingOrder[this.navigator.currentResource()??0].Href),s=this.publication.getTOCItem(o);s===null&&(s=this.publication.readingOrder[this.navigator.currentResource()??0]);let l=[];this.highlighter?.destroyHighlights(it.Search),this.navigator.rights.enableSearch&&this.drawSearch();let u=0;if(s){let d=this.navigator.iframes[0].contentDocument;d&&s&&Mo(t,d,s.Href,s.Title).then(h=>{h.forEach(y=>{let b={rangeInfo:y.rangeInfo};setTimeout(()=>{let w;u===n?(w=this.createSearchHighlight(b,this.properties?.current),this.jumpToMark(n)):w=this.createSearchHighlight(b,this.properties?.color),y.highlight=w,l.push(y),this.currentChapterSearchResult.push(y),this.currentSearchHighlights.push(w),u++},500)}),setTimeout(()=>{i(l)},500)})}}createSearchHighlight(t,n){try{var i=n;Qe.isHexColor(i)&&(i=Qe.hexToRgbChannels(i));let s=`${t.rangeInfo.startContainerElementCssSelector}${t.rangeInfo.startContainerChildTextNodeIndex}${t.rangeInfo.startOffset}${t.rangeInfo.endContainerElementCssSelector}${t.rangeInfo.endContainerChildTextNodeIndex}${t.rangeInfo.endOffset}`,l=FA.SHA256.hash(s),u="R2_SEARCH_"+l;var o=!1;let d={color:i||ls,id:u,pointerInteraction:o,selectionInfo:t,marker:Ve.Highlight,type:it.Search},h=this.highlighter?.createHighlightDom(this.navigator.iframes[0].contentWindow,d);return d.position=parseInt((h?.hasChildNodes()?h.childNodes[0]:h).style.top.replace("px","")),d}catch(s){throw"Can't create highlight: "+s}}clearSearch(){this.currentChapterSearchResult=[],this.currentSearchHighlights=[],this.highlighter?.destroyHighlights(it.Search)}async search(t,n){return this.currentChapterSearchResult=[],this.currentSearchHighlights=[],this.bookSearchResult=[],jA(),await this.searchAndPaintChapter(t,0,async()=>{}),n?(await this.searchBook(t),await this.searchChapter(t)):(await this.searchChapter(t),await this.searchBook(t))}async goToSearchID(t,n,i){var o=n,s;let l=this.navigator.currentChapterLink.href;var u=this.publication.getAbsoluteHref(t);let d=this.bookSearchResult.filter(h=>h.href===t);if(i?(s=this.currentChapterSearchResult.filter(h=>h.uuid===n)[0],o=this.currentChapterSearchResult.findIndex(h=>h.uuid===n)):(s=d.filter(h=>h.uuid===n)[0],o=d.findIndex(h=>h.uuid===n)),s!==void 0)if(l===u)this.jumpToMark(o);else{let y={href:u,locations:{progression:0},title:"title"};this.navigator.navigate(y),setTimeout(()=>{this.searchAndPaintChapter(s.textMatch,o,async()=>{})},300)}}async goToSearchIndex(t,n,i){var o=n,s;let l=this.navigator.currentChapterLink.href;var u=this.publication.getAbsoluteHref(t);let d=this.bookSearchResult.filter(h=>h.href===t);if(i?s=this.currentChapterSearchResult[o]:s=d[o],s!==void 0)if(l===u)this.jumpToMark(o);else{let y={href:u,locations:{progression:0},title:"title"};this.navigator.navigate(y),setTimeout(()=>{this.searchAndPaintChapter(s.textMatch,o,async()=>{})},300)}}async handleSearchBook(){var t=this,n=this.searchInput.value;if(t.headerMenu)var i=Ie(document,"#searchResultBook");o(1);async function o(l){i.innerHTML="";var u,d=await t.searchBook(n);if(u=t.paginate(d,l,10),u.total===0){let h=document.createElement("a");h.className="collection-item",h.innerHTML="nothing found",i.appendChild(h)}else{s(u.data,m=>m.href).forEach(m=>{let f=document.createElement("div");if(f.style.marginBottom="10px",m[0].title){let g=document.createElement("span");g.className="collection-item",g.style.display="block",g.innerHTML=m[0].title,f.appendChild(g)}i.appendChild(f),m.forEach(g=>{let v=document.createElement("a");v.className="collection-item";var A=t.publication.getAbsoluteHref(g.href);v.innerHTML="..."+g.textBefore+"<mark>"+g.textMatch+"</mark>"+g.textAfter+"...",Ee(v,"click",C=>{C.preventDefault(),C.stopPropagation();let E=d.filter(B=>B.href===g.href).findIndex(B=>B===g);if(t.navigator.currentChapterLink.href===A)t.jumpToMark(E);else{let M={href:A,locations:{progression:0},title:"title"};t.navigator.navigate(M),setTimeout(()=>{t.handleSearchChapter(E)},300)}}),f.appendChild(v)})});let y=document.createElement("div");y.style.textAlign="center",y.style.marginTop="10px";let b=document.createElement("ul");b.className="pagination";let w=document.createElement("li");if(w.className="disabled",w.innerHTML='<a href="#!"> < </a>',u.pre_page!=null){let m=u.pre_page;w.className="waves-effect",Ee(w,"click",f=>{f.preventDefault(),f.stopPropagation(),o(m)})}b.appendChild(w);for(let m=1;m<=u.total_pages;m++){let f,g=document.createElement("li");g.className="waves-effect",m===u.page&&(g.className="active",f=g),g.innerHTML='<a href="#!">'+m+"</a>",Ee(g,"click",v=>{v.preventDefault(),v.stopPropagation(),f&&(f.className="waves-effect"),g.className="active",f=g,o(m)}),b.appendChild(g)}let p=document.createElement("li");if(p.className="disabled",p.innerHTML='<a href="#!"> > </a>',u.next_page!=null){let m=u.next_page;p.className="waves-effect",Ee(p,"click",f=>{f.preventDefault(),f.stopPropagation(),o(m)})}b.appendChild(p),y.appendChild(b),i.appendChild(y)}}function s(l,u){let d=new Map;return l.forEach(h=>{let y=u(h),b=d.get(y);b?b.push(h):d.set(y,[h])}),Array.from(d.values())}}async searchBook(t){this.bookSearchResult=[];let n=[];for(let i=0;i<this.publication.readingOrder.length;i++){let o=this.publication.getAbsoluteHref(this.publication.readingOrder?this.publication.readingOrder[i].Href:""),s=this.publication.getTOCItem(o);if(s===void 0&&this.publication.readingOrder&&(s=this.publication.readingOrder[i]),s){let l=this.publication.getAbsoluteHref(s.Href);this.navigator.api?.getContent?await this.navigator.api?.getContent(l).then(u=>{let h=new DOMParser().parseFromString(u,"application/xhtml+xml");s&&Mo(t,h,s.Href,s.Title).then(y=>{y.forEach(b=>{n.push(b),this.bookSearchResult.push(b)})})}):await fetch(l,this.navigator.requestConfig).then(u=>u.text()).then(async u=>{let h=new DOMParser().parseFromString(this.navigator.requestConfig?.encoded?this.decodeBase64(u):u,"application/xhtml+xml");s&&Mo(t,h,s.Href,s.Title).then(y=>{y.forEach(b=>{n.push(b),this.bookSearchResult.push(b)})})})}if(i===this.publication.readingOrder.length-1)return n}}decodeBase64(t){let n=atob(t),i=n.length,o=new Uint8Array(i);for(let l=0;l<i;l++)o[l]=n.charCodeAt(l);return new TextDecoder().decode(o)}async searchChapter(t){let n=[],i=this.publication.getAbsoluteHref(this.publication.readingOrder[this.navigator.currentResource()??0].Href),o=this.publication.getTOCItem(i);if(o===null&&(o=this.publication.readingOrder[this.navigator.currentResource()??0]),o){let s=this.publication.getAbsoluteHref(o.Href);this.navigator.api?.getContent?await this.navigator.api?.getContent(s).then(l=>{let d=new DOMParser().parseFromString(l,"application/xhtml+xml");o&&Mo(t,d,o.Href,o.Title).then(h=>{h.forEach(y=>{n.push(y)})})}):await fetch(s,this.navigator.requestConfig).then(l=>l.text()).then(async l=>{let d=new DOMParser().parseFromString(this.navigator.requestConfig?.encoded?this.decodeBase64(l):l,"application/xhtml+xml");o&&Mo(t,d,o.Href,o.Title).then(h=>{h.forEach(y=>{n.push(y)})})})}return n}drawSearch(){setTimeout(()=>{this.currentSearchHighlights=[],this.currentChapterSearchResult.forEach(t=>{let n={rangeInfo:t.rangeInfo};if(this.properties?.color){let i=this.createSearchHighlight(n,this.properties?.color);t.highlight=i,this.currentSearchHighlights.push(i)}})},100)}async handleResize(){await this.highlighter?.destroyHighlights(it.Search),this.drawSearch()}jumpToMark(t){setTimeout(()=>{if(this.currentChapterSearchResult.length){var n=this.currentChapterSearchResult[t];this.currentSearchHighlights.forEach(o=>{var s=this.properties?.color;Qe.isHexColor(s)&&(s=Qe.hexToRgbChannels(s)),o.color=s});var i=this.properties?.current;Qe.isHexColor(i)&&(i=Qe.hexToRgbChannels(i)),n.highlight.color=i,this.highlighter?.setAndResetSearchHighlight(n.highlight,this.currentSearchHighlights),this.navigator.view?.goToCssSelector(n.rangeInfo.startContainerElementCssSelector),this.navigator.updatePositionInfo()}},200)}paginate(t,n,i){let o=n||1,s=i||10,l=(o-1)*s,u=t.slice(l).slice(0,s),d=Math.ceil(t.length/s);return{page:o,per_page:s,pre_page:o-1?o-1:void 0,next_page:d>o?o+1:void 0,total:t.length,total_pages:d,data:u}}};H();var oi=nt(Jt()),ko=class{},Ke=ko;Ke.COLOR_REF="color",Ke.AUTO_SCROLL_REF="autoscroll",Ke.RATE_REF="rate",Ke.PITCH_REF="pitch",Ke.VOLUME_REF="volume",Ke.VOICE_REF="voice",Ke.COLOR_KEY="tts-"+ko.COLOR_REF,Ke.AUTO_SCROLL_KEY="tts-"+ko.AUTO_SCROLL_REF,Ke.RATE_KEY="tts-"+ko.RATE_REF,Ke.PITCH_KEY="tts-"+ko.PITCH_REF,Ke.VOLUME_KEY="tts-"+ko.VOLUME_REF,Ke.VOICE_KEY="tts-"+ko.VOICE_REF;var _g=class{constructor(t,n,i){this.TTSSETTINGS="ttsSetting";this.color="orange";this.autoScroll=!0;this.rate=1;this.pitch=1;this.volume=1;this.voice={usePublication:!0};this.settingsChangeCallback=()=>{};this.restartCallback=()=>{};this.store=t,this.api=n,this.headerMenu=i,this.initialise()}static create(t){let n=new this(t.store,t.api,t.headerMenu);if(t.initialTTSSettings){let i=t.initialTTSSettings;i?.rate&&(n.rate=i.rate,oi.default.log(n.rate)),i?.pitch&&(n.pitch=i.pitch,oi.default.log(n.pitch)),i?.volume&&(n.volume=i.volume,oi.default.log(n.volume)),i?.color&&(n.color=i.color,oi.default.log(n.color)),i?.autoScroll&&(n.autoScroll=i.autoScroll,oi.default.log(n.autoScroll)),i?.voice&&(n.voice=i.voice,oi.default.log(n.voice))}return n.initializeSelections(),n}stop(){oi.default.log("tts settings stop")}initialise(){this.autoScroll=this.getProperty(Ke.AUTO_SCROLL_KEY)!=null?this.getProperty(Ke.AUTO_SCROLL_KEY).value:this.autoScroll,this.rate=this.getProperty(Ke.RATE_KEY)!=null?this.getProperty(Ke.RATE_KEY).value:this.rate,this.pitch=this.getProperty(Ke.PITCH_KEY)!=null?this.getProperty(Ke.PITCH_KEY).value:this.pitch,this.volume=this.getProperty(Ke.VOLUME_KEY)!=null?this.getProperty(Ke.VOLUME_KEY).value:this.volume,this.color=this.getProperty(Ke.COLOR_KEY)!=null?this.getProperty(Ke.COLOR_KEY).value:this.color,this.voice=this.getProperty(Ke.VOICE_REF)!=null?this.getProperty(Ke.VOICE_REF).value:this.voice,this.userProperties=this.getTTSSettings()}reset(){this.color="orange",this.autoScroll=!0,this.rate=1,this.pitch=1,this.volume=1,this.voice={usePublication:!0},this.userProperties=this.getTTSSettings()}initializeSelections(){this.headerMenu&&(this.settingsView=Ie(this.headerMenu,"#container-view-tts-settings"))}setControls(){this.settingsView&&this.renderControls(this.settingsView)}renderControls(t){this.headerMenu&&(this.speechRate=Ie(this.headerMenu,"#speechRate")),this.headerMenu&&(this.speechPitch=Ie(this.headerMenu,"#speechPitch")),this.headerMenu&&(this.speechVolume=Ie(this.headerMenu,"#speechVolume")),this.headerMenu&&(this.speechAutoScroll=Ie(this.headerMenu,"#autoScroll")),this.speechRate&&(this.speechRate.value=this.rate.toString()),this.speechPitch&&(this.speechPitch.value=this.pitch.toString()),this.speechVolume&&(this.speechVolume.value=this.volume.toString()),this.speechAutoScroll&&(this.speechAutoScroll.checked=this.autoScroll),Ee(Ie(t,"ul"),"click",n=>{n.stopPropagation()})}onSettingsChange(t){this.settingsChangeCallback=t}onRestart(t){this.restartCallback=t}storeProperty(t){this.updateUserSettings(),this.saveProperty(t)}updateUserSettings(){var t={rate:this.userProperties.getByRef(Ke.RATE_REF)?.value,pitch:this.userProperties.getByRef(Ke.PITCH_REF)?.value,volume:this.userProperties.getByRef(Ke.VOLUME_REF)?.value,voice:this.userProperties.getByRef(Ke.VOLUME_REF)?.value,color:this.userProperties.getByRef(Ke.COLOR_REF)?.value,autoScroll:this.userProperties.getByRef(Ke.AUTO_SCROLL_REF)?.value};this.applyTTSSettings(t),this.api?.updateSettings&&this.api?.updateSettings(t).then(async n=>{oi.default.log("api updated tts settings",n)})}getTTSSettings(){var t=new Wr;return t.addSwitchable("tts-auto-scroll-off","tts-auto-scroll-on",this.autoScroll,Ke.AUTO_SCROLL_REF,Ke.AUTO_SCROLL_KEY),t.addIncremental(this.rate,.1,10,.1,"",Ke.RATE_REF,Ke.RATE_KEY),t.addIncremental(this.pitch,.1,2,.1,"",Ke.PITCH_REF,Ke.PITCH_KEY),t.addIncremental(this.volume,.1,1,.1,"",Ke.VOLUME_REF,Ke.VOLUME_KEY),t.addStringable(this.color,Ke.COLOR_REF,Ke.COLOR_KEY),t.addJSONable(JSON.stringify(this.voice),Ke.VOICE_REF,Ke.VOICE_KEY),t}saveProperty(t){let n=this.store.get(this.TTSSETTINGS);if(n){let i=JSON.parse(n);i=i.filter(o=>o.name!==t.name),i.push(t),this.store.set(this.TTSSETTINGS,JSON.stringify(i))}else{let i=[];i.push(t),this.store.set(this.TTSSETTINGS,JSON.stringify(i))}return t}getProperty(t){let n=this.store.get(this.TTSSETTINGS);if(n){let i=JSON.parse(n);return i=i.filter(o=>o.name===t),i.length===0?void 0:i[0]}}resetTTSSettings(){this.store.remove(this.TTSSETTINGS),this.reset(),this.settingsChangeCallback(),this.restartCallback()}applyTTSSettings(t){if(t.rate){oi.default.log("rate "+this.rate),this.rate=t.rate;let n=this.userProperties.getByRef(Ke.RATE_REF);n&&(n.value=this.rate,this.saveProperty(n)),this.settingsChangeCallback(),this.restartCallback()}if(t.pitch){oi.default.log("pitch "+this.pitch),this.pitch=t.pitch;let n=this.userProperties.getByRef(Ke.PITCH_REF);n&&(n.value=this.pitch,this.saveProperty(n)),this.settingsChangeCallback(),this.restartCallback()}if(t.volume){oi.default.log("volume "+this.volume),this.volume=t.volume;let n=this.userProperties.getByRef(Ke.VOLUME_REF);n&&(n.value=this.volume,this.saveProperty(n)),this.settingsChangeCallback(),this.restartCallback()}if(t.color){this.color=t.color;let n=this.userProperties.getByRef(Ke.COLOR_REF);n&&(n.value=this.color,this.saveProperty(n)),this.settingsChangeCallback()}if(t.autoScroll!==void 0){oi.default.log("autoScroll "+this.autoScroll),this.autoScroll=t.autoScroll;let n=this.userProperties.getByRef(Ke.AUTO_SCROLL_REF);n&&(n.value=this.autoScroll,this.saveProperty(n)),this.settingsChangeCallback()}if(t.voice){oi.default.log("voice "+this.voice),this.voice=t.voice;let n=this.userProperties.getByRef(Ke.VOICE_REF);n&&(n.value=this.voice,this.saveProperty(n)),this.settingsChangeCallback(),this.restartCallback()}}applyPreferredVoice(t){var n=t.indexOf(":")!==-1?t.slice(0,t.indexOf(":")):void 0,i=t.indexOf(":")!==-1?t.slice(t.indexOf(":")+1):t;n!==void 0&&i!==void 0?this.applyTTSSettings({voice:{usePublication:!0,name:n,lang:i}}):i!==void 0&&n===void 0&&this.applyTTSSettings({voice:{usePublication:!0,lang:i}})}increase(t){if(t==="rate"){this.userProperties.getByRef(Ke.RATE_REF).increment();let n=this.userProperties.getByRef(Ke.RATE_REF);n&&this.storeProperty(n),this.settingsChangeCallback(),this.restartCallback()}else if(t==="pitch"){this.userProperties.getByRef(Ke.PITCH_REF).increment();let n=this.userProperties.getByRef(Ke.PITCH_REF);n&&this.storeProperty(n),this.settingsChangeCallback(),this.restartCallback()}else if(t==="volume"){this.userProperties.getByRef(Ke.VOLUME_REF).increment();let n=this.userProperties.getByRef(Ke.VOLUME_REF);n&&this.storeProperty(n),this.settingsChangeCallback(),this.restartCallback()}}decrease(t){if(t==="rate"){this.userProperties.getByRef(Ke.RATE_REF).decrement();let n=this.userProperties.getByRef(Ke.RATE_REF);n&&this.storeProperty(n),this.settingsChangeCallback(),this.restartCallback()}else if(t==="pitch"){this.userProperties.getByRef(Ke.PITCH_REF).decrement();let n=this.userProperties.getByRef(Ke.PITCH_REF);n&&this.storeProperty(n),this.settingsChangeCallback(),this.restartCallback()}else if(t==="volume"){this.userProperties.getByRef(Ke.VOLUME_REF).decrement();let n=this.userProperties.getByRef(Ke.VOLUME_REF);n&&this.storeProperty(n),this.settingsChangeCallback(),this.restartCallback()}}};H();H();var ph=`${nr.loading}`,UA=`
    <span>
    ${nr.error}
    </span>
    <span>There was an error loading this page.</span>
    <button class="go-back">Go back</button>
    <button class="try-again">Try again</button>
`;var vh=nt(So());H();var ba=class{constructor(t){this.onBackwardSwipe=()=>{};this.onForwardSwipe=()=>{};this.setupEvents=t=>{let n=null,i=null,o=this;t&&(t.addEventListener("touchstart",function(s){s.changedTouches.length===1&&(n=s)},!1),t.addEventListener("touchend",function(s){if(s.changedTouches.length!==1||!n)return;let l=n.changedTouches[0],u=s.changedTouches[0];if(!l)return;let d=window.devicePixelRatio,h=(l.clientX-u.clientX)/d,y=(l.clientY-u.clientY)/d;if(Math.abs(h)<ba.TAP_TOLERANCE&&Math.abs(y)<ba.TAP_TOLERANCE){if(i){n=null,i=null;return}if(s.timeStamp-n.timeStamp>ba.LONG_PRESS_MS){n=null,i=null;return}n=null,i=s;return}if(i=null,s.timeStamp-n.timeStamp>ba.SLOW_SWIPE_MS){n=null;return}let b=(l.clientY-u.clientY)/(l.clientX-u.clientX);if(Math.abs(b)>.5){n=null;return}h<0?o.onBackwardSwipe(s):o.onForwardSwipe(s),n=null},!1))};this.navigator=t}},ys=ba;ys.TAP_TOLERANCE=10,ys.LONG_PRESS_MS=500,ys.SLOW_SWIPE_MS=500;H();var gh=class{constructor(t){this.onBackwardSwipe=()=>{};this.onForwardSwipe=()=>{};this.setupEvents=t=>{t&&(this.focusin(t),this.keydown(t))};this.focusin=t=>{let n=this;t.addEventListener("focusin",function(i){n.navigator.view?.snap(i.target)},!0)};this.keydown=t=>{let n=this;this.navigator.rights.customKeyboardEvents||t.addEventListener("keydown",function(i){let o=i.target;if(/input|select|option|textarea/i.test(o.tagName)||!(o.ownerDocument||o).defaultView.getSelection().isCollapsed)return;switch(i.key){case"ArrowRight":n.onForwardSwipe(i);break;case"ArrowLeft":n.onBackwardSwipe(i);break}switch(i.code){case"Space":i.ctrlKey?n.onBackwardSwipe(i):n.onForwardSwipe(i);break}},!1)};this.navigator=t}};H();var $A=nt(So()),mh=class{constructor(t){this.enforceSampleRead=(0,$A.debounce)(t=>{let n=Math.round(t.locations.totalProgression*100),i=!1;this.navigator.sample?.limit&&(i=n<=this.navigator.sample?.limit,this.navigator.view?.layout==="fixed"&&!i&&this.navigator.sample?.minimum&&t.locations.position<=this.navigator.sample?.minimum&&(i=!0));let o={37:1,38:0,39:1,40:1,32:1,33:1,34:1,35:1,36:1};function s(m){m.preventDefault()}function l(m){o[m.keyCode]&&!i&&s(m)}let u=!1,d=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("test",function(){},d);let h=u?{passive:!1}:!1;function y(m){m=m||window.event;let f=Math.max(-1,Math.min(1,m.wheelDelta||-m.detail));return f===-1&&!i&&m.preventDefault(),!1}let b;function w(m){m=m||window.event;let f=m.target||m.srcElement,g=m.touches[0].clientY;if(!(g>b)){if(g<b&&!i)return f.className.match(/\baltNav\b/)||(m.returnValue=!1,m.cancelable&&(m.cancelBubble=!0),m.preventDefault&&m.cancelable&&(m.preventDefault(),m.stopPropagation())),!1}return b=g,!1}function p(m){return m=m||window.event,b=m.touches[0].clientY,!1}window.addEventListener("mousewheel",y,h),window.addEventListener("DOMMouseScroll",y,h),window.addEventListener("keydown",l,h),window.addEventListener("touchmove",w,h),window.addEventListener("touchstart",p,h),i?(this.navigator.iframes[0].focus(),this.navigator.errorMessage&&(this.navigator.errorMessage.style.display="none",this.navigator.errorMessage.style.removeProperty("background-color"))):(this.navigator.iframes[0].blur(),this.navigator.errorMessage&&(this.navigator.errorMessage.style.display="block",this.navigator.errorMessage.style.backgroundColor="rgb(255, 255, 255)",this.navigator.errorMessage.innerHTML=this.navigator.sample?.popup??""))},300);this.navigator=t}};H();var Il=nt(Jt()),Bl=class{static async create(t){let n=new this(t.publication,t,t.headerMenu);return await n.start(),n}constructor(t,n,i){this.headerMenu=i,this.publication=t,this.properties=n}async stop(){Il.default.log("Page Break module stop")}async start(){this.headerMenu&&(this.goToPageView=Ie(this.headerMenu,"#sidenav-section-gotopage")),this.headerMenu&&(this.goToPageNumberInput=Ie(this.headerMenu,"#goToPageNumberInput")),this.headerMenu&&(this.goToPageNumberButton=Ie(this.headerMenu,"#goToPageNumberButton")),Ee(this.goToPageNumberInput,"keypress",this.goToPageNumber.bind(this)),Ee(this.goToPageNumberButton,"click",this.goToPageNumber.bind(this)),this.goToPageView&&(this.publication.pageList?.length||this.goToPageView.parentElement?.removeChild(this.goToPageView)),setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("pagebreak"):this.navigator.showLayer("pagebreak")},10)}async goToPageNumber(t){if(this.goToPageNumberInput.value&&(t.key==="Enter"||t.type==="click")){var n=this.publication.pageList?.filter(o=>o.Href.slice(o.Href.indexOf("#")+1).replace(/[^0-9]/g,"")===this.goToPageNumberInput.value);if(n&&n.length>0){var i=n[0];let o={progression:0};if(i.Href.indexOf("#")!==-1){let l=i.Href.slice(i.Href.indexOf("#")+1);l!==null&&(o={fragment:l})}let s={href:this.publication.getAbsoluteHref(i.Href),locations:o,type:i.TypeLink,title:i.Title};this.navigator.goTo(s)}}}async handleResize(){await this.navigator.highlighter?.destroyHighlights(it.PageBreak),await this.drawPageBreaks()}async drawPageBreaks(){setTimeout(()=>{let t=this.navigator.iframes[0].contentDocument?.body,n=t?.querySelectorAll('[*|type="pagebreak"]');n?.length===0&&(n=t?.querySelectorAll("[epub\\:type='pagebreak']"));let i=this;function o(s){try{let l=i.navigator.iframes[0].contentDocument;return l?wn(s,l,Co):""}catch(l){return Il.default.log("uniqueCssSelector:"),Il.default.error(l),""}}if(n)for(let s=0;s<n.length;s++){let l=n[s];Il.default.log(l);let u=l.innerHTML,d=!1;l.innerHTML.length===0&&(u=l.getAttribute("title")??"",l.innerHTML=u,d=!0),l.innerHTML.length===0&&(u=(l.getAttribute("id")??"").replace(/[^0-9]/g,""),l.innerHTML=u,d=!0);let h=this.navigator.iframes[0].contentDocument;if(h){let y=this.navigator.highlighter?.dom(h.body).getWindow().document.createRange(),b=this.navigator.highlighter?.dom(h.body).getSelection();if(b.removeAllRanges(),y.selectNodeContents(l),b.addRange(y),!b.isCollapsed){let w=Xr(y,o);b.removeAllRanges(),w&&this.createPageBreakHighlight({rangeInfo:w,cleanText:"",rawText:""},u)}}d&&(l.innerHTML="")}},200)}createPageBreakHighlight(t,n){try{let o=`${t.rangeInfo.startContainerElementCssSelector}${t.rangeInfo.startContainerChildTextNodeIndex}${t.rangeInfo.startOffset}${t.rangeInfo.endContainerElementCssSelector}${t.rangeInfo.endContainerChildTextNodeIndex}${t.rangeInfo.endOffset}`,s=Fi.hash(o),l="R2_PAGEBREAK_"+s;var i=!1;let u={color:"#000000",id:l,pointerInteraction:i,selectionInfo:t,marker:Ve.Custom,icon:{id:"pageBreak",title:n,color:"#000000",position:"left"},type:it.PageBreak};tn.push(u);let d=this.navigator.highlighter?.createHighlightDom(this.navigator.iframes[0].contentWindow,u);return u.position=parseInt((d?.hasChildNodes()?d.childNodes[0]:d).style.top.replace("px","")),u}catch(o){throw"Can't create highlight: "+o}}};H();var qA=nt(E0());var WA=nt(So());var ct=nt(Jt()),va=class{constructor(t,n,i,o,s,l){this.voices=[];this.hasEventListener=!1;this.startX=0;this.startY=0;this.index=0;this.userScrolled=!1;this.scrollPartial=!1;this.speaking=!1;this.restartIndex=-1;this.ttsQueueIndex=-1;this.ttsQueue=void 0;this.ttsPlayQueueIndexDebounced=(0,WA.debounce)((t,n)=>{this.restartIndex>=0?(this.ttsQueueIndex=this.restartIndex,this.restartIndex=-1):this.ttsQueueIndex=t,this.ttsQueue=n,this.ttsPlayQueueIndex(this.ttsQueueIndex,n)},150);this.tts=t,this.headerMenu=l,this.rights=n,this.highlighter=i,this.properties=o,this.api=s}initialize(t){this.highlighter!==void 0&&(this.tts.setControls(),this.tts.onRestart(this.restart.bind(this)),this.body=t,this.clean=(0,qA.default)(this.body.innerHTML,{allowedTags:[],allowedAttributes:{}}),this.wrapper=yt(document,"#iframe-wrapper"),window.speechSynthesis.getVoices(),this.initVoices(!0),this.hasEventListener||(this.hasEventListener=!0,Ee(document,"wheel",this.wheel.bind(this)),Ee(this.body,"wheel",this.wheel.bind(this)),Ee(document,"keydown",this.wheel.bind(this)),Ee(this.navigator.iframes[0].contentDocument,"keydown",this.wheel.bind(this))),Ee(this.body,"mousedown",this.clickStart.bind(this)),Ee(this.body,"mouseup",this.click.bind(this)))}clickStart(t){"clientX"in t&&(this.startX=t.clientX),"clientY"in t&&(this.startY=t.clientY)}click(t){let n=0,i=0;if("clientX"in t&&(n=t.clientX),"clientY"in t&&(i=t.clientY),window.speechSynthesis.speaking&&this.speaking&&n===this.startX&&i===this.startY){let o=this.navigator.iframes[0].contentDocument;if(o){let s=this.highlighter.dom(o.body).getSelection();if(s.isCollapsed){let y=this.navigator.iframes[0].contentDocument,b=this.navigator.annotationModule?.annotator?.getTemporarySelectionInfo(y);s.addRange(b.range)}let l=s.getRangeAt(0),u=s.anchorNode;for(;l.toString().indexOf(" ")!==0;)try{l.setStart(u,l.startOffset-1)}catch(y){break}l.setStart(u,l.startOffset+1);do l.setEnd(u,u.length<l.endOffset?l.endOffset+1:u.length);while(l.toString().indexOf(" ")===-1&&l.toString().trim()!=="");let h=document.querySelector("main#iframe-wrapper iframe").contentWindow?.document.body;if(this.ttsQueue&&h){let y=this.findTtsQueueItemIndex(this.ttsQueue,s.anchorNode,s.anchorNode,s.anchorOffset,h);s.removeAllRanges(),y>=0&&(window.speechSynthesis.cancel(),this.restartIndex=y,this.ttsPlayQueueIndexDebounced(this.restartIndex,this.ttsQueue))}}}}initVoices(t){function n(){return new Promise(function(o,s){let l=window.speechSynthesis,u;u=setInterval(()=>{l.getVoices().length!==0&&(o(l.getVoices()),clearInterval(u))},10)})}n().then(async o=>{if(ct.default.log(o),this.voices=[],o.forEach(l=>{l.localService===!0&&this.voices.push(l)}),ct.default.log(this.voices),t&&this.headerMenu){var s=Ie(this.headerMenu,"#preferred-languages");s&&this.voices.forEach(l=>{var u=document.createElement("option");u.value=l.name+":"+l.lang,u.innerHTML=l.name+" ("+l.lang+")",s.add(u)})}})}cancel(t=!0){t&&(this.api?.stopped&&this.api?.stopped(),this.navigator.emit("readaloud.stopped","stopped")),this.userScrolled=!1,this.speaking=!1,setTimeout(()=>{window.speechSynthesis.cancel()},0),this._ttsQueueItemHighlightsWord&&(this.navigator.highlighter?.destroyHighlights(it.ReadAloud),this._ttsQueueItemHighlightsWord=void 0)}async speak(t,n,i){this.api?.started&&this.api?.started(),this.navigator.emit("readaloud.started","started");let o=this;this.userScrolled=!1,this.cancel(!1);let s;if(n){let A=document.querySelector("main#iframe-wrapper iframe").contentWindow?.document.body,C=this.navigator.iframes[0].contentDocument;if(C){let O=this.highlighter.dom(C.body).getSelection();if(O.isCollapsed){let E=o.navigator.iframes[0].contentDocument,T=o.navigator.annotationModule?.annotator?.getTemporarySelectionInfo(E);O.addRange(T.range)}if(A){var l=this.generateTtsQueue(A);if(!l.length)return;var u=this.findTtsQueueItemIndex(l,O.anchorNode,O.anchorNode,O.anchorOffset,A),d=this.findTtsQueueItemIndex(l,O.focusNode,O.focusNode,O.focusOffset,A);let E=bs(l,u),T=bs(l,d);var h;if(E&&t&&t.cleanText){let B=vs(E),M=t.rangeInfo.startOffset,D=t.cleanText;if(T&&u+1===d){let I=vs(T);M=(B+" "+I).indexOf(t.cleanText),D=B.slice(M,B.length),h=t.cleanText.replace(D,"").trim()}else if(d>u){let I="";for(let N=u+1;N<d;N++){let q=bs(l,N);if(q){let z=vs(q);I+=z,h=t.cleanText.replace(z,"")}}if(T){let N=vs(T);I+=" "+N}M=(B+" "+I).indexOf(t.cleanText),D=B.slice(M,B.length),h=h.replace(D,"").trim()}s=new SpeechSynthesisUtterance(D),ct.default.log(t),ct.default.log(D,t.range?.commonAncestorContainer.textContent),ct.default.log(E),ct.default.log(E.item.textNodes),ct.default.log(M),ct.default.log(E.item.combinedText);let U=E.item.textNodes.filter(I=>I===t.range?.commonAncestorContainer)[0];ct.default.log(U),s.onboundary=I=>{this.updateTTSInfo(E,I.charIndex,I.charLength,M,s.text)}}}}}else s=new SpeechSynthesisUtterance(this.clean);s.rate=this.tts.rate,s.pitch=this.tts.pitch,s.volume=this.tts.volume,ct.default.log("this.tts.voice.lang",this.tts.voice.lang);var y=!0;this.tts.voice&&this.tts.voice.lang&&(y=this.tts.voice.lang.indexOf("-")!==-1,y===!1&&(this.tts.voice.lang=this.tts.voice.lang.replace("_","-"),y=!0)),ct.default.log("initialVoiceHasHyphen",y),ct.default.log("voices",this.voices);var b;y===!0?(b=this.tts.voice&&this.tts.voice.lang&&this.tts.voice.name?this.voices.filter(v=>{var A=v.lang.replace("_","-");return A===this.tts.voice.lang&&v.name===this.tts.voice.name})[0]:void 0,b===void 0&&(b=this.tts.voice&&this.tts.voice.lang?this.voices.filter(v=>v.lang.replace("_","-")===this.tts.voice.lang)[0]:void 0)):(b=this.tts.voice&&this.tts.voice.lang&&this.tts.voice.name?this.voices.filter(v=>v.lang===this.tts.voice.lang&&v.name===this.tts.voice.name)[0]:void 0,b===void 0&&(b=this.tts.voice&&this.tts.voice.lang?this.voices.filter(v=>v.lang===this.tts.voice.lang)[0]:void 0)),ct.default.log("initialVoice",b);var w=o.navigator.publication.Metadata.Language[0].indexOf("-")!==-1;ct.default.log("publicationVoiceHasHyphen",w);var p;w===!0?p=this.tts.voice&&this.tts.voice.usePublication?this.voices.filter(v=>{var A=v.lang.replace("_","-");return A.startsWith(o.navigator.publication.Metadata.Language[0])||A.endsWith(o.navigator.publication.Metadata.Language[0].toUpperCase())})[0]:void 0:p=this.tts.voice&&this.tts.voice.usePublication?this.voices.filter(v=>v.lang.startsWith(o.navigator.publication.Metadata.Language[0])||v.lang.endsWith(o.navigator.publication.Metadata.Language[0].toUpperCase()))[0]:void 0,ct.default.log("publicationVoice",p);var m=navigator.language.indexOf("-")!==-1;ct.default.log("defaultVoiceHasHyphen",m);var f;m===!0?f=this.voices.filter(v=>{var A=v.lang.replace("_","-");return A===navigator.language&&v.localService===!0})[0]:f=this.voices.filter(v=>{var A=v.lang;return A===navigator.language&&v.localService===!0})[0],f===void 0&&(f=this.voices.filter(v=>{var A=v.lang;return A.includes(navigator.language)&&v.localService===!0})[0]),ct.default.log("defaultVoice",f),b?(ct.default.log("initialVoice"),s.voice=b):p?(ct.default.log("publicationVoice"),s.voice=p):f&&(ct.default.log("defaultVoice"),s.voice=f),s.voice!==void 0&&s.voice!==null&&(s.lang=s.voice.lang,ct.default.log("utterance.voice.lang",s.voice.lang),ct.default.log("utterance.lang",s.lang)),ct.default.log("navigator.language",navigator.language),setTimeout(()=>{window.speechSynthesis.speak(s)},0),this.index=0;function g(){s.onend=function(){if(d>u)if(u=u+1,u!==d){let v=bs(l,u);if(v){let A=vs(v);s=new SpeechSynthesisUtterance(A),s.onboundary=C=>{o.updateTTSInfo(v,C.charIndex,C.charLength,0,s.text)},setTimeout(()=>{window.speechSynthesis.speak(s)},0),g()}}else{let v=bs(l,u);v&&(s=new SpeechSynthesisUtterance(h),s.onboundary=A=>{o.updateTTSInfo(v,A.charIndex,A.charLength,0,s.text)},setTimeout(()=>{window.speechSynthesis.speak(s)},0),g()),u>d&&(ct.default.log("utterance ended"),o.highlighter.doneSpeaking(),o.api?.finished(),o.navigator.emit("readaloud.finished","finished"))}else ct.default.log("utterance ended"),o.highlighter.doneSpeaking(),o.api?.finished(),o.navigator.emit("readaloud.finished","finished")}}g(),i()}speakPlay(){this.scrollPartial=!0,this.cancel(!1),this.api?.started&&this.api?.started(),this.navigator.emit("readaloud.started","started");let t=this,i=document.querySelector("main#iframe-wrapper iframe").contentWindow?.document.body;if(i){let l=function(){let u=t.highlighter.visibleTextRects[0],d=t.navigator.iframes[0].contentDocument;if(d){let h=t.highlighter.dom(d.body).getWindow().document.createRange(),y=t.highlighter.dom(t.navigator.iframes[0].contentDocument?.body).getSelection();y.removeAllRanges(),h.selectNodeContents(u.node),y.addRange(h);let b=0,w=y.focusNode,p=y.focusOffset;y.collapse(y.anchorNode,y.anchorOffset);for(let m=0;m<b;m++)y.modify("move","forward","line");if(y.extend(w,p),y.collapse(y.anchorNode,y.anchorOffset),i){let m=t.findTtsQueueItemIndex(o,y.anchorNode,y.anchorNode,y.anchorOffset,i);m>=0&&(s=m)}y.removeAllRanges()}},o=this.generateTtsQueue(i);if(!o.length)return;let s=0;l(),s<0&&(s=0),setTimeout(()=>{this.startTTSSession(o,s)},200)}}speakPause(){window.speechSynthesis.speaking&&(this.api?.paused&&this.api?.paused(),this.navigator.emit("readaloud.paused","paused"),this.userScrolled=!1,window.speechSynthesis.pause(),this.speaking=!1,this._ttsQueueItemHighlightsWord&&(this.navigator.highlighter?.destroyHighlights(it.ReadAloud),this._ttsQueueItemHighlightsWord=void 0))}speakResume(){window.speechSynthesis.speaking&&(this.api?.resumed&&this.api?.resumed(),this.navigator.emit("readaloud.resumed","resumed"),this.userScrolled=!1,window.speechSynthesis.resume(),this.speaking=!0)}static async create(t){let n=new this(t.tts,t.rights,t.highlighter,t,t.api,t.headerMenu);return await n.start(),n}async start(){if(this.headerMenu){var t=Ie(this.headerMenu,"#menu-button-tts");t&&t.parentElement?.style.removeProperty("display")}setTimeout(()=>{this.properties?.hideLayer?this.navigator.hideLayer("readaloud"):this.navigator.showLayer("readaloud")},10)}wheel(t){if(t instanceof KeyboardEvent)switch(t.key){case"ArrowUp":this.userScrolled=!0;break;case"ArrowDown":this.userScrolled=!0;break}else this.userScrolled=!0}stop(){ct.default.log("TTS module stop"),je(document,"wheel",this.wheel.bind(this)),je(this.body,"wheel",this.wheel.bind(this)),je(document,"keydown",this.wheel.bind(this)),je(this.navigator.iframes[0].contentDocument,"keydown",this.wheel.bind(this)),je(this.body,"click",this.click.bind(this))}generateTtsQueue(t){let n=[],i=[];function o(d){if(d.nodeType!==Node.TEXT_NODE||!d.nodeValue||!d.nodeValue.trim().length)return;let h=i[i.length-1];if(!h)return;let y=d.parentElement?GA(d.parentElement):void 0,b=d.parentElement?O8(d.parentElement):void 0,w=n[n.length-1];(!w||w.parentElement!==h||w.lang!==y||w.dir!==b)&&(w={combinedText:"",dir:b,lang:y,parentElement:h,textNodes:[]},n.push(w)),w.textNodes.push(d)}let s=!0;function l(d){if(d.nodeType!==Node.ELEMENT_NODE)return;let h=s||d.matches("h1, h2, h3, h4, h5, h6, p, th, td, caption, li, blockquote, q, dt, dd, figcaption, div, pre");s=!1,h&&i.push(d);for(let y of d.childNodes)switch(y.nodeType){case Node.ELEMENT_NODE:let b=y;if(!b.matches("img, sup, sub, audio, video, source, button, canvas, del, dialog, embed, form, head, iframe, meter, noscript, object, s, script, select, style, textarea"))l(b);else if(b.tagName&&b.tagName.toLowerCase()==="img"&&b.src){let p=b.getAttribute("alt");if(p){let m=p.trim();if(m){let f=GA(b),g=void 0;n.push({combinedText:m,dir:g,lang:f,parentElement:b,textNodes:[]})}}}break;case Node.TEXT_NODE:i.length!==0&&o(y);break;default:break}h&&i.pop()}l(t);function u(d){if(!d.textNodes||!d.textNodes.length){(!d.combinedText||!d.combinedText.length)&&(d.combinedText="");return}d.combinedText=R8(d.textNodes,!0).replace(/[\r\n]/g," ");let h=d.parentElement;for(;h;){if(h.tagName){let y=h.tagName.toLowerCase();if(y==="pre"||y==="code"||y==="video"||y==="audio")break}h=h.parentElement}}for(let d of n)u(d);return n}findTtsQueueItemIndex(t,n,i,o,s){let l=0;for(let u of t){if(i&&u.textNodes){if(u.textNodes.includes(i))return l}else if(n===u.parentElement||u.parentElement!==n.ownerDocument.body&&u.parentElement!==s&&u.parentElement.contains(n)||n.contains(u.parentElement))return l;l++}return-1}restart(){window.speechSynthesis.speaking&&(window.speechSynthesis.cancel(),this.restartIndex=this.ttsQueueIndex,this.ttsPlayQueueIndexDebounced(this.restartIndex,this.ttsQueue))}startTTSSession(t,n){if(!bs(t,n)){this.cancel();return}this.speaking=!0,this.ttsPlayQueueIndexDebounced(n,t)}ttsPlayQueueIndex(t,n){if(t<0){this.cancel();return}let i=bs(n,t);if(!i){this.cancel();return}let o=vs(i);if(!o){this.cancel();return}let s=new SpeechSynthesisUtterance(o);s.rate=this.tts.rate,s.pitch=this.tts.pitch,s.volume=this.tts.volume,ct.default.log("this.tts.voice.lang",this.tts.voice.lang);var l=!0;this.tts.voice&&this.tts.voice.lang&&(l=this.tts.voice.lang.indexOf("-")!==-1,l===!1&&(this.tts.voice.lang=this.tts.voice.lang.replace("_","-"),l=!0)),ct.default.log("initialVoiceHasHyphen",l),ct.default.log("voices",this.voices);var u;l===!0?(u=this.tts.voice&&this.tts.voice.lang&&this.tts.voice.name?this.voices.filter(p=>{var m=p.lang.replace("_","-");return m===this.tts.voice.lang&&p.name===this.tts.voice.name})[0]:void 0,u===void 0&&(u=this.tts.voice&&this.tts.voice.lang?this.voices.filter(p=>p.lang.replace("_","-")===this.tts.voice.lang)[0]:void 0)):(u=this.tts.voice&&this.tts.voice.lang&&this.tts.voice.name?this.voices.filter(p=>p.lang===this.tts.voice.lang&&p.name===this.tts.voice.name)[0]:void 0,u===void 0&&(u=this.tts.voice&&this.tts.voice.lang?this.voices.filter(p=>p.lang===this.tts.voice.lang)[0]:void 0)),ct.default.log("initialVoice",u);var d=this,h=d.navigator.publication.Metadata.Language[0].indexOf("-")!==-1;ct.default.log("publicationVoiceHasHyphen",h);var y;h===!0?y=this.tts.voice&&this.tts.voice.usePublication?this.voices.filter(p=>{var m=p.lang.replace("_","-");return m.startsWith(d.navigator.publication.Metadata.Language[0])||m.endsWith(d.navigator.publication.Metadata.Language[0].toUpperCase())})[0]:void 0:y=this.tts.voice&&this.tts.voice.usePublication?this.voices.filter(p=>p.lang.startsWith(d.navigator.publication.Metadata.Language[0])||p.lang.endsWith(d.navigator.publication.Metadata.Language[0].toUpperCase()))[0]:void 0,ct.default.log("publicationVoice",y);var b=navigator.language.indexOf("-")!==-1;ct.default.log("defaultVoiceHasHyphen",b);var w;b===!0?w=this.voices.filter(p=>{var m=p.lang.replace("_","-");return m===navigator.language&&p.localService===!0})[0]:w=this.voices.filter(p=>{var m=p.lang;return m===navigator.language&&p.localService===!0})[0],w===void 0&&(w=this.voices.filter(p=>{var m=p.lang;return m.includes(navigator.language)&&p.localService===!0})[0]),ct.default.log("defaultVoice",w),u?(ct.default.log("initialVoice"),s.voice=u):y?(ct.default.log("publicationVoice"),s.voice=y):w&&(ct.default.log("defaultVoice"),s.voice=w),s.voice!==void 0&&s.voice!==null&&(s.lang=s.voice.lang,ct.default.log("utterance.voice.lang",s.voice.lang),ct.default.log("utterance.lang",s.lang)),ct.default.log("navigator.language",navigator.language),s.onboundary=p=>{ct.default.log(p.name),this.updateTTSInfo(i,p.charIndex,p.charLength,0,s.text)},setTimeout(()=>{window.speechSynthesis.speak(s),d.speaking||window.speechSynthesis.pause()},0),s.onend=function(){d.speaking&&d.ttsPlayQueueIndexDebounced(t+1,n)}}updateTTSInfo(t,n,i,o,s){if(!t)return;ct.default.log(t,n,i,s);let l=s||vs(t);if(n>=0&&s){let u=s.slice(0,n+1).search(/\S+$/),d=s.slice(n).search(/\s/),h=d<0?s.slice(u):s.slice(u,d+n),y=u+h.length;if(i===void 0){let b=s.substring(n).match(/^[a-z\d']*/i);b&&(i=b[0].length)}i===void 0&&(i=h.length),this.wrapHighlightWord(t,s,n+o,i,h,u,y)}return l}wrapHighlightWord(t,n,i,o,s,l,u){ct.default.log(t),ct.default.log(n),ct.default.log(i,o,s,l,u),this._ttsQueueItemHighlightsWord&&(this.navigator.highlighter?.destroyHighlights(it.ReadAloud),this._ttsQueueItemHighlightsWord=void 0);let d=t.item,h=i,y=0,b,w=-1,p,m=-1,f=h+o;for(let v of d.textNodes){if(!v.nodeValue&&v.nodeValue!=="")continue;let A=v.nodeValue.length;if(y+=A,b||h<y&&(b=v,w=A-(y-h)),b&&f<=y&&(p=v,m=A-(y-f)),p)break}if(b&&p){let A=function(E){try{let T=g.navigator.iframes[0].contentDocument;return T?wn(E,T,Co):""}catch(T){return ct.default.log("uniqueCssSelector:"),ct.default.error(T),""}},v=new Range;v.setStart(b,w),v.setEnd(p,m);var g=this;let C=Xr(v,A);if(!C)return;let O=this.navigator.highlighter?.createHighlight(this.navigator.iframes[0].contentWindow,{rangeInfo:C,cleanText:"",rawText:"",range:void 0},this.tts.color,!1,Ve.Custom,{id:"tts",title:"",position:"right"},void 0,{defaultClass:this.tts.color},it.ReadAloud,"R2_READALOUD_");if(O){this._ttsQueueItemHighlightsWord=O[0];let B=(O[1]?.firstChild?.getBoundingClientRect()).top-this.wrapper.scrollTop>window.innerHeight/2-65;this.navigator.view?.isScrollMode()&&this.tts.autoScroll&&!this.userScrolled&&this.scrollPartial&&B?O[1]?.firstChild?.scrollIntoView({block:"center",behavior:"smooth"}):this.navigator.view?.isPaginated()&&g.navigator.view?.snap(O[1]?.firstChild)}}}};function GA(r){let t=r;for(;t&&t.nodeType===Node.ELEMENT_NODE;){let n=t.getAttribute("xml:lang");if(n||(n=t.getAttributeNS("http://www.w3.org/XML/1998/namespace","lang")),n||(n=t.getAttribute("lang")),n)return n;t=t.parentNode}}function O8(r){let t=r;for(;t&&t.nodeType===Node.ELEMENT_NODE;){let n=t.getAttribute("dir");if(n)return n;t=t.parentNode}}function R8(r,t){if(r&&r.length){let n="";for(let i of r)i.nodeValue&&(n+=t?i.nodeValue:M8(i.nodeValue));return n}return""}function P8(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function M8(r){return P8(r).replace(/\n/g," ").replace(/\s\s+/g," ")}function bs(r,t){let n=-1,i=-1;for(let o of r)if(i++,n++,t===n)return{item:o,iArray:i,iGlobal:n,iSentence:-1}}function vs(r){return r.item.combinedText}H();var Nl=nt(Kd());var zA=nt(So());var VA=nt(Jt()),Dl=class{constructor(t,n,i,o){this.currentChapterPopupResult=[];this.currentPopupHighlights=[];this.definitions=(0,zA.debounce)(async()=>{if(await this.highlighter.destroyHighlights(it.Definition),this.properties.definitions)for(let t of this.properties.definitions)await this.define(t)},200);this.publication=t,this.properties=n,this.api=o,this.highlighter=i}static async create(t){let n=new this(t.publication,t,t.highlighter,t.api);return await n.start(),n}async stop(){VA.default.log("Definitions module stop")}async start(){setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("definitions"):this.navigator.showLayer("definitions")},10)}async searchAndPaint(t,n){let i=this.publication.getAbsoluteHref(this.publication.readingOrder?this.publication.readingOrder[this.navigator.currentResource()??0].Href:""),o=this.publication.getTOCItem(i);o===void 0&&this.publication.readingOrder&&(o=this.publication.readingOrder[this.navigator.currentResource()??0]);let s=[];if(o)for(let l of t.terms){let u=t.terms.indexOf(l);o&&await Mo(l,this.navigator.iframes[0].contentDocument,o.Href,o.Title,this.navigator.definitionsModule?.properties.fullWordSearch).then(d=>{let h;t.result===1?h=0:t.result===2&&(h=Math.floor(Math.random()*d.length-1)+1),d.forEach((y,b)=>{if(h===void 0||h===b){let w={rangeInfo:y.rangeInfo},p=this.createDefinitionHighlight(w,t);y.highlight=p,s.push(Nl.omit(p,"definition")),this.currentChapterPopupResult.push(y),this.currentPopupHighlights.push(p)}}),u===t.terms.length-1&&n(s)})}}async define(t){await this.searchAndPaint(t,async n=>{this.api?.success&&(this.api?.success(Nl.omit(t,"callbacks"),n),this.navigator.emit("definition.success",n),this.api?.visible&&n.forEach(i=>{let s=this.navigator.iframes[0].contentDocument?.querySelector(`#${i.id}`)?.querySelectorAll(`.${Tn}`),l=new IntersectionObserver((u,d)=>{u.forEach(h=>{h.intersectionRatio===1&&(this.api?.visible(Nl.omit(t,"callbacks"),Nl.omit(i,"definition")),this.navigator.emit("definition.visible",t,i))})},{threshold:1});s&&s.length>0&&l.observe(s[0])}))})}async drawDefinitions(){setTimeout(async()=>{await this.definitions()},100)}async handleResize(){await this.drawDefinitions()}createDefinitionHighlight(t,n){try{let i=this.navigator.definitionsModule?.properties.color;Qe.isHexColor(i)&&(i=Qe.hexToRgbChannels(i));let o=`${t.rangeInfo.startContainerElementCssSelector}${t.rangeInfo.startContainerChildTextNodeIndex}${t.rangeInfo.startOffset}${t.rangeInfo.endContainerElementCssSelector}${t.rangeInfo.endContainerChildTextNodeIndex}${t.rangeInfo.endOffset}`,s=Fi.hash(o),l="R2_DEFINITION_"+s;this.highlighter.destroyHighlight(this.navigator.iframes[0].contentDocument,l);let u={color:i||ls,id:l,pointerInteraction:!0,selectionInfo:t,marker:Ve.Underline,type:it.Definition};tn.push(u);let d=this.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,u);return d&&(n.definition&&(d.dataset.definition=n.definition),d.dataset.order=String(n.order),u.definition=n,u.position=parseInt((d?.hasChildNodes()?d.childNodes[0]:d).style.top.replace("px",""))),u}catch(i){throw"Can't create definitions highlight: "+i}}async addDefinition(t){await this.define(t)}async clearDefinitions(){await this.highlighter.destroyHighlights(it.Definition)}};var ZA=nt(Ag());H();var Lo=nt(Jt()),KA=.5,wa=class{constructor(t,n,i){this.hasEventListener=!1;this.lines=[];this.index=0;this.isActive=!1;this.isDebug=!1;this.lineFocusContainer=document.getElementById("lineFocusContainer");this.readerContainer=document.getElementById("D2Reader-Container");this.lineFocusTopBlinder=document.getElementById("lineFocusTopBlinder");this.lineFocusBottomBlinder=document.getElementById("lineFocusBottomBlinder");this.wrapperHeight=void 0;this.properties=t,this.api=i,this.highlighter=n}static async create(t){let n=new this(t,t.highlighter,t.api);return await n.start(),n}async stop(){Lo.default.log("Definitions module stop"),this.hasEventListener=!1,je(document,"keydown",this.keydown.bind(this)),je(document,"keyup",this.keyup.bind(this)),je(this.navigator.iframes[0].contentDocument,"keydown",this.keydown.bind(this)),je(this.navigator.iframes[0].contentDocument,"keyup",this.keyup.bind(this))}async start(){let t=yt(document,"#iframe-wrapper");t.style.height.length>0&&(this.wrapperHeight=t.style.height,this.lineFocusContainer&&this.lineFocusContainer.style.height.length===0&&(this.lineFocusContainer.style.height=this.wrapperHeight),this.readerContainer&&this.readerContainer.style.height.length===0&&(this.readerContainer.style.height=this.wrapperHeight),this.readerContainer&&(this.readerContainer.style.overflow="hidden"))}initialize(){return new Promise(async t=>{await document.fonts.ready,this.hasEventListener||(this.hasEventListener=!0,Ee(document,"keydown",this.keydown.bind(this)),Ee(document,"keyup",this.keyup.bind(this)),Ee(this.navigator.iframes[0].contentDocument,"keydown",this.keydown.bind(this)),Ee(this.navigator.iframes[0].contentDocument,"keyup",this.keyup.bind(this))),t(null)})}keydown(t){if(t instanceof KeyboardEvent&&this.isActive)switch(t.key){case"ArrowUp":t.stopPropagation();break;case"ArrowDown":t.stopPropagation();break}}keyup(t){if(t instanceof KeyboardEvent&&this.isActive)switch(t.key){case"ArrowUp":this.lineUp();break;case"ArrowDown":this.lineDown();break}}handleResize(){this.isActive&&this.lineFocus()}async enableLineFocus(){this.isActive=!0,await this.navigator.settings.scroll(!0),this.lineFocus()}disableLineFocus(t=!0){this.isActive=!1;let n=yt(document,"#iframe-wrapper");this.wrapperHeight&&(n.style.height=this.wrapperHeight),t||(this.index=0);let i=this.navigator.iframes[0].contentDocument;un(i,"html").style.removeProperty("--USER__maxMediaHeight"),this.wrapperHeight=void 0,this.lineFocusContainer&&(this.lineFocusContainer.style.display="none");let s=document.getElementById("container-view-timeline");s&&s.style.removeProperty("display");let l=document.getElementById("divBefore");l&&l.remove();let u=document.getElementById("divAfter");u&&u.remove(),this.highlighter.destroyHighlights(it.LineFocus)}lineFocus(){let t=yt(document,"#iframe-wrapper"),n=this.navigator.iframes[0].contentDocument,i=un(n,"html"),o=this.properties.maxHeight?tr()*this.properties.maxHeight/100:tr()/2;i.style.setProperty("--USER__maxMediaHeight",o+"px");function s(y,b){y.parentNode.insertBefore(b,y.nextSibling)}function l(y,b){y.parentNode.insertBefore(b,y)}let u=document.getElementById("container-view-timeline");u&&(u.style.display="none"),this.lineFocusContainer&&this.lineFocusContainer.style.removeProperty("display");let d=document.getElementById("divBefore");if(d)d.style.height=t.clientHeight/2+"px";else{let y=document.createElement("div");y.style.height=t.clientHeight/2+"px",y.id="divBefore",l(t,y)}let h=document.getElementById("divAfter");if(h)h.style.height=t.clientHeight/2+"px";else{let y=document.createElement("div");y.style.height=t.clientHeight/2+"px",y.id="divAfter",s(t,y)}if(this.lines=[],n){let w=function(){let A=Math.round,C=Math.random,O=255;return{blue:A(C()*O),green:A(C()*O),red:A(C()*O)}},p=function(A,C){let O=[];for(let E=0,T=0;E<A.length;E++)E>=C&&E%C==0&&T++,O[T]=O[T]||[],O[T].push(A[E]);return O},m=function(A,C){let O=Math.min(A.left,C.left),E=Math.max(A.right,C.right),T=Math.min(A.top,C.top),B=Math.max(A.bottom,C.bottom);return{bottom:B,height:B-T,left:O,right:E,top:T,width:E-O}},f=function(A){if(A.length>1){let C=m(A[0],A[1]);if(A.length>2){let O=m(C,A[2]);if(A.length>3){let E=m(O,A[3]);return A.length>4?m(E,A[4]):E}return O}return C}return A[0]},y=this.findRects(n.body);y=T0(y,!0),y=y.sort(function(A,C){return A.top-C.top});let b=[];y=y.filter(function(A){let C=A.top;return b.indexOf(C)===-1&&b.indexOf(C+1)===-1&&b.indexOf(C+2)===-1&&b.indexOf(C+3)===-1&&b.indexOf(C+4)===-1&&b.indexOf(C-1)===-1&&b.indexOf(C-2)===-1&&b.indexOf(C-3)===-1&&b.indexOf(C-4)===-1?(b.push(C),!0):!1}),this.highlighter.destroyHighlights(it.LineFocus);let g=[];this.properties.lines&&this.properties.lines>1?p(y,this.properties.lines).forEach(C=>{g.push(f(C))}):g=y;let v=Ie(n,"#"+qe.R2_ID_LINEFOCUS_CONTAINER);if(v)for(let A of g){let C=document.createElement("div");C.setAttribute("class",Tn);let O=w();if(Qe.isHexColor(O)&&(O=Qe.hexToRgbChannels(O)),this.isDebug){let le=`border-bottom: 1px solid rgba(${O.red}, ${O.green}, ${O.blue}, ${KA}) !important`;C.setAttribute("style",`mix-blend-mode: multiply; border-radius: 1px !important; background-color: rgba(${O.red}, ${O.green}, ${O.blue}, ${KA}) !important; ${le}`)}C.style.outline="none",C.tabIndex=0;let E=this.navigator.iframes[0].contentWindow.document,T=this.navigator.view.isPaginated();T?E.body.style.position="revert":E.body.style.position="relative";let B=E.body.getBoundingClientRect(),M=this.highlighter.getScrollingElement(E),D=T?-M.scrollLeft:B.left,U=T?-M.scrollTop:B.top,I=1,N=24,q,z,ne=this.navigator.iframes[0].contentWindow?.innerWidth,oe=parseInt(getComputedStyle(n.documentElement).getPropertyValue("column-count")),ae=parseInt(getComputedStyle(n.documentElement).getPropertyValue("column-width")),te=parseInt(getComputedStyle(n.body).getPropertyValue("padding-left"));if(ne){let le=ne/(oe||1);le<ae&&(le=ne),T||(le=parseInt(getComputedStyle(n.body).width.replace("px","")));let xe=this.navigator.settings.fontSize/100,fe=20*xe;xe<=1&&(fe=-60);let J=0;xe<=1&&(J=-60),q=Math.floor(A.left/le)*le+le-(N<40?40:N)+J,z=Math.floor(A.left/le)*le+(N<40?40:N)-fe;let j=parseInt(n.documentElement.style.getPropertyValue("--USER__pageMargins"));j>=2&&(z=z+te/oe,q=q-te/oe),T||(q=parseInt(getComputedStyle(n.body).width.replace("px","")),z=parseInt(getComputedStyle(n.body).width.replace("px",""))-le,j>=2&&(z=z+te/2,q=q-te/2))}C.style.setProperty("pointer-events","none"),C.style.position="absolute",C.scale=I,C.rect={height:A.height,left:A.left-D,top:A.top-U,width:A.width},C.style.width=`${C.rect.width*I}px`,C.style.height=`${C.rect.height*I}px`,C.style.left=`${C.rect.left*I}px`,C.style.top=`${C.rect.top*I}px`,this.lines.push(C),v.append(C)}setTimeout(()=>{this.currentLine()},100)}}currentLine(){let t=this.lines[this.index],n=t.style.top,o=parseInt(t.style.top.replace("px",""))+parseInt(t.style.height.replace("px",""))-parseInt(n.replace("px",""));if(this.lineFocusContainer){let l=(parseInt(getComputedStyle(this.lineFocusContainer).height.replace("px",""))-o)/2;this.lineFocusTopBlinder&&(this.lineFocusTopBlinder.style.height=l+"px"),this.lineFocusBottomBlinder&&(this.lineFocusBottomBlinder.style.height=l+"px")}t.scrollIntoView({block:"center",behavior:"smooth"})}lineDown(){if(this.index<this.lines.length-1){this.index+=1,this.index>this.lines.length-1&&(this.index=this.lines.length-1);let t=this.lines[this.index],n=t.style.top,o=parseInt(t.style.top.replace("px",""))+parseInt(t.style.height.replace("px",""))-parseInt(n.replace("px",""));if(this.lineFocusContainer){let l=(parseInt(getComputedStyle(this.lineFocusContainer).height.replace("px",""))-o)/2;this.lineFocusTopBlinder&&(this.lineFocusTopBlinder.style.height=l+"px"),this.lineFocusBottomBlinder&&(this.lineFocusBottomBlinder.style.height=l+"px")}t.scrollIntoView({block:"center",behavior:"smooth"})}}lineUp(){if(this.index>0){this.index-=1,this.index<0&&(this.index=0);let t=this.lines[this.index],n=t.style.top,o=parseInt(t.style.top.replace("px",""))+parseInt(t.style.height.replace("px",""))-parseInt(n.replace("px",""));if(this.lineFocusContainer){let l=(parseInt(getComputedStyle(this.lineFocusContainer).height.replace("px",""))-o)/2;this.lineFocusTopBlinder&&(this.lineFocusTopBlinder.style.height=l+"px"),this.lineFocusBottomBlinder&&(this.lineFocusBottomBlinder.style.height=l+"px")}t.scrollIntoView({block:"center",behavior:"smooth"})}}almostEqual(t,n,i){return Math.abs(t-n)<=i}findRects(t){let n=this.findTextNodes(t),i=Array.from(t.getElementsByTagName("img")),o=[];return n.forEach(s=>{o.push(...this.measureTextNodes(s))}),i.forEach(s=>{o.push(...this.measureImageNodes(s))}),o}findTextNodes(t,n=[]){let i=t.firstChild;for(;i;)i.nodeType===1&&this.findTextNodes(i,n),i.nodeType===3&&i.textContent?.trim()&&(i.textContent.trim().length>1||i.parentElement?.tagName.toLowerCase()==="h1"||i.parentElement?.tagName.toLowerCase()==="h2"||i.parentElement?.tagName.toLowerCase()==="h3"||i.parentElement?.tagName.toLowerCase()==="h4"||i.parentElement?.tagName.toLowerCase()==="h5"||i.parentElement?.tagName.toLowerCase()==="h6")&&i.parentElement&&getComputedStyle(i.parentElement).verticalAlign==="baseline"&&n.push(i),i=i.nextSibling;return n}measureTextNodes(t){try{let n=document.createRange();n.selectNodeContents(t);let i=Array.from(n.getClientRects());return n.detach(),i}catch(n){Lo.default.log("measureTextNode "+n),Lo.default.log("measureTextNode "+t),Lo.default.log(`${t.textContent}`)}}measureImageNodes(t){try{let n=document.createRange();n.selectNode(t);let i=Array.from(n.getClientRects());return n.detach(),i}catch(n){Lo.default.log("measureTextNode "+n),Lo.default.log("measureTextNode "+t),Lo.default.log(`${t.textContent}`)}}};H();var bh=nt(Jt()),Fl=class{constructor(t,n,i,o){this.history=[];this.headerMenu=o,this.publication=n,this.properties=i,this.annotator=t}static async create(t){let n=new this(t.annotator,t.publication,t,t.headerMenu);return await n.start(),n}async stop(){bh.default.log("Page Break module stop"),je(this.historyForwardAnchorElement,"click",this.handleHistoryForwardClick.bind(this)),je(this.historyBackAnchorElement,"click",this.handleHistoryBackClick.bind(this))}async handleResize(){await this.setup()}setup(){this.history.length>0&&(this.historyForwardAnchorElement&&this.historyCurrentIndex+1<this.history.length?this.historyForwardAnchorElement.className=this.historyForwardAnchorElement.className.replace(" disabled",""):this.historyForwardAnchorElement&&(this.historyForwardAnchorElement.removeAttribute("href"),this.historyForwardAnchorElement.className+=" disabled"),this.historyBackAnchorElement&&this.historyCurrentIndex>0?this.historyBackAnchorElement.className=this.historyBackAnchorElement.className.replace(" disabled",""):this.historyBackAnchorElement&&(this.historyBackAnchorElement.removeAttribute("href"),this.historyBackAnchorElement.className+=" disabled"))}async push(t,n){let i;if(n&&this.annotator){let o=await this.annotator.getLastReadingPosition();if(o&&o?.locations.progression&&o?.locations.progression>0&&(this.historyCurrentIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyCurrentIndex)),i=this.history[this.history.length-1],i&&i.href!==o.href||i===void 0)){let s=this.publication.getAbsoluteHref(o.href);bh.default.log(o.href),bh.default.log(s),o.href=s,this.history.push(o),this.historyCurrentIndex=this.history.length-1}this.historyCurrentIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyCurrentIndex)),i=this.history[this.history.length-1],(i&&i.href!==t.href||i===void 0)&&(this.history.push(t),this.historyCurrentIndex=this.history.length-1)}}async start(){this.headerMenu&&(this.historyForwardAnchorElement=Ie(this.headerMenu,"#history-forward")),this.headerMenu&&(this.historyBackAnchorElement=Ie(this.headerMenu,"#history-back")),this.historyCurrentIndex=this.history.length-1,Ee(this.historyForwardAnchorElement,"click",this.handleHistoryForwardClick.bind(this)),Ee(this.historyBackAnchorElement,"click",this.handleHistoryBackClick.bind(this))}async handleHistoryForwardClick(t){await this.historyForward(),t.preventDefault(),t.stopPropagation()}async historyForward(){this.history.length>0&&this.historyCurrentIndex+1<this.history.length&&(this.historyCurrentIndex=this.historyCurrentIndex+1,await this.navigator.navigate(this.history[this.historyCurrentIndex],!1))}async handleHistoryBackClick(t){await this.historyBack(),t.preventDefault(),t.stopPropagation()}async historyBack(){this.history.length>0&&this.historyCurrentIndex>0&&(this.historyCurrentIndex=this.historyCurrentIndex-1,await this.navigator.navigate(this.history[this.historyCurrentIndex],!1))}};H();var YA=nt(Jt()),bt;(function(i){i[i.Chicago=0]="Chicago",i[i.MLA=1]="MLA",i[i.APA=2]="APA"})(bt||(bt={}));var XA;(function(o){o.Author="Author",o.Editor="Editor",o.Translator="Translator",o.Compiler="Compiler"})(XA||(XA={}));var Ea=class{constructor(t,n,i,o){this.highlighter=n,this.properties=i,this.publication=t,this.api=o}static async create(t){let n=new this(t.publication,t.highlighter,t,t.api);return await n.start(),n}async stop(){YA.default.log("Citation module stop")}copyToClipboard(t){this.navigator?.contentProtectionModule&&(this.navigator.contentProtectionModule.citation=!0);let n=!0;if(window.clipboardData)window.clipboardData.setData("text/plain",t);else{let i=this.createElementForExecCommand(t);this.selectContent(i);try{window.netscape&&netscape.security&&netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),n=document.execCommand("copy",!1)}catch(o){n=!1}document.body.removeChild(i)}n?this.api?.citationCreated("The text was copied to the clipboard!"):this.api?.citationFailed("Your browser doesn't allow clipboard access!")}createElementForExecCommand(t){let n=document.createElement("div");return n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.innerHTML=t,document.body.appendChild(n),n.contentEditable=!0,n}selectContent(t){let n=document.createRange();n.selectNodeContents(t);let i=window.getSelection();i?.removeAllRanges(),i?.addRange(n)}async start(){let t=this,n={id:"citationIcon",callback:function(i){let o=function(){let M="",D="",U="";return t.properties.author?(U=U+t.properties.author,D=D+t.properties.author,M=M+t.properties.author):t.publication.Metadata.Author?.length>0&&0===0&&t.publication.Metadata.Author[0].Name&&t.publication.Metadata.Author[0].Name.length>0&&(U=U+t.publication.Metadata.Author[0].Name,D=D+t.publication.Metadata.Author[0].Name,M=M+t.publication.Metadata.Author[0].Name),U.length>0&&D.length>0&&M.length>0?[M+". ",D+". ",U+". "]:["","",""]},s=function(){let M="",D="",U="";return t.properties.publisher?(D=D+t.properties.publisher+", ",M=M+t.properties.publisher+", "):t.publication.Metadata.Publisher&&t.publication.Metadata.Publisher[0].Name&&(D=D+t.publication.Metadata.Publisher[0].Name+", ",M=M+t.publication.Metadata.Publisher[0].Name+", "),t.properties.published?(U=U+"("+t.properties.published+")",D=D+t.properties.published,M=M+t.properties.published):t.publication.Metadata.PublicationDate&&t.publication.Metadata.PublicationDate.getFullYear()>0&&(U=U+"("+t.publication.Metadata.PublicationDate.getFullYear()+")",D=D+t.publication.Metadata.PublicationDate.getFullYear(),M=M+t.publication.Metadata.PublicationDate.getFullYear()),U.length>0&&D.length>0&&M.length>0?[M+". ",D+". ",U+". "]:["","",""]},l=function(){return t.properties.title?[t.properties.title+". ",t.properties.title+". ",t.properties.title+". "]:t.publication.Metadata.Title?[t.publication.Metadata.Title+". ",t.publication.Metadata.Title+". ",t.publication.Metadata.Title+". "]:["","",""]},u=function(){return["","",""]},d=function(){let M="",D="",U="";return t.properties.publisher?(D=D+t.properties.publisher+", ",M=M+t.properties.publisher+", ",U=U+t.properties.publisher+", "):t.publication.Metadata.Publisher&&t.publication.Metadata.Publisher[0].Name&&(D=D+t.publication.Metadata.Publisher[0].Name+", ",M=M+t.publication.Metadata.Publisher[0].Name+", ",U=U+t.publication.Metadata.Publisher[0].Name+", "),U.length>0&&D.length>0&&M.length>0?[M+". ",D+". ",U+". "]:["","",""]},h=function(){return["","",""]},y=function(){return["","",""]},b=function(){return["","",""]},w=function(){return t.properties.library?["Retrieved from "+t.properties.library+". ","Retrieved from "+t.properties.library+". ","Retrieved from "+t.properties.library+". "]:["","",""]},p=function(){return t.properties.appName?[t.properties.appName+". ",t.properties.appName+". ",t.properties.appName+". "]:["","",""]},m=function(){return t.properties.appLink?[t.properties.appLink+". ",t.properties.appLink+". ",t.properties.appLink+". "]:["","",""]},f=function(){return["","",""]},g=function(M,D){return M.length>D?M.substring(0,D)+"...":M},v=o()[0]+l()[0]+h()[0]+u()[0]+b()[0]+s()[0]+y()[0]+w()[0]+p()[0]+m()[0],A=o()[2]+s()[2]+l()[2]+u()[2]+d()[2]+h()[2]+y()[2]+b()[2]+w()[2]+p()[2]+m()[2],C=o()[1]+l()[1]+h()[1]+u()[1]+b()[1]+s()[1]+f()[1]+w()[1]+p()[1]+m()[1],O="\u201C"+g(i,t.properties.characters)+"\u201C<br><br><em>"+v+"</em>",E="\u201C"+g(i,t.properties.characters)+"\u201C<br><br><em>"+A+"</em>",T="\u201C"+g(i,t.properties.characters)+"\u201C<br><br><em>"+C+"</em>",B="";t.properties.styles?.includes(bt[0])&&(B=B+"Chicago: <br>"+O+"<br><br>"),t.properties.styles?.includes(bt[2])&&(B=B+"APA: <br>"+E+"<br><br>"),t.properties.styles?.includes(bt[1])&&(B=B+"MLA: <br>"+T+"<br><br>"),t.copyToClipboard(B)}};this.highlighter?.addSelectionMenuItem(n)}};var si=nt(Jt());var dt=class extends ZA.default{constructor(t,n=void 0,i=void 0,o,s,l,u,d,h,y,b,w,p,m){super();this.iframes=[];this.sideNavExpanded=!1;this.currentChapterLink={href:""};this.currentSpreadLinks={};this.rights={autoGeneratePositions:!1,enableAnnotations:!1,enableBookmarks:!1,enableContentProtection:!1,enableDefinitions:!1,enableLineFocus:!1,enableMediaOverlays:!1,enablePageBreaks:!1,enableSearch:!1,enableTTS:!1,enableTimeline:!1,customKeyboardEvents:!1,enableHistory:!1,enableCitations:!1};this.didInitKeyboardEventHandler=!1;this.onResize=()=>{clearTimeout(this.timeout),this.timeout=setTimeout(this.handleResize.bind(this),200)};this.reload=async()=>{let t;if(this.annotator&&(t=await this.annotator.getLastReadingPosition()),t){let n=this.publication.getAbsoluteHref(t.href);si.default.log(t.href),si.default.log(n),t.href=n,await this.navigate(t)}};this.savePosition=(0,vh.debounce)(()=>{this.annotator&&this.saveCurrentReadingPosition()},200);this.checkResourcePosition=(0,vh.debounce)(()=>{this.view?.atStart()&&this.view?.atEnd()?(this.api?.resourceFitsScreen&&this.api?.resourceFitsScreen(),this.emit("resource.fits")):this.view?.atEnd()?(this.api?.resourceAtEnd&&this.api?.resourceAtEnd(),this.emit("resource.end")):this.view?.atStart()&&(this.api?.resourceAtStart&&this.api?.resourceAtStart(),this.emit("resource.start"))},200);this.highlighter=p,this.highlighter&&(this.highlighter.navigator=this);for(let f in m){let g=m[f];g&&(g.navigator=this),m[f]instanceof us&&(this.annotationModule=g),m[f]instanceof ds&&(this.bookmarkModule=g),m[f]instanceof va&&(this.ttsModule=g),m[f]instanceof va&&(this.ttsModule=g),m[f]instanceof Ll&&(this.searchModule=g),m[f]instanceof Dl&&(this.definitionsModule=g),m[f]instanceof Ol&&(this.timelineModule=g),m[f]instanceof ya&&(this.contentProtectionModule=g),m[f]instanceof Ea&&(this.citationModule=g),m[f]instanceof Tl&&(this.mediaOverlayModule=g),m[f]instanceof Bl&&(this.pageBreakModule=g),m[f]instanceof wa&&(this.lineFocusModule=g),m[f]instanceof Fl&&(this.historyModule=g),m[f]instanceof Cl&&(this.consumptionModule=g)}this.settings=t,this.annotator=n,this.view=t.view,this.view.attributes=h,this.view.navigator=this,this.eventHandler=new $d(this),this.touchEventHandler=new ys(this),this.keyboardEventHandler=new gh(this),this.initialLastReadingPosition=i,this.publication=o,this.api=s,this.rights=l??{autoGeneratePositions:!1,enableAnnotations:!1,enableBookmarks:!1,enableContentProtection:!1,enableDefinitions:!1,enableLineFocus:!1,enableMediaOverlays:!1,enablePageBreaks:!1,enableSearch:!1,enableTTS:!1,enableTimeline:!1,customKeyboardEvents:!1,enableHistory:!1,enableCitations:!1},this.tts=u,this.injectables=d,this.attributes=h||{margin:0},this.services=y,this.sample=b,this.requestConfig=w,this.sampleReadEventHandler=new mh(this)}static async create(t){let n=new this(t.settings,t.annotator||void 0,t.initialLastReadingPosition||void 0,t.publication,t.api,t.rights,t.tts,t.injectables,t.attributes||{margin:0},t.services,t.sample,t.requestConfig,t.highlighter,t.modules);return await n.start(t.mainElement,t.headerMenu,t.footerMenu),new Promise(i=>i(n))}stop(){si.default.log("Iframe navigator stop"),je(this.previousChapterAnchorElement,"click",this.handlePreviousChapterClick.bind(this)),je(this.nextChapterAnchorElement,"click",this.handleNextChapterClick.bind(this)),je(this.previousChapterTopAnchorElement,"click",this.handlePreviousPageClick.bind(this)),je(this.nextChapterBottomAnchorElement,"click",this.handleNextPageClick.bind(this)),je(this.previousPageAnchorElement,"click",this.handlePreviousPageClick.bind(this)),je(this.nextPageAnchorElement,"click",this.handleNextPageClick.bind(this)),je(this.tryAgainButton,"click",this.tryAgain.bind(this)),je(this.goBackButton,"click",dt.goBack.bind(this)),je(this.espandMenuIcon,"click",this.handleEditClick.bind(this)),je(window,"resize",this.onResize),this.iframes.forEach(t=>{je(t,"resize",this.onResize)})}async start(t,n,i){this.headerMenu=n,this.mainElement=t;try{let p=yt(t,"main#iframe-wrapper");p.style.overflow="hidden";let m=Ie(t,"main#iframe-wrapper iframe"),f=Ie(t,"#second");if(m&&this.iframes.push(m),f&&this.iframes.push(f),window.matchMedia("screen and (max-width: 600px)").matches&&(this.settings.columnCount=1),this.iframes.length===0){p.style.overflow="auto";let g=document.createElement("iframe");if(g.setAttribute("SCROLLING","no"),g.setAttribute("allowtransparency","true"),this.iframes.push(g),this.publication.isFixedLayout?(this.spreads=document.createElement("div"),this.firstSpread=document.createElement("div"),this.spreads.style.display="flex",this.spreads.style.alignItems="center",this.spreads.style.justifyContent="center",this.spreads.appendChild(this.firstSpread),this.firstSpread.appendChild(this.iframes[0]),p.appendChild(this.spreads)):(g.setAttribute("height","100%"),g.setAttribute("width","100%"),p.appendChild(this.iframes[0])),this.publication.isFixedLayout)if(this.settings.columnCount!==1&&!window.matchMedia("screen and (max-width: 600px)").matches){let v=document.createElement("div");this.spreads.appendChild(v);let A=document.createElement("iframe");A.setAttribute("SCROLLING","no"),A.setAttribute("allowtransparency","true"),A.style.opacity="1",A.style.border="none",A.style.overflow="hidden",this.iframes.push(A),v.appendChild(this.iframes[1]),this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 100% 120%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc",v.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, 0% 120%)",v.style.boxShadow="0 0 8px 2px #ccc"}else this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc";else this.iframes[0].style.paddingTop=(this.attributes?.iframePaddingTop??0)+"px"}if(this.publication.isFixedLayout){let g=p.clientHeight;var o=this.iframes[0].parentElement?.parentElement;o.style.height=g+40+"px"}else this.iframes.length===2&&this.iframes.pop();if(this.loadingMessage=Ie(t,"#reader-loading"),this.loadingMessage&&(this.loadingMessage.innerHTML=ph,this.loadingMessage.style.display="none"),this.errorMessage=Ie(t,"#reader-error"),this.errorMessage&&(this.errorMessage.innerHTML=UA,this.errorMessage.style.display="none"),this.tryAgainButton=Ie(t,"button[class=try-again]"),this.goBackButton=Ie(t,"button[class=go-back]"),this.infoTop=Ie(t,"div[class='info top']"),this.infoBottom=Ie(t,"div[class='info bottom']"),this.headerMenu&&(this.bookTitle=Ie(this.headerMenu,"#book-title")),this.infoBottom&&(this.chapterTitle=Ie(this.infoBottom,"span[class=chapter-title]")),this.infoBottom&&(this.chapterPosition=Ie(this.infoBottom,"span[class=chapter-position]")),this.infoBottom&&(this.remainingPositions=Ie(this.infoBottom,"span[class=remaining-positions]")),this.headerMenu&&(this.espandMenuIcon=Ie(this.headerMenu,"#expand-menu")),this.headerMenu&&(this.links=Ie(this.headerMenu,"ul.links.top")),this.headerMenu&&(this.linksTopLeft=Ie(this.headerMenu,"#nav-mobile-left")),this.headerMenu&&(this.tocView=Ie(this.headerMenu,"#container-view-toc")),this.headerMenu&&(this.landmarksView=Ie(this.headerMenu,"#container-view-landmarks")),this.headerMenu&&(this.landmarksSection=Ie(this.headerMenu,"#sidenav-section-landmarks")),this.headerMenu&&(this.pageListView=Ie(this.headerMenu,"#container-view-pagelist")),i&&(this.linksBottom=Ie(i,"ul.links.bottom")),i&&(this.linksMiddle=Ie(i,"ul.links.middle")),this.headerMenu&&(this.nextChapterAnchorElement=Ie(this.headerMenu,"a[rel=next]")),this.headerMenu&&(this.nextChapterBottomAnchorElement=Ie(t,"#next-chapter")),i&&(this.nextPageAnchorElement=Ie(i,"a[rel=next]")),this.headerMenu&&(this.previousChapterAnchorElement=Ie(this.headerMenu,"a[rel=prev]")),this.headerMenu&&(this.previousChapterTopAnchorElement=Ie(t,"#previous-chapter")),i&&(this.previousPageAnchorElement=Ie(i,"a[rel=prev]")),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.newPosition=void 0,this.newElementId=void 0,this.isBeingStyled=!0,this.isLoading=!0,this.settings.setIframe(this.iframes[0]),this.settings.onSettingsChange(this.handleResize.bind(this)),this.settings.onColumnSettingsChange(this.handleNumberOfIframes.bind(this)),this.settings.onViewChange(this.updateBookView.bind(this)),this.initialLastReadingPosition&&this.annotator?.initLastReadingPosition(this.initialLastReadingPosition),this.headerMenu){var s=Ie(this.headerMenu,"#menu-button-search"),l=Ie(this.headerMenu,"#menu-button-tts"),u=Ie(this.headerMenu,"#menu-button-bookmark"),d=Ie(this.headerMenu,"#menu-button-play"),h=Ie(this.headerMenu,"#menu-button-pause"),y=Ie(this.headerMenu,"#menu-button-mediaoverlay");if(!this.rights.enableBookmarks){u&&u.parentElement?.style.setProperty("display","none");var b=Ie(this.headerMenu,"#sidenav-section-bookmarks");b&&b.style.setProperty("display","none")}if(!this.rights.enableAnnotations){var w=Ie(this.headerMenu,"#sidenav-section-highlights");w&&w.style.setProperty("display","none")}this.rights.enableTTS||l&&l.parentElement?.style.setProperty("display","none"),this.rights.enableSearch||s&&s.parentElement?.style.setProperty("display","none"),s&&this.view?.navigator.publication.isFixedLayout&&s.parentElement?.style.setProperty("display","none"),this.hasMediaOverlays?(d&&d.parentElement?.style.removeProperty("display"),h&&h.parentElement?.style.removeProperty("display"),y&&y.parentElement?.style.removeProperty("display")):(d&&d.parentElement?.style.setProperty("display","none"),h&&h.parentElement?.style.setProperty("display","none"),y&&y.parentElement?.style.setProperty("display","none"))}else s&&s.parentElement?.style.setProperty("display","none"),l&&l.parentElement?.style.setProperty("display","none"),u&&u.parentElement?.style.setProperty("display","none");return this.setupEvents(),await this.loadManifest()}catch(p){return si.default.error(p),this.abortOnError(p),Promise.reject(p)}}setupEvents(){for(let t of this.iframes)Ee(t,"load",this.handleIFrameLoad.bind(this));Ee(this.previousChapterAnchorElement,"click",this.handlePreviousChapterClick.bind(this)),Ee(this.nextChapterAnchorElement,"click",this.handleNextChapterClick.bind(this)),Ee(this.previousChapterTopAnchorElement,"click",this.handlePreviousPageClick.bind(this)),Ee(this.nextChapterBottomAnchorElement,"click",this.handleNextPageClick.bind(this)),Ee(this.previousPageAnchorElement,"click",this.handlePreviousPageClick.bind(this)),Ee(this.nextPageAnchorElement,"click",this.handleNextPageClick.bind(this)),Ee(this.tryAgainButton,"click",this.tryAgain.bind(this)),Ee(this.goBackButton,"click",dt.goBack.bind(this)),Ee(this.espandMenuIcon,"click",this.handleEditClick.bind(this)),Ee(window,"resize",this.onResize);for(let t of this.iframes)Ee(t,"resize",this.onResize)}updateBookView(t){this.view?.layout==="fixed"?(this.nextPageAnchorElement&&(this.nextPageAnchorElement.style.display="none"),this.previousPageAnchorElement&&(this.previousPageAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.keyboardEventHandler&&(this.keyboardEventHandler.onBackwardSwipe=this.handlePreviousChapterClick.bind(this),this.keyboardEventHandler.onForwardSwipe=this.handleNextChapterClick.bind(this)),this.touchEventHandler&&(this.touchEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.touchEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this))):(this.settings.isPaginated().then(n=>{if(n)this.view.height=tr()-40-(this.attributes?.margin??0),this.infoBottom&&this.infoBottom.style.removeProperty("display"),document.body.onscroll=()=>{},this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextPageAnchorElement&&(this.nextPageAnchorElement.style.display="unset"),this.previousPageAnchorElement&&(this.previousPageAnchorElement.style.display="unset"),this.chapterTitle&&(this.chapterTitle.style.display="inline"),this.chapterPosition&&(this.chapterPosition.style.display="inline"),this.remainingPositions&&(this.remainingPositions.style.display="inline"),this.eventHandler&&(this.eventHandler.onInternalLink=this.handleInternalLink.bind(this),this.eventHandler.onClickThrough=this.handleClickThrough.bind(this)),this.touchEventHandler&&(this.touchEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.touchEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this)),this.keyboardEventHandler&&(this.keyboardEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.keyboardEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this));else{this.infoBottom&&(this.infoBottom.style.display="none"),this.nextPageAnchorElement&&(this.nextPageAnchorElement.style.display="none"),this.previousPageAnchorElement&&(this.previousPageAnchorElement.style.display="none"),this.view?.layout==="fixed"?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")):this.view?.atStart()&&this.view?.atEnd()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):this.view?.atEnd()?(this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset")):this.view?.atStart()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"));let i=(0,vh.debounce)(()=>{this.isScrolling=!1},200),o=yt(document,"#iframe-wrapper");o.onscroll=async()=>{this.isScrolling=!0,await this.savePosition(),this.view?.atEnd(),this.view?.layout==="fixed"?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")):(this.settings.isPaginated().then(s=>{s||(this.view?.atStart()&&this.view?.atEnd()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):this.view?.atEnd()?(this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset")):this.view?.atStart()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")))}),this.checkResourcePosition()),i()},this.chapterTitle&&(this.chapterTitle.style.display="none"),this.chapterPosition&&(this.chapterPosition.style.display="none"),this.remainingPositions&&(this.remainingPositions.style.display="none"),this.eventHandler&&(this.eventHandler.onInternalLink=this.handleInternalLink.bind(this),this.eventHandler.onClickThrough=this.handleClickThrough.bind(this)),this.touchEventHandler&&(this.touchEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.touchEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this)),this.keyboardEventHandler&&(this.keyboardEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.keyboardEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this))}}),t?.skipDrawingAnnotations||setTimeout(async()=>{await this.highlighter?.prepareContainers(this.iframes[0].contentWindow),this.highlighter&&(this.rights.enableAnnotations&&this.annotationModule&&await this.annotationModule.drawHighlights(),this.rights.enableBookmarks&&this.bookmarkModule&&await this.bookmarkModule.drawBookmarks(),this.rights.enableSearch&&this.searchModule&&(await this.highlighter.destroyHighlights(it.Search),this.searchModule.drawSearch()),this.rights.enablePageBreaks&&this.pageBreakModule&&(await this.highlighter.destroyHighlights(it.PageBreak),await this.pageBreakModule.drawPageBreaks()),this.rights.enableDefinitions&&this.definitionsModule&&await this.definitionsModule.drawDefinitions())},200))}async loadManifest(){try{let t=(d,h,y=!1)=>{var b=document.createElement("ul");y&&(b=document.createElement("ol")),b.className="sidenav-toc";for(let w of h){let p=document.createElement("li"),m=document.createElement("a"),f=document.createElement("span");m.className="chapter-link",m.tabIndex=-1;let g="";w.Href?(g=this.publication.getAbsoluteHref(w.Href),m.href=g,m.innerHTML=w.Title||"",p.appendChild(m)):(f.innerHTML=w.Title||"",f.className="chapter-title",p.appendChild(f)),w.Children&&w.Children.length>0&&t(p,w.Children,!0),b.appendChild(p)}Ee(b,"click",w=>{if(w.preventDefault(),w.stopPropagation(),w.target&&w.target.tagName.toLowerCase()==="a"){let p=w.target;if(p.className.indexOf("active")!==-1)this.hideView();else{let m={progression:0};if(p.href.indexOf("#")!==-1){let g=p.href.slice(p.href.indexOf("#")+1);g!==void 0&&(m={fragment:g})}let f={href:p.href,locations:m,type:p.type,title:p.title};this.hideView(),this.navigate(f)}}}),d.appendChild(b)},n=this.publication.tableOfContents,i=this.publication.landmarks,o=this.publication.pageList;this.tocView&&(n.length?t(this.tocView,n):this.tocView.parentElement?.parentElement?.removeChild(this.tocView.parentElement)),this.pageListView&&(o?.length?t(this.pageListView,o):this.pageListView.parentElement?.parentElement?.removeChild(this.pageListView.parentElement)),this.landmarksView&&(i?.length?t(this.landmarksView,i):this.landmarksSection.parentElement?.removeChild(this.landmarksSection));let s;this.annotator&&(s=await this.annotator.getLastReadingPosition());let l=this.publication.getStartLink(),u;if(l&&l.Href&&(u=this.publication.getAbsoluteHref(l.Href)),s){let d=this.publication.getAbsoluteHref(s.href);si.default.log(s.href),si.default.log(d),s.href=d,await this.navigate(s)}else if(u){let d={href:u,locations:{progression:0},created:new Date,title:l?.Title};await this.navigate(d)}return new Promise(d=>d())}catch(t){return si.default.error(t),this.abortOnError(t),new Promise((n,i)=>i(t)).catch(()=>{})}}async handleIFrameLoad(){this.errorMessage&&(this.errorMessage.style.display="none"),this.showLoadingMessageAfterDelay();try{let t=0;this.newPosition&&(t=this.newPosition.locations.progression),await this.handleResize(),this.updateBookView({skipDrawingAnnotations:!0}),await this.settings.applyProperties();let n=this.currentChapterLink.href;if(n){let d=this.publication.getPreviousSpineItem(n);d&&d.Href&&(this.previousChapterLink={href:d.Href,title:d.Title,type:d.TypeLink})}this.previousChapterAnchorElement&&(this.previousChapterLink&&this.previousChapterLink.href?(this.previousChapterAnchorElement.href=this.publication.getAbsoluteHref(this.previousChapterLink.href),this.previousChapterAnchorElement.className=this.previousChapterAnchorElement.className.replace(" disabled","")):(this.previousChapterAnchorElement.removeAttribute("href"),this.previousChapterAnchorElement.className+=" disabled"));let i=this.publication.getNextSpineItem(n);i?this.nextChapterLink={href:i.Href,title:i.Title,type:i.TypeLink}:this.nextChapterLink=void 0,this.nextChapterAnchorElement&&(this.nextChapterLink&&this.nextChapterLink.href?(this.nextChapterAnchorElement.href=this.publication.getAbsoluteHref(this.nextChapterLink.href),this.nextChapterAnchorElement.className=this.nextChapterAnchorElement.className.replace(" disabled","")):(this.nextChapterAnchorElement.removeAttribute("href"),this.nextChapterAnchorElement.className+=" disabled")),this.historyModule&&this.historyModule.setup(),this.currentTocUrl!==void 0?this.setActiveTOCItem(this.currentTocUrl):this.setActiveTOCItem(n),this.publication.Metadata.Title&&this.bookTitle&&(this.bookTitle.innerHTML=this.publication.Metadata.Title.toString());let o=this.publication.getSpineItem(n);o!==void 0&&(this.currentChapterLink.title=o.Title,this.currentChapterLink.type=o.TypeLink);let s=this.publication.getTOCItem(n);this.currentTocUrl!==void 0&&(s=this.publication.getTOCItem(this.currentTocUrl)),!this.currentChapterLink.title&&s!==void 0&&s.Title&&(this.currentChapterLink.title=s.Title),!this.currentChapterLink.type&&s!==void 0&&s.TypeLink&&(this.currentChapterLink.title=s.Title),this.currentChapterLink.title?this.chapterTitle&&(this.chapterTitle.innerHTML="("+this.currentChapterLink.title+")"):this.chapterTitle&&(this.chapterTitle.innerHTML="(Current Chapter)"),await this.injectInjectablesIntoIframeHead(),this.highlighter!==void 0&&await this.highlighter.initialize();let u=this.iframes[0].contentDocument?.body?.querySelector("details");if(u){let d=this;u.addEventListener("toggle",async h=>{await d.view?.setIframeHeight?.(this.iframes[0])})}if(this.eventHandler){for(let d of this.iframes)this.eventHandler.setupEvents(d.contentDocument),this.touchEventHandler.setupEvents(d.contentDocument),this.keyboardEventHandler.setupEvents(d.contentDocument);this.touchEventHandler.setupEvents(this.errorMessage),this.didInitKeyboardEventHandler||(this.keyboardEventHandler.keydown(document),this.didInitKeyboardEventHandler=!0)}if(this.view?.layout!=="fixed"&&this.view?.isScrollMode()&&(this.iframes[0].height="0",this.view?.setIframeHeight?.(this.iframes[0])),this.rights.enableContentProtection&&this.contentProtectionModule&&await this.contentProtectionModule.initialize(),this.rights.enableConsumption&&this.consumptionModule&&await this.consumptionModule.initialize(),this.rights.enableAnnotations&&this.annotationModule&&await this.annotationModule.initialize(),this.rights.enableBookmarks&&this.bookmarkModule&&await this.bookmarkModule.initialize(),this.rights.enableLineFocus&&this.lineFocusModule&&await this.lineFocusModule.initialize(),this.rights.enableTTS&&this.ttsModule){let d=this.iframes[0].contentDocument?.body;await this.ttsModule.initialize(d)}return this.rights.enableTimeline&&this.timelineModule&&await this.timelineModule.initialize(),this.rights.enableMediaOverlays&&this.mediaOverlayModule&&this.hasMediaOverlays&&await this.mediaOverlayModule.initialize(),setTimeout(async()=>{if(this.newElementId){let d=this.iframes[0].contentDocument.getElementById(this.newElementId);this.view?.goToElement?.(d),this.newElementId=void 0}else if(this.newPosition&&this.newPosition.highlight){let d=this.newPosition.highlight?.selectionInfo.rangeInfo.startContainerElementCssSelector;d&&this.view?.goToCssSelector(d)}else t&&t>=0&&this.view?.goToProgression(t);if(this.newPosition=void 0,this.rights?.enableContentProtection&&this.contentProtectionModule!==void 0&&await this.contentProtectionModule.recalculate(10),this.hideLoadingMessage(),this.showIframeContents(),this.rights.enableMediaOverlays&&this.mediaOverlayModule&&this.hasMediaOverlays){let d=this.currentLink();await this.mediaOverlayModule?.initializeResource(d)}await this.updatePositionInfo(),await this.view?.setSize(),setTimeout(()=>{this.mediaOverlayModule&&(this.mediaOverlayModule.settings.resourceReady=!0)},300)},200),new Promise(d=>d())}catch(t){return si.default.error(t),this.abortOnError(t),Promise.reject(t)}}async injectInjectablesIntoIframeHead(){let t=[],n=i=>{let o=new Promise((s,l)=>{i.onload=()=>{s(!0)},i.onerror=u=>{let d=typeof u=="string"?u:`Injectable failed to load at: ${"href"in i?i.href:i.src}`;l(new Error(d))}});t.push(o)};for(let i of this.iframes){let o=i.contentDocument?.head;o&&(i.contentDocument.getElementsByTagName("base").length===0&&o.insertBefore(dt.createBase(this.currentChapterLink.href),o.firstChild),this.injectables?.forEach(l=>{if(l.type==="style"){if(l.fontFamily){if(this.settings.initAddedFont(),!l.systemFont&&l.url){let u=dt.createCssLink(l.url);o.appendChild(u),n(u)}}else if(l.r2before&&l.url){let u=dt.createCssLink(l.url);o.insertBefore(u,o.firstChild),n(u)}else if(l.r2default&&l.url){let u=dt.createCssLink(l.url);o.insertBefore(u,o.childNodes[1]),n(u)}else if(l.r2after&&l.url){l.appearance&&this.settings.initAddedAppearance();let u=dt.createCssLink(l.url);o.appendChild(u),n(u)}else if(l.url){let u=dt.createCssLink(l.url);o.appendChild(u),n(u)}}else if(l.type==="script"&&l.url){let u=dt.createJavascriptLink(l.url,l.async??!1);o.appendChild(u),n(u)}}))}t.length!==0&&await Promise.all(t)}abortOnError(t){if(this.api?.onError){let n=t instanceof Error?t:typeof t=="string"?new Error(t):new Error("An unknown error occurred in the IFrameNavigator.");this.api.onError(n)}else this.errorMessage&&(this.errorMessage.style.display="block"),this.isLoading&&this.hideLoadingMessage()}tryAgain(){this.precessContentForIframe()}precessContentForIframe(){let t=this;var n=this.publication.getSpineIndex(this.currentChapterLink.href),i=(n??0)%2==1;this.showLoadingMessageAfterDelay();function o(d,h){let b=new DOMParser().parseFromString(d,"application/xhtml+xml");b.head&&b.getElementsByTagName("base").length===0&&b.head.insertBefore(dt.createBase(h),b.head.firstChild);let w=b.documentElement.outerHTML,p=t.iframes[0].contentDocument;p&&(p.open(),p.write(w),p.close())}function s(d,h){let b=new DOMParser().parseFromString(d,"application/xhtml+xml");b.head&&b.getElementsByTagName("base").length===0&&b.head.insertBefore(dt.createBase(h),b.head.firstChild);let w=b.documentElement.outerHTML,p=t.iframes[1].contentDocument;p&&(p.open(),p.write(w),p.close())}let l=new URL(this.currentChapterLink.href),u=window.location.protocol===l.protocol&&window.location.port===l.port&&window.location.hostname===l.hostname;if(this.api?.getContent)if(this.publication.isFixedLayout)if(this.settings.columnCount!==1)if(i){if(this.currentSpreadLinks.left={href:this.currentChapterLink.href},this.api?.getContent(this.currentChapterLink.href).then(d=>{d===void 0?u?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{o.call(this,h,this.currentChapterLink.href)}):o.call(this,d,this.currentChapterLink.href)}),this.iframes.length===2)if((n??0)<this.publication.readingOrder.length-1){let d=this.publication.getNextSpineItem(this.currentChapterLink.href);if(d){let h=this.publication.getAbsoluteHref(d.Href);this.currentSpreadLinks.right={href:h},this.api?.getContent(h).then(y=>{y===void 0?u?this.iframes[1].src=h:fetch(h,this.requestConfig).then(b=>b.text()).then(async b=>{s.call(this,b,h),this.currentSpreadLinks.right={href:h}}):s.call(this,y,h)})}}else this.iframes[1].src="about:blank"}else{if((n??0)>0){let d=this.publication.getPreviousSpineItem(this.currentChapterLink.href);if(d){let h=this.publication.getAbsoluteHref(d.Href);this.currentSpreadLinks.left={href:h},this.api?.getContent(h).then(y=>{y===void 0?u?this.iframes[0].src=h:fetch(h,this.requestConfig).then(b=>b.text()).then(async b=>{o.call(this,b,h)}):o.call(this,y,h)})}}else this.iframes[0].src="about:blank";this.iframes.length===2&&this.publication.isFixedLayout&&(this.currentSpreadLinks.right={href:this.currentChapterLink.href},this.api.getContent(this.currentChapterLink.href).then(d=>{d===void 0?u?this.iframes[1].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{s.call(this,h,this.currentChapterLink.href)}):s.call(this,d,this.currentChapterLink.href)}))}else this.currentSpreadLinks.left={href:this.currentChapterLink.href},this.api?.getContent(this.currentChapterLink.href).then(d=>{d===void 0?u?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{o.call(this,h,this.currentChapterLink.href)}):o.call(this,d,this.currentChapterLink.href)});else this.api?.getContent(this.currentChapterLink.href).then(d=>{this.currentSpreadLinks.left={href:this.currentChapterLink.href},d===void 0?u?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{o.call(this,h,this.currentChapterLink.href)}):o.call(this,d,this.currentChapterLink.href)});else if(this.publication.isFixedLayout)if(this.settings.columnCount!==1)if(i){if(u){if(this.iframes[0].src=this.currentChapterLink.href,this.currentSpreadLinks.left={href:this.currentChapterLink.href},this.iframes.length===2)if((n??0)<this.publication.readingOrder.length-1){let d=this.publication.getNextSpineItem(this.currentChapterLink.href);if(d){let h=this.publication.getAbsoluteHref(d.Href);this.iframes[1].src=h,this.currentSpreadLinks.right={href:h}}}else this.iframes[1].src="about:blank"}else if(fetch(this.currentChapterLink.href,this.requestConfig).then(d=>d.text()).then(async d=>{o.call(this,d,this.currentChapterLink.href)}),this.iframes.length===2)if((n??0)<this.publication.readingOrder.length-1){let d=this.publication.getNextSpineItem(this.currentChapterLink.href);if(d){let h=this.publication.getAbsoluteHref(d.Href);this.currentSpreadLinks.right={href:h},fetch(h,this.requestConfig).then(y=>y.text()).then(async y=>{s.call(this,y,h)})}}else this.iframes[1].src="about:blank"}else{if((n??0)>0){let d=this.publication.getPreviousSpineItem(this.currentChapterLink.href);if(d){let h=this.publication.getAbsoluteHref(d.Href);this.currentSpreadLinks.left={href:h},u?(this.iframes[0].src=h,this.iframes.length===2&&(this.iframes[1].src=this.currentChapterLink.href)):(fetch(h,this.requestConfig).then(y=>y.text()).then(async y=>{o.call(this,y,h)}),this.iframes.length===2&&(this.currentSpreadLinks.right={href:this.currentChapterLink.href},fetch(this.currentChapterLink.href,this.requestConfig).then(y=>y.text()).then(async y=>{s.call(this,y,this.currentChapterLink.href)})))}}else this.iframes[0].src="about:blank";this.iframes.length===2&&(this.currentSpreadLinks.right={href:this.currentChapterLink.href},u?this.iframes[1].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(d=>d.text()).then(async d=>{s.call(this,d,this.currentChapterLink.href)}))}else this.currentSpreadLinks.left={href:this.currentChapterLink.href},u?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(d=>d.text()).then(async d=>{o.call(this,d,this.currentChapterLink.href)});else this.currentSpreadLinks.left={href:this.currentChapterLink.href},u?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(d=>d.text()).then(async d=>{o.call(this,d,this.currentChapterLink.href)});this.publication.isFixedLayout&&setTimeout(()=>{let d,h,y;if(n===0&&this.iframes?.length===2?y=this.iframes[1].contentDocument:y=this.iframes[0].contentDocument,y&&y.body&&(d=getComputedStyle(y.body).height,h=getComputedStyle(y.body).width,parseInt(d?.replace("px",""))===0||parseInt(h?.replace("px",""))===0)){let m=un(y,"head");if(m){let f=Ie(m,"meta[name=viewport]");if(f){var b=f.content,w=b.split(",").reduce((g,v)=>{var[A,C]=v.match(/[^\s;=]+/g);return g[A]=isNaN(Number(C))?C:+C,g},{});d=w.height+"px",h=w.width+"px"}}}var p=n===0&&this.iframes.length===2?this.iframes[1].parentElement?.parentElement:this.iframes[0].parentElement?.parentElement;p&&h&&this.adjustScaling(h,d,p)},400)}static goBack(){window.history.back()}handleEditClick(t){var n=t.target;if(this.headerMenu){var i=Ie(document,".sidenav");n.className.indexOf(" active")===-1?(n.className+=" active",i.className+=" expanded",n.innerText="unfold_less",this.sideNavExpanded=!0,this.bookmarkModule?.showBookmarks(),this.annotationModule?.showHighlights()):(n.className=n.className.replace(" active",""),i.className=i.className.replace(" expanded",""),n.innerText="unfold_more",this.sideNavExpanded=!1,this.bookmarkModule?.showBookmarks(),this.annotationModule?.showHighlights())}t.preventDefault(),t.stopPropagation()}get hasMediaOverlays(){return this.publication.hasMediaOverlays}startReadAloud(){this.rights.enableTTS&&this.ttsModule.speakPlay()}startReadAlong(){this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&this.mediaOverlayModule?.startReadAloud()}stopReadAloud(){this.rights.enableTTS&&this.highlighter?.stopReadAloud()}stopReadAlong(){this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&this.mediaOverlayModule?.stopReadAloud()}pauseReadAloud(){this.rights.enableTTS&&(this.ttsModule.speakPause(),this.annotationModule!==void 0&&this.annotationModule.drawHighlights())}pauseReadAlong(){this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&this.mediaOverlayModule?.pauseReadAloud()}resumeReadAloud(){this.rights.enableTTS&&this.ttsModule.speakResume()}resumeReadAlong(){this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&this.mediaOverlayModule?.resumeReadAloud()}totalResources(){return this.publication.readingOrder.length}mostRecentNavigatedTocItem(){return this.publication.getRelativeHref(this.currentTOCRawLink)}currentResource(){let t=this.currentChapterLink.href;return this.publication.getSpineIndex(t)}currentLink(){if(this.settings.columnCount!==1&&this.currentSpreadLinks.left!==void 0&&this.currentSpreadLinks.right!==void 0){let n=this.publication.getSpineItem(this.currentSpreadLinks.left.href),i=this.publication.getSpineItem(this.currentSpreadLinks.right.href);return[n,i]}let t=this.currentChapterLink.href;return[this.publication.getSpineItem(t)]}tableOfContents(){return this.publication.tableOfContents}readingOrder(){return this.publication.readingOrder}atStart(){return this.view?.atStart()??!1}atEnd(){return this.view?.atEnd()??!1}previousPage(){this.handlePreviousPageClick(void 0)}nextPage(){this.handleNextPageClick(void 0)}previousResource(){this.handlePreviousChapterClick(void 0)}nextResource(){this.handleNextChapterClick(void 0)}goTo(t){let n=t.locations??{progression:0};if(t.href.indexOf("#")!==-1){let s=t.href.slice(t.href.indexOf("#")+1);s!==void 0&&(n=Yt(et({},n),{fragment:s}))}let i=et({},t);i.locations=n;let o=this.publication.getAbsoluteHref(t.href);si.default.log(t.href),si.default.log(o),i.href=o,this.stopReadAloud(),this.navigate(i)}currentLocator(){let t;if(this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let n=this.publication.positionsByHref(this.publication.getRelativeHref(this.currentChapterLink.href)),i=Math.ceil((this.view?.getCurrentPosition()??0)*(n.length-1));t=n[i]}else{let n=this.publication.getTOCItem(this.currentChapterLink.href);n&&(this.currentTocUrl!==void 0&&(n=this.publication.getTOCItem(this.currentTocUrl)),n===void 0&&(n=this.publication.getTOCItemAbsolute(this.currentChapterLink.href)),n&&(t={href:n.Href,type:this.currentChapterLink.type,title:this.currentChapterLink.title,locations:{}}))}return t&&(t.locations.progression=this.view?.getCurrentPosition(),t.displayInfo={resourceScreenIndex:Math.round(this.view?.getCurrentPage()??0),resourceScreenCount:Math.round(this.view?.getPageCount()??0)}),t}positions(){return this.publication.positions?this.publication.positions:[]}goToPosition(t){if(this.publication.positions){let n=this.publication.positions.filter(i=>i.locations.position===parseInt(String(t)))[0];this.goTo(n)}}async goToPage(t){this.pageBreakModule!==void 0&&await this.pageBreakModule.goToPageNumber(t)}snapToSelector(t){let n=this.iframes[0].contentDocument;if(n){si.default.log(t);let i=n.querySelectorAll(t);i.length>0&&this.view?.snap(i[0])}}applyAttributes(t){this.attributes=t,this.view.attributes=t,this.handleResize()}handlePreviousPageClick(t){this.stopReadAloud(),this.view?.layout==="fixed"?this.handlePreviousChapterClick(t):(this.view?.atStart()?this.handlePreviousChapterClick(t):(this.view?.goToPreviousPage?.(),this.updatePositionInfo(),this.savePosition()),t&&(t.preventDefault(),t.stopPropagation()))}handleNextPageClick(t){let n=!0;if(this.sample?.isSampleRead&&this.publication.positions){let i=this.currentLocator(),o=Math.round((i.locations.totalProgression??0)*100);this.sample?.limit&&(n=o<=this.sample?.limit,this.view?.layout==="fixed"&&((!n&&this.sample?.minimum&&i.locations.position)??0<=(this.sample?.minimum??0))&&(n=!0))}(n&&this.sample?.isSampleRead&&this.publication.positions||!this.sample?.isSampleRead||!this.publication.positions)&&(this.stopReadAloud(),this.view?.layout==="fixed"?this.handleNextChapterClick(t):(this.view?.atEnd()?this.handleNextChapterClick(t):(this.view?.goToNextPage?.(),this.updatePositionInfo(),this.savePosition()),t&&(t.preventDefault(),t.stopPropagation()))),!n&&this.sample?.isSampleRead&&this.publication.positions&&t&&(t.preventDefault(),t.stopPropagation())}handleClickThrough(t){}handleInternalLink(t){let n=t.target,i={progression:0},o=n;if(o.href.indexOf("#")!==-1){let l=o.href.slice(o.href.indexOf("#")+1);l!==void 0&&(i={fragment:l})}let s={href:o.href,locations:i,type:o.type,title:o.title};t.preventDefault(),t.stopPropagation(),this.stopReadAloud(),this.navigate(s)}handleNumberOfIframes(){if(this.publication.isFixedLayout){if(this.settings.columnCount!==1&&!window.matchMedia("screen and (max-width: 600px)").matches){if(this.iframes.length===1){var t=document.createElement("iframe");t.setAttribute("SCROLLING","no"),t.setAttribute("allowtransparency","true"),t.style.opacity="1",t.style.border="none",t.style.overflow="hidden",this.iframes.push(t)}let n=document.createElement("div");this.spreads.appendChild(n),n.appendChild(this.iframes[1]),this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 100% 120%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc",n.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, 0% 120%)",n.style.boxShadow="0 0 8px 2px #ccc"}else this.iframes.length===2&&(this.iframes.pop(),this.spreads.lastChild&&this.spreads.removeChild(this.spreads.lastChild)),this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc";this.precessContentForIframe()}}async handleResize(){if(this.isScrolling)return;if(this.publication.isFixedLayout){var t=this.publication.getSpineIndex(this.currentChapterLink.href);let l=tr()-(this.attributes?.margin??0);var n=t===0&&this.iframes.length===2?this.iframes[1].parentElement?.parentElement:this.iframes[0].parentElement?.parentElement;if(n){n.style.height=l+"px";let u,d,h;t===0&&this.iframes?.length===2?h=this.iframes[1].contentDocument:h=this.iframes[0].contentDocument,h&&h.body&&(u=getComputedStyle(h.body).height,d=getComputedStyle(h.body).width);let y=un(h,"head");if(y){let b=Ie(y,"meta[name=viewport]");if(b){var i=b.content,o=i.split(",").reduce((w,p)=>{var[m,f]=p.match(/[^\s;=]+/g);return w[m]=isNaN(Number(f))?f:+f,w},{});(parseInt(o.height)!==0||parseInt(o.width)!==0)&&(u=o.height+"px",d=o.width+"px")}}this.adjustScaling(d,u,n)}}let s=this.view?.getCurrentPosition();await this.settings.applyProperties(),this.infoTop&&(this.infoTop.style.height=0+"px"),this.infoTop&&(this.infoTop.style.minHeight=0+"px"),this.infoBottom&&(this.infoBottom.style.height=this.attributes?.bottomInfoHeight?this.attributes.bottomInfoHeight+"px":40+"px"),this.view?.layout!=="fixed"&&this.settings.isPaginated().then(l=>{l?(this.view.height=tr()-40-(this.attributes?.margin??0),this.infoBottom&&this.infoBottom.style.removeProperty("display")):this.infoBottom&&(this.infoBottom.style.display="none")}),setTimeout(()=>{this.view?.layout!=="fixed"&&this.view?.isScrollMode()&&this.view?.setIframeHeight?.(this.iframes[0])},100),setTimeout(async()=>{s&&this.view?.goToProgression(s),await this.updatePositionInfo(!1),this.annotationModule!==void 0&&await this.annotationModule.handleResize(),this.bookmarkModule!==void 0&&await this.bookmarkModule.handleResize(),this.searchModule!==void 0&&await this.searchModule.handleResize(),this.definitionsModule!==void 0&&await this.definitionsModule.handleResize(),this.pageBreakModule!==void 0&&await this.pageBreakModule.handleResize(),this.contentProtectionModule!==void 0&&this.contentProtectionModule.handleResize(),this.lineFocusModule!==void 0&&this.lineFocusModule.handleResize(),this.historyModule!==void 0&&this.historyModule.handleResize()},150)}adjustScaling(t,n,i){let o=parseFloat(t?.replace("px","")),s=parseFloat(n?.replace("px",""));var l=parseFloat(getComputedStyle(i).width)/(this.iframes.length===2?o*2+200:o),u=parseFloat(getComputedStyle(i).height)/s,d=Math.min(l,u);i.style.transform="scale("+d+")";for(let h of this.iframes)h.style.height=s+1+"px",h.style.width=o+1+"px"}updatePositionInfo(t=!0){if(this.view?.layout==="fixed")this.chapterPosition&&(this.chapterPosition.innerHTML=""),this.remainingPositions&&(this.remainingPositions.innerHTML="");else if(this.view?.isPaginated()){let n=this.currentLocator();if(n){let i=n.displayInfo.resourceScreenIndex,o=n.displayInfo.resourceScreenCount;this.chapterPosition&&(this.chapterPosition.innerHTML="Page "+i+" of "+o)}}else this.chapterPosition&&(this.chapterPosition.innerHTML=""),this.remainingPositions&&(this.remainingPositions.innerHTML="");t&&this.savePosition()}handlePreviousChapterClick(t){if(this.view?.layout==="fixed"&&this.settings.columnCount!==1){let n=this.publication.getSpineIndex(this.currentChapterLink.href)??0;n=n-2,n<0&&(n=0);let i=this.publication.readingOrder[n],o={href:this.publication.getAbsoluteHref(i.Href),locations:{progression:0},type:i.TypeLink,title:i.Title};this.stopReadAloud(),this.navigate(o,!1)}else if(this.previousChapterLink){let n={href:this.publication.getAbsoluteHref(this.previousChapterLink.href),locations:{progression:1},type:this.previousChapterLink.type,title:this.previousChapterLink.title};this.stopReadAloud(),this.navigate(n,!1)}t&&(t.preventDefault(),t.stopPropagation())}handleNextChapterClick(t){if(this.view?.layout==="fixed"&&this.settings.columnCount!==1){let n=this.publication.getSpineIndex(this.currentChapterLink.href)??0;n=n+2,n>=this.publication.readingOrder.length-1&&(n=this.publication.readingOrder.length-1);let i=this.publication.readingOrder[n],o={href:this.publication.getAbsoluteHref(i.Href),locations:{progression:0},type:i.TypeLink,title:i.Title};this.stopReadAloud(),this.stopReadAlong(),this.navigate(o,!1)}else if(this.nextChapterLink){let n={href:this.publication.getAbsoluteHref(this.nextChapterLink.href),locations:{progression:0},type:this.nextChapterLink.type,title:this.nextChapterLink.title};this.stopReadAloud(),this.stopReadAlong(),this.navigate(n,!1)}t&&(t.preventDefault(),t.stopPropagation())}hideView(){this.view?.layout!=="fixed"&&this.view?.isScrollMode()&&(document.body.style.overflow="auto")}setActiveTOCItem(t){if(this.tocView){let n=Array.prototype.slice.call(this.tocView.querySelectorAll("li > a"));for(let o of n)o.className=o.className.replace(" active","");let i=this.tocView.querySelector('li > a[href^="'+t+'"]');i&&(i.className+=" active")}}async navigate(t,n=!0){if(this.rights.enableConsumption&&this.consumptionModule&&n&&this.consumptionModule.startReadingSession(t),this.historyModule&&await this.historyModule.push(t,n),this.publication.getTOCItem(t.href)){var o=!1;if(t.href.indexOf("#")!==-1){let s=t.href.slice(0,t.href.indexOf("#"));s===this.currentChapterLink.href&&(o=!0),this.currentChapterLink.href=s,this.currentChapterLink.type=t.type,this.currentChapterLink.title=t.title}else t.href===this.currentChapterLink.href&&(o=!0),this.currentChapterLink.href=t.href,this.currentChapterLink.type=t.type,this.currentChapterLink.title=t.title;if(this.currentSpreadLinks.left!==void 0&&this.currentSpreadLinks.right!==void 0&&(t.href===this.currentSpreadLinks.left.href||t.href===this.currentSpreadLinks.right.href))return;if(o){if(t.href.indexOf("#")!==-1){let y=t.href.slice(t.href.indexOf("#")+1);t.locations={fragment:y}}if(this.newPosition=t,this.currentTOCRawLink=t.href,t.locations.fragment===void 0?this.currentTocUrl=void 0:(this.newElementId=t.locations.fragment,this.currentTocUrl=this.currentChapterLink.href+"#"+this.newElementId),this.newElementId){for(let y of this.iframes){let b=y.contentDocument.getElementById(this.newElementId);this.view?.goToElement?.(b)}this.newElementId=void 0}else if(t.highlight){let y=t.highlight?.selectionInfo.rangeInfo.startContainerElementCssSelector;y&&this.view?.goToCssSelector(y)}else this.view?.goToProgression(t.locations.progression??0);let s=this.currentChapterLink.href,l=this.publication.getPreviousSpineItem(s);l&&l.Href&&(this.previousChapterLink={href:l.Href,type:l.TypeLink,title:l.Title}),this.previousChapterAnchorElement&&(this.previousChapterLink?(this.previousChapterAnchorElement.href=this.publication.getAbsoluteHref(this.previousChapterLink.href),this.previousChapterAnchorElement.className=this.previousChapterAnchorElement.className.replace(" disabled","")):(this.previousChapterAnchorElement.removeAttribute("href"),this.previousChapterAnchorElement.className+=" disabled"));let u=this.publication.getNextSpineItem(s);u?this.nextChapterLink={href:u.Href,type:u.TypeLink,title:u.Title}:this.nextChapterLink=void 0,this.nextChapterAnchorElement&&(this.nextChapterLink?(this.nextChapterAnchorElement.href=this.publication.getAbsoluteHref(this.nextChapterLink.href),this.nextChapterAnchorElement.className=this.nextChapterAnchorElement.className.replace(" disabled","")):(this.nextChapterAnchorElement.removeAttribute("href"),this.nextChapterAnchorElement.className+=" disabled")),this.currentTocUrl!==void 0?this.setActiveTOCItem(this.currentTocUrl):this.setActiveTOCItem(s),this.publication.Metadata.Title&&this.bookTitle&&(this.bookTitle.innerHTML=this.publication.Metadata.Title.toString());let d=this.publication.getSpineItem(s);d!==void 0&&(this.currentChapterLink.title=d.Title,this.currentChapterLink.type=d.TypeLink);let h=this.publication.getTOCItem(s);this.currentTocUrl!==void 0&&(h=this.publication.getTOCItem(this.currentTocUrl)),!this.currentChapterLink.title&&h!==void 0&&h.Title&&(this.currentChapterLink.title=h.Title),!this.currentChapterLink.type&&h!==void 0&&h.TypeLink&&(this.currentChapterLink.title=h.Title),this.currentChapterLink.title?this.chapterTitle&&(this.chapterTitle.innerHTML="("+this.currentChapterLink.title+")"):this.chapterTitle&&(this.chapterTitle.innerHTML="(Current Chapter)"),await this.updatePositionInfo()}else this.lineFocusModule!==void 0&&this.lineFocusModule.disableLineFocus(!1),this.searchModule!==void 0&&this.searchModule.clearSearch(),t.locations.fragment===void 0?this.currentTocUrl=void 0:(this.newElementId=t.locations.fragment,this.currentTocUrl=this.currentChapterLink.href+"#"+this.newElementId),this.hideIframeContents(),this.showLoadingMessageAfterDelay(),t.locations===void 0&&(t.locations={progression:0}),this.newPosition=t,this.currentTOCRawLink=t.href,this.precessContentForIframe(),this.rights.enableContentProtection&&this.contentProtectionModule!==void 0&&await this.contentProtectionModule.initializeResource(),this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&await this.mediaOverlayModule.initializeResource(this.currentLink()),this.rights.enableContentProtection&&this.contentProtectionModule!==void 0&&await this.contentProtectionModule.recalculate(300),this.bookmarkModule&&(await this.bookmarkModule.drawBookmarks(),await this.bookmarkModule.showBookmarks()),this.pageBreakModule&&(await this.highlighter?.destroyHighlights(it.PageBreak),await this.pageBreakModule.drawPageBreaks()),this.rights.enableSearch&&this.searchModule!==void 0&&this.highlighter!==void 0&&(await this.highlighter.destroyHighlights(it.Search),this.searchModule.drawSearch()),this.rights.enableDefinitions&&this.definitionsModule&&this.highlighter&&await this.definitionsModule.drawDefinitions(),this.rights.enableConsumption&&this.consumptionModule&&this.consumptionModule.continueReadingSession(t),this.view?.layout==="fixed"?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.api?.resourceFitsScreen&&this.api?.resourceFitsScreen(),this.emit("resource.fits")):this.settings.isPaginated().then(s=>{s||(this.view?.atStart()&&this.view?.atEnd()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):this.view?.atEnd()?(this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset")):this.view?.atStart()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")))})}else{let s=this.publication.getStartLink(),l;if(s&&s.Href&&(l=this.publication.getAbsoluteHref(s.Href),l)){let u={href:l,locations:{progression:0},created:new Date,title:s.Title};await this.navigate(u)}}}showIframeContents(){this.isBeingStyled=!1,setTimeout(()=>{this.isBeingStyled||this.iframes.forEach(t=>{t.style.opacity="1",t.style.border="none",t.style.overflow="hidden"})},150)}showLoadingMessageAfterDelay(){this.isLoading=!0,this.isLoading&&this.loadingMessage&&(this.loadingMessage.style.display="block",this.loadingMessage.classList.add("is-loading")),this.mediaOverlayModule!==void 0&&(this.mediaOverlayModule.settings.resourceReady=!1)}hideIframeContents(){this.isBeingStyled=!0,this.iframes.forEach(t=>{t.style.opacity="0",t.style.border="none",t.style.overflow="hidden"})}hideLoadingMessage(){setTimeout(()=>{this.isLoading=!1,this.loadingMessage&&(this.loadingMessage.style.display="none",this.loadingMessage.classList.remove("is-loading")),this.view?.layout!=="fixed"&&(this.view?.atStart()&&this.view?.atEnd()?(this.api?.resourceFitsScreen&&this.api?.resourceFitsScreen(),this.emit("resource.fits")):this.view?.atEnd()?(this.api?.resourceAtEnd&&this.api?.resourceAtEnd(),this.emit("resource.end")):this.view?.atStart()&&(this.api?.resourceAtStart&&this.api?.resourceAtStart(),this.emit("resource.start"))),this.api?.resourceReady&&this.api?.resourceReady(),this.emit("resource.ready")},150)}saveCurrentReadingPosition(){if(this.annotator){var t=this.publication.getTOCItem(this.currentChapterLink.href);this.currentTocUrl!==void 0&&(t=this.publication.getTOCItem(this.currentTocUrl)),t===void 0&&(t=this.publication.getTOCItemAbsolute(this.currentChapterLink.href));let n={progression:this.view?.getCurrentPosition()};if(t){if(t.Href.indexOf("#")!==-1){let o=t.Href.slice(t.Href.indexOf("#")+1);o!==void 0&&(n={progression:this.view?.getCurrentPosition(),fragment:o})}let i;if(this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let o=this.publication.positionsByHref(this.publication.getRelativeHref(t.Href));if(o.length>0){let s=Math.ceil((n.progression??0)*(o.length-1)),l=o[s];l&&(l.locations.fragment=n.fragment,i=Yt(et({},l),{href:t.Href,created:new Date,title:this.currentChapterLink.title}))}}else i={href:t.Href,locations:n,created:new Date,type:this.currentChapterLink.type,title:this.currentChapterLink.title};i&&(this.sample?.isSampleRead&&this.publication.positions&&this.sampleReadEventHandler?.enforceSampleRead(i),this.api?.updateCurrentLocation?this.api?.updateCurrentLocation(i).then(async o=>(si.default.log("api updated current location",i),this.annotator?.saveLastReadingPosition(i))):(si.default.log("save last reading position",i),this.annotator.saveLastReadingPosition(i)),this.consumptionModule&&this.consumptionModule.continueReadingSession(i))}}}static createBase(t){let n=document.createElement("base");return n.target="_self",n.href=t,n}static createCssLink(t){let n=document.createElement("link");return n.rel="stylesheet",n.type="text/css",n.href=t,n}static createJavascriptLink(t,n){let i=document.createElement("script");return i.type="text/javascript",i.src=t,i.async=n,i}activateMarker(t,n){this.annotationModule!==void 0&&(this.annotationModule.activeAnnotationMarkerId===void 0||this.annotationModule.activeAnnotationMarkerId!==t?(this.annotationModule.activeAnnotationMarkerId=t,this.annotationModule.activeAnnotationMarkerPosition=n,this.highlighter&&(this.highlighter.activeAnnotationMarkerId=t)):this.deactivateMarker())}deactivateMarker(){this.annotationModule!==void 0&&(this.annotationModule.activeAnnotationMarkerId=void 0,this.annotationModule.activeAnnotationMarkerPosition=void 0,this.highlighter&&(this.highlighter.activeAnnotationMarkerId=void 0))}showLayer(t){let n="#",i=new Xa("layer-on","layer-off",!0,t,"layer-"+t);switch(t){case"annotations":case"highlights":n+=qe.R2_ID_HIGHLIGHTS_CONTAINER,i.name=qe.R2_ID_HIGHLIGHTS_CONTAINER;break;case"readaloud":n+=qe.R2_ID_READALOUD_CONTAINER,i.name=qe.R2_ID_READALOUD_CONTAINER;break;case"pagebreak":n+=qe.R2_ID_PAGEBREAK_CONTAINER,i.name=qe.R2_ID_PAGEBREAK_CONTAINER;break;case"search":n+=qe.R2_ID_SEARCH_CONTAINER,i.name=qe.R2_ID_SEARCH_CONTAINER;break;case"definitions":n+=qe.R2_ID_DEFINITIONS_CONTAINER,i.name=qe.R2_ID_DEFINITIONS_CONTAINER;break}this.highlighter?.layerSettings.saveProperty(i);let o=this.iframes[0].contentDocument;if(o){let s=Ie(o,n);s&&(s.style.display="block")}}hideLayer(t){let n="#",i=new Xa("layer-on","layer-off",!1,t,"layer-"+t);switch(t){case"annotations":case"highlights":n+=qe.R2_ID_HIGHLIGHTS_CONTAINER,i.name=qe.R2_ID_HIGHLIGHTS_CONTAINER;break;case"readaloud":n+=qe.R2_ID_READALOUD_CONTAINER,i.name=qe.R2_ID_READALOUD_CONTAINER;break;case"pagebreak":n+=qe.R2_ID_PAGEBREAK_CONTAINER,i.name=qe.R2_ID_PAGEBREAK_CONTAINER;break;case"search":n+=qe.R2_ID_SEARCH_CONTAINER,i.name=qe.R2_ID_SEARCH_CONTAINER;break;case"definitions":n+=qe.R2_ID_DEFINITIONS_CONTAINER,i.name=qe.R2_ID_DEFINITIONS_CONTAINER;break}this.highlighter?.layerSettings.saveProperty(i);let o=this.iframes[0].contentDocument;if(o){let s=Ie(o,n);s&&(s.style.display="none")}}};H();var Rt=class{constructor(t){this.store=t.store}getLastReadingPosition(){let t=this.store.get(Rt.LAST_READING_POSITION);return t?JSON.parse(t):null}initLastReadingPosition(t){if(typeof t=="string")this.store.set(Rt.LAST_READING_POSITION,t);else{let n=JSON.stringify(t);this.store.set(Rt.LAST_READING_POSITION,n)}}saveLastReadingPosition(t){if(typeof t=="string")this.store.set(Rt.LAST_READING_POSITION,t);else{let n=JSON.stringify(t);this.store.set(Rt.LAST_READING_POSITION,n)}}initBookmarks(t){if(typeof t=="string"){let n=JSON.parse(t);this.store.set(Rt.BOOKMARKS,JSON.stringify(n))}else this.store.set(Rt.BOOKMARKS,JSON.stringify(t));return t}saveBookmark(t){let n=this.store.get(Rt.BOOKMARKS);if(n){let i=JSON.parse(n);i.push(t),this.store.set(Rt.BOOKMARKS,JSON.stringify(i))}else{let i=[];i.push(t),this.store.set(Rt.BOOKMARKS,JSON.stringify(i))}return t}locatorExists(t,n){let i;switch(n){case Si.Bookmark:i=Rt.BOOKMARKS;break}let o=this.store.get(i);return o&&JSON.parse(o).filter(u=>u.href===t.href&&u.locations.progression===t.locations.progression).length>0?t:null}deleteBookmark(t){let n=this.store.get(Rt.BOOKMARKS);if(n){let i=JSON.parse(n);i=i.filter(o=>o.id!==t.id),this.store.set(Rt.BOOKMARKS,JSON.stringify(i))}return t}getBookmarks(t){let n=this.store.get(Rt.BOOKMARKS);if(n){let i=JSON.parse(n);if(t){let o=i.filter(s=>s.href===t);return o=o.sort((s,l)=>{if(s.locations.progression&&l.locations.progression)return s.locations.progression-l.locations.progression}),o}return i=i.sort((o,s)=>{if(o.locations.progression&&s.locations.progression)return o.locations.progression-s.locations.progression}),i}return[]}initAnnotations(t){let n;typeof t=="string"?n=JSON.parse(t):n=t;let i=[];return n.forEach(o=>{let s=`${o.highlight.selectionInfo.rangeInfo.startContainerElementCssSelector}${o.highlight.selectionInfo.rangeInfo.startContainerChildTextNodeIndex}${o.highlight.selectionInfo.rangeInfo.startOffset}${o.highlight.selectionInfo.rangeInfo.endContainerElementCssSelector}${o.highlight.selectionInfo.rangeInfo.endContainerChildTextNodeIndex}${o.highlight.selectionInfo.rangeInfo.endOffset}`,l=Fi.hash(s);o.highlight.id="R2_HIGHLIGHT_"+l;let u;o.highlight.color?u=o.highlight.color:o.color&&(u=o.color),Qe.isHexColor(u)&&(u=Qe.hexToRgbString(u)),o.highlight.color=u,o.highlight.pointerInteraction=!0,o.highlight.selectionInfo.cleanText=o.highlight.selectionInfo.rawText.trim().replace(/\n/g," ").replace(/\s\s+/g," "),i.push(o)}),this.store.set(Rt.ANNOTATIONS,JSON.stringify(i)),i}saveTemporarySelectionInfo(t){this.store.set(Rt.SELECTIONINFO,JSON.stringify(t))}getTemporarySelectionInfo(t){let n=this.store.get(Rt.SELECTIONINFO);if(n){let i=JSON.parse(n);return i.range=Vd(t,i.rangeInfo),i}return[]}deleteTemporarySelectionInfo(){this.store.remove(Rt.SELECTIONINFO)}saveAnnotation(t){let n=this.store.get(Rt.ANNOTATIONS);if(n){let i=JSON.parse(n);i.push(t),this.store.set(Rt.ANNOTATIONS,JSON.stringify(i))}else{let i=[];i.push(t),this.store.set(Rt.ANNOTATIONS,JSON.stringify(i))}return t}deleteAnnotation(t){let n=this.store.get(Rt.ANNOTATIONS);if(n){let i=JSON.parse(n);i=i.filter(o=>o.id!==t),this.store.set(Rt.ANNOTATIONS,JSON.stringify(i))}return t}deleteSelectedAnnotation(t){let n=this.store.get(Rt.ANNOTATIONS);if(n){let i=JSON.parse(n);i=i.filter(o=>o.highlight?.id!==t.highlight.id),this.store.set(Rt.ANNOTATIONS,JSON.stringify(i))}return t}getAnnotations(){let t=this.store.get(Rt.ANNOTATIONS);if(t){let n=JSON.parse(t);return n=n.sort((i,o)=>{if(i.locations.progression&&o.locations.progression)return i.locations.progression-o.locations.progression}),n}return[]}getAnnotationsByChapter(t){let n=this.store.get(Rt.ANNOTATIONS);if(n){let i=JSON.parse(n);return i=i.filter(o=>o.href===t),i=i.sort((o,s)=>{if(o.locations.progression&&s.locations.progression)return o.locations.progression-s.locations.progression}),i}return[]}getAnnotationPosition(t,n){let i=this.store.get(Rt.ANNOTATIONS);if(i){let s=JSON.parse(i).filter(l=>l.highlight?.id===t||l.id===t);if(s.length>0){let l=n.document.getElementById(`${s[0].highlight.id}`);if(l){let u=0;if(l.hasChildNodes)for(let d=0;d<l.childNodes.length;d++){let h=l.childNodes[d],y=parseInt(h.style.top.replace("px",""));(y<u||u===0)&&(u=y)}else u=parseInt(l.style.top.replace("px",""));return u}}}return null}getAnnotationElement(t,n){let i=this.store.get(Rt.ANNOTATIONS);if(i){let s=JSON.parse(i).filter(l=>l.highlight?.id===t);if(s.length>0){let l=n.document.getElementById(`${s[0].highlight.id}`);if(l){let u=0;if(l.hasChildNodes)for(let d=0;d<l.childNodes.length;d++){let h=l.childNodes[d],y=parseInt(h.style.top.replace("px",""));if(y<u||u===0)return u=y,h}else u=parseInt(l.style.top.replace("px",""));return l}}}return null}getAnnotation(t){let n=this.store.get(Rt.ANNOTATIONS);if(n){let o=JSON.parse(n).filter(s=>s.highlight?.id===t.id);if(o.length>0)return o[0]}return null}getAnnotationByID(t){let n=this.store.get(Rt.ANNOTATIONS);if(n){let o=JSON.parse(n).filter(s=>s.highlight?.id===t);if(o.length>0)return o[0]}return null}},Io=Rt;Io.LAST_READING_POSITION="last-reading-position",Io.BOOKMARKS="bookmarks",Io.ANNOTATIONS="annotations",Io.SELECTIONINFO="selectionInfo";H();H();var wh=class{constructor(){this.store={}}get(t){return this.store[t]||null}set(t,n){this.store[t]=n}remove(t){this.store[t]=null}};var _a=class{constructor(t){this.prefix=t.prefix,this.useLocalStorage=t.useLocalStorage;try{let n=t.prefix+"-"+String(Math.random());this.useLocalStorage?(window.localStorage.setItem(n,"test"),window.localStorage.removeItem(n)):(window.sessionStorage.setItem(n,"test"),window.sessionStorage.removeItem(n)),this.fallbackStore=null}catch(n){this.fallbackStore=new wh}}getLocalStorageKey(t){return this.prefix+"-"+t}get(t){let n;return this.fallbackStore?n=this.fallbackStore.get(t):this.useLocalStorage?n=window.localStorage.getItem(this.getLocalStorageKey(t)):n=window.sessionStorage.getItem(this.getLocalStorageKey(t)),n}set(t,n){this.fallbackStore?this.fallbackStore.set(t,n):this.useLocalStorage?window.localStorage.setItem(this.getLocalStorageKey(t),n):window.sessionStorage.setItem(this.getLocalStorageKey(t),n)}remove(t){this.fallbackStore?this.fallbackStore.remove(t):this.useLocalStorage?window.localStorage.removeItem(this.getLocalStorageKey(t)):window.sessionStorage.removeItem(this.getLocalStorageKey(t))}};H();var QA=nt(za()),ex=nt(Un());var Hl=class extends QA.Link{};Hl=kc([(0,ex.JsonObject)()],Hl);function Ul(r){let t,n,i,o;if(r instanceof Array)return r.map(function(s){return typeof s=="object"&&(s=Ul(s)),s});t={};for(n in r)r.hasOwnProperty(n)&&(i=(n.charAt(0).toLowerCase()+n.slice(1)||n).toString(),o=r[n],(o instanceof Array||o!==null&&o.constructor===Object)&&(o=Ul(o)),i==="href1"?t.href=o:i==="typeLink"?t.type=o:t[i]=o);return t}H();var tx=nt(Jt()),xg=class{constructor(t){this.LAYERSETTINGS="layerSetting";this.store=t,this.initialize()}static async create(t){let n=new this(t.store);return new Promise(i=>i(n))}async stop(){tx.default.log("MediaOverlay settings stop")}async initialize(){this.userProperties=await this.getLayerSettings()}async getLayerSettings(){let t=new Wr,n=await this.store.get(this.LAYERSETTINGS);if(n){let i=JSON.parse(n);t.properties=i}return t}async saveProperty(t){let n=await this.store.get(this.LAYERSETTINGS);if(n){let i=JSON.parse(n);i=i.filter(o=>o.name!==t.name),i.push(t),await this.store.set(this.LAYERSETTINGS,JSON.stringify(i))}else{let i=[];i.push(t),await this.store.set(this.LAYERSETTINGS,JSON.stringify(i))}return new Promise(i=>i(t))}async getProperty(t){let n=await this.store.get(this.LAYERSETTINGS);if(n){let i=JSON.parse(n);return i=i.filter(o=>o.name===t),i.length===0?null:i[0]}return null}};H();var ux=nt(Ag()),Sa=nt(lx());H();var cx="grab-to-pan-grab",Eh,I8,_h,B8,Sh,N8,Cg=class{constructor(t){_n(this,Eh);_n(this,_h);_n(this,Sh);this.element=t.element,this.document=t.element.ownerDocument,typeof t.ignoreTarget=="function"&&(this.ignoreTarget=t.ignoreTarget),this.onActiveChanged=t.onActiveChanged,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onMouseDown=Dr(this,Eh,I8).bind(this),this._onMouseMove=Dr(this,_h,B8).bind(this),this._endPan=Dr(this,Sh,N8).bind(this);let n=this.overlay=document.createElement("div");n.className="grab-to-pan-grabbing"}activate(){this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onMouseDown,!0),this.element.classList.add(cx),this.onActiveChanged?.(!0))}deactivate(){this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onMouseDown,!0),this._endPan(),this.element.classList.remove(cx),this.onActiveChanged?.(!1))}toggle(){this.active?this.deactivate():this.activate()}ignoreTarget(t){return t.matches("a[href], a[href] *, input, textarea, button, button *, select, option")}};Eh=new WeakSet,I8=function(t){if(t.button!==0||this.ignoreTarget(t.target))return;if(t.originalTarget)try{t.originalTarget.tagName}catch(i){return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=t.clientX,this.clientYStart=t.clientY,this.document.addEventListener("mousemove",this._onMouseMove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),t.preventDefault(),t.stopPropagation();let n=document.activeElement;n&&!n.contains(t.target)&&n.blur()},_h=new WeakSet,B8=function(t){if(this.element.removeEventListener("scroll",this._endPan,!0),!(t.buttons&1)){this._endPan();return}let n=t.clientX-this.clientXStart,i=t.clientY-this.clientYStart,o=this.scrollTopStart-i,s=this.scrollLeftStart-n;this.element.scrollTo?this.element.scrollTo({top:o,left:s,behavior:"instant"}):(this.element.scrollTop=o,this.element.scrollLeft=s),this.overlay.parentNode||document.body.append(this.overlay)},Sh=new WeakSet,N8=function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onMouseMove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.remove()};var Aa;(function(n){n[n.Page=0]="Page",n[n.Width=1]="Width"})(Aa||(Aa={}));var Ar=class extends ux.default{constructor(t,n,i){super();this.pdfDoc=null;this.pageNum=1;this.scaleType=0;this.pageRendering=!1;this.pageNumPending=null;this.scale=1;this.resourceIndex=0;this.onResize=()=>{clearTimeout(this.timeout),this.timeout=setTimeout(this.handleResize.bind(this),200)};this.settings=t,this.publication=n,this.api=i}static async create(t){let n=new this(t.settings,t.publication,t.api);return await n.start(t.mainElement,t.headerMenu,t.footerMenu),new Promise(i=>i(n))}async start(t,n,i){this.headerMenu=n,this.footerMenu=i,this.mainElement=t,this.resourceIndex=0,this.resource=this.publication.readingOrder[this.resourceIndex],Sa.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.js",this.wrapper=yt(this.mainElement,"main#iframe-wrapper"),this.pdfContainer=yt(this.mainElement,"#pdf-container"),this.handTool=new Cg({element:this.pdfContainer});let o=this,s=document.createElement("div");s.id="loadingpdf",s.innerHTML=ph,s.style.width=getComputedStyle(this.wrapper).width,s.style.height=getComputedStyle(this.wrapper).height,s.style.display="flex",s.style.zIndex="100",s.style.position="absolute",s.style.alignItems="center",s.style.justifyContent="center",s.style.background="white",s.className="loading is-loading",this.pdfContainer.appendChild(s),(0,Sa.getDocument)(this.publication.getAbsoluteHref(this.resource.Href)).promise.then(function(l){o.pdfDoc=l,o.loadPDFJS(o.pageNum)}),this.setupEvents()}async handleResize(){this.loadPDFJS(this.pageNum)}setupEvents(){Ee(window,"resize",this.onResize)}loadPDFJS(t){let n=this,i=1;this.wrapper.style.height="calc(100vh - 10px)",this.pdfContainer.style.height="calc(100vh - 10px)",this.pdfContainer.style.flexDirection="column";let o=document.getElementsByTagName("canvas");Array.from(o).forEach(function(l){l?.parentNode?.removeChild(l)});function s(l){let u=document.createElement("canvas");u.id=String(i),u.style.border="1px solid gray",u.style.margin="1px";let d=l.getViewport({scale:n.scale});if(n.scale===1){let p=n.wrapper.clientHeight/d.height,m=n.wrapper.clientWidth/d.width;n.scaleType===0?d=l.getViewport({scale:p<m?p:m}):d=l.getViewport({scale:m})}n.pdfContainer.appendChild(u);let h=u.getContext("2d");u.height=d.height,u.width=d.width;let y={canvasContext:h,viewport:d},b=document.getElementById("loadingpdf");b.style.display="flex",b.style.width=getComputedStyle(n.wrapper).width,b.style.height=getComputedStyle(n.wrapper).height,l.render(y).promise.then(function(){i<n.pdfDoc.numPages?(i++,n.pdfDoc.getPage(i).then(s)):(document.getElementById(String(t))?.scrollIntoView(),b.style.display="none",n.api?.resourceReady&&n.api?.resourceReady(),n.emit("resource.ready"))})}this.pdfDoc.getPage(i).then(s)}queueRenderPage(t){let n=this;n.pageRendering?n.pageNumPending=t:(this.pageNum=t,document.getElementById(String(t))?.scrollIntoView())}readingOrder(){return this.publication.readingOrder}tableOfContents(){return this.publication.tableOfContents}currentResource(){}totalResources(){return this.publication.readingOrder.length}currentLocator(){}positions(){return this.publication.positions?this.publication.positions:[]}nextPage(){let t=this;if(t.pageNum>=t.pdfDoc.numPages){this.nextResource();return}this.pageNum++,this.queueRenderPage(t.pageNum)}previousPage(){let t=this;if(t.pageNum<=1){this.previousResource();return}t.pageNum--,t.queueRenderPage(t.pageNum)}nextResource(){let t=this;this.resourceIndex>=this.publication.readingOrder.length-1||(t.resourceIndex++,t.resource=this.publication.readingOrder[t.resourceIndex],(0,Sa.getDocument)(this.publication.getAbsoluteHref(this.resource.Href)).promise.then(function(n){t.pdfDoc=n,t.pageNum=1,t.loadPDFJS(t.pageNum)}))}previousResource(){let t=this;this.resourceIndex!==0&&(t.resourceIndex--,t.resource=this.publication.readingOrder[t.resourceIndex],(0,Sa.getDocument)(this.publication.getAbsoluteHref(this.resource.Href)).promise.then(function(n){t.pdfDoc=n,t.pageNum=t.pdfDoc.numPages,t.loadPDFJS(t.pageNum)}))}goTo(t){let n=new URL(t.href);if(n.searchParams.has("start")){let i=n.searchParams.get("start");i&&this.queueRenderPage(parseInt(i))}else this.queueRenderPage(1)}goToPosition(t){this.queueRenderPage(t)}async goToPage(t){this.queueRenderPage(t)}fitToWidth(){this.scale=1,this.scaleType=1,this.loadPDFJS(this.pageNum)}fitToPage(){this.scale=1,this.scaleType=0,this.loadPDFJS(this.pageNum)}zoomIn(){this.scale=this.scale+.2,this.loadPDFJS(this.pageNum)}zoomOut(){this.scale=this.scale-.2,this.loadPDFJS(this.pageNum)}activateHand(){this.handTool.activate()}deactivateHand(){this.handTool.deactivate()}async scroll(t,n){t?(n==="horizontal"?this.pdfContainer.style.flexDirection="row":this.pdfContainer.style.flexDirection="column",this.pdfContainer.style.overflow="auto"):(this.pdfContainer.style.flexDirection="column",this.pdfContainer.style.overflow="hidden")}stop(){je(window,"resize",this.onResize)}};var Bo=class{constructor(t,n,i,o,s,l,u,d,h,y,b,w,p,m,f,g,v,A){this.settings=t;this.navigator=n;this.highlighter=i;this.bookmarkModule=o;this.annotationModule=s;this.ttsSettings=l;this.ttsModule=u;this.searchModule=d;this.definitionsModule=h;this.contentProtectionModule=y;this.timelineModule=b;this.mediaOverlaySettings=w;this.mediaOverlayModule=p;this.pageBreakModule=m;this.lineFocusModule=f;this.historyModule=g;this.citationModule=v;this.consumptionModule=A;this.startReadAloud=()=>{this.navigator instanceof dt&&this.navigator.startReadAloud()};this.stopReadAloud=()=>{this.navigator instanceof dt&&this.navigator.stopReadAloud()};this.pauseReadAloud=()=>{this.navigator instanceof dt&&this.navigator.pauseReadAloud()};this.resumeReadAloud=()=>{this.navigator instanceof dt&&this.navigator.resumeReadAloud()};this.startReadAlong=()=>{this.navigator instanceof dt&&this.navigator.startReadAlong()};this.stopReadAlong=()=>{this.navigator instanceof dt&&this.navigator.stopReadAlong()};this.pauseReadAlong=()=>{this.navigator instanceof dt&&this.navigator.pauseReadAlong()};this.resumeReadAlong=()=>{this.navigator instanceof dt&&this.navigator.resumeReadAlong()};this.saveBookmark=async()=>await this.bookmarkModule?.saveBookmark()??!1;this.saveBookmarkPlus=async()=>this.bookmarkModule?.saveBookmarkPlus();this.deleteBookmark=async t=>await this.bookmarkModule?.deleteBookmark(t)??!1;this.deleteAnnotation=async t=>await this.annotationModule?.deleteAnnotation(t)??!1;this.addAnnotation=async t=>await this.annotationModule?.addAnnotation(t)??!1;this.hideAnnotationLayer=()=>this.annotationModule?.hideAnnotationLayer();this.showAnnotationLayer=()=>this.annotationModule?.showAnnotationLayer();this.hideLayer=t=>this.navigator instanceof dt?this.navigator?.hideLayer(t):!1;this.showLayer=t=>this.navigator instanceof dt?this.navigator?.showLayer(t):!1;this.activateMarker=(t,n)=>this.navigator instanceof dt?this.navigator?.activateMarker(t,n):!1;this.deactivateMarker=()=>this.navigator instanceof dt?this.navigator?.deactivateMarker():!1;this.clearDefinitions=async()=>{await this.definitionsModule?.clearDefinitions()};this.addDefinition=async t=>{await this.definitionsModule?.addDefinition(t)};this.historyBack=async()=>this.historyModule?.historyBack();this.historyForward=async()=>this.historyModule?.historyForward();this.search=async(t,n)=>await this.searchModule?.search(t,n)??[];this.goToSearchIndex=async(t,n,i)=>{this.navigator instanceof dt&&this.navigator.rights.enableSearch&&await this.searchModule?.goToSearchIndex(t,n,i)};this.goToSearchID=async(t,n,i)=>{this.navigator instanceof dt&&this.navigator.rights.enableSearch&&await this.searchModule?.goToSearchID(t,n,i)};this.clearSearch=async()=>{this.navigator instanceof dt&&this.navigator.rights.enableSearch&&await this.searchModule?.clearSearch()};this.resetUserSettings=async()=>await this.settings.resetUserSettings();this.applyUserSettings=async t=>await this.settings.applyUserSettings(t);this.scroll=async(t,n)=>this.navigator instanceof Ar?this.navigator.scroll(t,n):await this.settings.scroll(t);this.increase=async t=>{this.isTTSIncrementable(t)?this.navigator instanceof dt&&this.navigator.rights.enableTTS&&await this.ttsSettings?.increase(t):this.isMOIncrementable(t)?this.navigator instanceof dt&&this.navigator.rights.enableMediaOverlays&&await this.mediaOverlaySettings?.increase(t):await this.settings.increase(t)};this.decrease=async t=>{this.isTTSIncrementable(t)?this.navigator instanceof dt&&this.navigator.rights.enableTTS&&await this.ttsSettings?.decrease(t):this.isMOIncrementable(t)?this.navigator instanceof dt&&this.navigator.rights.enableMediaOverlays&&await this.mediaOverlaySettings?.decrease(t):await this.settings.decrease(t)};this.resetTTSSettings=()=>{this.navigator instanceof dt&&this.navigator.rights.enableTTS&&this.ttsSettings?.resetTTSSettings()};this.applyTTSSettings=async t=>{this.navigator instanceof dt&&this.navigator.rights.enableTTS&&await this.ttsSettings?.applyTTSSettings(t)};this.applyPreferredVoice=async t=>{this.navigator instanceof dt&&this.navigator.rights.enableTTS&&await this.ttsSettings?.applyPreferredVoice(t)};this.resetMediaOverlaySettings=async()=>{this.navigator instanceof dt&&this.navigator.rights.enableMediaOverlays&&await this.mediaOverlaySettings?.resetMediaOverlaySettings()};this.applyMediaOverlaySettings=async t=>{this.navigator instanceof dt&&this.navigator.rights.enableMediaOverlays&&await this.mediaOverlaySettings?.applyMediaOverlaySettings(t)};this.goTo=async t=>{this.navigator.goTo(t)};this.goToPosition=async t=>this.navigator.goToPosition(t);this.goToPage=async t=>{await this.navigator.goToPage(t)};this.fitToPage=()=>{this.navigator instanceof Ar&&this.navigator.fitToPage()};this.fitToWidth=()=>{this.navigator instanceof Ar&&this.navigator.fitToWidth()};this.zoomIn=()=>{this.navigator instanceof Ar&&this.navigator.zoomIn()};this.zoomOut=()=>{this.navigator instanceof Ar&&this.navigator.zoomOut()};this.activateHand=()=>{this.navigator instanceof Ar&&this.navigator.activateHand()};this.deactivateHand=()=>{this.navigator instanceof Ar&&this.navigator.deactivateHand()};this.copyToClipboard=t=>{this.contentProtectionModule?.copyToClipboard(t)};this.nextResource=()=>{this.navigator.nextResource()};this.previousResource=()=>{this.navigator.previousResource()};this.nextPage=async()=>{this.navigator.nextPage()};this.previousPage=async()=>{this.navigator.previousPage()};this.snapToSelector=async t=>{this.navigator instanceof dt&&this.navigator.snapToSelector(t)};this.applyAttributes=t=>{this.navigator instanceof dt&&this.navigator.applyAttributes(t)};this.stop=()=>{document.body.onscroll=()=>{},this.navigator.stop(),this.settings.stop(),this.ttsSettings?.stop(),this.ttsModule?.stop(),this.bookmarkModule?.stop(),this.annotationModule?.stop(),this.searchModule?.stop(),this.definitionsModule?.stop(),this.contentProtectionModule?.stop(),this.timelineModule?.stop(),this.mediaOverlaySettings?.stop(),this.mediaOverlayModule?.stop(),this.pageBreakModule?.stop(),this.lineFocusModule?.stop(),this.citationModule?.stop(),this.consumptionModule?.stop()}}addEventListener(){this.navigator instanceof dt&&this.navigator.addListener(arguments[0],arguments[1])}static async load(t){let n=t.rights??{autoGeneratePositions:!1,enableAnnotations:!1,enableBookmarks:!1,enableContentProtection:!1,enableDefinitions:!1,enableLineFocus:!1,enableMediaOverlays:!1,enablePageBreaks:!1,enableSearch:!1,enableTTS:!1,enableTimeline:!1,customKeyboardEvents:!1,enableHistory:!1,enableCitations:!1};n.enableContentProtection&&t.protection&&await ya.setupPreloadProtection(t.protection);let i=yt(document,"#D2Reader-Container"),o=Ie(document,"#headerMenu"),s=Ie(document,"#footerMenu"),l=t.url,u;t.publication?(u=Ks(t.publication,bo),u.manifestUrl=new URL(l)):u=await bo.fromUrl(l,t.requestConfig);let d=new _a({prefix:u.manifestUrl,useLocalStorage:t.useLocalStorage??!1}),h=new _a({prefix:"r2d2bc-reader",useLocalStorage:t.useLocalStorage??!1}),y=new _a({prefix:"r2d2bc-layers",useLocalStorage:t.useLocalStorage??!1}),b=new Io({store:d});if(u.sample=t.sample,n=D8(n,u),u.Metadata.ConformsTo&&u.Metadata.ConformsTo.includes("https://readium.org/webpub-manifest/profiles/pdf")){let w=await Ao.create({store:h,initialUserSettings:t.userSettings,layout:""}),p=await Ar.create({mainElement:i,publication:u,settings:w,api:t.api});return new Bo(w,p)}else{n.autoGeneratePositions?await u.autoGeneratePositions(t.requestConfig):(t.services?.positions&&await u.fetchPositionsFromService(t.services?.positions.href,t.requestConfig),t.services?.weight&&await u.fetchWeightsFromService(t.services?.weight.href,t.requestConfig));let w=await xg.create({store:y}),p=await Ao.create({store:h,initialUserSettings:t.userSettings,headerMenu:o,api:t.api,injectables:(u.Metadata.Rendition?.Layout??"unknown")==="fixed"?t.injectablesFixed:t.injectables,layout:(u.Metadata.Rendition?.Layout??"unknown")==="fixed"?"fixed":"reflowable"}),m=await Qe.create(et({layerSettings:w},t.highlighter)),f=n.enableBookmarks?await ds.create(et({annotator:b,headerMenu:o,rights:n,publication:u,initialAnnotations:t.initialAnnotations},t.bookmarks)):void 0,g=n.enableAnnotations?await us.create(et({annotator:b,rights:n,publication:u,initialAnnotations:t.initialAnnotations,highlighter:m,headerMenu:o},t.annotations)):void 0,v=n.enableTTS,A=v?await _g.create({store:h,initialTTSSettings:t.tts,headerMenu:o}):void 0,C;v&&A&&(C=await va.create(et({tts:A,headerMenu:o,rights:n,highlighter:m},t.tts)));let O=n.enableSearch?await Ll.create(et({headerMenu:o,publication:u,highlighter:m},t.search)):void 0,E=n.enableDefinitions?await Dl.create(et({publication:u,highlighter:m},t.define)):void 0,T=n.enableTimeline?await Ol.create({publication:u}):void 0,B=n.enableContentProtection?await ya.create(et({},t.protection)):void 0,M=n.enableCitations?await Ea.create(et({publication:u,highlighter:m},t.citations)):void 0,D=n.enableMediaOverlays,U=D?await Q0.create(et({store:h,initialMediaOverlaySettings:t.mediaOverlays,headerMenu:o},t.mediaOverlays)):void 0,I=D?await Tl.create(et({publication:u,settings:U},t.mediaOverlays)):void 0,q=n.enablePageBreaks&&u.isReflowable?await Bl.create(et({publication:u,headerMenu:o},t.pagebreak)):void 0,z=n.enableLineFocus?await wa.create(et({publication:u,highlighter:m},t.lineFocus)):void 0,ne=n.enableHistory?await Fl.create({annotator:b,publication:u,headerMenu:o}):void 0,oe=n.enableConsumption?await Cl.create(et({publication:u},t.consumption)):void 0,ae=await dt.create({mainElement:i,headerMenu:o,footerMenu:s,publication:u,settings:p,annotator:b,initialLastReadingPosition:t.lastReadingPosition,api:t.api,rights:n,tts:t.tts,sample:t.sample,requestConfig:t.requestConfig,injectables:(u.Metadata.Rendition?.Layout??"unknown")==="fixed"?t.injectablesFixed??[]:t.injectables,attributes:t.attributes,services:t.services,highlighter:m,modules:[f,g,C,O,E,T,B,M,I,q,z,ne,oe]});return new Bo(p,ae,m,f,g,A,C,O,E,B,T,U,I,q,z,ne,M,oe)}}get hasMediaOverlays(){return this.navigator instanceof dt?this.navigator.hasMediaOverlays:!1}get tableOfContents(){return Ul(this.navigator.tableOfContents())??[]}get readingOrder(){return Ul(this.navigator.readingOrder())??[]}get bookmarks(){return this.bookmarkModule?.getBookmarks()??[]}get annotations(){return this.annotationModule?.getAnnotations()}get history(){return this.historyModule?.history}get historyCurrentIndex(){return this.historyModule?.historyCurrentIndex}get currentResource(){return this.navigator.currentResource()}get mostRecentNavigatedTocItem(){return this.navigator instanceof dt?this.navigator.mostRecentNavigatedTocItem():!1}get totalResources(){return this.navigator.totalResources()}get publicationLanguage(){return this.navigator.publication.Metadata.Language}get currentSettings(){return this.settings.currentSettings}isTTSIncrementable(t){return t==="pitch"||t==="rate"||t==="volume"}isMOIncrementable(t){return t==="mo_rate"||t==="mo_volume"}get currentLocator(){return this.navigator.currentLocator()}get positions(){return this.navigator.positions()}get atStart(){return this.navigator instanceof dt?this.navigator.atStart():!1}get atEnd(){return this.navigator instanceof dt?this.navigator.atEnd():!1}async applyLineFocusSettings(t){if(t.lines&&this.lineFocusModule){let n=this.lineFocusModule.properties.lines??1;this.lineFocusModule.index=this.lineFocusModule.index*n/parseInt(t.lines),this.lineFocusModule.index=Math.abs(parseInt(this.lineFocusModule.index.toFixed())),this.lineFocusModule.properties.lines=parseInt(t.lines),this.lineFocusModule.isActive&&await this.lineFocusModule.enableLineFocus()}t.debug!==void 0&&this.lineFocusModule&&(this.lineFocusModule.isDebug=t.debug,this.lineFocusModule.isActive&&await this.lineFocusModule.enableLineFocus())}lineUp(){this.lineFocusModule?.lineUp()}lineDown(){this.lineFocusModule?.lineDown()}async enableLineFocus(){await this.lineFocusModule?.enableLineFocus()}async lineFocus(t){t?await this.lineFocusModule?.enableLineFocus():this.lineFocusModule?.disableLineFocus()}disableLineFocus(){this.lineFocusModule?.disableLineFocus()}};function D8(r,t){return t.isFixedLayout&&(r.enableAnnotations=!1,r.enableSearch=!1,r.enableTTS=!1,r.enableDefinitions=!1,r.enablePageBreaks=!1,r.enableLineFocus=!1),t.sample?.isSampleRead&&(r.enableAnnotations=!1,r.enableSearch=!1,r.enableTTS=!1,r.enableDefinitions=!1,r.enableTimeline=!1,r.enableMediaOverlays=!1,r.enablePageBreaks=!1,r.enableLineFocus=!1),r}var j8=Bo,F8=Bo.load;return H8;})();
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! https://mths.be/cssesc v3.0.0 by @mathias */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
//# sourceMappingURL=reader.js.map
