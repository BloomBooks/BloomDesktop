var requirejs, require, define;
if (
    ((function(e) {
        function t(e, t) {
            return b.call(e, t);
        }
        function n(e, t) {
            var n,
                r,
                i,
                o,
                a,
                s,
                l,
                u,
                c,
                d,
                f,
                p,
                h = t && t.split("/"),
                m = g.map,
                v = (m && m["*"]) || {};
            if (e) {
                for (
                    e = e.split("/"),
                        a = e.length - 1,
                        g.nodeIdCompat &&
                            _.test(e[a]) &&
                            (e[a] = e[a].replace(_, "")),
                        "." === e[0].charAt(0) &&
                            h &&
                            ((p = h.slice(0, h.length - 1)), (e = p.concat(e))),
                        c = 0;
                    c < e.length;
                    c++
                )
                    if ("." === (f = e[c])) e.splice(c, 1), (c -= 1);
                    else if (".." === f) {
                        if (
                            0 === c ||
                            (1 === c && ".." === e[2]) ||
                            ".." === e[c - 1]
                        )
                            continue;
                        c > 0 && (e.splice(c - 1, 2), (c -= 2));
                    }
                e = e.join("/");
            }
            if ((h || v) && m) {
                for (n = e.split("/"), c = n.length; c > 0; c -= 1) {
                    if (((r = n.slice(0, c).join("/")), h))
                        for (d = h.length; d > 0; d -= 1)
                            if (
                                (i = m[h.slice(0, d).join("/")]) &&
                                (i = i[r])
                            ) {
                                (o = i), (s = c);
                                break;
                            }
                    if (o) break;
                    !l && v && v[r] && ((l = v[r]), (u = c));
                }
                !o && l && ((o = l), (s = u)),
                    o && (n.splice(0, s, o), (e = n.join("/")));
            }
            return e;
        }
        function r(t, n) {
            return function() {
                var r = y.call(arguments, 0);
                return (
                    "string" != typeof r[0] && 1 === r.length && r.push(null),
                    d.apply(e, r.concat([t, n]))
                );
            };
        }
        function i(e) {
            return function(t) {
                return n(t, e);
            };
        }
        function o(e) {
            return function(t) {
                h[e] = t;
            };
        }
        function a(n) {
            if (t(m, n)) {
                var r = m[n];
                delete m[n], (v[n] = !0), c.apply(e, r);
            }
            if (!t(h, n) && !t(v, n)) throw new Error("No " + n);
            return h[n];
        }
        function s(e) {
            var t,
                n = e ? e.indexOf("!") : -1;
            return (
                n > -1 &&
                    ((t = e.substring(0, n)),
                    (e = e.substring(n + 1, e.length))),
                [t, e]
            );
        }
        function l(e) {
            return e ? s(e) : [];
        }
        function u(e) {
            return function() {
                return (g && g.config && g.config[e]) || {};
            };
        }
        var c,
            d,
            f,
            p,
            h = {},
            m = {},
            g = {},
            v = {},
            b = Object.prototype.hasOwnProperty,
            y = [].slice,
            _ = /\.js$/;
        (f = function(e, t) {
            var r,
                o = s(e),
                l = o[0],
                u = t[1];
            return (
                (e = o[1]),
                l && ((l = n(l, u)), (r = a(l))),
                l
                    ? (e = r && r.normalize ? r.normalize(e, i(u)) : n(e, u))
                    : ((e = n(e, u)),
                      (o = s(e)),
                      (l = o[0]),
                      (e = o[1]),
                      l && (r = a(l))),
                { f: l ? l + "!" + e : e, n: e, pr: l, p: r }
            );
        }),
            (p = {
                require: function(e) {
                    return r(e);
                },
                exports: function(e) {
                    var t = h[e];
                    return void 0 !== t ? t : (h[e] = {});
                },
                module: function(e) {
                    return { id: e, uri: "", exports: h[e], config: u(e) };
                }
            }),
            (c = function(n, i, s, u) {
                var c,
                    d,
                    g,
                    b,
                    y,
                    _,
                    w,
                    x = [],
                    E = typeof s;
                if (
                    ((u = u || n),
                    (_ = l(u)),
                    "undefined" === E || "function" === E)
                ) {
                    for (
                        i =
                            !i.length && s.length
                                ? ["require", "exports", "module"]
                                : i,
                            y = 0;
                        y < i.length;
                        y += 1
                    )
                        if (((b = f(i[y], _)), "require" === (d = b.f)))
                            x[y] = p.require(n);
                        else if ("exports" === d)
                            (x[y] = p.exports(n)), (w = !0);
                        else if ("module" === d) c = x[y] = p.module(n);
                        else if (t(h, d) || t(m, d) || t(v, d)) x[y] = a(d);
                        else {
                            if (!b.p) throw new Error(n + " missing " + d);
                            b.p.load(b.n, r(u, !0), o(d), {}), (x[y] = h[d]);
                        }
                    (g = s ? s.apply(h[n], x) : void 0),
                        n &&
                            (c && c.exports !== e && c.exports !== h[n]
                                ? (h[n] = c.exports)
                                : (g === e && w) || (h[n] = g));
                } else n && (h[n] = s);
            }),
            (requirejs = require = d = function(t, n, r, i, o) {
                if ("string" == typeof t)
                    return p[t] ? p[t](n) : a(f(t, l(n)).f);
                if (!t.splice) {
                    if (((g = t), g.deps && d(g.deps, g.callback), !n)) return;
                    n.splice ? ((t = n), (n = r), (r = null)) : (t = e);
                }
                return (
                    (n = n || function() {}),
                    "function" == typeof r && ((r = i), (i = o)),
                    i
                        ? c(e, t, n, r)
                        : setTimeout(function() {
                              c(e, t, n, r);
                          }, 4),
                    d
                );
            }),
            (d.config = function(e) {
                return d(e);
            }),
            (requirejs._defined = h),
            (define = function(e, n, r) {
                if ("string" != typeof e)
                    throw new Error(
                        "See almond README: incorrect module build, no module name"
                    );
                n.splice || ((r = n), (n = [])),
                    t(h, e) || t(m, e) || (m[e] = [e, n, r]);
            }),
            (define.amd = { jQuery: !0 });
    })(),
    define("readium-js-viewer_all_LITE", function() {}),
    (function(e, t) {
        "object" == typeof module && "object" == typeof module.exports
            ? (module.exports = e.document
                  ? t(e, !0)
                  : function(e) {
                        if (!e.document)
                            throw new Error(
                                "jQuery requires a window with a document"
                            );
                        return t(e);
                    })
            : t(e);
    })("undefined" != typeof window ? window : this, function(e, t) {
        function n(e) {
            var t = !!e && "length" in e && e.length,
                n = ie.type(e);
            return (
                "function" !== n &&
                !ie.isWindow(e) &&
                ("array" === n ||
                    0 === t ||
                    ("number" == typeof t && t > 0 && t - 1 in e))
            );
        }
        function r(e, t, n) {
            if (ie.isFunction(t))
                return ie.grep(e, function(e, r) {
                    return !!t.call(e, r, e) !== n;
                });
            if (t.nodeType)
                return ie.grep(e, function(e) {
                    return (e === t) !== n;
                });
            if ("string" == typeof t) {
                if (he.test(t)) return ie.filter(t, e, n);
                t = ie.filter(t, e);
            }
            return ie.grep(e, function(e) {
                return Z.call(t, e) > -1 !== n;
            });
        }
        function i(e, t) {
            for (; (e = e[t]) && 1 !== e.nodeType; );
            return e;
        }
        function o(e) {
            var t = {};
            return (
                ie.each(e.match(ye) || [], function(e, n) {
                    t[n] = !0;
                }),
                t
            );
        }
        function a() {
            K.removeEventListener("DOMContentLoaded", a),
                e.removeEventListener("load", a),
                ie.ready();
        }
        function s() {
            this.expando = ie.expando + s.uid++;
        }
        function l(e, t, n) {
            var r;
            if (void 0 === n && 1 === e.nodeType)
                if (
                    ((r = "data-" + t.replace(Ce, "-$&").toLowerCase()),
                    "string" == typeof (n = e.getAttribute(r)))
                ) {
                    try {
                        n =
                            "true" === n ||
                            ("false" !== n &&
                                ("null" === n
                                    ? null
                                    : +n + "" === n
                                        ? +n
                                        : Se.test(n)
                                            ? ie.parseJSON(n)
                                            : n));
                    } catch (e) {}
                    Te.set(e, t, n);
                } else n = void 0;
            return n;
        }
        function u(e, t, n, r) {
            var i,
                o = 1,
                a = 20,
                s = r
                    ? function() {
                          return r.cur();
                      }
                    : function() {
                          return ie.css(e, t, "");
                      },
                l = s(),
                u = (n && n[3]) || (ie.cssNumber[t] ? "" : "px"),
                c =
                    (ie.cssNumber[t] || ("px" !== u && +l)) &&
                    Ie.exec(ie.css(e, t));
            if (c && c[3] !== u) {
                (u = u || c[3]), (n = n || []), (c = +l || 1);
                do {
                    (o = o || ".5"), (c /= o), ie.style(e, t, c + u);
                } while (o !== (o = s() / l) && 1 !== o && --a);
            }
            return (
                n &&
                    ((c = +c || +l || 0),
                    (i = n[1] ? c + (n[1] + 1) * n[2] : +n[2]),
                    r && ((r.unit = u), (r.start = c), (r.end = i))),
                i
            );
        }
        function c(e, t) {
            var n =
                void 0 !== e.getElementsByTagName
                    ? e.getElementsByTagName(t || "*")
                    : void 0 !== e.querySelectorAll
                        ? e.querySelectorAll(t || "*")
                        : [];
            return void 0 === t || (t && ie.nodeName(e, t))
                ? ie.merge([e], n)
                : n;
        }
        function d(e, t) {
            for (var n = 0, r = e.length; n < r; n++)
                Ee.set(e[n], "globalEval", !t || Ee.get(t[n], "globalEval"));
        }
        function f(e, t, n, r, i) {
            for (
                var o,
                    a,
                    s,
                    l,
                    u,
                    f,
                    p = t.createDocumentFragment(),
                    h = [],
                    m = 0,
                    g = e.length;
                m < g;
                m++
            )
                if ((o = e[m]) || 0 === o)
                    if ("object" === ie.type(o))
                        ie.merge(h, o.nodeType ? [o] : o);
                    else if (je.test(o)) {
                        for (
                            a = a || p.appendChild(t.createElement("div")),
                                s = (Ne.exec(o) || ["", ""])[1].toLowerCase(),
                                l = De[s] || De._default,
                                a.innerHTML = l[1] + ie.htmlPrefilter(o) + l[2],
                                f = l[0];
                            f--;

                        )
                            a = a.lastChild;
                        ie.merge(h, a.childNodes),
                            (a = p.firstChild),
                            (a.textContent = "");
                    } else h.push(t.createTextNode(o));
            for (p.textContent = "", m = 0; (o = h[m++]); )
                if (r && ie.inArray(o, r) > -1) i && i.push(o);
                else if (
                    ((u = ie.contains(o.ownerDocument, o)),
                    (a = c(p.appendChild(o), "script")),
                    u && d(a),
                    n)
                )
                    for (f = 0; (o = a[f++]); )
                        Re.test(o.type || "") && n.push(o);
            return p;
        }
        function p() {
            return !0;
        }
        function h() {
            return !1;
        }
        function m() {
            try {
                return K.activeElement;
            } catch (e) {}
        }
        function g(e, t, n, r, i, o) {
            var a, s;
            if ("object" == typeof t) {
                "string" != typeof n && ((r = r || n), (n = void 0));
                for (s in t) g(e, s, n, r, t[s], o);
                return e;
            }
            if (
                (null == r && null == i
                    ? ((i = n), (r = n = void 0))
                    : null == i &&
                      ("string" == typeof n
                          ? ((i = r), (r = void 0))
                          : ((i = r), (r = n), (n = void 0))),
                !1 === i)
            )
                i = h;
            else if (!i) return e;
            return (
                1 === o &&
                    ((a = i),
                    (i = function(e) {
                        return ie().off(e), a.apply(this, arguments);
                    }),
                    (i.guid = a.guid || (a.guid = ie.guid++))),
                e.each(function() {
                    ie.event.add(this, t, i, r, n);
                })
            );
        }
        function v(e, t) {
            return ie.nodeName(e, "table") &&
                ie.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr")
                ? e.getElementsByTagName("tbody")[0] ||
                      e.appendChild(e.ownerDocument.createElement("tbody"))
                : e;
        }
        function b(e) {
            return (
                (e.type = (null !== e.getAttribute("type")) + "/" + e.type), e
            );
        }
        function y(e) {
            var t = Ve.exec(e.type);
            return t ? (e.type = t[1]) : e.removeAttribute("type"), e;
        }
        function _(e, t) {
            var n, r, i, o, a, s, l, u;
            if (1 === t.nodeType) {
                if (
                    Ee.hasData(e) &&
                    ((o = Ee.access(e)), (a = Ee.set(t, o)), (u = o.events))
                ) {
                    delete a.handle, (a.events = {});
                    for (i in u)
                        for (n = 0, r = u[i].length; n < r; n++)
                            ie.event.add(t, i, u[i][n]);
                }
                Te.hasData(e) &&
                    ((s = Te.access(e)), (l = ie.extend({}, s)), Te.set(t, l));
            }
        }
        function w(e, t) {
            var n = t.nodeName.toLowerCase();
            "input" === n && Ae.test(e.type)
                ? (t.checked = e.checked)
                : ("input" !== n && "textarea" !== n) ||
                  (t.defaultValue = e.defaultValue);
        }
        function x(e, t, n, r) {
            t = Q.apply([], t);
            var i,
                o,
                a,
                s,
                l,
                u,
                d = 0,
                p = e.length,
                h = p - 1,
                m = t[0],
                g = ie.isFunction(m);
            if (
                g ||
                (p > 1 && "string" == typeof m && !re.checkClone && Be.test(m))
            )
                return e.each(function(i) {
                    var o = e.eq(i);
                    g && (t[0] = m.call(this, i, o.html())), x(o, t, n, r);
                });
            if (
                p &&
                ((i = f(t, e[0].ownerDocument, !1, e, r)),
                (o = i.firstChild),
                1 === i.childNodes.length && (i = o),
                o || r)
            ) {
                for (a = ie.map(c(i, "script"), b), s = a.length; d < p; d++)
                    (l = i),
                        d !== h &&
                            ((l = ie.clone(l, !0, !0)),
                            s && ie.merge(a, c(l, "script"))),
                        n.call(e[d], l, d);
                if (s)
                    for (
                        u = a[a.length - 1].ownerDocument, ie.map(a, y), d = 0;
                        d < s;
                        d++
                    )
                        (l = a[d]),
                            Re.test(l.type || "") &&
                                !Ee.access(l, "globalEval") &&
                                ie.contains(u, l) &&
                                (l.src
                                    ? ie._evalUrl && ie._evalUrl(l.src)
                                    : ie.globalEval(
                                          l.textContent.replace($e, "")
                                      ));
            }
            return e;
        }
        function E(e, t, n) {
            for (
                var r, i = t ? ie.filter(t, e) : e, o = 0;
                null != (r = i[o]);
                o++
            )
                n || 1 !== r.nodeType || ie.cleanData(c(r)),
                    r.parentNode &&
                        (n &&
                            ie.contains(r.ownerDocument, r) &&
                            d(c(r, "script")),
                        r.parentNode.removeChild(r));
            return e;
        }
        function T(e, t) {
            var n = ie(t.createElement(e)).appendTo(t.body),
                r = ie.css(n[0], "display");
            return n.detach(), r;
        }
        function S(e) {
            var t = K,
                n = qe[e];
            return (
                n ||
                    ((n = T(e, t)),
                    ("none" !== n && n) ||
                        ((He = (
                            He ||
                            ie("<iframe frameborder='0' width='0' height='0'/>")
                        ).appendTo(t.documentElement)),
                        (t = He[0].contentDocument),
                        t.write(),
                        t.close(),
                        (n = T(e, t)),
                        He.detach()),
                    (qe[e] = n)),
                n
            );
        }
        function C(e, t, n) {
            var r,
                i,
                o,
                a,
                s = e.style;
            return (
                (n = n || Xe(e)),
                (a = n ? n.getPropertyValue(t) || n[t] : void 0),
                ("" !== a && void 0 !== a) ||
                    ie.contains(e.ownerDocument, e) ||
                    (a = ie.style(e, t)),
                n &&
                    !re.pixelMarginRight() &&
                    Ge.test(a) &&
                    We.test(t) &&
                    ((r = s.width),
                    (i = s.minWidth),
                    (o = s.maxWidth),
                    (s.minWidth = s.maxWidth = s.width = a),
                    (a = n.width),
                    (s.width = r),
                    (s.minWidth = i),
                    (s.maxWidth = o)),
                void 0 !== a ? a + "" : a
            );
        }
        function k(e, t) {
            return {
                get: function() {
                    return e()
                        ? void delete this.get
                        : (this.get = t).apply(this, arguments);
                }
            };
        }
        function I(e) {
            if (e in tt) return e;
            for (var t = e[0].toUpperCase() + e.slice(1), n = et.length; n--; )
                if ((e = et[n] + t) in tt) return e;
        }
        function P(e, t, n) {
            var r = Ie.exec(t);
            return r ? Math.max(0, r[2] - (n || 0)) + (r[3] || "px") : t;
        }
        function O(e, t, n, r, i) {
            for (
                var o =
                        n === (r ? "border" : "content")
                            ? 4
                            : "width" === t
                                ? 1
                                : 0,
                    a = 0;
                o < 4;
                o += 2
            )
                "margin" === n && (a += ie.css(e, n + Pe[o], !0, i)),
                    r
                        ? ("content" === n &&
                              (a -= ie.css(e, "padding" + Pe[o], !0, i)),
                          "margin" !== n &&
                              (a -= ie.css(
                                  e,
                                  "border" + Pe[o] + "Width",
                                  !0,
                                  i
                              )))
                        : ((a += ie.css(e, "padding" + Pe[o], !0, i)),
                          "padding" !== n &&
                              (a += ie.css(
                                  e,
                                  "border" + Pe[o] + "Width",
                                  !0,
                                  i
                              )));
            return a;
        }
        function A(e, t, n) {
            var r = !0,
                i = "width" === t ? e.offsetWidth : e.offsetHeight,
                o = Xe(e),
                a = "border-box" === ie.css(e, "boxSizing", !1, o);
            if (i <= 0 || null == i) {
                if (
                    ((i = C(e, t, o)),
                    (i < 0 || null == i) && (i = e.style[t]),
                    Ge.test(i))
                )
                    return i;
                (r = a && (re.boxSizingReliable() || i === e.style[t])),
                    (i = parseFloat(i) || 0);
            }
            return i + O(e, t, n || (a ? "border" : "content"), r, o) + "px";
        }
        function N(e, t) {
            for (var n, r, i, o = [], a = 0, s = e.length; a < s; a++)
                (r = e[a]),
                    r.style &&
                        ((o[a] = Ee.get(r, "olddisplay")),
                        (n = r.style.display),
                        t
                            ? (o[a] || "none" !== n || (r.style.display = ""),
                              "" === r.style.display &&
                                  Oe(r) &&
                                  (o[a] = Ee.access(
                                      r,
                                      "olddisplay",
                                      S(r.nodeName)
                                  )))
                            : ((i = Oe(r)),
                              ("none" === n && i) ||
                                  Ee.set(
                                      r,
                                      "olddisplay",
                                      i ? n : ie.css(r, "display")
                                  )));
            for (a = 0; a < s; a++)
                (r = e[a]),
                    r.style &&
                        ((t &&
                            "none" !== r.style.display &&
                            "" !== r.style.display) ||
                            (r.style.display = t ? o[a] || "" : "none"));
            return e;
        }
        function R(e, t, n, r, i) {
            return new R.prototype.init(e, t, n, r, i);
        }
        function D() {
            return (
                e.setTimeout(function() {
                    nt = void 0;
                }),
                (nt = ie.now())
            );
        }
        function j(e, t) {
            var n,
                r = 0,
                i = { height: e };
            for (t = t ? 1 : 0; r < 4; r += 2 - t)
                (n = Pe[r]), (i["margin" + n] = i["padding" + n] = e);
            return t && (i.opacity = i.width = e), i;
        }
        function M(e, t, n) {
            for (
                var r,
                    i = (U.tweeners[t] || []).concat(U.tweeners["*"]),
                    o = 0,
                    a = i.length;
                o < a;
                o++
            )
                if ((r = i[o].call(n, t, e))) return r;
        }
        function L(e, t, n) {
            var r,
                i,
                o,
                a,
                s,
                l,
                u,
                c = this,
                d = {},
                f = e.style,
                p = e.nodeType && Oe(e),
                h = Ee.get(e, "fxshow");
            n.queue ||
                ((s = ie._queueHooks(e, "fx")),
                null == s.unqueued &&
                    ((s.unqueued = 0),
                    (l = s.empty.fire),
                    (s.empty.fire = function() {
                        s.unqueued || l();
                    })),
                s.unqueued++,
                c.always(function() {
                    c.always(function() {
                        s.unqueued--,
                            ie.queue(e, "fx").length || s.empty.fire();
                    });
                })),
                1 === e.nodeType &&
                    ("height" in t || "width" in t) &&
                    ((n.overflow = [f.overflow, f.overflowX, f.overflowY]),
                    (u = ie.css(e, "display")),
                    "inline" ===
                        ("none" === u
                            ? Ee.get(e, "olddisplay") || S(e.nodeName)
                            : u) &&
                        "none" === ie.css(e, "float") &&
                        (f.display = "inline-block")),
                n.overflow &&
                    ((f.overflow = "hidden"),
                    c.always(function() {
                        (f.overflow = n.overflow[0]),
                            (f.overflowX = n.overflow[1]),
                            (f.overflowY = n.overflow[2]);
                    }));
            for (r in t)
                if (((i = t[r]), it.exec(i))) {
                    if (
                        (delete t[r],
                        (o = o || "toggle" === i),
                        i === (p ? "hide" : "show"))
                    ) {
                        if ("show" !== i || !h || void 0 === h[r]) continue;
                        p = !0;
                    }
                    d[r] = (h && h[r]) || ie.style(e, r);
                } else u = void 0;
            if (ie.isEmptyObject(d))
                "inline" === ("none" === u ? S(e.nodeName) : u) &&
                    (f.display = u);
            else {
                h
                    ? "hidden" in h && (p = h.hidden)
                    : (h = Ee.access(e, "fxshow", {})),
                    o && (h.hidden = !p),
                    p
                        ? ie(e).show()
                        : c.done(function() {
                              ie(e).hide();
                          }),
                    c.done(function() {
                        var t;
                        Ee.remove(e, "fxshow");
                        for (t in d) ie.style(e, t, d[t]);
                    });
                for (r in d)
                    (a = M(p ? h[r] : 0, r, c)),
                        r in h ||
                            ((h[r] = a.start),
                            p &&
                                ((a.end = a.start),
                                (a.start =
                                    "width" === r || "height" === r ? 1 : 0)));
            }
        }
        function F(e, t) {
            var n, r, i, o, a;
            for (n in e)
                if (
                    ((r = ie.camelCase(n)),
                    (i = t[r]),
                    (o = e[n]),
                    ie.isArray(o) && ((i = o[1]), (o = e[n] = o[0])),
                    n !== r && ((e[r] = o), delete e[n]),
                    (a = ie.cssHooks[r]) && "expand" in a)
                ) {
                    (o = a.expand(o)), delete e[r];
                    for (n in o) n in e || ((e[n] = o[n]), (t[n] = i));
                } else t[r] = i;
        }
        function U(e, t, n) {
            var r,
                i,
                o = 0,
                a = U.prefilters.length,
                s = ie.Deferred().always(function() {
                    delete l.elem;
                }),
                l = function() {
                    if (i) return !1;
                    for (
                        var t = nt || D(),
                            n = Math.max(0, u.startTime + u.duration - t),
                            r = n / u.duration || 0,
                            o = 1 - r,
                            a = 0,
                            l = u.tweens.length;
                        a < l;
                        a++
                    )
                        u.tweens[a].run(o);
                    return (
                        s.notifyWith(e, [u, o, n]),
                        o < 1 && l ? n : (s.resolveWith(e, [u]), !1)
                    );
                },
                u = s.promise({
                    elem: e,
                    props: ie.extend({}, t),
                    opts: ie.extend(
                        !0,
                        { specialEasing: {}, easing: ie.easing._default },
                        n
                    ),
                    originalProperties: t,
                    originalOptions: n,
                    startTime: nt || D(),
                    duration: n.duration,
                    tweens: [],
                    createTween: function(t, n) {
                        var r = ie.Tween(
                            e,
                            u.opts,
                            t,
                            n,
                            u.opts.specialEasing[t] || u.opts.easing
                        );
                        return u.tweens.push(r), r;
                    },
                    stop: function(t) {
                        var n = 0,
                            r = t ? u.tweens.length : 0;
                        if (i) return this;
                        for (i = !0; n < r; n++) u.tweens[n].run(1);
                        return (
                            t
                                ? (s.notifyWith(e, [u, 1, 0]),
                                  s.resolveWith(e, [u, t]))
                                : s.rejectWith(e, [u, t]),
                            this
                        );
                    }
                }),
                c = u.props;
            for (F(c, u.opts.specialEasing); o < a; o++)
                if ((r = U.prefilters[o].call(u, e, c, u.opts)))
                    return (
                        ie.isFunction(r.stop) &&
                            (ie._queueHooks(
                                u.elem,
                                u.opts.queue
                            ).stop = ie.proxy(r.stop, r)),
                        r
                    );
            return (
                ie.map(c, M, u),
                ie.isFunction(u.opts.start) && u.opts.start.call(e, u),
                ie.fx.timer(
                    ie.extend(l, { elem: e, anim: u, queue: u.opts.queue })
                ),
                u
                    .progress(u.opts.progress)
                    .done(u.opts.done, u.opts.complete)
                    .fail(u.opts.fail)
                    .always(u.opts.always)
            );
        }
        function z(e) {
            return (e.getAttribute && e.getAttribute("class")) || "";
        }
        function B(e) {
            return function(t, n) {
                "string" != typeof t && ((n = t), (t = "*"));
                var r,
                    i = 0,
                    o = t.toLowerCase().match(ye) || [];
                if (ie.isFunction(n))
                    for (; (r = o[i++]); )
                        "+" === r[0]
                            ? ((r = r.slice(1) || "*"),
                              (e[r] = e[r] || []).unshift(n))
                            : (e[r] = e[r] || []).push(n);
            };
        }
        function V(e, t, n, r) {
            function i(s) {
                var l;
                return (
                    (o[s] = !0),
                    ie.each(e[s] || [], function(e, s) {
                        var u = s(t, n, r);
                        return "string" != typeof u || a || o[u]
                            ? a
                                ? !(l = u)
                                : void 0
                            : (t.dataTypes.unshift(u), i(u), !1);
                    }),
                    l
                );
            }
            var o = {},
                a = e === Tt;
            return i(t.dataTypes[0]) || (!o["*"] && i("*"));
        }
        function $(e, t) {
            var n,
                r,
                i = ie.ajaxSettings.flatOptions || {};
            for (n in t)
                void 0 !== t[n] && ((i[n] ? e : r || (r = {}))[n] = t[n]);
            return r && ie.extend(!0, e, r), e;
        }
        function H(e, t, n) {
            for (
                var r, i, o, a, s = e.contents, l = e.dataTypes;
                "*" === l[0];

            )
                l.shift(),
                    void 0 === r &&
                        (r = e.mimeType || t.getResponseHeader("Content-Type"));
            if (r)
                for (i in s)
                    if (s[i] && s[i].test(r)) {
                        l.unshift(i);
                        break;
                    }
            if (l[0] in n) o = l[0];
            else {
                for (i in n) {
                    if (!l[0] || e.converters[i + " " + l[0]]) {
                        o = i;
                        break;
                    }
                    a || (a = i);
                }
                o = o || a;
            }
            if (o) return o !== l[0] && l.unshift(o), n[o];
        }
        function q(e, t, n, r) {
            var i,
                o,
                a,
                s,
                l,
                u = {},
                c = e.dataTypes.slice();
            if (c[1])
                for (a in e.converters) u[a.toLowerCase()] = e.converters[a];
            for (o = c.shift(); o; )
                if (
                    (e.responseFields[o] && (n[e.responseFields[o]] = t),
                    !l &&
                        r &&
                        e.dataFilter &&
                        (t = e.dataFilter(t, e.dataType)),
                    (l = o),
                    (o = c.shift()))
                )
                    if ("*" === o) o = l;
                    else if ("*" !== l && l !== o) {
                        if (!(a = u[l + " " + o] || u["* " + o]))
                            for (i in u)
                                if (
                                    ((s = i.split(" ")),
                                    s[1] === o &&
                                        (a =
                                            u[l + " " + s[0]] ||
                                            u["* " + s[0]]))
                                ) {
                                    !0 === a
                                        ? (a = u[i])
                                        : !0 !== u[i] &&
                                          ((o = s[0]), c.unshift(s[1]));
                                    break;
                                }
                        if (!0 !== a)
                            if (a && e.throws) t = a(t);
                            else
                                try {
                                    t = a(t);
                                } catch (e) {
                                    return {
                                        state: "parsererror",
                                        error: a
                                            ? e
                                            : "No conversion from " +
                                              l +
                                              " to " +
                                              o
                                    };
                                }
                    }
            return { state: "success", data: t };
        }
        function W(e, t, n, r) {
            var i;
            if (ie.isArray(t))
                ie.each(t, function(t, i) {
                    n || It.test(e)
                        ? r(e, i)
                        : W(
                              e +
                                  "[" +
                                  ("object" == typeof i && null != i ? t : "") +
                                  "]",
                              i,
                              n,
                              r
                          );
                });
            else if (n || "object" !== ie.type(t)) r(e, t);
            else for (i in t) W(e + "[" + i + "]", t[i], n, r);
        }
        function G(e) {
            return ie.isWindow(e) ? e : 9 === e.nodeType && e.defaultView;
        }
        var X = [],
            K = e.document,
            J = X.slice,
            Q = X.concat,
            Y = X.push,
            Z = X.indexOf,
            ee = {},
            te = ee.toString,
            ne = ee.hasOwnProperty,
            re = {},
            ie = function(e, t) {
                return new ie.fn.init(e, t);
            },
            oe = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
            ae = /^-ms-/,
            se = /-([\da-z])/gi,
            le = function(e, t) {
                return t.toUpperCase();
            };
        (ie.fn = ie.prototype = {
            jquery: "2.2.4",
            constructor: ie,
            selector: "",
            length: 0,
            toArray: function() {
                return J.call(this);
            },
            get: function(e) {
                return null != e
                    ? e < 0
                        ? this[e + this.length]
                        : this[e]
                    : J.call(this);
            },
            pushStack: function(e) {
                var t = ie.merge(this.constructor(), e);
                return (t.prevObject = this), (t.context = this.context), t;
            },
            each: function(e) {
                return ie.each(this, e);
            },
            map: function(e) {
                return this.pushStack(
                    ie.map(this, function(t, n) {
                        return e.call(t, n, t);
                    })
                );
            },
            slice: function() {
                return this.pushStack(J.apply(this, arguments));
            },
            first: function() {
                return this.eq(0);
            },
            last: function() {
                return this.eq(-1);
            },
            eq: function(e) {
                var t = this.length,
                    n = +e + (e < 0 ? t : 0);
                return this.pushStack(n >= 0 && n < t ? [this[n]] : []);
            },
            end: function() {
                return this.prevObject || this.constructor();
            },
            push: Y,
            sort: X.sort,
            splice: X.splice
        }),
            (ie.extend = ie.fn.extend = function() {
                var e,
                    t,
                    n,
                    r,
                    i,
                    o,
                    a = arguments[0] || {},
                    s = 1,
                    l = arguments.length,
                    u = !1;
                for (
                    "boolean" == typeof a &&
                        ((u = a), (a = arguments[s] || {}), s++),
                        "object" == typeof a || ie.isFunction(a) || (a = {}),
                        s === l && ((a = this), s--);
                    s < l;
                    s++
                )
                    if (null != (e = arguments[s]))
                        for (t in e)
                            (n = a[t]),
                                (r = e[t]),
                                a !== r &&
                                    (u &&
                                    r &&
                                    (ie.isPlainObject(r) || (i = ie.isArray(r)))
                                        ? (i
                                              ? ((i = !1),
                                                (o =
                                                    n && ie.isArray(n)
                                                        ? n
                                                        : []))
                                              : (o =
                                                    n && ie.isPlainObject(n)
                                                        ? n
                                                        : {}),
                                          (a[t] = ie.extend(u, o, r)))
                                        : void 0 !== r && (a[t] = r));
                return a;
            }),
            ie.extend({
                expando:
                    "jQuery" + ("2.2.4" + Math.random()).replace(/\D/g, ""),
                isReady: !0,
                error: function(e) {
                    throw new Error(e);
                },
                noop: function() {},
                isFunction: function(e) {
                    return "function" === ie.type(e);
                },
                isArray: Array.isArray,
                isWindow: function(e) {
                    return null != e && e === e.window;
                },
                isNumeric: function(e) {
                    var t = e && e.toString();
                    return !ie.isArray(e) && t - parseFloat(t) + 1 >= 0;
                },
                isPlainObject: function(e) {
                    var t;
                    if ("object" !== ie.type(e) || e.nodeType || ie.isWindow(e))
                        return !1;
                    if (
                        e.constructor &&
                        !ne.call(e, "constructor") &&
                        !ne.call(e.constructor.prototype || {}, "isPrototypeOf")
                    )
                        return !1;
                    for (t in e);
                    return void 0 === t || ne.call(e, t);
                },
                isEmptyObject: function(e) {
                    var t;
                    for (t in e) return !1;
                    return !0;
                },
                type: function(e) {
                    return null == e
                        ? e + ""
                        : "object" == typeof e || "function" == typeof e
                            ? ee[te.call(e)] || "object"
                            : typeof e;
                },
                globalEval: function(e) {
                    var t,
                        n = eval;
                    (e = ie.trim(e)) &&
                        (1 === e.indexOf("use strict")
                            ? ((t = K.createElement("script")),
                              (t.text = e),
                              K.head.appendChild(t).parentNode.removeChild(t))
                            : n(e));
                },
                camelCase: function(e) {
                    return e.replace(ae, "ms-").replace(se, le);
                },
                nodeName: function(e, t) {
                    return (
                        e.nodeName &&
                        e.nodeName.toLowerCase() === t.toLowerCase()
                    );
                },
                each: function(e, t) {
                    var r,
                        i = 0;
                    if (n(e))
                        for (
                            r = e.length;
                            i < r && !1 !== t.call(e[i], i, e[i]);
                            i++
                        );
                    else for (i in e) if (!1 === t.call(e[i], i, e[i])) break;
                    return e;
                },
                trim: function(e) {
                    return null == e ? "" : (e + "").replace(oe, "");
                },
                makeArray: function(e, t) {
                    var r = t || [];
                    return (
                        null != e &&
                            (n(Object(e))
                                ? ie.merge(r, "string" == typeof e ? [e] : e)
                                : Y.call(r, e)),
                        r
                    );
                },
                inArray: function(e, t, n) {
                    return null == t ? -1 : Z.call(t, e, n);
                },
                merge: function(e, t) {
                    for (var n = +t.length, r = 0, i = e.length; r < n; r++)
                        e[i++] = t[r];
                    return (e.length = i), e;
                },
                grep: function(e, t, n) {
                    for (var r = [], i = 0, o = e.length, a = !n; i < o; i++)
                        !t(e[i], i) !== a && r.push(e[i]);
                    return r;
                },
                map: function(e, t, r) {
                    var i,
                        o,
                        a = 0,
                        s = [];
                    if (n(e))
                        for (i = e.length; a < i; a++)
                            null != (o = t(e[a], a, r)) && s.push(o);
                    else for (a in e) null != (o = t(e[a], a, r)) && s.push(o);
                    return Q.apply([], s);
                },
                guid: 1,
                proxy: function(e, t) {
                    var n, r, i;
                    if (
                        ("string" == typeof t && ((n = e[t]), (t = e), (e = n)),
                        ie.isFunction(e))
                    )
                        return (
                            (r = J.call(arguments, 2)),
                            (i = function() {
                                return e.apply(
                                    t || this,
                                    r.concat(J.call(arguments))
                                );
                            }),
                            (i.guid = e.guid = e.guid || ie.guid++),
                            i
                        );
                },
                now: Date.now,
                support: re
            }),
            "function" == typeof Symbol &&
                (ie.fn[Symbol.iterator] = X[Symbol.iterator]),
            ie.each(
                "Boolean Number String Function Array Date RegExp Object Error Symbol".split(
                    " "
                ),
                function(e, t) {
                    ee["[object " + t + "]"] = t.toLowerCase();
                }
            );
        var ue = (function(e) {
            function t(e, t, n, r) {
                var i,
                    o,
                    a,
                    s,
                    u,
                    d,
                    f,
                    p,
                    h = t && t.ownerDocument,
                    m = t ? t.nodeType : 9;
                if (
                    ((n = n || []),
                    "string" != typeof e ||
                        !e ||
                        (1 !== m && 9 !== m && 11 !== m))
                )
                    return n;
                if (
                    !r &&
                    ((t ? t.ownerDocument || t : F) !== O && P(t),
                    (t = t || O),
                    N)
                ) {
                    if (11 !== m && (d = me.exec(e)))
                        if ((i = d[1])) {
                            if (9 === m) {
                                if (!(a = t.getElementById(i))) return n;
                                if (a.id === i) return n.push(a), n;
                            } else if (
                                h &&
                                (a = h.getElementById(i)) &&
                                M(t, a) &&
                                a.id === i
                            )
                                return n.push(a), n;
                        } else {
                            if (d[2])
                                return J.apply(n, t.getElementsByTagName(e)), n;
                            if (
                                (i = d[3]) &&
                                y.getElementsByClassName &&
                                t.getElementsByClassName
                            )
                                return (
                                    J.apply(n, t.getElementsByClassName(i)), n
                                );
                        }
                    if (y.qsa && !$[e + " "] && (!R || !R.test(e))) {
                        if (1 !== m) (h = t), (p = e);
                        else if ("object" !== t.nodeName.toLowerCase()) {
                            for (
                                (s = t.getAttribute("id"))
                                    ? (s = s.replace(ve, "\\$&"))
                                    : t.setAttribute("id", (s = L)),
                                    f = E(e),
                                    o = f.length,
                                    u = ce.test(s)
                                        ? "#" + s
                                        : "[id='" + s + "']";
                                o--;

                            )
                                f[o] = u + " " + c(f[o]);
                            (p = f.join(",")),
                                (h = (ge.test(e) && l(t.parentNode)) || t);
                        }
                        if (p)
                            try {
                                return J.apply(n, h.querySelectorAll(p)), n;
                            } catch (e) {
                            } finally {
                                s === L && t.removeAttribute("id");
                            }
                    }
                }
                return S(e.replace(oe, "$1"), t, n, r);
            }
            function n() {
                function e(n, r) {
                    return (
                        t.push(n + " ") > _.cacheLength && delete e[t.shift()],
                        (e[n + " "] = r)
                    );
                }
                var t = [];
                return e;
            }
            function r(e) {
                return (e[L] = !0), e;
            }
            function i(e) {
                var t = O.createElement("div");
                try {
                    return !!e(t);
                } catch (e) {
                    return !1;
                } finally {
                    t.parentNode && t.parentNode.removeChild(t), (t = null);
                }
            }
            function o(e, t) {
                for (var n = e.split("|"), r = n.length; r--; )
                    _.attrHandle[n[r]] = t;
            }
            function a(e, t) {
                var n = t && e,
                    r =
                        n &&
                        1 === e.nodeType &&
                        1 === t.nodeType &&
                        (~t.sourceIndex || q) - (~e.sourceIndex || q);
                if (r) return r;
                if (n) for (; (n = n.nextSibling); ) if (n === t) return -1;
                return e ? 1 : -1;
            }
            function s(e) {
                return r(function(t) {
                    return (
                        (t = +t),
                        r(function(n, r) {
                            for (
                                var i, o = e([], n.length, t), a = o.length;
                                a--;

                            )
                                n[(i = o[a])] && (n[i] = !(r[i] = n[i]));
                        })
                    );
                });
            }
            function l(e) {
                return e && void 0 !== e.getElementsByTagName && e;
            }
            function u() {}
            function c(e) {
                for (var t = 0, n = e.length, r = ""; t < n; t++)
                    r += e[t].value;
                return r;
            }
            function d(e, t, n) {
                var r = t.dir,
                    i = n && "parentNode" === r,
                    o = z++;
                return t.first
                    ? function(t, n, o) {
                          for (; (t = t[r]); )
                              if (1 === t.nodeType || i) return e(t, n, o);
                      }
                    : function(t, n, a) {
                          var s,
                              l,
                              u,
                              c = [U, o];
                          if (a) {
                              for (; (t = t[r]); )
                                  if ((1 === t.nodeType || i) && e(t, n, a))
                                      return !0;
                          } else
                              for (; (t = t[r]); )
                                  if (1 === t.nodeType || i) {
                                      if (
                                          ((u = t[L] || (t[L] = {})),
                                          (l =
                                              u[t.uniqueID] ||
                                              (u[t.uniqueID] = {})),
                                          (s = l[r]) &&
                                              s[0] === U &&
                                              s[1] === o)
                                      )
                                          return (c[2] = s[2]);
                                      if (((l[r] = c), (c[2] = e(t, n, a))))
                                          return !0;
                                  }
                      };
            }
            function f(e) {
                return e.length > 1
                    ? function(t, n, r) {
                          for (var i = e.length; i--; )
                              if (!e[i](t, n, r)) return !1;
                          return !0;
                      }
                    : e[0];
            }
            function p(e, n, r) {
                for (var i = 0, o = n.length; i < o; i++) t(e, n[i], r);
                return r;
            }
            function h(e, t, n, r, i) {
                for (
                    var o, a = [], s = 0, l = e.length, u = null != t;
                    s < l;
                    s++
                )
                    (o = e[s]) &&
                        ((n && !n(o, r, i)) || (a.push(o), u && t.push(s)));
                return a;
            }
            function m(e, t, n, i, o, a) {
                return (
                    i && !i[L] && (i = m(i)),
                    o && !o[L] && (o = m(o, a)),
                    r(function(r, a, s, l) {
                        var u,
                            c,
                            d,
                            f = [],
                            m = [],
                            g = a.length,
                            v = r || p(t || "*", s.nodeType ? [s] : s, []),
                            b = !e || (!r && t) ? v : h(v, f, e, s, l),
                            y = n ? (o || (r ? e : g || i) ? [] : a) : b;
                        if ((n && n(b, y, s, l), i))
                            for (
                                u = h(y, m), i(u, [], s, l), c = u.length;
                                c--;

                            )
                                (d = u[c]) && (y[m[c]] = !(b[m[c]] = d));
                        if (r) {
                            if (o || e) {
                                if (o) {
                                    for (u = [], c = y.length; c--; )
                                        (d = y[c]) && u.push((b[c] = d));
                                    o(null, (y = []), u, l);
                                }
                                for (c = y.length; c--; )
                                    (d = y[c]) &&
                                        (u = o ? Y(r, d) : f[c]) > -1 &&
                                        (r[u] = !(a[u] = d));
                            }
                        } else (y = h(y === a ? y.splice(g, y.length) : y)), o ? o(null, a, y, l) : J.apply(a, y);
                    })
                );
            }
            function g(e) {
                for (
                    var t,
                        n,
                        r,
                        i = e.length,
                        o = _.relative[e[0].type],
                        a = o || _.relative[" "],
                        s = o ? 1 : 0,
                        l = d(
                            function(e) {
                                return e === t;
                            },
                            a,
                            !0
                        ),
                        u = d(
                            function(e) {
                                return Y(t, e) > -1;
                            },
                            a,
                            !0
                        ),
                        p = [
                            function(e, n, r) {
                                var i =
                                    (!o && (r || n !== C)) ||
                                    ((t = n).nodeType
                                        ? l(e, n, r)
                                        : u(e, n, r));
                                return (t = null), i;
                            }
                        ];
                    s < i;
                    s++
                )
                    if ((n = _.relative[e[s].type])) p = [d(f(p), n)];
                    else {
                        if (
                            ((n = _.filter[e[s].type].apply(
                                null,
                                e[s].matches
                            )),
                            n[L])
                        ) {
                            for (r = ++s; r < i && !_.relative[e[r].type]; r++);
                            return m(
                                s > 1 && f(p),
                                s > 1 &&
                                    c(
                                        e.slice(0, s - 1).concat({
                                            value:
                                                " " === e[s - 2].type ? "*" : ""
                                        })
                                    ).replace(oe, "$1"),
                                n,
                                s < r && g(e.slice(s, r)),
                                r < i && g((e = e.slice(r))),
                                r < i && c(e)
                            );
                        }
                        p.push(n);
                    }
                return f(p);
            }
            function v(e, n) {
                var i = n.length > 0,
                    o = e.length > 0,
                    a = function(r, a, s, l, u) {
                        var c,
                            d,
                            f,
                            p = 0,
                            m = "0",
                            g = r && [],
                            v = [],
                            b = C,
                            y = r || (o && _.find.TAG("*", u)),
                            w = (U += null == b ? 1 : Math.random() || 0.1),
                            x = y.length;
                        for (
                            u && (C = a === O || a || u);
                            m !== x && null != (c = y[m]);
                            m++
                        ) {
                            if (o && c) {
                                for (
                                    d = 0,
                                        a ||
                                            c.ownerDocument === O ||
                                            (P(c), (s = !N));
                                    (f = e[d++]);

                                )
                                    if (f(c, a || O, s)) {
                                        l.push(c);
                                        break;
                                    }
                                u && (U = w);
                            }
                            i && ((c = !f && c) && p--, r && g.push(c));
                        }
                        if (((p += m), i && m !== p)) {
                            for (d = 0; (f = n[d++]); ) f(g, v, a, s);
                            if (r) {
                                if (p > 0)
                                    for (; m--; )
                                        g[m] || v[m] || (v[m] = X.call(l));
                                v = h(v);
                            }
                            J.apply(l, v),
                                u &&
                                    !r &&
                                    v.length > 0 &&
                                    p + n.length > 1 &&
                                    t.uniqueSort(l);
                        }
                        return u && ((U = w), (C = b)), g;
                    };
                return i ? r(a) : a;
            }
            var b,
                y,
                _,
                w,
                x,
                E,
                T,
                S,
                C,
                k,
                I,
                P,
                O,
                A,
                N,
                R,
                D,
                j,
                M,
                L = "sizzle" + 1 * new Date(),
                F = e.document,
                U = 0,
                z = 0,
                B = n(),
                V = n(),
                $ = n(),
                H = function(e, t) {
                    return e === t && (I = !0), 0;
                },
                q = 1 << 31,
                W = {}.hasOwnProperty,
                G = [],
                X = G.pop,
                K = G.push,
                J = G.push,
                Q = G.slice,
                Y = function(e, t) {
                    for (var n = 0, r = e.length; n < r; n++)
                        if (e[n] === t) return n;
                    return -1;
                },
                Z =
                    "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                ee = "[\\x20\\t\\r\\n\\f]",
                te = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                ne =
                    "\\[" +
                    ee +
                    "*(" +
                    te +
                    ")(?:" +
                    ee +
                    "*([*^$|!~]?=)" +
                    ee +
                    "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" +
                    te +
                    "))|)" +
                    ee +
                    "*\\]",
                re =
                    ":(" +
                    te +
                    ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
                    ne +
                    ")*)|.*)\\)|)",
                ie = new RegExp(ee + "+", "g"),
                oe = new RegExp(
                    "^" + ee + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ee + "+$",
                    "g"
                ),
                ae = new RegExp("^" + ee + "*," + ee + "*"),
                se = new RegExp("^" + ee + "*([>+~]|" + ee + ")" + ee + "*"),
                le = new RegExp("=" + ee + "*([^\\]'\"]*?)" + ee + "*\\]", "g"),
                ue = new RegExp(re),
                ce = new RegExp("^" + te + "$"),
                de = {
                    ID: new RegExp("^#(" + te + ")"),
                    CLASS: new RegExp("^\\.(" + te + ")"),
                    TAG: new RegExp("^(" + te + "|[*])"),
                    ATTR: new RegExp("^" + ne),
                    PSEUDO: new RegExp("^" + re),
                    CHILD: new RegExp(
                        "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
                            ee +
                            "*(even|odd|(([+-]|)(\\d*)n|)" +
                            ee +
                            "*(?:([+-]|)" +
                            ee +
                            "*(\\d+)|))" +
                            ee +
                            "*\\)|)",
                        "i"
                    ),
                    bool: new RegExp("^(?:" + Z + ")$", "i"),
                    needsContext: new RegExp(
                        "^" +
                            ee +
                            "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                            ee +
                            "*((?:-\\d)?\\d*)" +
                            ee +
                            "*\\)|)(?=[^-]|$)",
                        "i"
                    )
                },
                fe = /^(?:input|select|textarea|button)$/i,
                pe = /^h\d$/i,
                he = /^[^{]+\{\s*\[native \w/,
                me = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                ge = /[+~]/,
                ve = /'|\\/g,
                be = new RegExp(
                    "\\\\([\\da-f]{1,6}" + ee + "?|(" + ee + ")|.)",
                    "ig"
                ),
                ye = function(e, t, n) {
                    var r = "0x" + t - 65536;
                    return r !== r || n
                        ? t
                        : r < 0
                            ? String.fromCharCode(r + 65536)
                            : String.fromCharCode(
                                  (r >> 10) | 55296,
                                  (1023 & r) | 56320
                              );
                },
                _e = function() {
                    P();
                };
            try {
                J.apply((G = Q.call(F.childNodes)), F.childNodes),
                    G[F.childNodes.length].nodeType;
            } catch (e) {
                J = {
                    apply: G.length
                        ? function(e, t) {
                              K.apply(e, Q.call(t));
                          }
                        : function(e, t) {
                              for (
                                  var n = e.length, r = 0;
                                  (e[n++] = t[r++]);

                              );
                              e.length = n - 1;
                          }
                };
            }
            (y = t.support = {}),
                (x = t.isXML = function(e) {
                    var t = e && (e.ownerDocument || e).documentElement;
                    return !!t && "HTML" !== t.nodeName;
                }),
                (P = t.setDocument = function(e) {
                    var t,
                        n,
                        r = e ? e.ownerDocument || e : F;
                    return r !== O && 9 === r.nodeType && r.documentElement
                        ? ((O = r),
                          (A = O.documentElement),
                          (N = !x(O)),
                          (n = O.defaultView) &&
                              n.top !== n &&
                              (n.addEventListener
                                  ? n.addEventListener("unload", _e, !1)
                                  : n.attachEvent &&
                                    n.attachEvent("onunload", _e)),
                          (y.attributes = i(function(e) {
                              return (
                                  (e.className = "i"),
                                  !e.getAttribute("className")
                              );
                          })),
                          (y.getElementsByTagName = i(function(e) {
                              return (
                                  e.appendChild(O.createComment("")),
                                  !e.getElementsByTagName("*").length
                              );
                          })),
                          (y.getElementsByClassName = he.test(
                              O.getElementsByClassName
                          )),
                          (y.getById = i(function(e) {
                              return (
                                  (A.appendChild(e).id = L),
                                  !O.getElementsByName ||
                                      !O.getElementsByName(L).length
                              );
                          })),
                          y.getById
                              ? ((_.find.ID = function(e, t) {
                                    if (void 0 !== t.getElementById && N) {
                                        var n = t.getElementById(e);
                                        return n ? [n] : [];
                                    }
                                }),
                                (_.filter.ID = function(e) {
                                    var t = e.replace(be, ye);
                                    return function(e) {
                                        return e.getAttribute("id") === t;
                                    };
                                }))
                              : (delete _.find.ID,
                                (_.filter.ID = function(e) {
                                    var t = e.replace(be, ye);
                                    return function(e) {
                                        var n =
                                            void 0 !== e.getAttributeNode &&
                                            e.getAttributeNode("id");
                                        return n && n.value === t;
                                    };
                                })),
                          (_.find.TAG = y.getElementsByTagName
                              ? function(e, t) {
                                    return void 0 !== t.getElementsByTagName
                                        ? t.getElementsByTagName(e)
                                        : y.qsa
                                            ? t.querySelectorAll(e)
                                            : void 0;
                                }
                              : function(e, t) {
                                    var n,
                                        r = [],
                                        i = 0,
                                        o = t.getElementsByTagName(e);
                                    if ("*" === e) {
                                        for (; (n = o[i++]); )
                                            1 === n.nodeType && r.push(n);
                                        return r;
                                    }
                                    return o;
                                }),
                          (_.find.CLASS =
                              y.getElementsByClassName &&
                              function(e, t) {
                                  if (void 0 !== t.getElementsByClassName && N)
                                      return t.getElementsByClassName(e);
                              }),
                          (D = []),
                          (R = []),
                          (y.qsa = he.test(O.querySelectorAll)) &&
                              (i(function(e) {
                                  (A.appendChild(e).innerHTML =
                                      "<a id='" +
                                      L +
                                      "'></a><select id='" +
                                      L +
                                      "-\r\\' msallowcapture=''><option selected=''></option></select>"),
                                      e.querySelectorAll("[msallowcapture^='']")
                                          .length &&
                                          R.push(
                                              "[*^$]=" + ee + "*(?:''|\"\")"
                                          ),
                                      e.querySelectorAll("[selected]").length ||
                                          R.push(
                                              "\\[" +
                                                  ee +
                                                  "*(?:value|" +
                                                  Z +
                                                  ")"
                                          ),
                                      e.querySelectorAll("[id~=" + L + "-]")
                                          .length || R.push("~="),
                                      e.querySelectorAll(":checked").length ||
                                          R.push(":checked"),
                                      e.querySelectorAll("a#" + L + "+*")
                                          .length || R.push(".#.+[+~]");
                              }),
                              i(function(e) {
                                  var t = O.createElement("input");
                                  t.setAttribute("type", "hidden"),
                                      e
                                          .appendChild(t)
                                          .setAttribute("name", "D"),
                                      e.querySelectorAll("[name=d]").length &&
                                          R.push("name" + ee + "*[*^$|!~]?="),
                                      e.querySelectorAll(":enabled").length ||
                                          R.push(":enabled", ":disabled"),
                                      e.querySelectorAll("*,:x"),
                                      R.push(",.*:");
                              })),
                          (y.matchesSelector = he.test(
                              (j =
                                  A.matches ||
                                  A.webkitMatchesSelector ||
                                  A.mozMatchesSelector ||
                                  A.oMatchesSelector ||
                                  A.msMatchesSelector)
                          )) &&
                              i(function(e) {
                                  (y.disconnectedMatch = j.call(e, "div")),
                                      j.call(e, "[s!='']:x"),
                                      D.push("!=", re);
                              }),
                          (R = R.length && new RegExp(R.join("|"))),
                          (D = D.length && new RegExp(D.join("|"))),
                          (t = he.test(A.compareDocumentPosition)),
                          (M =
                              t || he.test(A.contains)
                                  ? function(e, t) {
                                        var n =
                                                9 === e.nodeType
                                                    ? e.documentElement
                                                    : e,
                                            r = t && t.parentNode;
                                        return (
                                            e === r ||
                                            !(
                                                !r ||
                                                1 !== r.nodeType ||
                                                !(n.contains
                                                    ? n.contains(r)
                                                    : e.compareDocumentPosition &&
                                                      16 &
                                                          e.compareDocumentPosition(
                                                              r
                                                          ))
                                            )
                                        );
                                    }
                                  : function(e, t) {
                                        if (t)
                                            for (; (t = t.parentNode); )
                                                if (t === e) return !0;
                                        return !1;
                                    }),
                          (H = t
                              ? function(e, t) {
                                    if (e === t) return (I = !0), 0;
                                    var n =
                                        !e.compareDocumentPosition -
                                        !t.compareDocumentPosition;
                                    return (
                                        n ||
                                        ((n =
                                            (e.ownerDocument || e) ===
                                            (t.ownerDocument || t)
                                                ? e.compareDocumentPosition(t)
                                                : 1),
                                        1 & n ||
                                        (!y.sortDetached &&
                                            t.compareDocumentPosition(e) === n)
                                            ? e === O ||
                                              (e.ownerDocument === F && M(F, e))
                                                ? -1
                                                : t === O ||
                                                  (t.ownerDocument === F &&
                                                      M(F, t))
                                                    ? 1
                                                    : k
                                                        ? Y(k, e) - Y(k, t)
                                                        : 0
                                            : 4 & n
                                                ? -1
                                                : 1)
                                    );
                                }
                              : function(e, t) {
                                    if (e === t) return (I = !0), 0;
                                    var n,
                                        r = 0,
                                        i = e.parentNode,
                                        o = t.parentNode,
                                        s = [e],
                                        l = [t];
                                    if (!i || !o)
                                        return e === O
                                            ? -1
                                            : t === O
                                                ? 1
                                                : i
                                                    ? -1
                                                    : o
                                                        ? 1
                                                        : k
                                                            ? Y(k, e) - Y(k, t)
                                                            : 0;
                                    if (i === o) return a(e, t);
                                    for (n = e; (n = n.parentNode); )
                                        s.unshift(n);
                                    for (n = t; (n = n.parentNode); )
                                        l.unshift(n);
                                    for (; s[r] === l[r]; ) r++;
                                    return r
                                        ? a(s[r], l[r])
                                        : s[r] === F
                                            ? -1
                                            : l[r] === F
                                                ? 1
                                                : 0;
                                }),
                          O)
                        : O;
                }),
                (t.matches = function(e, n) {
                    return t(e, null, null, n);
                }),
                (t.matchesSelector = function(e, n) {
                    if (
                        ((e.ownerDocument || e) !== O && P(e),
                        (n = n.replace(le, "='$1']")),
                        y.matchesSelector &&
                            N &&
                            !$[n + " "] &&
                            (!D || !D.test(n)) &&
                            (!R || !R.test(n)))
                    )
                        try {
                            var r = j.call(e, n);
                            if (
                                r ||
                                y.disconnectedMatch ||
                                (e.document && 11 !== e.document.nodeType)
                            )
                                return r;
                        } catch (e) {}
                    return t(n, O, null, [e]).length > 0;
                }),
                (t.contains = function(e, t) {
                    return (e.ownerDocument || e) !== O && P(e), M(e, t);
                }),
                (t.attr = function(e, t) {
                    (e.ownerDocument || e) !== O && P(e);
                    var n = _.attrHandle[t.toLowerCase()],
                        r =
                            n && W.call(_.attrHandle, t.toLowerCase())
                                ? n(e, t, !N)
                                : void 0;
                    return void 0 !== r
                        ? r
                        : y.attributes || !N
                            ? e.getAttribute(t)
                            : (r = e.getAttributeNode(t)) && r.specified
                                ? r.value
                                : null;
                }),
                (t.error = function(e) {
                    throw new Error(
                        "Syntax error, unrecognized expression: " + e
                    );
                }),
                (t.uniqueSort = function(e) {
                    var t,
                        n = [],
                        r = 0,
                        i = 0;
                    if (
                        ((I = !y.detectDuplicates),
                        (k = !y.sortStable && e.slice(0)),
                        e.sort(H),
                        I)
                    ) {
                        for (; (t = e[i++]); ) t === e[i] && (r = n.push(i));
                        for (; r--; ) e.splice(n[r], 1);
                    }
                    return (k = null), e;
                }),
                (w = t.getText = function(e) {
                    var t,
                        n = "",
                        r = 0,
                        i = e.nodeType;
                    if (i) {
                        if (1 === i || 9 === i || 11 === i) {
                            if ("string" == typeof e.textContent)
                                return e.textContent;
                            for (e = e.firstChild; e; e = e.nextSibling)
                                n += w(e);
                        } else if (3 === i || 4 === i) return e.nodeValue;
                    } else for (; (t = e[r++]); ) n += w(t);
                    return n;
                }),
                (_ = t.selectors = {
                    cacheLength: 50,
                    createPseudo: r,
                    match: de,
                    attrHandle: {},
                    find: {},
                    relative: {
                        ">": { dir: "parentNode", first: !0 },
                        " ": { dir: "parentNode" },
                        "+": { dir: "previousSibling", first: !0 },
                        "~": { dir: "previousSibling" }
                    },
                    preFilter: {
                        ATTR: function(e) {
                            return (
                                (e[1] = e[1].replace(be, ye)),
                                (e[3] = (e[3] || e[4] || e[5] || "").replace(
                                    be,
                                    ye
                                )),
                                "~=" === e[2] && (e[3] = " " + e[3] + " "),
                                e.slice(0, 4)
                            );
                        },
                        CHILD: function(e) {
                            return (
                                (e[1] = e[1].toLowerCase()),
                                "nth" === e[1].slice(0, 3)
                                    ? (e[3] || t.error(e[0]),
                                      (e[4] = +(e[4]
                                          ? e[5] + (e[6] || 1)
                                          : 2 *
                                            ("even" === e[3] ||
                                                "odd" === e[3]))),
                                      (e[5] = +(e[7] + e[8] || "odd" === e[3])))
                                    : e[3] && t.error(e[0]),
                                e
                            );
                        },
                        PSEUDO: function(e) {
                            var t,
                                n = !e[6] && e[2];
                            return de.CHILD.test(e[0])
                                ? null
                                : (e[3]
                                      ? (e[2] = e[4] || e[5] || "")
                                      : n &&
                                        ue.test(n) &&
                                        (t = E(n, !0)) &&
                                        (t =
                                            n.indexOf(")", n.length - t) -
                                            n.length) &&
                                        ((e[0] = e[0].slice(0, t)),
                                        (e[2] = n.slice(0, t))),
                                  e.slice(0, 3));
                        }
                    },
                    filter: {
                        TAG: function(e) {
                            var t = e.replace(be, ye).toLowerCase();
                            return "*" === e
                                ? function() {
                                      return !0;
                                  }
                                : function(e) {
                                      return (
                                          e.nodeName &&
                                          e.nodeName.toLowerCase() === t
                                      );
                                  };
                        },
                        CLASS: function(e) {
                            var t = B[e + " "];
                            return (
                                t ||
                                ((t = new RegExp(
                                    "(^|" + ee + ")" + e + "(" + ee + "|$)"
                                )) &&
                                    B(e, function(e) {
                                        return t.test(
                                            ("string" == typeof e.className &&
                                                e.className) ||
                                                (void 0 !== e.getAttribute &&
                                                    e.getAttribute("class")) ||
                                                ""
                                        );
                                    }))
                            );
                        },
                        ATTR: function(e, n, r) {
                            return function(i) {
                                var o = t.attr(i, e);
                                return null == o
                                    ? "!=" === n
                                    : !n ||
                                          ((o += ""),
                                          "=" === n
                                              ? o === r
                                              : "!=" === n
                                                  ? o !== r
                                                  : "^=" === n
                                                      ? r && 0 === o.indexOf(r)
                                                      : "*=" === n
                                                          ? r &&
                                                            o.indexOf(r) > -1
                                                          : "$=" === n
                                                              ? r &&
                                                                o.slice(
                                                                    -r.length
                                                                ) === r
                                                              : "~=" === n
                                                                  ? (
                                                                        " " +
                                                                        o.replace(
                                                                            ie,
                                                                            " "
                                                                        ) +
                                                                        " "
                                                                    ).indexOf(
                                                                        r
                                                                    ) > -1
                                                                  : "|=" ===
                                                                        n &&
                                                                    (o === r ||
                                                                        o.slice(
                                                                            0,
                                                                            r.length +
                                                                                1
                                                                        ) ===
                                                                            r +
                                                                                "-"));
                            };
                        },
                        CHILD: function(e, t, n, r, i) {
                            var o = "nth" !== e.slice(0, 3),
                                a = "last" !== e.slice(-4),
                                s = "of-type" === t;
                            return 1 === r && 0 === i
                                ? function(e) {
                                      return !!e.parentNode;
                                  }
                                : function(t, n, l) {
                                      var u,
                                          c,
                                          d,
                                          f,
                                          p,
                                          h,
                                          m =
                                              o !== a
                                                  ? "nextSibling"
                                                  : "previousSibling",
                                          g = t.parentNode,
                                          v = s && t.nodeName.toLowerCase(),
                                          b = !l && !s,
                                          y = !1;
                                      if (g) {
                                          if (o) {
                                              for (; m; ) {
                                                  for (f = t; (f = f[m]); )
                                                      if (
                                                          s
                                                              ? f.nodeName.toLowerCase() ===
                                                                v
                                                              : 1 === f.nodeType
                                                      )
                                                          return !1;
                                                  h = m =
                                                      "only" === e &&
                                                      !h &&
                                                      "nextSibling";
                                              }
                                              return !0;
                                          }
                                          if (
                                              ((h = [
                                                  a ? g.firstChild : g.lastChild
                                              ]),
                                              a && b)
                                          ) {
                                              for (
                                                  f = g,
                                                      d = f[L] || (f[L] = {}),
                                                      c =
                                                          d[f.uniqueID] ||
                                                          (d[f.uniqueID] = {}),
                                                      u = c[e] || [],
                                                      p = u[0] === U && u[1],
                                                      y = p && u[2],
                                                      f = p && g.childNodes[p];
                                                  (f =
                                                      (++p && f && f[m]) ||
                                                      (y = p = 0) ||
                                                      h.pop());

                                              )
                                                  if (
                                                      1 === f.nodeType &&
                                                      ++y &&
                                                      f === t
                                                  ) {
                                                      c[e] = [U, p, y];
                                                      break;
                                                  }
                                          } else if (
                                              (b &&
                                                  ((f = t),
                                                  (d = f[L] || (f[L] = {})),
                                                  (c =
                                                      d[f.uniqueID] ||
                                                      (d[f.uniqueID] = {})),
                                                  (u = c[e] || []),
                                                  (p = u[0] === U && u[1]),
                                                  (y = p)),
                                              !1 === y)
                                          )
                                              for (
                                                  ;
                                                  (f =
                                                      (++p && f && f[m]) ||
                                                      (y = p = 0) ||
                                                      h.pop()) &&
                                                  ((s
                                                      ? f.nodeName.toLowerCase() !==
                                                        v
                                                      : 1 !== f.nodeType) ||
                                                      !++y ||
                                                      (b &&
                                                          ((d =
                                                              f[L] ||
                                                              (f[L] = {})),
                                                          (c =
                                                              d[f.uniqueID] ||
                                                              (d[
                                                                  f.uniqueID
                                                              ] = {})),
                                                          (c[e] = [U, y])),
                                                      f !== t));

                                              );
                                          return (
                                              (y -= i) === r ||
                                              (y % r == 0 && y / r >= 0)
                                          );
                                      }
                                  };
                        },
                        PSEUDO: function(e, n) {
                            var i,
                                o =
                                    _.pseudos[e] ||
                                    _.setFilters[e.toLowerCase()] ||
                                    t.error("unsupported pseudo: " + e);
                            return o[L]
                                ? o(n)
                                : o.length > 1
                                    ? ((i = [e, e, "", n]),
                                      _.setFilters.hasOwnProperty(
                                          e.toLowerCase()
                                      )
                                          ? r(function(e, t) {
                                                for (
                                                    var r,
                                                        i = o(e, n),
                                                        a = i.length;
                                                    a--;

                                                )
                                                    (r = Y(e, i[a])),
                                                        (e[r] = !(t[r] = i[a]));
                                            })
                                          : function(e) {
                                                return o(e, 0, i);
                                            })
                                    : o;
                        }
                    },
                    pseudos: {
                        not: r(function(e) {
                            var t = [],
                                n = [],
                                i = T(e.replace(oe, "$1"));
                            return i[L]
                                ? r(function(e, t, n, r) {
                                      for (
                                          var o,
                                              a = i(e, null, r, []),
                                              s = e.length;
                                          s--;

                                      )
                                          (o = a[s]) && (e[s] = !(t[s] = o));
                                  })
                                : function(e, r, o) {
                                      return (
                                          (t[0] = e),
                                          i(t, null, o, n),
                                          (t[0] = null),
                                          !n.pop()
                                      );
                                  };
                        }),
                        has: r(function(e) {
                            return function(n) {
                                return t(e, n).length > 0;
                            };
                        }),
                        contains: r(function(e) {
                            return (
                                (e = e.replace(be, ye)),
                                function(t) {
                                    return (
                                        (
                                            t.textContent ||
                                            t.innerText ||
                                            w(t)
                                        ).indexOf(e) > -1
                                    );
                                }
                            );
                        }),
                        lang: r(function(e) {
                            return (
                                ce.test(e || "") ||
                                    t.error("unsupported lang: " + e),
                                (e = e.replace(be, ye).toLowerCase()),
                                function(t) {
                                    var n;
                                    do {
                                        if (
                                            (n = N
                                                ? t.lang
                                                : t.getAttribute("xml:lang") ||
                                                  t.getAttribute("lang"))
                                        )
                                            return (
                                                (n = n.toLowerCase()) === e ||
                                                0 === n.indexOf(e + "-")
                                            );
                                    } while (
                                        (t = t.parentNode) &&
                                        1 === t.nodeType
                                    );
                                    return !1;
                                }
                            );
                        }),
                        target: function(t) {
                            var n = e.location && e.location.hash;
                            return n && n.slice(1) === t.id;
                        },
                        root: function(e) {
                            return e === A;
                        },
                        focus: function(e) {
                            return (
                                e === O.activeElement &&
                                (!O.hasFocus || O.hasFocus()) &&
                                !!(e.type || e.href || ~e.tabIndex)
                            );
                        },
                        enabled: function(e) {
                            return !1 === e.disabled;
                        },
                        disabled: function(e) {
                            return !0 === e.disabled;
                        },
                        checked: function(e) {
                            var t = e.nodeName.toLowerCase();
                            return (
                                ("input" === t && !!e.checked) ||
                                ("option" === t && !!e.selected)
                            );
                        },
                        selected: function(e) {
                            return (
                                e.parentNode && e.parentNode.selectedIndex,
                                !0 === e.selected
                            );
                        },
                        empty: function(e) {
                            for (e = e.firstChild; e; e = e.nextSibling)
                                if (e.nodeType < 6) return !1;
                            return !0;
                        },
                        parent: function(e) {
                            return !_.pseudos.empty(e);
                        },
                        header: function(e) {
                            return pe.test(e.nodeName);
                        },
                        input: function(e) {
                            return fe.test(e.nodeName);
                        },
                        button: function(e) {
                            var t = e.nodeName.toLowerCase();
                            return (
                                ("input" === t && "button" === e.type) ||
                                "button" === t
                            );
                        },
                        text: function(e) {
                            var t;
                            return (
                                "input" === e.nodeName.toLowerCase() &&
                                "text" === e.type &&
                                (null == (t = e.getAttribute("type")) ||
                                    "text" === t.toLowerCase())
                            );
                        },
                        first: s(function() {
                            return [0];
                        }),
                        last: s(function(e, t) {
                            return [t - 1];
                        }),
                        eq: s(function(e, t, n) {
                            return [n < 0 ? n + t : n];
                        }),
                        even: s(function(e, t) {
                            for (var n = 0; n < t; n += 2) e.push(n);
                            return e;
                        }),
                        odd: s(function(e, t) {
                            for (var n = 1; n < t; n += 2) e.push(n);
                            return e;
                        }),
                        lt: s(function(e, t, n) {
                            for (var r = n < 0 ? n + t : n; --r >= 0; )
                                e.push(r);
                            return e;
                        }),
                        gt: s(function(e, t, n) {
                            for (var r = n < 0 ? n + t : n; ++r < t; )
                                e.push(r);
                            return e;
                        })
                    }
                }),
                (_.pseudos.nth = _.pseudos.eq);
            for (b in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            })
                _.pseudos[b] = (function(e) {
                    return function(t) {
                        return (
                            "input" === t.nodeName.toLowerCase() && t.type === e
                        );
                    };
                })(b);
            for (b in { submit: !0, reset: !0 })
                _.pseudos[b] = (function(e) {
                    return function(t) {
                        var n = t.nodeName.toLowerCase();
                        return (
                            ("input" === n || "button" === n) && t.type === e
                        );
                    };
                })(b);
            return (
                (u.prototype = _.filters = _.pseudos),
                (_.setFilters = new u()),
                (E = t.tokenize = function(e, n) {
                    var r,
                        i,
                        o,
                        a,
                        s,
                        l,
                        u,
                        c = V[e + " "];
                    if (c) return n ? 0 : c.slice(0);
                    for (s = e, l = [], u = _.preFilter; s; ) {
                        (r && !(i = ae.exec(s))) ||
                            (i && (s = s.slice(i[0].length) || s),
                            l.push((o = []))),
                            (r = !1),
                            (i = se.exec(s)) &&
                                ((r = i.shift()),
                                o.push({
                                    value: r,
                                    type: i[0].replace(oe, " ")
                                }),
                                (s = s.slice(r.length)));
                        for (a in _.filter)
                            !(i = de[a].exec(s)) ||
                                (u[a] && !(i = u[a](i))) ||
                                ((r = i.shift()),
                                o.push({ value: r, type: a, matches: i }),
                                (s = s.slice(r.length)));
                        if (!r) break;
                    }
                    return n ? s.length : s ? t.error(e) : V(e, l).slice(0);
                }),
                (T = t.compile = function(e, t) {
                    var n,
                        r = [],
                        i = [],
                        o = $[e + " "];
                    if (!o) {
                        for (t || (t = E(e)), n = t.length; n--; )
                            (o = g(t[n])), o[L] ? r.push(o) : i.push(o);
                        (o = $(e, v(i, r))), (o.selector = e);
                    }
                    return o;
                }),
                (S = t.select = function(e, t, n, r) {
                    var i,
                        o,
                        a,
                        s,
                        u,
                        d = "function" == typeof e && e,
                        f = !r && E((e = d.selector || e));
                    if (((n = n || []), 1 === f.length)) {
                        if (
                            ((o = f[0] = f[0].slice(0)),
                            o.length > 2 &&
                                "ID" === (a = o[0]).type &&
                                y.getById &&
                                9 === t.nodeType &&
                                N &&
                                _.relative[o[1].type])
                        ) {
                            if (
                                !(t = (_.find.ID(
                                    a.matches[0].replace(be, ye),
                                    t
                                ) || [])[0])
                            )
                                return n;
                            d && (t = t.parentNode),
                                (e = e.slice(o.shift().value.length));
                        }
                        for (
                            i = de.needsContext.test(e) ? 0 : o.length;
                            i-- && ((a = o[i]), !_.relative[(s = a.type)]);

                        )
                            if (
                                (u = _.find[s]) &&
                                (r = u(
                                    a.matches[0].replace(be, ye),
                                    (ge.test(o[0].type) && l(t.parentNode)) || t
                                ))
                            ) {
                                if ((o.splice(i, 1), !(e = r.length && c(o))))
                                    return J.apply(n, r), n;
                                break;
                            }
                    }
                    return (
                        (d || T(e, f))(
                            r,
                            t,
                            !N,
                            n,
                            !t || (ge.test(e) && l(t.parentNode)) || t
                        ),
                        n
                    );
                }),
                (y.sortStable =
                    L.split("")
                        .sort(H)
                        .join("") === L),
                (y.detectDuplicates = !!I),
                P(),
                (y.sortDetached = i(function(e) {
                    return (
                        1 & e.compareDocumentPosition(O.createElement("div"))
                    );
                })),
                i(function(e) {
                    return (
                        (e.innerHTML = "<a href='#'></a>"),
                        "#" === e.firstChild.getAttribute("href")
                    );
                }) ||
                    o("type|href|height|width", function(e, t, n) {
                        if (!n)
                            return e.getAttribute(
                                t,
                                "type" === t.toLowerCase() ? 1 : 2
                            );
                    }),
                (y.attributes &&
                    i(function(e) {
                        return (
                            (e.innerHTML = "<input/>"),
                            e.firstChild.setAttribute("value", ""),
                            "" === e.firstChild.getAttribute("value")
                        );
                    })) ||
                    o("value", function(e, t, n) {
                        if (!n && "input" === e.nodeName.toLowerCase())
                            return e.defaultValue;
                    }),
                i(function(e) {
                    return null == e.getAttribute("disabled");
                }) ||
                    o(Z, function(e, t, n) {
                        var r;
                        if (!n)
                            return !0 === e[t]
                                ? t.toLowerCase()
                                : (r = e.getAttributeNode(t)) && r.specified
                                    ? r.value
                                    : null;
                    }),
                t
            );
        })(e);
        (ie.find = ue),
            (ie.expr = ue.selectors),
            (ie.expr[":"] = ie.expr.pseudos),
            (ie.uniqueSort = ie.unique = ue.uniqueSort),
            (ie.text = ue.getText),
            (ie.isXMLDoc = ue.isXML),
            (ie.contains = ue.contains);
        var ce = function(e, t, n) {
                for (
                    var r = [], i = void 0 !== n;
                    (e = e[t]) && 9 !== e.nodeType;

                )
                    if (1 === e.nodeType) {
                        if (i && ie(e).is(n)) break;
                        r.push(e);
                    }
                return r;
            },
            de = function(e, t) {
                for (var n = []; e; e = e.nextSibling)
                    1 === e.nodeType && e !== t && n.push(e);
                return n;
            },
            fe = ie.expr.match.needsContext,
            pe = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,
            he = /^.[^:#\[\.,]*$/;
        (ie.filter = function(e, t, n) {
            var r = t[0];
            return (
                n && (e = ":not(" + e + ")"),
                1 === t.length && 1 === r.nodeType
                    ? ie.find.matchesSelector(r, e)
                        ? [r]
                        : []
                    : ie.find.matches(
                          e,
                          ie.grep(t, function(e) {
                              return 1 === e.nodeType;
                          })
                      )
            );
        }),
            ie.fn.extend({
                find: function(e) {
                    var t,
                        n = this.length,
                        r = [],
                        i = this;
                    if ("string" != typeof e)
                        return this.pushStack(
                            ie(e).filter(function() {
                                for (t = 0; t < n; t++)
                                    if (ie.contains(i[t], this)) return !0;
                            })
                        );
                    for (t = 0; t < n; t++) ie.find(e, i[t], r);
                    return (
                        (r = this.pushStack(n > 1 ? ie.unique(r) : r)),
                        (r.selector = this.selector
                            ? this.selector + " " + e
                            : e),
                        r
                    );
                },
                filter: function(e) {
                    return this.pushStack(r(this, e || [], !1));
                },
                not: function(e) {
                    return this.pushStack(r(this, e || [], !0));
                },
                is: function(e) {
                    return !!r(
                        this,
                        "string" == typeof e && fe.test(e) ? ie(e) : e || [],
                        !1
                    ).length;
                }
            });
        var me,
            ge = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
        ((ie.fn.init = function(e, t, n) {
            var r, i;
            if (!e) return this;
            if (((n = n || me), "string" == typeof e)) {
                if (
                    !(r =
                        "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3
                            ? [null, e, null]
                            : ge.exec(e)) ||
                    (!r[1] && t)
                )
                    return !t || t.jquery
                        ? (t || n).find(e)
                        : this.constructor(t).find(e);
                if (r[1]) {
                    if (
                        ((t = t instanceof ie ? t[0] : t),
                        ie.merge(
                            this,
                            ie.parseHTML(
                                r[1],
                                t && t.nodeType ? t.ownerDocument || t : K,
                                !0
                            )
                        ),
                        pe.test(r[1]) && ie.isPlainObject(t))
                    )
                        for (r in t)
                            ie.isFunction(this[r])
                                ? this[r](t[r])
                                : this.attr(r, t[r]);
                    return this;
                }
                return (
                    (i = K.getElementById(r[2])),
                    i && i.parentNode && ((this.length = 1), (this[0] = i)),
                    (this.context = K),
                    (this.selector = e),
                    this
                );
            }
            return e.nodeType
                ? ((this.context = this[0] = e), (this.length = 1), this)
                : ie.isFunction(e)
                    ? void 0 !== n.ready
                        ? n.ready(e)
                        : e(ie)
                    : (void 0 !== e.selector &&
                          ((this.selector = e.selector),
                          (this.context = e.context)),
                      ie.makeArray(e, this));
        }).prototype = ie.fn),
            (me = ie(K));
        var ve = /^(?:parents|prev(?:Until|All))/,
            be = { children: !0, contents: !0, next: !0, prev: !0 };
        ie.fn.extend({
            has: function(e) {
                var t = ie(e, this),
                    n = t.length;
                return this.filter(function() {
                    for (var e = 0; e < n; e++)
                        if (ie.contains(this, t[e])) return !0;
                });
            },
            closest: function(e, t) {
                for (
                    var n,
                        r = 0,
                        i = this.length,
                        o = [],
                        a =
                            fe.test(e) || "string" != typeof e
                                ? ie(e, t || this.context)
                                : 0;
                    r < i;
                    r++
                )
                    for (n = this[r]; n && n !== t; n = n.parentNode)
                        if (
                            n.nodeType < 11 &&
                            (a
                                ? a.index(n) > -1
                                : 1 === n.nodeType &&
                                  ie.find.matchesSelector(n, e))
                        ) {
                            o.push(n);
                            break;
                        }
                return this.pushStack(o.length > 1 ? ie.uniqueSort(o) : o);
            },
            index: function(e) {
                return e
                    ? "string" == typeof e
                        ? Z.call(ie(e), this[0])
                        : Z.call(this, e.jquery ? e[0] : e)
                    : this[0] && this[0].parentNode
                        ? this.first().prevAll().length
                        : -1;
            },
            add: function(e, t) {
                return this.pushStack(
                    ie.uniqueSort(ie.merge(this.get(), ie(e, t)))
                );
            },
            addBack: function(e) {
                return this.add(
                    null == e ? this.prevObject : this.prevObject.filter(e)
                );
            }
        }),
            ie.each(
                {
                    parent: function(e) {
                        var t = e.parentNode;
                        return t && 11 !== t.nodeType ? t : null;
                    },
                    parents: function(e) {
                        return ce(e, "parentNode");
                    },
                    parentsUntil: function(e, t, n) {
                        return ce(e, "parentNode", n);
                    },
                    next: function(e) {
                        return i(e, "nextSibling");
                    },
                    prev: function(e) {
                        return i(e, "previousSibling");
                    },
                    nextAll: function(e) {
                        return ce(e, "nextSibling");
                    },
                    prevAll: function(e) {
                        return ce(e, "previousSibling");
                    },
                    nextUntil: function(e, t, n) {
                        return ce(e, "nextSibling", n);
                    },
                    prevUntil: function(e, t, n) {
                        return ce(e, "previousSibling", n);
                    },
                    siblings: function(e) {
                        return de((e.parentNode || {}).firstChild, e);
                    },
                    children: function(e) {
                        return de(e.firstChild);
                    },
                    contents: function(e) {
                        return e.contentDocument || ie.merge([], e.childNodes);
                    }
                },
                function(e, t) {
                    ie.fn[e] = function(n, r) {
                        var i = ie.map(this, t, n);
                        return (
                            "Until" !== e.slice(-5) && (r = n),
                            r && "string" == typeof r && (i = ie.filter(r, i)),
                            this.length > 1 &&
                                (be[e] || ie.uniqueSort(i),
                                ve.test(e) && i.reverse()),
                            this.pushStack(i)
                        );
                    };
                }
            );
        var ye = /\S+/g;
        (ie.Callbacks = function(e) {
            e = "string" == typeof e ? o(e) : ie.extend({}, e);
            var t,
                n,
                r,
                i,
                a = [],
                s = [],
                l = -1,
                u = function() {
                    for (i = e.once, r = t = !0; s.length; l = -1)
                        for (n = s.shift(); ++l < a.length; )
                            !1 === a[l].apply(n[0], n[1]) &&
                                e.stopOnFalse &&
                                ((l = a.length), (n = !1));
                    e.memory || (n = !1), (t = !1), i && (a = n ? [] : "");
                },
                c = {
                    add: function() {
                        return (
                            a &&
                                (n && !t && ((l = a.length - 1), s.push(n)),
                                (function t(n) {
                                    ie.each(n, function(n, r) {
                                        ie.isFunction(r)
                                            ? (e.unique && c.has(r)) ||
                                              a.push(r)
                                            : r &&
                                              r.length &&
                                              "string" !== ie.type(r) &&
                                              t(r);
                                    });
                                })(arguments),
                                n && !t && u()),
                            this
                        );
                    },
                    remove: function() {
                        return (
                            ie.each(arguments, function(e, t) {
                                for (var n; (n = ie.inArray(t, a, n)) > -1; )
                                    a.splice(n, 1), n <= l && l--;
                            }),
                            this
                        );
                    },
                    has: function(e) {
                        return e ? ie.inArray(e, a) > -1 : a.length > 0;
                    },
                    empty: function() {
                        return a && (a = []), this;
                    },
                    disable: function() {
                        return (i = s = []), (a = n = ""), this;
                    },
                    disabled: function() {
                        return !a;
                    },
                    lock: function() {
                        return (i = s = []), n || (a = n = ""), this;
                    },
                    locked: function() {
                        return !!i;
                    },
                    fireWith: function(e, n) {
                        return (
                            i ||
                                ((n = n || []),
                                (n = [e, n.slice ? n.slice() : n]),
                                s.push(n),
                                t || u()),
                            this
                        );
                    },
                    fire: function() {
                        return c.fireWith(this, arguments), this;
                    },
                    fired: function() {
                        return !!r;
                    }
                };
            return c;
        }),
            ie.extend({
                Deferred: function(e) {
                    var t = [
                            [
                                "resolve",
                                "done",
                                ie.Callbacks("once memory"),
                                "resolved"
                            ],
                            [
                                "reject",
                                "fail",
                                ie.Callbacks("once memory"),
                                "rejected"
                            ],
                            ["notify", "progress", ie.Callbacks("memory")]
                        ],
                        n = "pending",
                        r = {
                            state: function() {
                                return n;
                            },
                            always: function() {
                                return i.done(arguments).fail(arguments), this;
                            },
                            then: function() {
                                var e = arguments;
                                return ie
                                    .Deferred(function(n) {
                                        ie.each(t, function(t, o) {
                                            var a = ie.isFunction(e[t]) && e[t];
                                            i[o[1]](function() {
                                                var e =
                                                    a &&
                                                    a.apply(this, arguments);
                                                e && ie.isFunction(e.promise)
                                                    ? e
                                                          .promise()
                                                          .progress(n.notify)
                                                          .done(n.resolve)
                                                          .fail(n.reject)
                                                    : n[o[0] + "With"](
                                                          this === r
                                                              ? n.promise()
                                                              : this,
                                                          a ? [e] : arguments
                                                      );
                                            });
                                        }),
                                            (e = null);
                                    })
                                    .promise();
                            },
                            promise: function(e) {
                                return null != e ? ie.extend(e, r) : r;
                            }
                        },
                        i = {};
                    return (
                        (r.pipe = r.then),
                        ie.each(t, function(e, o) {
                            var a = o[2],
                                s = o[3];
                            (r[o[1]] = a.add),
                                s &&
                                    a.add(
                                        function() {
                                            n = s;
                                        },
                                        t[1 ^ e][2].disable,
                                        t[2][2].lock
                                    ),
                                (i[o[0]] = function() {
                                    return (
                                        i[o[0] + "With"](
                                            this === i ? r : this,
                                            arguments
                                        ),
                                        this
                                    );
                                }),
                                (i[o[0] + "With"] = a.fireWith);
                        }),
                        r.promise(i),
                        e && e.call(i, i),
                        i
                    );
                },
                when: function(e) {
                    var t,
                        n,
                        r,
                        i = 0,
                        o = J.call(arguments),
                        a = o.length,
                        s = 1 !== a || (e && ie.isFunction(e.promise)) ? a : 0,
                        l = 1 === s ? e : ie.Deferred(),
                        u = function(e, n, r) {
                            return function(i) {
                                (n[e] = this),
                                    (r[e] =
                                        arguments.length > 1
                                            ? J.call(arguments)
                                            : i),
                                    r === t
                                        ? l.notifyWith(n, r)
                                        : --s || l.resolveWith(n, r);
                            };
                        };
                    if (a > 1)
                        for (
                            t = new Array(a),
                                n = new Array(a),
                                r = new Array(a);
                            i < a;
                            i++
                        )
                            o[i] && ie.isFunction(o[i].promise)
                                ? o[i]
                                      .promise()
                                      .progress(u(i, n, t))
                                      .done(u(i, r, o))
                                      .fail(l.reject)
                                : --s;
                    return s || l.resolveWith(r, o), l.promise();
                }
            });
        var _e;
        (ie.fn.ready = function(e) {
            return ie.ready.promise().done(e), this;
        }),
            ie.extend({
                isReady: !1,
                readyWait: 1,
                holdReady: function(e) {
                    e ? ie.readyWait++ : ie.ready(!0);
                },
                ready: function(e) {
                    (!0 === e ? --ie.readyWait : ie.isReady) ||
                        ((ie.isReady = !0),
                        (!0 !== e && --ie.readyWait > 0) ||
                            (_e.resolveWith(K, [ie]),
                            ie.fn.triggerHandler &&
                                (ie(K).triggerHandler("ready"),
                                ie(K).off("ready"))));
                }
            }),
            (ie.ready.promise = function(t) {
                return (
                    _e ||
                        ((_e = ie.Deferred()),
                        "complete" === K.readyState ||
                        ("loading" !== K.readyState &&
                            !K.documentElement.doScroll)
                            ? e.setTimeout(ie.ready)
                            : (K.addEventListener("DOMContentLoaded", a),
                              e.addEventListener("load", a))),
                    _e.promise(t)
                );
            }),
            ie.ready.promise();
        var we = function(e, t, n, r, i, o, a) {
                var s = 0,
                    l = e.length,
                    u = null == n;
                if ("object" === ie.type(n)) {
                    i = !0;
                    for (s in n) we(e, t, s, n[s], !0, o, a);
                } else if (
                    void 0 !== r &&
                    ((i = !0),
                    ie.isFunction(r) || (a = !0),
                    u &&
                        (a
                            ? (t.call(e, r), (t = null))
                            : ((u = t),
                              (t = function(e, t, n) {
                                  return u.call(ie(e), n);
                              }))),
                    t)
                )
                    for (; s < l; s++)
                        t(e[s], n, a ? r : r.call(e[s], s, t(e[s], n)));
                return i ? e : u ? t.call(e) : l ? t(e[0], n) : o;
            },
            xe = function(e) {
                return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType;
            };
        (s.uid = 1),
            (s.prototype = {
                register: function(e, t) {
                    var n = t || {};
                    return (
                        e.nodeType
                            ? (e[this.expando] = n)
                            : Object.defineProperty(e, this.expando, {
                                  value: n,
                                  writable: !0,
                                  configurable: !0
                              }),
                        e[this.expando]
                    );
                },
                cache: function(e) {
                    if (!xe(e)) return {};
                    var t = e[this.expando];
                    return (
                        t ||
                            ((t = {}),
                            xe(e) &&
                                (e.nodeType
                                    ? (e[this.expando] = t)
                                    : Object.defineProperty(e, this.expando, {
                                          value: t,
                                          configurable: !0
                                      }))),
                        t
                    );
                },
                set: function(e, t, n) {
                    var r,
                        i = this.cache(e);
                    if ("string" == typeof t) i[t] = n;
                    else for (r in t) i[r] = t[r];
                    return i;
                },
                get: function(e, t) {
                    return void 0 === t
                        ? this.cache(e)
                        : e[this.expando] && e[this.expando][t];
                },
                access: function(e, t, n) {
                    var r;
                    return void 0 === t ||
                        (t && "string" == typeof t && void 0 === n)
                        ? ((r = this.get(e, t)),
                          void 0 !== r ? r : this.get(e, ie.camelCase(t)))
                        : (this.set(e, t, n), void 0 !== n ? n : t);
                },
                remove: function(e, t) {
                    var n,
                        r,
                        i,
                        o = e[this.expando];
                    if (void 0 !== o) {
                        if (void 0 === t) this.register(e);
                        else {
                            ie.isArray(t)
                                ? (r = t.concat(t.map(ie.camelCase)))
                                : ((i = ie.camelCase(t)),
                                  t in o
                                      ? (r = [t, i])
                                      : ((r = i),
                                        (r =
                                            r in o ? [r] : r.match(ye) || []))),
                                (n = r.length);
                            for (; n--; ) delete o[r[n]];
                        }
                        (void 0 === t || ie.isEmptyObject(o)) &&
                            (e.nodeType
                                ? (e[this.expando] = void 0)
                                : delete e[this.expando]);
                    }
                },
                hasData: function(e) {
                    var t = e[this.expando];
                    return void 0 !== t && !ie.isEmptyObject(t);
                }
            });
        var Ee = new s(),
            Te = new s(),
            Se = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
            Ce = /[A-Z]/g;
        ie.extend({
            hasData: function(e) {
                return Te.hasData(e) || Ee.hasData(e);
            },
            data: function(e, t, n) {
                return Te.access(e, t, n);
            },
            removeData: function(e, t) {
                Te.remove(e, t);
            },
            _data: function(e, t, n) {
                return Ee.access(e, t, n);
            },
            _removeData: function(e, t) {
                Ee.remove(e, t);
            }
        }),
            ie.fn.extend({
                data: function(e, t) {
                    var n,
                        r,
                        i,
                        o = this[0],
                        a = o && o.attributes;
                    if (void 0 === e) {
                        if (
                            this.length &&
                            ((i = Te.get(o)),
                            1 === o.nodeType && !Ee.get(o, "hasDataAttrs"))
                        ) {
                            for (n = a.length; n--; )
                                a[n] &&
                                    ((r = a[n].name),
                                    0 === r.indexOf("data-") &&
                                        ((r = ie.camelCase(r.slice(5))),
                                        l(o, r, i[r])));
                            Ee.set(o, "hasDataAttrs", !0);
                        }
                        return i;
                    }
                    return "object" == typeof e
                        ? this.each(function() {
                              Te.set(this, e);
                          })
                        : we(
                              this,
                              function(t) {
                                  var n, r;
                                  if (o && void 0 === t) {
                                      if (
                                          void 0 !==
                                          (n =
                                              Te.get(o, e) ||
                                              Te.get(
                                                  o,
                                                  e
                                                      .replace(Ce, "-$&")
                                                      .toLowerCase()
                                              ))
                                      )
                                          return n;
                                      if (
                                          ((r = ie.camelCase(e)),
                                          void 0 !== (n = Te.get(o, r)))
                                      )
                                          return n;
                                      if (void 0 !== (n = l(o, r, void 0)))
                                          return n;
                                  } else
                                      (r = ie.camelCase(e)),
                                          this.each(function() {
                                              var n = Te.get(this, r);
                                              Te.set(this, r, t),
                                                  e.indexOf("-") > -1 &&
                                                      void 0 !== n &&
                                                      Te.set(this, e, t);
                                          });
                              },
                              null,
                              t,
                              arguments.length > 1,
                              null,
                              !0
                          );
                },
                removeData: function(e) {
                    return this.each(function() {
                        Te.remove(this, e);
                    });
                }
            }),
            ie.extend({
                queue: function(e, t, n) {
                    var r;
                    if (e)
                        return (
                            (t = (t || "fx") + "queue"),
                            (r = Ee.get(e, t)),
                            n &&
                                (!r || ie.isArray(n)
                                    ? (r = Ee.access(e, t, ie.makeArray(n)))
                                    : r.push(n)),
                            r || []
                        );
                },
                dequeue: function(e, t) {
                    t = t || "fx";
                    var n = ie.queue(e, t),
                        r = n.length,
                        i = n.shift(),
                        o = ie._queueHooks(e, t),
                        a = function() {
                            ie.dequeue(e, t);
                        };
                    "inprogress" === i && ((i = n.shift()), r--),
                        i &&
                            ("fx" === t && n.unshift("inprogress"),
                            delete o.stop,
                            i.call(e, a, o)),
                        !r && o && o.empty.fire();
                },
                _queueHooks: function(e, t) {
                    var n = t + "queueHooks";
                    return (
                        Ee.get(e, n) ||
                        Ee.access(e, n, {
                            empty: ie.Callbacks("once memory").add(function() {
                                Ee.remove(e, [t + "queue", n]);
                            })
                        })
                    );
                }
            }),
            ie.fn.extend({
                queue: function(e, t) {
                    var n = 2;
                    return (
                        "string" != typeof e && ((t = e), (e = "fx"), n--),
                        arguments.length < n
                            ? ie.queue(this[0], e)
                            : void 0 === t
                                ? this
                                : this.each(function() {
                                      var n = ie.queue(this, e, t);
                                      ie._queueHooks(this, e),
                                          "fx" === e &&
                                              "inprogress" !== n[0] &&
                                              ie.dequeue(this, e);
                                  })
                    );
                },
                dequeue: function(e) {
                    return this.each(function() {
                        ie.dequeue(this, e);
                    });
                },
                clearQueue: function(e) {
                    return this.queue(e || "fx", []);
                },
                promise: function(e, t) {
                    var n,
                        r = 1,
                        i = ie.Deferred(),
                        o = this,
                        a = this.length,
                        s = function() {
                            --r || i.resolveWith(o, [o]);
                        };
                    for (
                        "string" != typeof e && ((t = e), (e = void 0)),
                            e = e || "fx";
                        a--;

                    )
                        (n = Ee.get(o[a], e + "queueHooks")) &&
                            n.empty &&
                            (r++, n.empty.add(s));
                    return s(), i.promise(t);
                }
            });
        var ke = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
            Ie = new RegExp("^(?:([+-])=|)(" + ke + ")([a-z%]*)$", "i"),
            Pe = ["Top", "Right", "Bottom", "Left"],
            Oe = function(e, t) {
                return (
                    (e = t || e),
                    "none" === ie.css(e, "display") ||
                        !ie.contains(e.ownerDocument, e)
                );
            },
            Ae = /^(?:checkbox|radio)$/i,
            Ne = /<([\w:-]+)/,
            Re = /^$|\/(?:java|ecma)script/i,
            De = {
                option: [1, "<select multiple='multiple'>", "</select>"],
                thead: [1, "<table>", "</table>"],
                col: [2, "<table><colgroup>", "</colgroup></table>"],
                tr: [2, "<table><tbody>", "</tbody></table>"],
                td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                _default: [0, "", ""]
            };
        (De.optgroup = De.option),
            (De.tbody = De.tfoot = De.colgroup = De.caption = De.thead),
            (De.th = De.td);
        var je = /<|&#?\w+;/;
        !(function() {
            var e = K.createDocumentFragment(),
                t = e.appendChild(K.createElement("div")),
                n = K.createElement("input");
            n.setAttribute("type", "radio"),
                n.setAttribute("checked", "checked"),
                n.setAttribute("name", "t"),
                t.appendChild(n),
                (re.checkClone = t
                    .cloneNode(!0)
                    .cloneNode(!0).lastChild.checked),
                (t.innerHTML = "<textarea>x</textarea>"),
                (re.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue);
        })();
        var Me = /^key/,
            Le = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
            Fe = /^([^.]*)(?:\.(.+)|)/;
        (ie.event = {
            global: {},
            add: function(e, t, n, r, i) {
                var o,
                    a,
                    s,
                    l,
                    u,
                    c,
                    d,
                    f,
                    p,
                    h,
                    m,
                    g = Ee.get(e);
                if (g)
                    for (
                        n.handler &&
                            ((o = n), (n = o.handler), (i = o.selector)),
                            n.guid || (n.guid = ie.guid++),
                            (l = g.events) || (l = g.events = {}),
                            (a = g.handle) ||
                                (a = g.handle = function(t) {
                                    return void 0 !== ie &&
                                        ie.event.triggered !== t.type
                                        ? ie.event.dispatch.apply(e, arguments)
                                        : void 0;
                                }),
                            t = (t || "").match(ye) || [""],
                            u = t.length;
                        u--;

                    )
                        (s = Fe.exec(t[u]) || []),
                            (p = m = s[1]),
                            (h = (s[2] || "").split(".").sort()),
                            p &&
                                ((d = ie.event.special[p] || {}),
                                (p = (i ? d.delegateType : d.bindType) || p),
                                (d = ie.event.special[p] || {}),
                                (c = ie.extend(
                                    {
                                        type: p,
                                        origType: m,
                                        data: r,
                                        handler: n,
                                        guid: n.guid,
                                        selector: i,
                                        needsContext:
                                            i &&
                                            ie.expr.match.needsContext.test(i),
                                        namespace: h.join(".")
                                    },
                                    o
                                )),
                                (f = l[p]) ||
                                    ((f = l[p] = []),
                                    (f.delegateCount = 0),
                                    (d.setup &&
                                        !1 !== d.setup.call(e, r, h, a)) ||
                                        (e.addEventListener &&
                                            e.addEventListener(p, a))),
                                d.add &&
                                    (d.add.call(e, c),
                                    c.handler.guid ||
                                        (c.handler.guid = n.guid)),
                                i
                                    ? f.splice(f.delegateCount++, 0, c)
                                    : f.push(c),
                                (ie.event.global[p] = !0));
            },
            remove: function(e, t, n, r, i) {
                var o,
                    a,
                    s,
                    l,
                    u,
                    c,
                    d,
                    f,
                    p,
                    h,
                    m,
                    g = Ee.hasData(e) && Ee.get(e);
                if (g && (l = g.events)) {
                    for (t = (t || "").match(ye) || [""], u = t.length; u--; )
                        if (
                            ((s = Fe.exec(t[u]) || []),
                            (p = m = s[1]),
                            (h = (s[2] || "").split(".").sort()),
                            p)
                        ) {
                            for (
                                d = ie.event.special[p] || {},
                                    p = (r ? d.delegateType : d.bindType) || p,
                                    f = l[p] || [],
                                    s =
                                        s[2] &&
                                        new RegExp(
                                            "(^|\\.)" +
                                                h.join("\\.(?:.*\\.|)") +
                                                "(\\.|$)"
                                        ),
                                    a = o = f.length;
                                o--;

                            )
                                (c = f[o]),
                                    (!i && m !== c.origType) ||
                                        (n && n.guid !== c.guid) ||
                                        (s && !s.test(c.namespace)) ||
                                        (r &&
                                            r !== c.selector &&
                                            ("**" !== r || !c.selector)) ||
                                        (f.splice(o, 1),
                                        c.selector && f.delegateCount--,
                                        d.remove && d.remove.call(e, c));
                            a &&
                                !f.length &&
                                ((d.teardown &&
                                    !1 !== d.teardown.call(e, h, g.handle)) ||
                                    ie.removeEvent(e, p, g.handle),
                                delete l[p]);
                        } else
                            for (p in l) ie.event.remove(e, p + t[u], n, r, !0);
                    ie.isEmptyObject(l) && Ee.remove(e, "handle events");
                }
            },
            dispatch: function(e) {
                e = ie.event.fix(e);
                var t,
                    n,
                    r,
                    i,
                    o,
                    a = [],
                    s = J.call(arguments),
                    l = (Ee.get(this, "events") || {})[e.type] || [],
                    u = ie.event.special[e.type] || {};
                if (
                    ((s[0] = e),
                    (e.delegateTarget = this),
                    !u.preDispatch || !1 !== u.preDispatch.call(this, e))
                ) {
                    for (
                        a = ie.event.handlers.call(this, e, l), t = 0;
                        (i = a[t++]) && !e.isPropagationStopped();

                    )
                        for (
                            e.currentTarget = i.elem, n = 0;
                            (o = i.handlers[n++]) &&
                            !e.isImmediatePropagationStopped();

                        )
                            (e.rnamespace && !e.rnamespace.test(o.namespace)) ||
                                ((e.handleObj = o),
                                (e.data = o.data),
                                void 0 !==
                                    (r = (
                                        (ie.event.special[o.origType] || {})
                                            .handle || o.handler
                                    ).apply(i.elem, s)) &&
                                    !1 === (e.result = r) &&
                                    (e.preventDefault(), e.stopPropagation()));
                    return (
                        u.postDispatch && u.postDispatch.call(this, e), e.result
                    );
                }
            },
            handlers: function(e, t) {
                var n,
                    r,
                    i,
                    o,
                    a = [],
                    s = t.delegateCount,
                    l = e.target;
                if (
                    s &&
                    l.nodeType &&
                    ("click" !== e.type || isNaN(e.button) || e.button < 1)
                )
                    for (; l !== this; l = l.parentNode || this)
                        if (
                            1 === l.nodeType &&
                            (!0 !== l.disabled || "click" !== e.type)
                        ) {
                            for (r = [], n = 0; n < s; n++)
                                (o = t[n]),
                                    (i = o.selector + " "),
                                    void 0 === r[i] &&
                                        (r[i] = o.needsContext
                                            ? ie(i, this).index(l) > -1
                                            : ie.find(i, this, null, [l])
                                                  .length),
                                    r[i] && r.push(o);
                            r.length && a.push({ elem: l, handlers: r });
                        }
                return (
                    s < t.length &&
                        a.push({ elem: this, handlers: t.slice(s) }),
                    a
                );
            },
            props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(
                " "
            ),
            fixHooks: {},
            keyHooks: {
                props: "char charCode key keyCode".split(" "),
                filter: function(e, t) {
                    return (
                        null == e.which &&
                            (e.which =
                                null != t.charCode ? t.charCode : t.keyCode),
                        e
                    );
                }
            },
            mouseHooks: {
                props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(
                    " "
                ),
                filter: function(e, t) {
                    var n,
                        r,
                        i,
                        o = t.button;
                    return (
                        null == e.pageX &&
                            null != t.clientX &&
                            ((n = e.target.ownerDocument || K),
                            (r = n.documentElement),
                            (i = n.body),
                            (e.pageX =
                                t.clientX +
                                ((r && r.scrollLeft) ||
                                    (i && i.scrollLeft) ||
                                    0) -
                                ((r && r.clientLeft) ||
                                    (i && i.clientLeft) ||
                                    0)),
                            (e.pageY =
                                t.clientY +
                                ((r && r.scrollTop) ||
                                    (i && i.scrollTop) ||
                                    0) -
                                ((r && r.clientTop) ||
                                    (i && i.clientTop) ||
                                    0))),
                        e.which ||
                            void 0 === o ||
                            (e.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0),
                        e
                    );
                }
            },
            fix: function(e) {
                if (e[ie.expando]) return e;
                var t,
                    n,
                    r,
                    i = e.type,
                    o = e,
                    a = this.fixHooks[i];
                for (
                    a ||
                        (this.fixHooks[i] = a = Le.test(i)
                            ? this.mouseHooks
                            : Me.test(i)
                                ? this.keyHooks
                                : {}),
                        r = a.props ? this.props.concat(a.props) : this.props,
                        e = new ie.Event(o),
                        t = r.length;
                    t--;

                )
                    (n = r[t]), (e[n] = o[n]);
                return (
                    e.target || (e.target = K),
                    3 === e.target.nodeType && (e.target = e.target.parentNode),
                    a.filter ? a.filter(e, o) : e
                );
            },
            special: {
                load: { noBubble: !0 },
                focus: {
                    trigger: function() {
                        if (this !== m() && this.focus) return this.focus(), !1;
                    },
                    delegateType: "focusin"
                },
                blur: {
                    trigger: function() {
                        if (this === m() && this.blur) return this.blur(), !1;
                    },
                    delegateType: "focusout"
                },
                click: {
                    trigger: function() {
                        if (
                            "checkbox" === this.type &&
                            this.click &&
                            ie.nodeName(this, "input")
                        )
                            return this.click(), !1;
                    },
                    _default: function(e) {
                        return ie.nodeName(e.target, "a");
                    }
                },
                beforeunload: {
                    postDispatch: function(e) {
                        void 0 !== e.result &&
                            e.originalEvent &&
                            (e.originalEvent.returnValue = e.result);
                    }
                }
            }
        }),
            (ie.removeEvent = function(e, t, n) {
                e.removeEventListener && e.removeEventListener(t, n);
            }),
            (ie.Event = function(e, t) {
                if (!(this instanceof ie.Event)) return new ie.Event(e, t);
                e && e.type
                    ? ((this.originalEvent = e),
                      (this.type = e.type),
                      (this.isDefaultPrevented =
                          e.defaultPrevented ||
                          (void 0 === e.defaultPrevented &&
                              !1 === e.returnValue)
                              ? p
                              : h))
                    : (this.type = e),
                    t && ie.extend(this, t),
                    (this.timeStamp = (e && e.timeStamp) || ie.now()),
                    (this[ie.expando] = !0);
            }),
            (ie.Event.prototype = {
                constructor: ie.Event,
                isDefaultPrevented: h,
                isPropagationStopped: h,
                isImmediatePropagationStopped: h,
                isSimulated: !1,
                preventDefault: function() {
                    var e = this.originalEvent;
                    (this.isDefaultPrevented = p),
                        e && !this.isSimulated && e.preventDefault();
                },
                stopPropagation: function() {
                    var e = this.originalEvent;
                    (this.isPropagationStopped = p),
                        e && !this.isSimulated && e.stopPropagation();
                },
                stopImmediatePropagation: function() {
                    var e = this.originalEvent;
                    (this.isImmediatePropagationStopped = p),
                        e && !this.isSimulated && e.stopImmediatePropagation(),
                        this.stopPropagation();
                }
            }),
            ie.each(
                {
                    mouseenter: "mouseover",
                    mouseleave: "mouseout",
                    pointerenter: "pointerover",
                    pointerleave: "pointerout"
                },
                function(e, t) {
                    ie.event.special[e] = {
                        delegateType: t,
                        bindType: t,
                        handle: function(e) {
                            var n,
                                r = this,
                                i = e.relatedTarget,
                                o = e.handleObj;
                            return (
                                (i && (i === r || ie.contains(r, i))) ||
                                    ((e.type = o.origType),
                                    (n = o.handler.apply(this, arguments)),
                                    (e.type = t)),
                                n
                            );
                        }
                    };
                }
            ),
            ie.fn.extend({
                on: function(e, t, n, r) {
                    return g(this, e, t, n, r);
                },
                one: function(e, t, n, r) {
                    return g(this, e, t, n, r, 1);
                },
                off: function(e, t, n) {
                    var r, i;
                    if (e && e.preventDefault && e.handleObj)
                        return (
                            (r = e.handleObj),
                            ie(e.delegateTarget).off(
                                r.namespace
                                    ? r.origType + "." + r.namespace
                                    : r.origType,
                                r.selector,
                                r.handler
                            ),
                            this
                        );
                    if ("object" == typeof e) {
                        for (i in e) this.off(i, t, e[i]);
                        return this;
                    }
                    return (
                        (!1 !== t && "function" != typeof t) ||
                            ((n = t), (t = void 0)),
                        !1 === n && (n = h),
                        this.each(function() {
                            ie.event.remove(this, e, n, t);
                        })
                    );
                }
            });
        var Ue = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
            ze = /<script|<style|<link/i,
            Be = /checked\s*(?:[^=]|=\s*.checked.)/i,
            Ve = /^true\/(.*)/,
            $e = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
        ie.extend({
            htmlPrefilter: function(e) {
                return e.replace(Ue, "<$1></$2>");
            },
            clone: function(e, t, n) {
                var r,
                    i,
                    o,
                    a,
                    s = e.cloneNode(!0),
                    l = ie.contains(e.ownerDocument, e);
                if (
                    !(
                        re.noCloneChecked ||
                        (1 !== e.nodeType && 11 !== e.nodeType) ||
                        ie.isXMLDoc(e)
                    )
                )
                    for (a = c(s), o = c(e), r = 0, i = o.length; r < i; r++)
                        w(o[r], a[r]);
                if (t)
                    if (n)
                        for (
                            o = o || c(e), a = a || c(s), r = 0, i = o.length;
                            r < i;
                            r++
                        )
                            _(o[r], a[r]);
                    else _(e, s);
                return (
                    (a = c(s, "script")),
                    a.length > 0 && d(a, !l && c(e, "script")),
                    s
                );
            },
            cleanData: function(e) {
                for (
                    var t, n, r, i = ie.event.special, o = 0;
                    void 0 !== (n = e[o]);
                    o++
                )
                    if (xe(n)) {
                        if ((t = n[Ee.expando])) {
                            if (t.events)
                                for (r in t.events)
                                    i[r]
                                        ? ie.event.remove(n, r)
                                        : ie.removeEvent(n, r, t.handle);
                            n[Ee.expando] = void 0;
                        }
                        n[Te.expando] && (n[Te.expando] = void 0);
                    }
            }
        }),
            ie.fn.extend({
                domManip: x,
                detach: function(e) {
                    return E(this, e, !0);
                },
                remove: function(e) {
                    return E(this, e);
                },
                text: function(e) {
                    return we(
                        this,
                        function(e) {
                            return void 0 === e
                                ? ie.text(this)
                                : this.empty().each(function() {
                                      (1 !== this.nodeType &&
                                          11 !== this.nodeType &&
                                          9 !== this.nodeType) ||
                                          (this.textContent = e);
                                  });
                        },
                        null,
                        e,
                        arguments.length
                    );
                },
                append: function() {
                    return x(this, arguments, function(e) {
                        if (
                            1 === this.nodeType ||
                            11 === this.nodeType ||
                            9 === this.nodeType
                        ) {
                            v(this, e).appendChild(e);
                        }
                    });
                },
                prepend: function() {
                    return x(this, arguments, function(e) {
                        if (
                            1 === this.nodeType ||
                            11 === this.nodeType ||
                            9 === this.nodeType
                        ) {
                            var t = v(this, e);
                            t.insertBefore(e, t.firstChild);
                        }
                    });
                },
                before: function() {
                    return x(this, arguments, function(e) {
                        this.parentNode &&
                            this.parentNode.insertBefore(e, this);
                    });
                },
                after: function() {
                    return x(this, arguments, function(e) {
                        this.parentNode &&
                            this.parentNode.insertBefore(e, this.nextSibling);
                    });
                },
                empty: function() {
                    for (var e, t = 0; null != (e = this[t]); t++)
                        1 === e.nodeType &&
                            (ie.cleanData(c(e, !1)), (e.textContent = ""));
                    return this;
                },
                clone: function(e, t) {
                    return (
                        (e = null != e && e),
                        (t = null == t ? e : t),
                        this.map(function() {
                            return ie.clone(this, e, t);
                        })
                    );
                },
                html: function(e) {
                    return we(
                        this,
                        function(e) {
                            var t = this[0] || {},
                                n = 0,
                                r = this.length;
                            if (void 0 === e && 1 === t.nodeType)
                                return t.innerHTML;
                            if (
                                "string" == typeof e &&
                                !ze.test(e) &&
                                !De[(Ne.exec(e) || ["", ""])[1].toLowerCase()]
                            ) {
                                e = ie.htmlPrefilter(e);
                                try {
                                    for (; n < r; n++)
                                        (t = this[n] || {}),
                                            1 === t.nodeType &&
                                                (ie.cleanData(c(t, !1)),
                                                (t.innerHTML = e));
                                    t = 0;
                                } catch (e) {}
                            }
                            t && this.empty().append(e);
                        },
                        null,
                        e,
                        arguments.length
                    );
                },
                replaceWith: function() {
                    var e = [];
                    return x(
                        this,
                        arguments,
                        function(t) {
                            var n = this.parentNode;
                            ie.inArray(this, e) < 0 &&
                                (ie.cleanData(c(this)),
                                n && n.replaceChild(t, this));
                        },
                        e
                    );
                }
            }),
            ie.each(
                {
                    appendTo: "append",
                    prependTo: "prepend",
                    insertBefore: "before",
                    insertAfter: "after",
                    replaceAll: "replaceWith"
                },
                function(e, t) {
                    ie.fn[e] = function(e) {
                        for (
                            var n, r = [], i = ie(e), o = i.length - 1, a = 0;
                            a <= o;
                            a++
                        )
                            (n = a === o ? this : this.clone(!0)),
                                ie(i[a])[t](n),
                                Y.apply(r, n.get());
                        return this.pushStack(r);
                    };
                }
            );
        var He,
            qe = { HTML: "block", BODY: "block" },
            We = /^margin/,
            Ge = new RegExp("^(" + ke + ")(?!px)[a-z%]+$", "i"),
            Xe = function(t) {
                var n = t.ownerDocument.defaultView;
                return (n && n.opener) || (n = e), n.getComputedStyle(t);
            },
            Ke = function(e, t, n, r) {
                var i,
                    o,
                    a = {};
                for (o in t) (a[o] = e.style[o]), (e.style[o] = t[o]);
                i = n.apply(e, r || []);
                for (o in t) e.style[o] = a[o];
                return i;
            },
            Je = K.documentElement;
        !(function() {
            function t() {
                (s.style.cssText =
                    "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%"),
                    (s.innerHTML = ""),
                    Je.appendChild(a);
                var t = e.getComputedStyle(s);
                (n = "1%" !== t.top),
                    (o = "2px" === t.marginLeft),
                    (r = "4px" === t.width),
                    (s.style.marginRight = "50%"),
                    (i = "4px" === t.marginRight),
                    Je.removeChild(a);
            }
            var n,
                r,
                i,
                o,
                a = K.createElement("div"),
                s = K.createElement("div");
            s.style &&
                ((s.style.backgroundClip = "content-box"),
                (s.cloneNode(!0).style.backgroundClip = ""),
                (re.clearCloneStyle = "content-box" === s.style.backgroundClip),
                (a.style.cssText =
                    "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute"),
                a.appendChild(s),
                ie.extend(re, {
                    pixelPosition: function() {
                        return t(), n;
                    },
                    boxSizingReliable: function() {
                        return null == r && t(), r;
                    },
                    pixelMarginRight: function() {
                        return null == r && t(), i;
                    },
                    reliableMarginLeft: function() {
                        return null == r && t(), o;
                    },
                    reliableMarginRight: function() {
                        var t,
                            n = s.appendChild(K.createElement("div"));
                        return (
                            (n.style.cssText = s.style.cssText =
                                "-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0"),
                            (n.style.marginRight = n.style.width = "0"),
                            (s.style.width = "1px"),
                            Je.appendChild(a),
                            (t = !parseFloat(
                                e.getComputedStyle(n).marginRight
                            )),
                            Je.removeChild(a),
                            s.removeChild(n),
                            t
                        );
                    }
                }));
        })();
        var Qe = /^(none|table(?!-c[ea]).+)/,
            Ye = {
                position: "absolute",
                visibility: "hidden",
                display: "block"
            },
            Ze = { letterSpacing: "0", fontWeight: "400" },
            et = ["Webkit", "O", "Moz", "ms"],
            tt = K.createElement("div").style;
        ie.extend({
            cssHooks: {
                opacity: {
                    get: function(e, t) {
                        if (t) {
                            var n = C(e, "opacity");
                            return "" === n ? "1" : n;
                        }
                    }
                }
            },
            cssNumber: {
                animationIterationCount: !0,
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: { float: "cssFloat" },
            style: function(e, t, n, r) {
                if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                    var i,
                        o,
                        a,
                        s = ie.camelCase(t),
                        l = e.style;
                    if (
                        ((t = ie.cssProps[s] || (ie.cssProps[s] = I(s) || s)),
                        (a = ie.cssHooks[t] || ie.cssHooks[s]),
                        void 0 === n)
                    )
                        return a &&
                            "get" in a &&
                            void 0 !== (i = a.get(e, !1, r))
                            ? i
                            : l[t];
                    (o = typeof n),
                        "string" === o &&
                            (i = Ie.exec(n)) &&
                            i[1] &&
                            ((n = u(e, t, i)), (o = "number")),
                        null != n &&
                            n === n &&
                            ("number" === o &&
                                (n +=
                                    (i && i[3]) ||
                                    (ie.cssNumber[s] ? "" : "px")),
                            re.clearCloneStyle ||
                                "" !== n ||
                                0 !== t.indexOf("background") ||
                                (l[t] = "inherit"),
                            (a &&
                                "set" in a &&
                                void 0 === (n = a.set(e, n, r))) ||
                                (l[t] = n));
                }
            },
            css: function(e, t, n, r) {
                var i,
                    o,
                    a,
                    s = ie.camelCase(t);
                return (
                    (t = ie.cssProps[s] || (ie.cssProps[s] = I(s) || s)),
                    (a = ie.cssHooks[t] || ie.cssHooks[s]),
                    a && "get" in a && (i = a.get(e, !0, n)),
                    void 0 === i && (i = C(e, t, r)),
                    "normal" === i && t in Ze && (i = Ze[t]),
                    "" === n || n
                        ? ((o = parseFloat(i)),
                          !0 === n || isFinite(o) ? o || 0 : i)
                        : i
                );
            }
        }),
            ie.each(["height", "width"], function(e, t) {
                ie.cssHooks[t] = {
                    get: function(e, n, r) {
                        if (n)
                            return Qe.test(ie.css(e, "display")) &&
                                0 === e.offsetWidth
                                ? Ke(e, Ye, function() {
                                      return A(e, t, r);
                                  })
                                : A(e, t, r);
                    },
                    set: function(e, n, r) {
                        var i,
                            o = r && Xe(e),
                            a =
                                r &&
                                O(
                                    e,
                                    t,
                                    r,
                                    "border-box" ===
                                        ie.css(e, "boxSizing", !1, o),
                                    o
                                );
                        return (
                            a &&
                                (i = Ie.exec(n)) &&
                                "px" !== (i[3] || "px") &&
                                ((e.style[t] = n), (n = ie.css(e, t))),
                            P(e, n, a)
                        );
                    }
                };
            }),
            (ie.cssHooks.marginLeft = k(re.reliableMarginLeft, function(e, t) {
                if (t)
                    return (
                        (parseFloat(C(e, "marginLeft")) ||
                            e.getBoundingClientRect().left -
                                Ke(e, { marginLeft: 0 }, function() {
                                    return e.getBoundingClientRect().left;
                                })) + "px"
                    );
            })),
            (ie.cssHooks.marginRight = k(re.reliableMarginRight, function(
                e,
                t
            ) {
                if (t)
                    return Ke(e, { display: "inline-block" }, C, [
                        e,
                        "marginRight"
                    ]);
            })),
            ie.each({ margin: "", padding: "", border: "Width" }, function(
                e,
                t
            ) {
                (ie.cssHooks[e + t] = {
                    expand: function(n) {
                        for (
                            var r = 0,
                                i = {},
                                o = "string" == typeof n ? n.split(" ") : [n];
                            r < 4;
                            r++
                        )
                            i[e + Pe[r] + t] = o[r] || o[r - 2] || o[0];
                        return i;
                    }
                }),
                    We.test(e) || (ie.cssHooks[e + t].set = P);
            }),
            ie.fn.extend({
                css: function(e, t) {
                    return we(
                        this,
                        function(e, t, n) {
                            var r,
                                i,
                                o = {},
                                a = 0;
                            if (ie.isArray(t)) {
                                for (r = Xe(e), i = t.length; a < i; a++)
                                    o[t[a]] = ie.css(e, t[a], !1, r);
                                return o;
                            }
                            return void 0 !== n
                                ? ie.style(e, t, n)
                                : ie.css(e, t);
                        },
                        e,
                        t,
                        arguments.length > 1
                    );
                },
                show: function() {
                    return N(this, !0);
                },
                hide: function() {
                    return N(this);
                },
                toggle: function(e) {
                    return "boolean" == typeof e
                        ? e
                            ? this.show()
                            : this.hide()
                        : this.each(function() {
                              Oe(this) ? ie(this).show() : ie(this).hide();
                          });
                }
            }),
            (ie.Tween = R),
            (R.prototype = {
                constructor: R,
                init: function(e, t, n, r, i, o) {
                    (this.elem = e),
                        (this.prop = n),
                        (this.easing = i || ie.easing._default),
                        (this.options = t),
                        (this.start = this.now = this.cur()),
                        (this.end = r),
                        (this.unit = o || (ie.cssNumber[n] ? "" : "px"));
                },
                cur: function() {
                    var e = R.propHooks[this.prop];
                    return e && e.get
                        ? e.get(this)
                        : R.propHooks._default.get(this);
                },
                run: function(e) {
                    var t,
                        n = R.propHooks[this.prop];
                    return (
                        this.options.duration
                            ? (this.pos = t = ie.easing[this.easing](
                                  e,
                                  this.options.duration * e,
                                  0,
                                  1,
                                  this.options.duration
                              ))
                            : (this.pos = t = e),
                        (this.now = (this.end - this.start) * t + this.start),
                        this.options.step &&
                            this.options.step.call(this.elem, this.now, this),
                        n && n.set
                            ? n.set(this)
                            : R.propHooks._default.set(this),
                        this
                    );
                }
            }),
            (R.prototype.init.prototype = R.prototype),
            (R.propHooks = {
                _default: {
                    get: function(e) {
                        var t;
                        return 1 !== e.elem.nodeType ||
                            (null != e.elem[e.prop] &&
                                null == e.elem.style[e.prop])
                            ? e.elem[e.prop]
                            : ((t = ie.css(e.elem, e.prop, "")),
                              t && "auto" !== t ? t : 0);
                    },
                    set: function(e) {
                        ie.fx.step[e.prop]
                            ? ie.fx.step[e.prop](e)
                            : 1 !== e.elem.nodeType ||
                              (null == e.elem.style[ie.cssProps[e.prop]] &&
                                  !ie.cssHooks[e.prop])
                                ? (e.elem[e.prop] = e.now)
                                : ie.style(e.elem, e.prop, e.now + e.unit);
                    }
                }
            }),
            (R.propHooks.scrollTop = R.propHooks.scrollLeft = {
                set: function(e) {
                    e.elem.nodeType &&
                        e.elem.parentNode &&
                        (e.elem[e.prop] = e.now);
                }
            }),
            (ie.easing = {
                linear: function(e) {
                    return e;
                },
                swing: function(e) {
                    return 0.5 - Math.cos(e * Math.PI) / 2;
                },
                _default: "swing"
            }),
            (ie.fx = R.prototype.init),
            (ie.fx.step = {});
        var nt,
            rt,
            it = /^(?:toggle|show|hide)$/,
            ot = /queueHooks$/;
        (ie.Animation = ie.extend(U, {
            tweeners: {
                "*": [
                    function(e, t) {
                        var n = this.createTween(e, t);
                        return u(n.elem, e, Ie.exec(t), n), n;
                    }
                ]
            },
            tweener: function(e, t) {
                ie.isFunction(e) ? ((t = e), (e = ["*"])) : (e = e.match(ye));
                for (var n, r = 0, i = e.length; r < i; r++)
                    (n = e[r]),
                        (U.tweeners[n] = U.tweeners[n] || []),
                        U.tweeners[n].unshift(t);
            },
            prefilters: [L],
            prefilter: function(e, t) {
                t ? U.prefilters.unshift(e) : U.prefilters.push(e);
            }
        })),
            (ie.speed = function(e, t, n) {
                var r =
                    e && "object" == typeof e
                        ? ie.extend({}, e)
                        : {
                              complete:
                                  n || (!n && t) || (ie.isFunction(e) && e),
                              duration: e,
                              easing: (n && t) || (t && !ie.isFunction(t) && t)
                          };
                return (
                    (r.duration = ie.fx.off
                        ? 0
                        : "number" == typeof r.duration
                            ? r.duration
                            : r.duration in ie.fx.speeds
                                ? ie.fx.speeds[r.duration]
                                : ie.fx.speeds._default),
                    (null != r.queue && !0 !== r.queue) || (r.queue = "fx"),
                    (r.old = r.complete),
                    (r.complete = function() {
                        ie.isFunction(r.old) && r.old.call(this),
                            r.queue && ie.dequeue(this, r.queue);
                    }),
                    r
                );
            }),
            ie.fn.extend({
                fadeTo: function(e, t, n, r) {
                    return this.filter(Oe)
                        .css("opacity", 0)
                        .show()
                        .end()
                        .animate({ opacity: t }, e, n, r);
                },
                animate: function(e, t, n, r) {
                    var i = ie.isEmptyObject(e),
                        o = ie.speed(t, n, r),
                        a = function() {
                            var t = U(this, ie.extend({}, e), o);
                            (i || Ee.get(this, "finish")) && t.stop(!0);
                        };
                    return (
                        (a.finish = a),
                        i || !1 === o.queue
                            ? this.each(a)
                            : this.queue(o.queue, a)
                    );
                },
                stop: function(e, t, n) {
                    var r = function(e) {
                        var t = e.stop;
                        delete e.stop, t(n);
                    };
                    return (
                        "string" != typeof e &&
                            ((n = t), (t = e), (e = void 0)),
                        t && !1 !== e && this.queue(e || "fx", []),
                        this.each(function() {
                            var t = !0,
                                i = null != e && e + "queueHooks",
                                o = ie.timers,
                                a = Ee.get(this);
                            if (i) a[i] && a[i].stop && r(a[i]);
                            else
                                for (i in a)
                                    a[i] && a[i].stop && ot.test(i) && r(a[i]);
                            for (i = o.length; i--; )
                                o[i].elem !== this ||
                                    (null != e && o[i].queue !== e) ||
                                    (o[i].anim.stop(n),
                                    (t = !1),
                                    o.splice(i, 1));
                            (!t && n) || ie.dequeue(this, e);
                        })
                    );
                },
                finish: function(e) {
                    return (
                        !1 !== e && (e = e || "fx"),
                        this.each(function() {
                            var t,
                                n = Ee.get(this),
                                r = n[e + "queue"],
                                i = n[e + "queueHooks"],
                                o = ie.timers,
                                a = r ? r.length : 0;
                            for (
                                n.finish = !0,
                                    ie.queue(this, e, []),
                                    i && i.stop && i.stop.call(this, !0),
                                    t = o.length;
                                t--;

                            )
                                o[t].elem === this &&
                                    o[t].queue === e &&
                                    (o[t].anim.stop(!0), o.splice(t, 1));
                            for (t = 0; t < a; t++)
                                r[t] && r[t].finish && r[t].finish.call(this);
                            delete n.finish;
                        })
                    );
                }
            }),
            ie.each(["toggle", "show", "hide"], function(e, t) {
                var n = ie.fn[t];
                ie.fn[t] = function(e, r, i) {
                    return null == e || "boolean" == typeof e
                        ? n.apply(this, arguments)
                        : this.animate(j(t, !0), e, r, i);
                };
            }),
            ie.each(
                {
                    slideDown: j("show"),
                    slideUp: j("hide"),
                    slideToggle: j("toggle"),
                    fadeIn: { opacity: "show" },
                    fadeOut: { opacity: "hide" },
                    fadeToggle: { opacity: "toggle" }
                },
                function(e, t) {
                    ie.fn[e] = function(e, n, r) {
                        return this.animate(t, e, n, r);
                    };
                }
            ),
            (ie.timers = []),
            (ie.fx.tick = function() {
                var e,
                    t = 0,
                    n = ie.timers;
                for (nt = ie.now(); t < n.length; t++)
                    (e = n[t])() || n[t] !== e || n.splice(t--, 1);
                n.length || ie.fx.stop(), (nt = void 0);
            }),
            (ie.fx.timer = function(e) {
                ie.timers.push(e), e() ? ie.fx.start() : ie.timers.pop();
            }),
            (ie.fx.interval = 13),
            (ie.fx.start = function() {
                rt || (rt = e.setInterval(ie.fx.tick, ie.fx.interval));
            }),
            (ie.fx.stop = function() {
                e.clearInterval(rt), (rt = null);
            }),
            (ie.fx.speeds = { slow: 600, fast: 200, _default: 400 }),
            (ie.fn.delay = function(t, n) {
                return (
                    (t = ie.fx ? ie.fx.speeds[t] || t : t),
                    (n = n || "fx"),
                    this.queue(n, function(n, r) {
                        var i = e.setTimeout(n, t);
                        r.stop = function() {
                            e.clearTimeout(i);
                        };
                    })
                );
            }),
            (function() {
                var e = K.createElement("input"),
                    t = K.createElement("select"),
                    n = t.appendChild(K.createElement("option"));
                (e.type = "checkbox"),
                    (re.checkOn = "" !== e.value),
                    (re.optSelected = n.selected),
                    (t.disabled = !0),
                    (re.optDisabled = !n.disabled),
                    (e = K.createElement("input")),
                    (e.value = "t"),
                    (e.type = "radio"),
                    (re.radioValue = "t" === e.value);
            })();
        var at,
            st = ie.expr.attrHandle;
        ie.fn.extend({
            attr: function(e, t) {
                return we(this, ie.attr, e, t, arguments.length > 1);
            },
            removeAttr: function(e) {
                return this.each(function() {
                    ie.removeAttr(this, e);
                });
            }
        }),
            ie.extend({
                attr: function(e, t, n) {
                    var r,
                        i,
                        o = e.nodeType;
                    if (3 !== o && 8 !== o && 2 !== o)
                        return void 0 === e.getAttribute
                            ? ie.prop(e, t, n)
                            : ((1 === o && ie.isXMLDoc(e)) ||
                                  ((t = t.toLowerCase()),
                                  (i =
                                      ie.attrHooks[t] ||
                                      (ie.expr.match.bool.test(t)
                                          ? at
                                          : void 0))),
                              void 0 !== n
                                  ? null === n
                                      ? void ie.removeAttr(e, t)
                                      : i &&
                                        "set" in i &&
                                        void 0 !== (r = i.set(e, n, t))
                                          ? r
                                          : (e.setAttribute(t, n + ""), n)
                                  : i &&
                                    "get" in i &&
                                    null !== (r = i.get(e, t))
                                      ? r
                                      : ((r = ie.find.attr(e, t)),
                                        null == r ? void 0 : r));
                },
                attrHooks: {
                    type: {
                        set: function(e, t) {
                            if (
                                !re.radioValue &&
                                "radio" === t &&
                                ie.nodeName(e, "input")
                            ) {
                                var n = e.value;
                                return (
                                    e.setAttribute("type", t),
                                    n && (e.value = n),
                                    t
                                );
                            }
                        }
                    }
                },
                removeAttr: function(e, t) {
                    var n,
                        r,
                        i = 0,
                        o = t && t.match(ye);
                    if (o && 1 === e.nodeType)
                        for (; (n = o[i++]); )
                            (r = ie.propFix[n] || n),
                                ie.expr.match.bool.test(n) && (e[r] = !1),
                                e.removeAttribute(n);
                }
            }),
            (at = {
                set: function(e, t, n) {
                    return (
                        !1 === t ? ie.removeAttr(e, n) : e.setAttribute(n, n), n
                    );
                }
            }),
            ie.each(ie.expr.match.bool.source.match(/\w+/g), function(e, t) {
                var n = st[t] || ie.find.attr;
                st[t] = function(e, t, r) {
                    var i, o;
                    return (
                        r ||
                            ((o = st[t]),
                            (st[t] = i),
                            (i = null != n(e, t, r) ? t.toLowerCase() : null),
                            (st[t] = o)),
                        i
                    );
                };
            });
        var lt = /^(?:input|select|textarea|button)$/i,
            ut = /^(?:a|area)$/i;
        ie.fn.extend({
            prop: function(e, t) {
                return we(this, ie.prop, e, t, arguments.length > 1);
            },
            removeProp: function(e) {
                return this.each(function() {
                    delete this[ie.propFix[e] || e];
                });
            }
        }),
            ie.extend({
                prop: function(e, t, n) {
                    var r,
                        i,
                        o = e.nodeType;
                    if (3 !== o && 8 !== o && 2 !== o)
                        return (
                            (1 === o && ie.isXMLDoc(e)) ||
                                ((t = ie.propFix[t] || t),
                                (i = ie.propHooks[t])),
                            void 0 !== n
                                ? i &&
                                  "set" in i &&
                                  void 0 !== (r = i.set(e, n, t))
                                    ? r
                                    : (e[t] = n)
                                : i && "get" in i && null !== (r = i.get(e, t))
                                    ? r
                                    : e[t]
                        );
                },
                propHooks: {
                    tabIndex: {
                        get: function(e) {
                            var t = ie.find.attr(e, "tabindex");
                            return t
                                ? parseInt(t, 10)
                                : lt.test(e.nodeName) ||
                                  (ut.test(e.nodeName) && e.href)
                                    ? 0
                                    : -1;
                        }
                    }
                },
                propFix: { for: "htmlFor", class: "className" }
            }),
            re.optSelected ||
                (ie.propHooks.selected = {
                    get: function(e) {
                        var t = e.parentNode;
                        return (
                            t && t.parentNode && t.parentNode.selectedIndex,
                            null
                        );
                    },
                    set: function(e) {
                        var t = e.parentNode;
                        t &&
                            (t.selectedIndex,
                            t.parentNode && t.parentNode.selectedIndex);
                    }
                }),
            ie.each(
                [
                    "tabIndex",
                    "readOnly",
                    "maxLength",
                    "cellSpacing",
                    "cellPadding",
                    "rowSpan",
                    "colSpan",
                    "useMap",
                    "frameBorder",
                    "contentEditable"
                ],
                function() {
                    ie.propFix[this.toLowerCase()] = this;
                }
            );
        var ct = /[\t\r\n\f]/g;
        ie.fn.extend({
            addClass: function(e) {
                var t,
                    n,
                    r,
                    i,
                    o,
                    a,
                    s,
                    l = 0;
                if (ie.isFunction(e))
                    return this.each(function(t) {
                        ie(this).addClass(e.call(this, t, z(this)));
                    });
                if ("string" == typeof e && e)
                    for (t = e.match(ye) || []; (n = this[l++]); )
                        if (
                            ((i = z(n)),
                            (r =
                                1 === n.nodeType &&
                                (" " + i + " ").replace(ct, " ")))
                        ) {
                            for (a = 0; (o = t[a++]); )
                                r.indexOf(" " + o + " ") < 0 && (r += o + " ");
                            (s = ie.trim(r)),
                                i !== s && n.setAttribute("class", s);
                        }
                return this;
            },
            removeClass: function(e) {
                var t,
                    n,
                    r,
                    i,
                    o,
                    a,
                    s,
                    l = 0;
                if (ie.isFunction(e))
                    return this.each(function(t) {
                        ie(this).removeClass(e.call(this, t, z(this)));
                    });
                if (!arguments.length) return this.attr("class", "");
                if ("string" == typeof e && e)
                    for (t = e.match(ye) || []; (n = this[l++]); )
                        if (
                            ((i = z(n)),
                            (r =
                                1 === n.nodeType &&
                                (" " + i + " ").replace(ct, " ")))
                        ) {
                            for (a = 0; (o = t[a++]); )
                                for (; r.indexOf(" " + o + " ") > -1; )
                                    r = r.replace(" " + o + " ", " ");
                            (s = ie.trim(r)),
                                i !== s && n.setAttribute("class", s);
                        }
                return this;
            },
            toggleClass: function(e, t) {
                var n = typeof e;
                return "boolean" == typeof t && "string" === n
                    ? t
                        ? this.addClass(e)
                        : this.removeClass(e)
                    : ie.isFunction(e)
                        ? this.each(function(n) {
                              ie(this).toggleClass(
                                  e.call(this, n, z(this), t),
                                  t
                              );
                          })
                        : this.each(function() {
                              var t, r, i, o;
                              if ("string" === n)
                                  for (
                                      r = 0,
                                          i = ie(this),
                                          o = e.match(ye) || [];
                                      (t = o[r++]);

                                  )
                                      i.hasClass(t)
                                          ? i.removeClass(t)
                                          : i.addClass(t);
                              else
                                  (void 0 !== e && "boolean" !== n) ||
                                      ((t = z(this)),
                                      t && Ee.set(this, "__className__", t),
                                      this.setAttribute &&
                                          this.setAttribute(
                                              "class",
                                              t || !1 === e
                                                  ? ""
                                                  : Ee.get(
                                                        this,
                                                        "__className__"
                                                    ) || ""
                                          ));
                          });
            },
            hasClass: function(e) {
                var t,
                    n,
                    r = 0;
                for (t = " " + e + " "; (n = this[r++]); )
                    if (
                        1 === n.nodeType &&
                        (" " + z(n) + " ").replace(ct, " ").indexOf(t) > -1
                    )
                        return !0;
                return !1;
            }
        });
        var dt = /\r/g,
            ft = /[\x20\t\r\n\f]+/g;
        ie.fn.extend({
            val: function(e) {
                var t,
                    n,
                    r,
                    i = this[0];
                {
                    if (arguments.length)
                        return (
                            (r = ie.isFunction(e)),
                            this.each(function(n) {
                                var i;
                                1 === this.nodeType &&
                                    ((i = r
                                        ? e.call(this, n, ie(this).val())
                                        : e),
                                    null == i
                                        ? (i = "")
                                        : "number" == typeof i
                                            ? (i += "")
                                            : ie.isArray(i) &&
                                              (i = ie.map(i, function(e) {
                                                  return null == e
                                                      ? ""
                                                      : e + "";
                                              })),
                                    ((t =
                                        ie.valHooks[this.type] ||
                                        ie.valHooks[
                                            this.nodeName.toLowerCase()
                                        ]) &&
                                        "set" in t &&
                                        void 0 !== t.set(this, i, "value")) ||
                                        (this.value = i));
                            })
                        );
                    if (i)
                        return (t =
                            ie.valHooks[i.type] ||
                            ie.valHooks[i.nodeName.toLowerCase()]) &&
                            "get" in t &&
                            void 0 !== (n = t.get(i, "value"))
                            ? n
                            : ((n = i.value),
                              "string" == typeof n
                                  ? n.replace(dt, "")
                                  : null == n
                                      ? ""
                                      : n);
                }
            }
        }),
            ie.extend({
                valHooks: {
                    option: {
                        get: function(e) {
                            var t = ie.find.attr(e, "value");
                            return null != t
                                ? t
                                : ie.trim(ie.text(e)).replace(ft, " ");
                        }
                    },
                    select: {
                        get: function(e) {
                            for (
                                var t,
                                    n,
                                    r = e.options,
                                    i = e.selectedIndex,
                                    o = "select-one" === e.type || i < 0,
                                    a = o ? null : [],
                                    s = o ? i + 1 : r.length,
                                    l = i < 0 ? s : o ? i : 0;
                                l < s;
                                l++
                            )
                                if (
                                    ((n = r[l]),
                                    (n.selected || l === i) &&
                                        (re.optDisabled
                                            ? !n.disabled
                                            : null ===
                                              n.getAttribute("disabled")) &&
                                        (!n.parentNode.disabled ||
                                            !ie.nodeName(
                                                n.parentNode,
                                                "optgroup"
                                            )))
                                ) {
                                    if (((t = ie(n).val()), o)) return t;
                                    a.push(t);
                                }
                            return a;
                        },
                        set: function(e, t) {
                            for (
                                var n,
                                    r,
                                    i = e.options,
                                    o = ie.makeArray(t),
                                    a = i.length;
                                a--;

                            )
                                (r = i[a]),
                                    (r.selected =
                                        ie.inArray(
                                            ie.valHooks.option.get(r),
                                            o
                                        ) > -1) && (n = !0);
                            return n || (e.selectedIndex = -1), o;
                        }
                    }
                }
            }),
            ie.each(["radio", "checkbox"], function() {
                (ie.valHooks[this] = {
                    set: function(e, t) {
                        if (ie.isArray(t))
                            return (e.checked =
                                ie.inArray(ie(e).val(), t) > -1);
                    }
                }),
                    re.checkOn ||
                        (ie.valHooks[this].get = function(e) {
                            return null === e.getAttribute("value")
                                ? "on"
                                : e.value;
                        });
            });
        var pt = /^(?:focusinfocus|focusoutblur)$/;
        ie.extend(ie.event, {
            trigger: function(t, n, r, i) {
                var o,
                    a,
                    s,
                    l,
                    u,
                    c,
                    d,
                    f = [r || K],
                    p = ne.call(t, "type") ? t.type : t,
                    h = ne.call(t, "namespace") ? t.namespace.split(".") : [];
                if (
                    ((a = s = r = r || K),
                    3 !== r.nodeType &&
                        8 !== r.nodeType &&
                        !pt.test(p + ie.event.triggered) &&
                        (p.indexOf(".") > -1 &&
                            ((h = p.split(".")), (p = h.shift()), h.sort()),
                        (u = p.indexOf(":") < 0 && "on" + p),
                        (t = t[ie.expando]
                            ? t
                            : new ie.Event(p, "object" == typeof t && t)),
                        (t.isTrigger = i ? 2 : 3),
                        (t.namespace = h.join(".")),
                        (t.rnamespace = t.namespace
                            ? new RegExp(
                                  "(^|\\.)" +
                                      h.join("\\.(?:.*\\.|)") +
                                      "(\\.|$)"
                              )
                            : null),
                        (t.result = void 0),
                        t.target || (t.target = r),
                        (n = null == n ? [t] : ie.makeArray(n, [t])),
                        (d = ie.event.special[p] || {}),
                        i || !d.trigger || !1 !== d.trigger.apply(r, n)))
                ) {
                    if (!i && !d.noBubble && !ie.isWindow(r)) {
                        for (
                            l = d.delegateType || p,
                                pt.test(l + p) || (a = a.parentNode);
                            a;
                            a = a.parentNode
                        )
                            f.push(a), (s = a);
                        s === (r.ownerDocument || K) &&
                            f.push(s.defaultView || s.parentWindow || e);
                    }
                    for (o = 0; (a = f[o++]) && !t.isPropagationStopped(); )
                        (t.type = o > 1 ? l : d.bindType || p),
                            (c =
                                (Ee.get(a, "events") || {})[t.type] &&
                                Ee.get(a, "handle")),
                            c && c.apply(a, n),
                            (c = u && a[u]) &&
                                c.apply &&
                                xe(a) &&
                                ((t.result = c.apply(a, n)),
                                !1 === t.result && t.preventDefault());
                    return (
                        (t.type = p),
                        i ||
                            t.isDefaultPrevented() ||
                            (d._default &&
                                !1 !== d._default.apply(f.pop(), n)) ||
                            !xe(r) ||
                            (u &&
                                ie.isFunction(r[p]) &&
                                !ie.isWindow(r) &&
                                ((s = r[u]),
                                s && (r[u] = null),
                                (ie.event.triggered = p),
                                r[p](),
                                (ie.event.triggered = void 0),
                                s && (r[u] = s))),
                        t.result
                    );
                }
            },
            simulate: function(e, t, n) {
                var r = ie.extend(new ie.Event(), n, {
                    type: e,
                    isSimulated: !0
                });
                ie.event.trigger(r, null, t);
            }
        }),
            ie.fn.extend({
                trigger: function(e, t) {
                    return this.each(function() {
                        ie.event.trigger(e, t, this);
                    });
                },
                triggerHandler: function(e, t) {
                    var n = this[0];
                    if (n) return ie.event.trigger(e, t, n, !0);
                }
            }),
            ie.each(
                "blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(
                    " "
                ),
                function(e, t) {
                    ie.fn[t] = function(e, n) {
                        return arguments.length > 0
                            ? this.on(t, null, e, n)
                            : this.trigger(t);
                    };
                }
            ),
            ie.fn.extend({
                hover: function(e, t) {
                    return this.mouseenter(e).mouseleave(t || e);
                }
            }),
            (re.focusin = "onfocusin" in e),
            re.focusin ||
                ie.each({ focus: "focusin", blur: "focusout" }, function(e, t) {
                    var n = function(e) {
                        ie.event.simulate(t, e.target, ie.event.fix(e));
                    };
                    ie.event.special[t] = {
                        setup: function() {
                            var r = this.ownerDocument || this,
                                i = Ee.access(r, t);
                            i || r.addEventListener(e, n, !0),
                                Ee.access(r, t, (i || 0) + 1);
                        },
                        teardown: function() {
                            var r = this.ownerDocument || this,
                                i = Ee.access(r, t) - 1;
                            i
                                ? Ee.access(r, t, i)
                                : (r.removeEventListener(e, n, !0),
                                  Ee.remove(r, t));
                        }
                    };
                });
        var ht = e.location,
            mt = ie.now(),
            gt = /\?/;
        (ie.parseJSON = function(e) {
            return JSON.parse(e + "");
        }),
            (ie.parseXML = function(t) {
                var n;
                if (!t || "string" != typeof t) return null;
                try {
                    n = new e.DOMParser().parseFromString(t, "text/xml");
                } catch (e) {
                    n = void 0;
                }
                return (
                    (n && !n.getElementsByTagName("parsererror").length) ||
                        ie.error("Invalid XML: " + t),
                    n
                );
            });
        var vt = /#.*$/,
            bt = /([?&])_=[^&]*/,
            yt = /^(.*?):[ \t]*([^\r\n]*)$/gm,
            _t = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
            wt = /^(?:GET|HEAD)$/,
            xt = /^\/\//,
            Et = {},
            Tt = {},
            St = "*/".concat("*"),
            Ct = K.createElement("a");
        (Ct.href = ht.href),
            ie.extend({
                active: 0,
                lastModified: {},
                etag: {},
                ajaxSettings: {
                    url: ht.href,
                    type: "GET",
                    isLocal: _t.test(ht.protocol),
                    global: !0,
                    processData: !0,
                    async: !0,
                    contentType:
                        "application/x-www-form-urlencoded; charset=UTF-8",
                    accepts: {
                        "*": St,
                        text: "text/plain",
                        html: "text/html",
                        xml: "application/xml, text/xml",
                        json: "application/json, text/javascript"
                    },
                    contents: {
                        xml: /\bxml\b/,
                        html: /\bhtml/,
                        json: /\bjson\b/
                    },
                    responseFields: {
                        xml: "responseXML",
                        text: "responseText",
                        json: "responseJSON"
                    },
                    converters: {
                        "* text": String,
                        "text html": !0,
                        "text json": ie.parseJSON,
                        "text xml": ie.parseXML
                    },
                    flatOptions: { url: !0, context: !0 }
                },
                ajaxSetup: function(e, t) {
                    return t
                        ? $($(e, ie.ajaxSettings), t)
                        : $(ie.ajaxSettings, e);
                },
                ajaxPrefilter: B(Et),
                ajaxTransport: B(Tt),
                ajax: function(t, n) {
                    function r(t, n, r, s) {
                        var u,
                            d,
                            b,
                            y,
                            w,
                            E = n;
                        2 !== _ &&
                            ((_ = 2),
                            l && e.clearTimeout(l),
                            (i = void 0),
                            (a = s || ""),
                            (x.readyState = t > 0 ? 4 : 0),
                            (u = (t >= 200 && t < 300) || 304 === t),
                            r && (y = H(f, x, r)),
                            (y = q(f, y, x, u)),
                            u
                                ? (f.ifModified &&
                                      ((w = x.getResponseHeader(
                                          "Last-Modified"
                                      )),
                                      w && (ie.lastModified[o] = w),
                                      (w = x.getResponseHeader("etag")) &&
                                          (ie.etag[o] = w)),
                                  204 === t || "HEAD" === f.type
                                      ? (E = "nocontent")
                                      : 304 === t
                                          ? (E = "notmodified")
                                          : ((E = y.state),
                                            (d = y.data),
                                            (b = y.error),
                                            (u = !b)))
                                : ((b = E),
                                  (!t && E) ||
                                      ((E = "error"), t < 0 && (t = 0))),
                            (x.status = t),
                            (x.statusText = (n || E) + ""),
                            u
                                ? m.resolveWith(p, [d, E, x])
                                : m.rejectWith(p, [x, E, b]),
                            x.statusCode(v),
                            (v = void 0),
                            c &&
                                h.trigger(u ? "ajaxSuccess" : "ajaxError", [
                                    x,
                                    f,
                                    u ? d : b
                                ]),
                            g.fireWith(p, [x, E]),
                            c &&
                                (h.trigger("ajaxComplete", [x, f]),
                                --ie.active || ie.event.trigger("ajaxStop")));
                    }
                    "object" == typeof t && ((n = t), (t = void 0)),
                        (n = n || {});
                    var i,
                        o,
                        a,
                        s,
                        l,
                        u,
                        c,
                        d,
                        f = ie.ajaxSetup({}, n),
                        p = f.context || f,
                        h =
                            f.context && (p.nodeType || p.jquery)
                                ? ie(p)
                                : ie.event,
                        m = ie.Deferred(),
                        g = ie.Callbacks("once memory"),
                        v = f.statusCode || {},
                        b = {},
                        y = {},
                        _ = 0,
                        w = "canceled",
                        x = {
                            readyState: 0,
                            getResponseHeader: function(e) {
                                var t;
                                if (2 === _) {
                                    if (!s)
                                        for (s = {}; (t = yt.exec(a)); )
                                            s[t[1].toLowerCase()] = t[2];
                                    t = s[e.toLowerCase()];
                                }
                                return null == t ? null : t;
                            },
                            getAllResponseHeaders: function() {
                                return 2 === _ ? a : null;
                            },
                            setRequestHeader: function(e, t) {
                                var n = e.toLowerCase();
                                return (
                                    _ || ((e = y[n] = y[n] || e), (b[e] = t)),
                                    this
                                );
                            },
                            overrideMimeType: function(e) {
                                return _ || (f.mimeType = e), this;
                            },
                            statusCode: function(e) {
                                var t;
                                if (e)
                                    if (_ < 2) for (t in e) v[t] = [v[t], e[t]];
                                    else x.always(e[x.status]);
                                return this;
                            },
                            abort: function(e) {
                                var t = e || w;
                                return i && i.abort(t), r(0, t), this;
                            }
                        };
                    if (
                        ((m.promise(x).complete = g.add),
                        (x.success = x.done),
                        (x.error = x.fail),
                        (f.url = ((t || f.url || ht.href) + "")
                            .replace(vt, "")
                            .replace(xt, ht.protocol + "//")),
                        (f.type = n.method || n.type || f.method || f.type),
                        (f.dataTypes = ie
                            .trim(f.dataType || "*")
                            .toLowerCase()
                            .match(ye) || [""]),
                        null == f.crossDomain)
                    ) {
                        u = K.createElement("a");
                        try {
                            (u.href = f.url),
                                (u.href = u.href),
                                (f.crossDomain =
                                    Ct.protocol + "//" + Ct.host !=
                                    u.protocol + "//" + u.host);
                        } catch (e) {
                            f.crossDomain = !0;
                        }
                    }
                    if (
                        (f.data &&
                            f.processData &&
                            "string" != typeof f.data &&
                            (f.data = ie.param(f.data, f.traditional)),
                        V(Et, f, n, x),
                        2 === _)
                    )
                        return x;
                    (c = ie.event && f.global),
                        c && 0 == ie.active++ && ie.event.trigger("ajaxStart"),
                        (f.type = f.type.toUpperCase()),
                        (f.hasContent = !wt.test(f.type)),
                        (o = f.url),
                        f.hasContent ||
                            (f.data &&
                                ((o = f.url +=
                                    (gt.test(o) ? "&" : "?") + f.data),
                                delete f.data),
                            !1 === f.cache &&
                                (f.url = bt.test(o)
                                    ? o.replace(bt, "$1_=" + mt++)
                                    : o +
                                      (gt.test(o) ? "&" : "?") +
                                      "_=" +
                                      mt++)),
                        f.ifModified &&
                            (ie.lastModified[o] &&
                                x.setRequestHeader(
                                    "If-Modified-Since",
                                    ie.lastModified[o]
                                ),
                            ie.etag[o] &&
                                x.setRequestHeader(
                                    "If-None-Match",
                                    ie.etag[o]
                                )),
                        ((f.data && f.hasContent && !1 !== f.contentType) ||
                            n.contentType) &&
                            x.setRequestHeader("Content-Type", f.contentType),
                        x.setRequestHeader(
                            "Accept",
                            f.dataTypes[0] && f.accepts[f.dataTypes[0]]
                                ? f.accepts[f.dataTypes[0]] +
                                  ("*" !== f.dataTypes[0]
                                      ? ", " + St + "; q=0.01"
                                      : "")
                                : f.accepts["*"]
                        );
                    for (d in f.headers) x.setRequestHeader(d, f.headers[d]);
                    if (
                        f.beforeSend &&
                        (!1 === f.beforeSend.call(p, x, f) || 2 === _)
                    )
                        return x.abort();
                    w = "abort";
                    for (d in { success: 1, error: 1, complete: 1 }) x[d](f[d]);
                    if ((i = V(Tt, f, n, x))) {
                        if (
                            ((x.readyState = 1),
                            c && h.trigger("ajaxSend", [x, f]),
                            2 === _)
                        )
                            return x;
                        f.async &&
                            f.timeout > 0 &&
                            (l = e.setTimeout(function() {
                                x.abort("timeout");
                            }, f.timeout));
                        try {
                            (_ = 1), i.send(b, r);
                        } catch (e) {
                            if (!(_ < 2)) throw e;
                            r(-1, e);
                        }
                    } else r(-1, "No Transport");
                    return x;
                },
                getJSON: function(e, t, n) {
                    return ie.get(e, t, n, "json");
                },
                getScript: function(e, t) {
                    return ie.get(e, void 0, t, "script");
                }
            }),
            ie.each(["get", "post"], function(e, t) {
                ie[t] = function(e, n, r, i) {
                    return (
                        ie.isFunction(n) &&
                            ((i = i || r), (r = n), (n = void 0)),
                        ie.ajax(
                            ie.extend(
                                {
                                    url: e,
                                    type: t,
                                    dataType: i,
                                    data: n,
                                    success: r
                                },
                                ie.isPlainObject(e) && e
                            )
                        )
                    );
                };
            }),
            (ie._evalUrl = function(e) {
                return ie.ajax({
                    url: e,
                    type: "GET",
                    dataType: "script",
                    async: !1,
                    global: !1,
                    throws: !0
                });
            }),
            ie.fn.extend({
                wrapAll: function(e) {
                    var t;
                    return ie.isFunction(e)
                        ? this.each(function(t) {
                              ie(this).wrapAll(e.call(this, t));
                          })
                        : (this[0] &&
                              ((t = ie(e, this[0].ownerDocument)
                                  .eq(0)
                                  .clone(!0)),
                              this[0].parentNode && t.insertBefore(this[0]),
                              t
                                  .map(function() {
                                      for (var e = this; e.firstElementChild; )
                                          e = e.firstElementChild;
                                      return e;
                                  })
                                  .append(this)),
                          this);
                },
                wrapInner: function(e) {
                    return ie.isFunction(e)
                        ? this.each(function(t) {
                              ie(this).wrapInner(e.call(this, t));
                          })
                        : this.each(function() {
                              var t = ie(this),
                                  n = t.contents();
                              n.length ? n.wrapAll(e) : t.append(e);
                          });
                },
                wrap: function(e) {
                    var t = ie.isFunction(e);
                    return this.each(function(n) {
                        ie(this).wrapAll(t ? e.call(this, n) : e);
                    });
                },
                unwrap: function() {
                    return this.parent()
                        .each(function() {
                            ie.nodeName(this, "body") ||
                                ie(this).replaceWith(this.childNodes);
                        })
                        .end();
                }
            }),
            (ie.expr.filters.hidden = function(e) {
                return !ie.expr.filters.visible(e);
            }),
            (ie.expr.filters.visible = function(e) {
                return (
                    e.offsetWidth > 0 ||
                    e.offsetHeight > 0 ||
                    e.getClientRects().length > 0
                );
            });
        var kt = /%20/g,
            It = /\[\]$/,
            Pt = /\r?\n/g,
            Ot = /^(?:submit|button|image|reset|file)$/i,
            At = /^(?:input|select|textarea|keygen)/i;
        (ie.param = function(e, t) {
            var n,
                r = [],
                i = function(e, t) {
                    (t = ie.isFunction(t) ? t() : null == t ? "" : t),
                        (r[r.length] =
                            encodeURIComponent(e) +
                            "=" +
                            encodeURIComponent(t));
                };
            if (
                (void 0 === t &&
                    (t = ie.ajaxSettings && ie.ajaxSettings.traditional),
                ie.isArray(e) || (e.jquery && !ie.isPlainObject(e)))
            )
                ie.each(e, function() {
                    i(this.name, this.value);
                });
            else for (n in e) W(n, e[n], t, i);
            return r.join("&").replace(kt, "+");
        }),
            ie.fn.extend({
                serialize: function() {
                    return ie.param(this.serializeArray());
                },
                serializeArray: function() {
                    return this.map(function() {
                        var e = ie.prop(this, "elements");
                        return e ? ie.makeArray(e) : this;
                    })
                        .filter(function() {
                            var e = this.type;
                            return (
                                this.name &&
                                !ie(this).is(":disabled") &&
                                At.test(this.nodeName) &&
                                !Ot.test(e) &&
                                (this.checked || !Ae.test(e))
                            );
                        })
                        .map(function(e, t) {
                            var n = ie(this).val();
                            return null == n
                                ? null
                                : ie.isArray(n)
                                    ? ie.map(n, function(e) {
                                          return {
                                              name: t.name,
                                              value: e.replace(Pt, "\r\n")
                                          };
                                      })
                                    : {
                                          name: t.name,
                                          value: n.replace(Pt, "\r\n")
                                      };
                        })
                        .get();
                }
            }),
            (ie.ajaxSettings.xhr = function() {
                try {
                    return new e.XMLHttpRequest();
                } catch (e) {}
            });
        var Nt = { 0: 200, 1223: 204 },
            Rt = ie.ajaxSettings.xhr();
        (re.cors = !!Rt && "withCredentials" in Rt),
            (re.ajax = Rt = !!Rt),
            ie.ajaxTransport(function(t) {
                var n, r;
                if (re.cors || (Rt && !t.crossDomain))
                    return {
                        send: function(i, o) {
                            var a,
                                s = t.xhr();
                            if (
                                (s.open(
                                    t.type,
                                    t.url,
                                    t.async,
                                    t.username,
                                    t.password
                                ),
                                t.xhrFields)
                            )
                                for (a in t.xhrFields) s[a] = t.xhrFields[a];
                            t.mimeType &&
                                s.overrideMimeType &&
                                s.overrideMimeType(t.mimeType),
                                t.crossDomain ||
                                    i["X-Requested-With"] ||
                                    (i["X-Requested-With"] = "XMLHttpRequest");
                            for (a in i) s.setRequestHeader(a, i[a]);
                            (n = function(e) {
                                return function() {
                                    n &&
                                        ((n = r = s.onload = s.onerror = s.onabort = s.onreadystatechange = null),
                                        "abort" === e
                                            ? s.abort()
                                            : "error" === e
                                                ? "number" != typeof s.status
                                                    ? o(0, "error")
                                                    : o(s.status, s.statusText)
                                                : o(
                                                      Nt[s.status] || s.status,
                                                      s.statusText,
                                                      "text" !==
                                                          (s.responseType ||
                                                              "text") ||
                                                      "string" !=
                                                          typeof s.responseText
                                                          ? {
                                                                binary:
                                                                    s.response
                                                            }
                                                          : {
                                                                text:
                                                                    s.responseText
                                                            },
                                                      s.getAllResponseHeaders()
                                                  ));
                                };
                            }),
                                (s.onload = n()),
                                (r = s.onerror = n("error")),
                                void 0 !== s.onabort
                                    ? (s.onabort = r)
                                    : (s.onreadystatechange = function() {
                                          4 === s.readyState &&
                                              e.setTimeout(function() {
                                                  n && r();
                                              });
                                      }),
                                (n = n("abort"));
                            try {
                                s.send((t.hasContent && t.data) || null);
                            } catch (e) {
                                if (n) throw e;
                            }
                        },
                        abort: function() {
                            n && n();
                        }
                    };
            }),
            ie.ajaxSetup({
                accepts: {
                    script:
                        "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                },
                contents: { script: /\b(?:java|ecma)script\b/ },
                converters: {
                    "text script": function(e) {
                        return ie.globalEval(e), e;
                    }
                }
            }),
            ie.ajaxPrefilter("script", function(e) {
                void 0 === e.cache && (e.cache = !1),
                    e.crossDomain && (e.type = "GET");
            }),
            ie.ajaxTransport("script", function(e) {
                if (e.crossDomain) {
                    var t, n;
                    return {
                        send: function(r, i) {
                            (t = ie("<script>")
                                .prop({ charset: e.scriptCharset, src: e.url })
                                .on(
                                    "load error",
                                    (n = function(e) {
                                        t.remove(),
                                            (n = null),
                                            e &&
                                                i(
                                                    "error" === e.type
                                                        ? 404
                                                        : 200,
                                                    e.type
                                                );
                                    })
                                )),
                                K.head.appendChild(t[0]);
                        },
                        abort: function() {
                            n && n();
                        }
                    };
                }
            });
        var Dt = [],
            jt = /(=)\?(?=&|$)|\?\?/;
        ie.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var e = Dt.pop() || ie.expando + "_" + mt++;
                return (this[e] = !0), e;
            }
        }),
            ie.ajaxPrefilter("json jsonp", function(t, n, r) {
                var i,
                    o,
                    a,
                    s =
                        !1 !== t.jsonp &&
                        (jt.test(t.url)
                            ? "url"
                            : "string" == typeof t.data &&
                              0 ===
                                  (t.contentType || "").indexOf(
                                      "application/x-www-form-urlencoded"
                                  ) &&
                              jt.test(t.data) &&
                              "data");
                if (s || "jsonp" === t.dataTypes[0])
                    return (
                        (i = t.jsonpCallback = ie.isFunction(t.jsonpCallback)
                            ? t.jsonpCallback()
                            : t.jsonpCallback),
                        s
                            ? (t[s] = t[s].replace(jt, "$1" + i))
                            : !1 !== t.jsonp &&
                              (t.url +=
                                  (gt.test(t.url) ? "&" : "?") +
                                  t.jsonp +
                                  "=" +
                                  i),
                        (t.converters["script json"] = function() {
                            return a || ie.error(i + " was not called"), a[0];
                        }),
                        (t.dataTypes[0] = "json"),
                        (o = e[i]),
                        (e[i] = function() {
                            a = arguments;
                        }),
                        r.always(function() {
                            void 0 === o ? ie(e).removeProp(i) : (e[i] = o),
                                t[i] &&
                                    ((t.jsonpCallback = n.jsonpCallback),
                                    Dt.push(i)),
                                a && ie.isFunction(o) && o(a[0]),
                                (a = o = void 0);
                        }),
                        "script"
                    );
            }),
            (ie.parseHTML = function(e, t, n) {
                if (!e || "string" != typeof e) return null;
                "boolean" == typeof t && ((n = t), (t = !1)), (t = t || K);
                var r = pe.exec(e),
                    i = !n && [];
                return r
                    ? [t.createElement(r[1])]
                    : ((r = f([e], t, i)),
                      i && i.length && ie(i).remove(),
                      ie.merge([], r.childNodes));
            });
        var Mt = ie.fn.load;
        (ie.fn.load = function(e, t, n) {
            if ("string" != typeof e && Mt) return Mt.apply(this, arguments);
            var r,
                i,
                o,
                a = this,
                s = e.indexOf(" ");
            return (
                s > -1 && ((r = ie.trim(e.slice(s))), (e = e.slice(0, s))),
                ie.isFunction(t)
                    ? ((n = t), (t = void 0))
                    : t && "object" == typeof t && (i = "POST"),
                a.length > 0 &&
                    ie
                        .ajax({
                            url: e,
                            type: i || "GET",
                            dataType: "html",
                            data: t
                        })
                        .done(function(e) {
                            (o = arguments),
                                a.html(
                                    r
                                        ? ie("<div>")
                                              .append(ie.parseHTML(e))
                                              .find(r)
                                        : e
                                );
                        })
                        .always(
                            n &&
                                function(e, t) {
                                    a.each(function() {
                                        n.apply(
                                            this,
                                            o || [e.responseText, t, e]
                                        );
                                    });
                                }
                        ),
                this
            );
        }),
            ie.each(
                [
                    "ajaxStart",
                    "ajaxStop",
                    "ajaxComplete",
                    "ajaxError",
                    "ajaxSuccess",
                    "ajaxSend"
                ],
                function(e, t) {
                    ie.fn[t] = function(e) {
                        return this.on(t, e);
                    };
                }
            ),
            (ie.expr.filters.animated = function(e) {
                return ie.grep(ie.timers, function(t) {
                    return e === t.elem;
                }).length;
            }),
            (ie.offset = {
                setOffset: function(e, t, n) {
                    var r,
                        i,
                        o,
                        a,
                        s,
                        l,
                        u,
                        c = ie.css(e, "position"),
                        d = ie(e),
                        f = {};
                    "static" === c && (e.style.position = "relative"),
                        (s = d.offset()),
                        (o = ie.css(e, "top")),
                        (l = ie.css(e, "left")),
                        (u =
                            ("absolute" === c || "fixed" === c) &&
                            (o + l).indexOf("auto") > -1),
                        u
                            ? ((r = d.position()), (a = r.top), (i = r.left))
                            : ((a = parseFloat(o) || 0),
                              (i = parseFloat(l) || 0)),
                        ie.isFunction(t) &&
                            (t = t.call(e, n, ie.extend({}, s))),
                        null != t.top && (f.top = t.top - s.top + a),
                        null != t.left && (f.left = t.left - s.left + i),
                        "using" in t ? t.using.call(e, f) : d.css(f);
                }
            }),
            ie.fn.extend({
                offset: function(e) {
                    if (arguments.length)
                        return void 0 === e
                            ? this
                            : this.each(function(t) {
                                  ie.offset.setOffset(this, e, t);
                              });
                    var t,
                        n,
                        r = this[0],
                        i = { top: 0, left: 0 },
                        o = r && r.ownerDocument;
                    if (o)
                        return (
                            (t = o.documentElement),
                            ie.contains(t, r)
                                ? ((i = r.getBoundingClientRect()),
                                  (n = G(o)),
                                  {
                                      top: i.top + n.pageYOffset - t.clientTop,
                                      left:
                                          i.left + n.pageXOffset - t.clientLeft
                                  })
                                : i
                        );
                },
                position: function() {
                    if (this[0]) {
                        var e,
                            t,
                            n = this[0],
                            r = { top: 0, left: 0 };
                        return (
                            "fixed" === ie.css(n, "position")
                                ? (t = n.getBoundingClientRect())
                                : ((e = this.offsetParent()),
                                  (t = this.offset()),
                                  ie.nodeName(e[0], "html") || (r = e.offset()),
                                  (r.top += ie.css(e[0], "borderTopWidth", !0)),
                                  (r.left += ie.css(
                                      e[0],
                                      "borderLeftWidth",
                                      !0
                                  ))),
                            {
                                top: t.top - r.top - ie.css(n, "marginTop", !0),
                                left:
                                    t.left -
                                    r.left -
                                    ie.css(n, "marginLeft", !0)
                            }
                        );
                    }
                },
                offsetParent: function() {
                    return this.map(function() {
                        for (
                            var e = this.offsetParent;
                            e && "static" === ie.css(e, "position");

                        )
                            e = e.offsetParent;
                        return e || Je;
                    });
                }
            }),
            ie.each(
                { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" },
                function(e, t) {
                    var n = "pageYOffset" === t;
                    ie.fn[e] = function(r) {
                        return we(
                            this,
                            function(e, r, i) {
                                var o = G(e);
                                if (void 0 === i) return o ? o[t] : e[r];
                                o
                                    ? o.scrollTo(
                                          n ? o.pageXOffset : i,
                                          n ? i : o.pageYOffset
                                      )
                                    : (e[r] = i);
                            },
                            e,
                            r,
                            arguments.length
                        );
                    };
                }
            ),
            ie.each(["top", "left"], function(e, t) {
                ie.cssHooks[t] = k(re.pixelPosition, function(e, n) {
                    if (n)
                        return (
                            (n = C(e, t)),
                            Ge.test(n) ? ie(e).position()[t] + "px" : n
                        );
                });
            }),
            ie.each({ Height: "height", Width: "width" }, function(e, t) {
                ie.each(
                    { padding: "inner" + e, content: t, "": "outer" + e },
                    function(n, r) {
                        ie.fn[r] = function(r, i) {
                            var o =
                                    arguments.length &&
                                    (n || "boolean" != typeof r),
                                a =
                                    n ||
                                    (!0 === r || !0 === i
                                        ? "margin"
                                        : "border");
                            return we(
                                this,
                                function(t, n, r) {
                                    var i;
                                    return ie.isWindow(t)
                                        ? t.document.documentElement[
                                              "client" + e
                                          ]
                                        : 9 === t.nodeType
                                            ? ((i = t.documentElement),
                                              Math.max(
                                                  t.body["scroll" + e],
                                                  i["scroll" + e],
                                                  t.body["offset" + e],
                                                  i["offset" + e],
                                                  i["client" + e]
                                              ))
                                            : void 0 === r
                                                ? ie.css(t, n, a)
                                                : ie.style(t, n, r, a);
                                },
                                t,
                                o ? r : void 0,
                                o,
                                null
                            );
                        };
                    }
                );
            }),
            ie.fn.extend({
                bind: function(e, t, n) {
                    return this.on(e, null, t, n);
                },
                unbind: function(e, t) {
                    return this.off(e, null, t);
                },
                delegate: function(e, t, n, r) {
                    return this.on(t, e, n, r);
                },
                undelegate: function(e, t, n) {
                    return 1 === arguments.length
                        ? this.off(e, "**")
                        : this.off(t, e || "**", n);
                },
                size: function() {
                    return this.length;
                }
            }),
            (ie.fn.andSelf = ie.fn.addBack),
            "function" == typeof define &&
                define.amd &&
                define("jquery", [], function() {
                    return ie;
                });
        var Lt = e.jQuery,
            Ft = e.$;
        return (
            (ie.noConflict = function(t) {
                return (
                    e.$ === ie && (e.$ = Ft),
                    t && e.jQuery === ie && (e.jQuery = Lt),
                    ie
                );
            }),
            t || (e.jQuery = e.$ = ie),
            ie
        );
    }),
    (function(e) {
        "object" == typeof exports && "undefined" != typeof module
            ? (module.exports = e())
            : "function" == typeof define && define.amd
                ? define("eventEmitter", [], e)
                : (("undefined" != typeof window
                      ? window
                      : "undefined" != typeof global
                          ? global
                          : "undefined" != typeof self
                              ? self
                              : this
                  ).EventEmitter3 = e());
    })(function() {
        return (function e(t, n, r) {
            function i(a, s) {
                if (!n[a]) {
                    if (!t[a]) {
                        var l = "function" == typeof require && require;
                        if (!s && l) return l(a, !0);
                        if (o) return o(a, !0);
                        var u = new Error("Cannot find module '" + a + "'");
                        throw ((u.code = "MODULE_NOT_FOUND"), u);
                    }
                    var c = (n[a] = { exports: {} });
                    t[a][0].call(
                        c.exports,
                        function(e) {
                            return i(t[a][1][e] || e);
                        },
                        c,
                        c.exports,
                        e,
                        t,
                        n,
                        r
                    );
                }
                return n[a].exports;
            }
            for (
                var o = "function" == typeof require && require, a = 0;
                a < r.length;
                a++
            )
                i(r[a]);
            return i;
        })(
            {
                1: [
                    function(e, t, n) {
                        "use strict";
                        function r() {}
                        function i(e, t, n) {
                            (this.fn = e),
                                (this.context = t),
                                (this.once = n || !1);
                        }
                        function o(e, t, n, r, o) {
                            if ("function" != typeof n)
                                throw new TypeError(
                                    "The listener must be a function"
                                );
                            var a = new i(n, r || e, o),
                                s = u ? u + t : t;
                            return (
                                e._events[s]
                                    ? e._events[s].fn
                                        ? (e._events[s] = [e._events[s], a])
                                        : e._events[s].push(a)
                                    : ((e._events[s] = a), e._eventsCount++),
                                e
                            );
                        }
                        function a(e, t) {
                            0 == --e._eventsCount
                                ? (e._events = new r())
                                : delete e._events[t];
                        }
                        function s() {
                            (this._events = new r()), (this._eventsCount = 0);
                        }
                        var l = Object.prototype.hasOwnProperty,
                            u = "~";
                        Object.create &&
                            ((r.prototype = Object.create(null)),
                            new r().__proto__ || (u = !1)),
                            (s.prototype.eventNames = function() {
                                var e,
                                    t,
                                    n = [];
                                if (0 === this._eventsCount) return n;
                                for (t in (e = this._events))
                                    l.call(e, t) && n.push(u ? t.slice(1) : t);
                                return Object.getOwnPropertySymbols
                                    ? n.concat(Object.getOwnPropertySymbols(e))
                                    : n;
                            }),
                            (s.prototype.listeners = function(e) {
                                var t = u ? u + e : e,
                                    n = this._events[t];
                                if (!n) return [];
                                if (n.fn) return [n.fn];
                                for (
                                    var r = 0, i = n.length, o = new Array(i);
                                    r < i;
                                    r++
                                )
                                    o[r] = n[r].fn;
                                return o;
                            }),
                            (s.prototype.listenerCount = function(e) {
                                var t = u ? u + e : e,
                                    n = this._events[t];
                                return n ? (n.fn ? 1 : n.length) : 0;
                            }),
                            (s.prototype.emit = function(e, t, n, r, i, o) {
                                var a = u ? u + e : e;
                                if (!this._events[a]) return !1;
                                var s,
                                    l,
                                    c = this._events[a],
                                    d = arguments.length;
                                if (c.fn) {
                                    switch (
                                        (c.once &&
                                            this.removeListener(
                                                e,
                                                c.fn,
                                                void 0,
                                                !0
                                            ),
                                        d)
                                    ) {
                                        case 1:
                                            return c.fn.call(c.context), !0;
                                        case 2:
                                            return c.fn.call(c.context, t), !0;
                                        case 3:
                                            return (
                                                c.fn.call(c.context, t, n), !0
                                            );
                                        case 4:
                                            return (
                                                c.fn.call(c.context, t, n, r),
                                                !0
                                            );
                                        case 5:
                                            return (
                                                c.fn.call(
                                                    c.context,
                                                    t,
                                                    n,
                                                    r,
                                                    i
                                                ),
                                                !0
                                            );
                                        case 6:
                                            return (
                                                c.fn.call(
                                                    c.context,
                                                    t,
                                                    n,
                                                    r,
                                                    i,
                                                    o
                                                ),
                                                !0
                                            );
                                    }
                                    for (
                                        l = 1, s = new Array(d - 1);
                                        l < d;
                                        l++
                                    )
                                        s[l - 1] = arguments[l];
                                    c.fn.apply(c.context, s);
                                } else {
                                    var f,
                                        p = c.length;
                                    for (l = 0; l < p; l++)
                                        switch (
                                            (c[l].once &&
                                                this.removeListener(
                                                    e,
                                                    c[l].fn,
                                                    void 0,
                                                    !0
                                                ),
                                            d)
                                        ) {
                                            case 1:
                                                c[l].fn.call(c[l].context);
                                                break;
                                            case 2:
                                                c[l].fn.call(c[l].context, t);
                                                break;
                                            case 3:
                                                c[l].fn.call(
                                                    c[l].context,
                                                    t,
                                                    n
                                                );
                                                break;
                                            case 4:
                                                c[l].fn.call(
                                                    c[l].context,
                                                    t,
                                                    n,
                                                    r
                                                );
                                                break;
                                            default:
                                                if (!s)
                                                    for (
                                                        f = 1,
                                                            s = new Array(
                                                                d - 1
                                                            );
                                                        f < d;
                                                        f++
                                                    )
                                                        s[f - 1] = arguments[f];
                                                c[l].fn.apply(c[l].context, s);
                                        }
                                }
                                return !0;
                            }),
                            (s.prototype.on = function(e, t, n) {
                                return o(this, e, t, n, !1);
                            }),
                            (s.prototype.once = function(e, t, n) {
                                return o(this, e, t, n, !0);
                            }),
                            (s.prototype.removeListener = function(e, t, n, r) {
                                var i = u ? u + e : e;
                                if (!this._events[i]) return this;
                                if (!t) return a(this, i), this;
                                var o = this._events[i];
                                if (o.fn)
                                    o.fn !== t ||
                                        (r && !o.once) ||
                                        (n && o.context !== n) ||
                                        a(this, i);
                                else {
                                    for (
                                        var s = 0, l = [], c = o.length;
                                        s < c;
                                        s++
                                    )
                                        (o[s].fn !== t ||
                                            (r && !o[s].once) ||
                                            (n && o[s].context !== n)) &&
                                            l.push(o[s]);
                                    l.length
                                        ? (this._events[i] =
                                              1 === l.length ? l[0] : l)
                                        : a(this, i);
                                }
                                return this;
                            }),
                            (s.prototype.removeAllListeners = function(e) {
                                var t;
                                return (
                                    e
                                        ? ((t = u ? u + e : e),
                                          this._events[t] && a(this, t))
                                        : ((this._events = new r()),
                                          (this._eventsCount = 0)),
                                    this
                                );
                            }),
                            (s.prototype.off = s.prototype.removeListener),
                            (s.prototype.addListener = s.prototype.on),
                            (s.prefixed = u),
                            (s.EventEmitter = s),
                            void 0 !== t && (t.exports = s);
                    },
                    {}
                ]
            },
            {},
            [1]
        )(1);
    }),
    define("readium_shared_js/globals", ["jquery", "eventEmitter"], function(
        e,
        t
    ) {
        var n = {
            version: function() {
                return "0.8.0";
            },
            Views: {
                ORIENTATION_LANDSCAPE: "orientation_landscape",
                ORIENTATION_PORTRAIT: "orientation_portrait"
            },
            Events: {
                READER_INITIALIZED: "ReaderInitialized",
                PAGINATION_CHANGED: "PaginationChanged",
                SETTINGS_APPLIED: "SettingsApplied",
                FXL_VIEW_RESIZED: "FXLViewResized",
                READER_VIEW_CREATED: "ReaderViewCreated",
                READER_VIEW_DESTROYED: "ReaderViewDestroyed",
                CONTENT_DOCUMENT_LOAD_START: "ContentDocumentLoadStart",
                CONTENT_DOCUMENT_LOADED: "ContentDocumentLoaded",
                CONTENT_DOCUMENT_UNLOADED: "ContentDocumentUnloaded",
                MEDIA_OVERLAY_STATUS_CHANGED: "MediaOverlayStatusChanged",
                MEDIA_OVERLAY_TTS_SPEAK: "MediaOverlayTTSSpeak",
                MEDIA_OVERLAY_TTS_STOP: "MediaOverlayTTSStop",
                PLUGINS_LOADED: "PluginsLoaded"
            },
            InternalEvents: {
                CURRENT_VIEW_PAGINATION_CHANGED: "CurrentViewPaginationChanged"
            },
            logEvent: function(e, t, n) {}
        };
        return e.extend(n, new t()), n;
    }),
    (navigator.epubReadingSystem = {
        name: "",
        version: "0.0.0",
        layoutStyle: "paginated",
        hasFeature: function(e, t) {
            return (
                (!t || "1.0" === t) &&
                ("dom-manipulation" === e ||
                    ("layout-changes" === e ||
                        ("touch-events" !== e &&
                            ("mouse-events" === e ||
                                ("keyboard-events" === e ||
                                    "spine-scripting" === e)))))
            );
        }
    }),
    (function() {
        "use strict";
        console.debug || (console.debug = console.log),
            console.info || (console.info = console.log),
            console.warn || (console.warn = console.log),
            console.error || (console.error = console.log);
    })(),
    define("console_shim", function() {}),
    (function(e, t) {
        "function" == typeof define && define.amd
            ? define("es6-shim", t)
            : "object" == typeof exports
                ? (module.exports = t())
                : (e.returnExports = t());
    })(this, function() {
        "use strict";
        var e,
            t = Function.call.bind(Function.apply),
            n = Function.call.bind(Function.call),
            r = Array.isArray,
            i = Object.keys,
            o = function(e) {
                try {
                    return e(), !1;
                } catch (e) {
                    return !0;
                }
            },
            a = function(e) {
                try {
                    return e();
                } catch (e) {
                    return !1;
                }
            },
            s = (function(e) {
                return function() {
                    return !t(e, this, arguments);
                };
            })(o),
            l =
                !!Object.defineProperty &&
                (function() {
                    return !o(function() {
                        Object.defineProperty({}, "x", { get: function() {} });
                    });
                })(),
            u = "foo" === function() {}.name,
            c = Function.call.bind(Array.prototype.forEach),
            d = Function.call.bind(Array.prototype.reduce),
            f = Function.call.bind(Array.prototype.filter),
            p = Function.call.bind(Array.prototype.some),
            h = function(e, t, n, r) {
                (!r && t in e) ||
                    (l
                        ? Object.defineProperty(e, t, {
                              configurable: !0,
                              enumerable: !1,
                              writable: !0,
                              value: n
                          })
                        : (e[t] = n));
            },
            m = function(e, t, n) {
                c(i(t), function(r) {
                    var i = t[r];
                    h(e, r, i, !!n);
                });
            },
            g = Function.call.bind(Object.prototype.toString),
            v =
                "function" == typeof /abc/
                    ? function(e) {
                          return (
                              "function" == typeof e &&
                              "[object Function]" === g(e)
                          );
                      }
                    : function(e) {
                          return "function" == typeof e;
                      },
            b = {
                getter: function(e, t, n) {
                    if (!l)
                        throw new TypeError("getters require true ES5 support");
                    Object.defineProperty(e, t, {
                        configurable: !0,
                        enumerable: !1,
                        get: n
                    });
                },
                proxy: function(e, t, n) {
                    if (!l)
                        throw new TypeError("getters require true ES5 support");
                    var r = Object.getOwnPropertyDescriptor(e, t);
                    Object.defineProperty(n, t, {
                        configurable: r.configurable,
                        enumerable: r.enumerable,
                        get: function() {
                            return e[t];
                        },
                        set: function(n) {
                            e[t] = n;
                        }
                    });
                },
                redefine: function(e, t, n) {
                    if (l) {
                        var r = Object.getOwnPropertyDescriptor(e, t);
                        (r.value = n), Object.defineProperty(e, t, r);
                    } else e[t] = n;
                },
                defineByDescriptor: function(e, t, n) {
                    l
                        ? Object.defineProperty(e, t, n)
                        : "value" in n && (e[t] = n.value);
                },
                preserveToString: function(e, t) {
                    t &&
                        v(t.toString) &&
                        h(e, "toString", t.toString.bind(t), !0);
                }
            },
            y =
                Object.create ||
                function(e, t) {
                    var n = function() {};
                    n.prototype = e;
                    var r = new n();
                    return (
                        void 0 !== t &&
                            i(t).forEach(function(e) {
                                b.defineByDescriptor(r, e, t[e]);
                            }),
                        r
                    );
                },
            _ = function(e, t) {
                return (
                    !!Object.setPrototypeOf &&
                    a(function() {
                        var n = function t(n) {
                            var r = new e(n);
                            return Object.setPrototypeOf(r, t.prototype), r;
                        };
                        return (
                            Object.setPrototypeOf(n, e),
                            (n.prototype = y(e.prototype, {
                                constructor: { value: n }
                            })),
                            t(n)
                        );
                    })
                );
            },
            w = (function() {
                if ("undefined" != typeof self) return self;
                if ("undefined" != typeof window) return window;
                if ("undefined" != typeof global) return global;
                throw new Error("unable to locate global object");
            })(),
            x = w.isFinite,
            E = Function.call.bind(String.prototype.indexOf),
            T = Function.apply.bind(Array.prototype.indexOf),
            S = Function.call.bind(Array.prototype.concat),
            C = Function.call.bind(String.prototype.slice),
            k = Function.call.bind(Array.prototype.push),
            I = Function.apply.bind(Array.prototype.push),
            P = Function.call.bind(Array.prototype.shift),
            O = Math.max,
            A = Math.min,
            N = Math.floor,
            R = Math.abs,
            D = Math.exp,
            j = Math.log,
            M = Math.sqrt,
            L = Function.call.bind(Object.prototype.hasOwnProperty),
            F = function() {},
            U = w.Map,
            z = U && U.prototype.delete,
            B = U && U.prototype.get,
            V = U && U.prototype.has,
            $ = U && U.prototype.set,
            H = w.Symbol || {},
            q = H.species || "@@species",
            W =
                Number.isNaN ||
                function(e) {
                    return e !== e;
                },
            G =
                Number.isFinite ||
                function(e) {
                    return "number" == typeof e && x(e);
                },
            X = v(Math.sign)
                ? Math.sign
                : function(e) {
                      var t = Number(e);
                      return 0 === t ? t : W(t) ? t : t < 0 ? -1 : 1;
                  },
            K = function(e) {
                return "[object Arguments]" === g(e);
            },
            J = function(e) {
                return (
                    null !== e &&
                    "object" == typeof e &&
                    "number" == typeof e.length &&
                    e.length >= 0 &&
                    "[object Array]" !== g(e) &&
                    "[object Function]" === g(e.callee)
                );
            },
            Q = K(arguments) ? K : J,
            Y = {
                primitive: function(e) {
                    return (
                        null === e ||
                        ("function" != typeof e && "object" != typeof e)
                    );
                },
                string: function(e) {
                    return "[object String]" === g(e);
                },
                regex: function(e) {
                    return "[object RegExp]" === g(e);
                },
                symbol: function(e) {
                    return (
                        "function" == typeof w.Symbol && "symbol" == typeof e
                    );
                }
            },
            Z = function(e, t, n) {
                var r = e[t];
                h(e, t, n, !0), b.preserveToString(e[t], r);
            },
            ee =
                "function" == typeof H &&
                "function" == typeof H.for &&
                Y.symbol(H()),
            te = Y.symbol(H.iterator) ? H.iterator : "_es6-shim iterator_";
        w.Set &&
            "function" == typeof new w.Set()["@@iterator"] &&
            (te = "@@iterator"),
            w.Reflect || h(w, "Reflect", {}, !0);
        var ne = w.Reflect,
            re = String,
            ie =
                "undefined" != typeof document && document
                    ? document.all
                    : null,
            oe =
                null == ie
                    ? function(e) {
                          return null == e;
                      }
                    : function(e) {
                          return null == e && e !== ie;
                      },
            ae = {
                Call: function(e, n) {
                    var r = arguments.length > 2 ? arguments[2] : [];
                    if (!ae.IsCallable(e))
                        throw new TypeError(e + " is not a function");
                    return t(e, n, r);
                },
                RequireObjectCoercible: function(e, t) {
                    if (oe(e))
                        throw new TypeError(t || "Cannot call method on " + e);
                    return e;
                },
                TypeIsObject: function(e) {
                    return (
                        void 0 !== e &&
                        null !== e &&
                        !0 !== e &&
                        !1 !== e &&
                        ("function" == typeof e ||
                            "object" == typeof e ||
                            e === ie)
                    );
                },
                ToObject: function(e, t) {
                    return Object(ae.RequireObjectCoercible(e, t));
                },
                IsCallable: v,
                IsConstructor: function(e) {
                    return ae.IsCallable(e);
                },
                ToInt32: function(e) {
                    return ae.ToNumber(e) >> 0;
                },
                ToUint32: function(e) {
                    return ae.ToNumber(e) >>> 0;
                },
                ToNumber: function(e) {
                    if ("[object Symbol]" === g(e))
                        throw new TypeError(
                            "Cannot convert a Symbol value to a number"
                        );
                    return +e;
                },
                ToInteger: function(e) {
                    var t = ae.ToNumber(e);
                    return W(t)
                        ? 0
                        : 0 !== t && G(t)
                            ? (t > 0 ? 1 : -1) * N(R(t))
                            : t;
                },
                ToLength: function(e) {
                    var t = ae.ToInteger(e);
                    return t <= 0
                        ? 0
                        : t > Number.MAX_SAFE_INTEGER
                            ? Number.MAX_SAFE_INTEGER
                            : t;
                },
                SameValue: function(e, t) {
                    return e === t ? 0 !== e || 1 / e == 1 / t : W(e) && W(t);
                },
                SameValueZero: function(e, t) {
                    return e === t || (W(e) && W(t));
                },
                IsIterable: function(e) {
                    return ae.TypeIsObject(e) && (void 0 !== e[te] || Q(e));
                },
                GetIterator: function(t) {
                    if (Q(t)) return new e(t, "value");
                    var n = ae.GetMethod(t, te);
                    if (!ae.IsCallable(n))
                        throw new TypeError("value is not an iterable");
                    var r = ae.Call(n, t);
                    if (!ae.TypeIsObject(r))
                        throw new TypeError("bad iterator");
                    return r;
                },
                GetMethod: function(e, t) {
                    var n = ae.ToObject(e)[t];
                    if (!oe(n)) {
                        if (!ae.IsCallable(n))
                            throw new TypeError("Method not callable: " + t);
                        return n;
                    }
                },
                IteratorComplete: function(e) {
                    return !!e.done;
                },
                IteratorClose: function(e, t) {
                    var n = ae.GetMethod(e, "return");
                    if (void 0 !== n) {
                        var r, i;
                        try {
                            r = ae.Call(n, e);
                        } catch (e) {
                            i = e;
                        }
                        if (!t) {
                            if (i) throw i;
                            if (!ae.TypeIsObject(r))
                                throw new TypeError(
                                    "Iterator's return method returned a non-object."
                                );
                        }
                    }
                },
                IteratorNext: function(e) {
                    var t =
                        arguments.length > 1 ? e.next(arguments[1]) : e.next();
                    if (!ae.TypeIsObject(t))
                        throw new TypeError("bad iterator");
                    return t;
                },
                IteratorStep: function(e) {
                    var t = ae.IteratorNext(e);
                    return !ae.IteratorComplete(t) && t;
                },
                Construct: function(e, t, n, r) {
                    var i = void 0 === n ? e : n;
                    if (!r && ne.construct) return ne.construct(e, t, i);
                    var o = i.prototype;
                    ae.TypeIsObject(o) || (o = Object.prototype);
                    var a = y(o),
                        s = ae.Call(e, a, t);
                    return ae.TypeIsObject(s) ? s : a;
                },
                SpeciesConstructor: function(e, t) {
                    var n = e.constructor;
                    if (void 0 === n) return t;
                    if (!ae.TypeIsObject(n))
                        throw new TypeError("Bad constructor");
                    var r = n[q];
                    if (oe(r)) return t;
                    if (!ae.IsConstructor(r))
                        throw new TypeError("Bad @@species");
                    return r;
                },
                CreateHTML: function(e, t, n, r) {
                    var i = ae.ToString(e),
                        o = "<" + t;
                    if ("" !== n) {
                        o +=
                            " " +
                            n +
                            '="' +
                            ae.ToString(r).replace(/"/g, "&quot;") +
                            '"';
                    }
                    return o + ">" + i + "</" + t + ">";
                },
                IsRegExp: function(e) {
                    if (!ae.TypeIsObject(e)) return !1;
                    var t = e[H.match];
                    return void 0 !== t ? !!t : Y.regex(e);
                },
                ToString: function(e) {
                    return re(e);
                }
            };
        if (l && ee) {
            var se = function(e) {
                if (Y.symbol(H[e])) return H[e];
                var t = H.for("Symbol." + e);
                return (
                    Object.defineProperty(H, e, {
                        configurable: !1,
                        enumerable: !1,
                        writable: !1,
                        value: t
                    }),
                    t
                );
            };
            if (!Y.symbol(H.search)) {
                var le = se("search"),
                    ue = String.prototype.search;
                h(RegExp.prototype, le, function(e) {
                    return ae.Call(ue, e, [this]);
                });
                var ce = function(e) {
                    var t = ae.RequireObjectCoercible(this);
                    if (!oe(e)) {
                        var n = ae.GetMethod(e, le);
                        if (void 0 !== n) return ae.Call(n, e, [t]);
                    }
                    return ae.Call(ue, t, [ae.ToString(e)]);
                };
                Z(String.prototype, "search", ce);
            }
            if (!Y.symbol(H.replace)) {
                var de = se("replace"),
                    fe = String.prototype.replace;
                h(RegExp.prototype, de, function(e, t) {
                    return ae.Call(fe, e, [this, t]);
                });
                var pe = function(e, t) {
                    var n = ae.RequireObjectCoercible(this);
                    if (!oe(e)) {
                        var r = ae.GetMethod(e, de);
                        if (void 0 !== r) return ae.Call(r, e, [n, t]);
                    }
                    return ae.Call(fe, n, [ae.ToString(e), t]);
                };
                Z(String.prototype, "replace", pe);
            }
            if (!Y.symbol(H.split)) {
                var he = se("split"),
                    me = String.prototype.split;
                h(RegExp.prototype, he, function(e, t) {
                    return ae.Call(me, e, [this, t]);
                });
                var ge = function(e, t) {
                    var n = ae.RequireObjectCoercible(this);
                    if (!oe(e)) {
                        var r = ae.GetMethod(e, he);
                        if (void 0 !== r) return ae.Call(r, e, [n, t]);
                    }
                    return ae.Call(me, n, [ae.ToString(e), t]);
                };
                Z(String.prototype, "split", ge);
            }
            var ve = Y.symbol(H.match),
                be =
                    ve &&
                    (function() {
                        var e = {};
                        return (
                            (e[H.match] = function() {
                                return 42;
                            }),
                            42 !== "a".match(e)
                        );
                    })();
            if (!ve || be) {
                var ye = se("match"),
                    _e = String.prototype.match;
                h(RegExp.prototype, ye, function(e) {
                    return ae.Call(_e, e, [this]);
                });
                var we = function(e) {
                    var t = ae.RequireObjectCoercible(this);
                    if (!oe(e)) {
                        var n = ae.GetMethod(e, ye);
                        if (void 0 !== n) return ae.Call(n, e, [t]);
                    }
                    return ae.Call(_e, t, [ae.ToString(e)]);
                };
                Z(String.prototype, "match", we);
            }
        }
        var xe = function(e, t, n) {
                b.preserveToString(t, e),
                    Object.setPrototypeOf && Object.setPrototypeOf(e, t),
                    l
                        ? c(Object.getOwnPropertyNames(e), function(r) {
                              r in F || n[r] || b.proxy(e, r, t);
                          })
                        : c(Object.keys(e), function(r) {
                              r in F || n[r] || (t[r] = e[r]);
                          }),
                    (t.prototype = e.prototype),
                    b.redefine(e.prototype, "constructor", t);
            },
            Ee = function() {
                return this;
            },
            Te = function(e) {
                l && !L(e, q) && b.getter(e, q, Ee);
            },
            Se = function(e, t) {
                var n =
                    t ||
                    function() {
                        return this;
                    };
                h(e, te, n), !e[te] && Y.symbol(te) && (e[te] = n);
            },
            Ce = function(e, t, n) {
                l
                    ? Object.defineProperty(e, t, {
                          configurable: !0,
                          enumerable: !0,
                          writable: !0,
                          value: n
                      })
                    : (e[t] = n);
            },
            ke = function(e, t, n) {
                if ((Ce(e, t, n), !ae.SameValue(e[t], n)))
                    throw new TypeError("property is nonconfigurable");
            },
            Ie = function(e, t, n, r) {
                if (!ae.TypeIsObject(e))
                    throw new TypeError(
                        "Constructor requires `new`: " + t.name
                    );
                var i = t.prototype;
                ae.TypeIsObject(i) || (i = n);
                var o = y(i);
                for (var a in r)
                    if (L(r, a)) {
                        var s = r[a];
                        h(o, a, s, !0);
                    }
                return o;
            };
        if (String.fromCodePoint && 1 !== String.fromCodePoint.length) {
            var Pe = String.fromCodePoint;
            Z(String, "fromCodePoint", function(e) {
                return ae.Call(Pe, this, arguments);
            });
        }
        var Oe = {
            fromCodePoint: function(e) {
                for (var t, n = [], r = 0, i = arguments.length; r < i; r++) {
                    if (
                        ((t = Number(arguments[r])),
                        !ae.SameValue(t, ae.ToInteger(t)) ||
                            t < 0 ||
                            t > 1114111)
                    )
                        throw new RangeError("Invalid code point " + t);
                    t < 65536
                        ? k(n, String.fromCharCode(t))
                        : ((t -= 65536),
                          k(n, String.fromCharCode(55296 + (t >> 10))),
                          k(n, String.fromCharCode((t % 1024) + 56320)));
                }
                return n.join("");
            },
            raw: function(e) {
                var t = ae.ToObject(e, "bad callSite"),
                    n = ae.ToObject(t.raw, "bad raw value"),
                    r = n.length,
                    i = ae.ToLength(r);
                if (i <= 0) return "";
                for (
                    var o, a, s, l, u = [], c = 0;
                    c < i &&
                    ((o = ae.ToString(c)),
                    (s = ae.ToString(n[o])),
                    k(u, s),
                    !(c + 1 >= i));

                )
                    (a = c + 1 < arguments.length ? arguments[c + 1] : ""),
                        (l = ae.ToString(a)),
                        k(u, l),
                        (c += 1);
                return u.join("");
            }
        };
        String.raw &&
            "xy" !== String.raw({ raw: { 0: "x", 1: "y", length: 2 } }) &&
            Z(String, "raw", Oe.raw),
            m(String, Oe);
        var Ae = function e(t, n) {
                if (n < 1) return "";
                if (n % 2) return e(t, n - 1) + t;
                var r = e(t, n / 2);
                return r + r;
            },
            Ne = {
                repeat: function(e) {
                    var t = ae.ToString(ae.RequireObjectCoercible(this)),
                        n = ae.ToInteger(e);
                    if (n < 0 || n >= 1 / 0)
                        throw new RangeError(
                            "repeat count must be less than infinity and not overflow maximum string size"
                        );
                    return Ae(t, n);
                },
                startsWith: function(e) {
                    var t = ae.ToString(ae.RequireObjectCoercible(this));
                    if (ae.IsRegExp(e))
                        throw new TypeError(
                            'Cannot call method "startsWith" with a regex'
                        );
                    var n,
                        r = ae.ToString(e);
                    arguments.length > 1 && (n = arguments[1]);
                    var i = O(ae.ToInteger(n), 0);
                    return C(t, i, i + r.length) === r;
                },
                endsWith: function(e) {
                    var t = ae.ToString(ae.RequireObjectCoercible(this));
                    if (ae.IsRegExp(e))
                        throw new TypeError(
                            'Cannot call method "endsWith" with a regex'
                        );
                    var n,
                        r = ae.ToString(e),
                        i = t.length;
                    arguments.length > 1 && (n = arguments[1]);
                    var o = void 0 === n ? i : ae.ToInteger(n),
                        a = A(O(o, 0), i);
                    return C(t, a - r.length, a) === r;
                },
                includes: function(e) {
                    if (ae.IsRegExp(e))
                        throw new TypeError(
                            '"includes" does not accept a RegExp'
                        );
                    var t,
                        n = ae.ToString(e);
                    return (
                        arguments.length > 1 && (t = arguments[1]),
                        -1 !== E(this, n, t)
                    );
                },
                codePointAt: function(e) {
                    var t = ae.ToString(ae.RequireObjectCoercible(this)),
                        n = ae.ToInteger(e),
                        r = t.length;
                    if (n >= 0 && n < r) {
                        var i = t.charCodeAt(n),
                            o = n + 1 === r;
                        if (i < 55296 || i > 56319 || o) return i;
                        var a = t.charCodeAt(n + 1);
                        return a < 56320 || a > 57343
                            ? i
                            : 1024 * (i - 55296) + (a - 56320) + 65536;
                    }
                }
            };
        if (
            (String.prototype.includes &&
                !1 !== "a".includes("a", 1 / 0) &&
                Z(String.prototype, "includes", Ne.includes),
            String.prototype.startsWith && String.prototype.endsWith)
        ) {
            var Re = o(function() {
                    "/a/".startsWith(/a/);
                }),
                De = a(function() {
                    return !1 === "abc".startsWith("a", 1 / 0);
                });
            (Re && De) ||
                (Z(String.prototype, "startsWith", Ne.startsWith),
                Z(String.prototype, "endsWith", Ne.endsWith));
        }
        if (ee) {
            a(function() {
                var e = /a/;
                return (e[H.match] = !1), "/a/".startsWith(e);
            }) || Z(String.prototype, "startsWith", Ne.startsWith);
            a(function() {
                var e = /a/;
                return (e[H.match] = !1), "/a/".endsWith(e);
            }) || Z(String.prototype, "endsWith", Ne.endsWith);
            a(function() {
                var e = /a/;
                return (e[H.match] = !1), "/a/".includes(e);
            }) || Z(String.prototype, "includes", Ne.includes);
        }
        m(String.prototype, Ne);
        var je = [
                "\t\n\v\f\r   ᠎    ",
                "         　\u2028",
                "\u2029\ufeff"
            ].join(""),
            Me = new RegExp("(^[" + je + "]+)|([" + je + "]+$)", "g"),
            Le = function() {
                return ae
                    .ToString(ae.RequireObjectCoercible(this))
                    .replace(Me, "");
            },
            Fe = ["", "​", "￾"].join(""),
            Ue = new RegExp("[" + Fe + "]", "g"),
            ze = /^[-+]0x[0-9a-f]+$/i,
            Be = Fe.trim().length !== Fe.length;
        h(String.prototype, "trim", Le, Be);
        var Ve = function(e) {
                return { value: e, done: 0 === arguments.length };
            },
            $e = function(e) {
                ae.RequireObjectCoercible(e),
                    (this._s = ae.ToString(e)),
                    (this._i = 0);
            };
        ($e.prototype.next = function() {
            var e = this._s,
                t = this._i;
            if (void 0 === e || t >= e.length) return (this._s = void 0), Ve();
            var n,
                r,
                i = e.charCodeAt(t);
            return (
                i < 55296 || i > 56319 || t + 1 === e.length
                    ? (r = 1)
                    : ((n = e.charCodeAt(t + 1)),
                      (r = n < 56320 || n > 57343 ? 1 : 2)),
                (this._i = t + r),
                Ve(e.substr(t, r))
            );
        }),
            Se($e.prototype),
            Se(String.prototype, function() {
                return new $e(this);
            });
        var He = {
            from: function(e) {
                var t,
                    r = this;
                arguments.length > 1 && (t = arguments[1]);
                var i, o;
                if (void 0 === t) i = !1;
                else {
                    if (!ae.IsCallable(t))
                        throw new TypeError(
                            "Array.from: when provided, the second argument must be a function"
                        );
                    arguments.length > 2 && (o = arguments[2]), (i = !0);
                }
                var a,
                    s,
                    l,
                    u = void 0 !== (Q(e) || ae.GetMethod(e, te));
                if (u) {
                    s = ae.IsConstructor(r) ? Object(new r()) : [];
                    var c,
                        d,
                        f = ae.GetIterator(e);
                    for (l = 0; ; ) {
                        if (!1 === (c = ae.IteratorStep(f))) break;
                        d = c.value;
                        try {
                            i && (d = void 0 === o ? t(d, l) : n(t, o, d, l)),
                                (s[l] = d);
                        } catch (e) {
                            throw (ae.IteratorClose(f, !0), e);
                        }
                        l += 1;
                    }
                    a = l;
                } else {
                    var p = ae.ToObject(e);
                    (a = ae.ToLength(p.length)),
                        (s = ae.IsConstructor(r)
                            ? Object(new r(a))
                            : new Array(a));
                    var h;
                    for (l = 0; l < a; ++l)
                        (h = p[l]),
                            i && (h = void 0 === o ? t(h, l) : n(t, o, h, l)),
                            ke(s, l, h);
                }
                return (s.length = a), s;
            },
            of: function() {
                for (
                    var e = arguments.length,
                        t = this,
                        n =
                            r(t) || !ae.IsCallable(t)
                                ? new Array(e)
                                : ae.Construct(t, [e]),
                        i = 0;
                    i < e;
                    ++i
                )
                    ke(n, i, arguments[i]);
                return (n.length = e), n;
            }
        };
        m(Array, He),
            Te(Array),
            (e = function(e, t) {
                (this.i = 0), (this.array = e), (this.kind = t);
            }),
            m(e.prototype, {
                next: function() {
                    var t = this.i,
                        n = this.array;
                    if (!(this instanceof e))
                        throw new TypeError("Not an ArrayIterator");
                    if (void 0 !== n)
                        for (var r = ae.ToLength(n.length); t < r; t++) {
                            var i,
                                o = this.kind;
                            return (
                                "key" === o
                                    ? (i = t)
                                    : "value" === o
                                        ? (i = n[t])
                                        : "entry" === o && (i = [t, n[t]]),
                                (this.i = t + 1),
                                Ve(i)
                            );
                        }
                    return (this.array = void 0), Ve();
                }
            }),
            Se(e.prototype),
            Array.of === He.of ||
                (function() {
                    var e = function(e) {
                        this.length = e;
                    };
                    e.prototype = [];
                    var t = Array.of.apply(e, [1, 2]);
                    return t instanceof e && 2 === t.length;
                })() ||
                Z(Array, "of", He.of);
        var qe = {
            copyWithin: function(e, t) {
                var n,
                    r = ae.ToObject(this),
                    i = ae.ToLength(r.length),
                    o = ae.ToInteger(e),
                    a = ae.ToInteger(t),
                    s = o < 0 ? O(i + o, 0) : A(o, i),
                    l = a < 0 ? O(i + a, 0) : A(a, i);
                arguments.length > 2 && (n = arguments[2]);
                var u = void 0 === n ? i : ae.ToInteger(n),
                    c = u < 0 ? O(i + u, 0) : A(u, i),
                    d = A(c - l, i - s),
                    f = 1;
                for (
                    l < s &&
                    s < l + d &&
                    ((f = -1), (l += d - 1), (s += d - 1));
                    d > 0;

                )
                    l in r ? (r[s] = r[l]) : delete r[s],
                        (l += f),
                        (s += f),
                        (d -= 1);
                return r;
            },
            fill: function(e) {
                var t;
                arguments.length > 1 && (t = arguments[1]);
                var n;
                arguments.length > 2 && (n = arguments[2]);
                var r = ae.ToObject(this),
                    i = ae.ToLength(r.length);
                (t = ae.ToInteger(void 0 === t ? 0 : t)),
                    (n = ae.ToInteger(void 0 === n ? i : n));
                for (
                    var o = t < 0 ? O(i + t, 0) : A(t, i),
                        a = n < 0 ? i + n : n,
                        s = o;
                    s < i && s < a;
                    ++s
                )
                    r[s] = e;
                return r;
            },
            find: function(e) {
                var t = ae.ToObject(this),
                    r = ae.ToLength(t.length);
                if (!ae.IsCallable(e))
                    throw new TypeError(
                        "Array#find: predicate must be a function"
                    );
                for (
                    var i,
                        o = arguments.length > 1 ? arguments[1] : null,
                        a = 0;
                    a < r;
                    a++
                )
                    if (((i = t[a]), o)) {
                        if (n(e, o, i, a, t)) return i;
                    } else if (e(i, a, t)) return i;
            },
            findIndex: function(e) {
                var t = ae.ToObject(this),
                    r = ae.ToLength(t.length);
                if (!ae.IsCallable(e))
                    throw new TypeError(
                        "Array#findIndex: predicate must be a function"
                    );
                for (
                    var i = arguments.length > 1 ? arguments[1] : null, o = 0;
                    o < r;
                    o++
                )
                    if (i) {
                        if (n(e, i, t[o], o, t)) return o;
                    } else if (e(t[o], o, t)) return o;
                return -1;
            },
            keys: function() {
                return new e(this, "key");
            },
            values: function() {
                return new e(this, "value");
            },
            entries: function() {
                return new e(this, "entry");
            }
        };
        if (
            (Array.prototype.keys &&
                !ae.IsCallable([1].keys().next) &&
                delete Array.prototype.keys,
            Array.prototype.entries &&
                !ae.IsCallable([1].entries().next) &&
                delete Array.prototype.entries,
            Array.prototype.keys &&
                Array.prototype.entries &&
                !Array.prototype.values &&
                Array.prototype[te] &&
                (m(Array.prototype, { values: Array.prototype[te] }),
                Y.symbol(H.unscopables) &&
                    (Array.prototype[H.unscopables].values = !0)),
            u &&
                Array.prototype.values &&
                "values" !== Array.prototype.values.name)
        ) {
            var We = Array.prototype.values;
            Z(Array.prototype, "values", function() {
                return ae.Call(We, this, arguments);
            }),
                h(Array.prototype, te, Array.prototype.values, !0);
        }
        m(Array.prototype, qe),
            1 / [!0].indexOf(!0, -0) < 0 &&
                h(
                    Array.prototype,
                    "indexOf",
                    function(e) {
                        var t = T(this, arguments);
                        return 0 === t && 1 / t < 0 ? 0 : t;
                    },
                    !0
                ),
            Se(Array.prototype, function() {
                return this.values();
            }),
            Object.getPrototypeOf && Se(Object.getPrototypeOf([].values()));
        var Ge = (function() {
                return a(function() {
                    return 0 === Array.from({ length: -1 }).length;
                });
            })(),
            Xe = (function() {
                var e = Array.from([0].entries());
                return (
                    1 === e.length && r(e[0]) && 0 === e[0][0] && 0 === e[0][1]
                );
            })();
        if (
            ((Ge && Xe) || Z(Array, "from", He.from),
            !(function() {
                return a(function() {
                    return Array.from([0], void 0);
                });
            })())
        ) {
            var Ke = Array.from;
            Z(Array, "from", function(e) {
                return arguments.length > 1 && void 0 !== arguments[1]
                    ? ae.Call(Ke, this, arguments)
                    : n(Ke, this, e);
            });
        }
        var Je = -(Math.pow(2, 32) - 1),
            Qe = function(e, t) {
                var r = { length: Je };
                return (
                    (r[t ? (r.length >>> 0) - 1 : 0] = !0),
                    a(function() {
                        return (
                            n(
                                e,
                                r,
                                function() {
                                    throw new RangeError(
                                        "should not reach here"
                                    );
                                },
                                []
                            ),
                            !0
                        );
                    })
                );
            };
        if (!Qe(Array.prototype.forEach)) {
            var Ye = Array.prototype.forEach;
            Z(Array.prototype, "forEach", function(e) {
                return ae.Call(Ye, this.length >= 0 ? this : [], arguments);
            });
        }
        if (!Qe(Array.prototype.map)) {
            var Ze = Array.prototype.map;
            Z(Array.prototype, "map", function(e) {
                return ae.Call(Ze, this.length >= 0 ? this : [], arguments);
            });
        }
        if (!Qe(Array.prototype.filter)) {
            var et = Array.prototype.filter;
            Z(Array.prototype, "filter", function(e) {
                return ae.Call(et, this.length >= 0 ? this : [], arguments);
            });
        }
        if (!Qe(Array.prototype.some)) {
            var tt = Array.prototype.some;
            Z(Array.prototype, "some", function(e) {
                return ae.Call(tt, this.length >= 0 ? this : [], arguments);
            });
        }
        if (!Qe(Array.prototype.every)) {
            var nt = Array.prototype.every;
            Z(Array.prototype, "every", function(e) {
                return ae.Call(nt, this.length >= 0 ? this : [], arguments);
            });
        }
        if (!Qe(Array.prototype.reduce)) {
            var rt = Array.prototype.reduce;
            Z(Array.prototype, "reduce", function(e) {
                return ae.Call(rt, this.length >= 0 ? this : [], arguments);
            });
        }
        if (!Qe(Array.prototype.reduceRight, !0)) {
            var it = Array.prototype.reduceRight;
            Z(Array.prototype, "reduceRight", function(e) {
                return ae.Call(it, this.length >= 0 ? this : [], arguments);
            });
        }
        var ot = 8 !== Number("0o10"),
            at = 2 !== Number("0b10"),
            st = p(Fe, function(e) {
                return 0 === Number(e + 0 + e);
            });
        if (ot || at || st) {
            var lt = Number,
                ut = /^0b[01]+$/i,
                ct = /^0o[0-7]+$/i,
                dt = ut.test.bind(ut),
                ft = ct.test.bind(ct),
                pt = function(e) {
                    var t;
                    if (
                        "function" == typeof e.valueOf &&
                        ((t = e.valueOf()), Y.primitive(t))
                    )
                        return t;
                    if (
                        "function" == typeof e.toString &&
                        ((t = e.toString()), Y.primitive(t))
                    )
                        return t;
                    throw new TypeError("No default value");
                },
                ht = Ue.test.bind(Ue),
                mt = ze.test.bind(ze),
                gt = (function() {
                    var e = function(t) {
                        var n;
                        "string" ==
                            typeof (n =
                                arguments.length > 0
                                    ? Y.primitive(t)
                                        ? t
                                        : pt(t)
                                    : 0) &&
                            ((n = ae.Call(Le, n)),
                            dt(n)
                                ? (n = parseInt(C(n, 2), 2))
                                : ft(n)
                                    ? (n = parseInt(C(n, 2), 8))
                                    : (ht(n) || mt(n)) && (n = NaN));
                        var r = this,
                            i = a(function() {
                                return lt.prototype.valueOf.call(r), !0;
                            });
                        return r instanceof e && !i ? new lt(n) : lt(n);
                    };
                    return e;
                })();
            xe(lt, gt, {}),
                m(gt, {
                    NaN: lt.NaN,
                    MAX_VALUE: lt.MAX_VALUE,
                    MIN_VALUE: lt.MIN_VALUE,
                    NEGATIVE_INFINITY: lt.NEGATIVE_INFINITY,
                    POSITIVE_INFINITY: lt.POSITIVE_INFINITY
                }),
                (Number = gt),
                b.redefine(w, "Number", gt);
        }
        var vt = Math.pow(2, 53) - 1;
        m(Number, {
            MAX_SAFE_INTEGER: vt,
            MIN_SAFE_INTEGER: -vt,
            EPSILON: 2.220446049250313e-16,
            parseInt: w.parseInt,
            parseFloat: w.parseFloat,
            isFinite: G,
            isInteger: function(e) {
                return G(e) && ae.ToInteger(e) === e;
            },
            isSafeInteger: function(e) {
                return Number.isInteger(e) && R(e) <= Number.MAX_SAFE_INTEGER;
            },
            isNaN: W
        }),
            h(Number, "parseInt", w.parseInt, Number.parseInt !== w.parseInt),
            1 ===
                [, 1].find(function() {
                    return !0;
                }) && Z(Array.prototype, "find", qe.find),
            0 !==
                [, 1].findIndex(function() {
                    return !0;
                }) && Z(Array.prototype, "findIndex", qe.findIndex);
        var bt = Function.bind.call(
                Function.bind,
                Object.prototype.propertyIsEnumerable
            ),
            yt = function(e, t) {
                l &&
                    bt(e, t) &&
                    Object.defineProperty(e, t, { enumerable: !1 });
            },
            _t = function() {
                for (
                    var e = Number(this),
                        t = arguments.length,
                        n = t - e,
                        r = new Array(n < 0 ? 0 : n),
                        i = e;
                    i < t;
                    ++i
                )
                    r[i - e] = arguments[i];
                return r;
            },
            wt = function(e) {
                return function(t, n) {
                    return (t[n] = e[n]), t;
                };
            },
            xt = function(e, t) {
                var n,
                    r = i(Object(t));
                return (
                    ae.IsCallable(Object.getOwnPropertySymbols) &&
                        (n = f(Object.getOwnPropertySymbols(Object(t)), bt(t))),
                    d(S(r, n || []), wt(t), e)
                );
            },
            Et = {
                assign: function(e, t) {
                    var n = ae.ToObject(
                        e,
                        "Cannot convert undefined or null to object"
                    );
                    return d(ae.Call(_t, 1, arguments), xt, n);
                },
                is: function(e, t) {
                    return ae.SameValue(e, t);
                }
            };
        if (
            (Object.assign &&
                Object.preventExtensions &&
                (function() {
                    var e = Object.preventExtensions({ 1: 2 });
                    try {
                        Object.assign(e, "xy");
                    } catch (t) {
                        return "y" === e[1];
                    }
                })() &&
                Z(Object, "assign", Et.assign),
            m(Object, Et),
            l)
        ) {
            var Tt = {
                setPrototypeOf: (function(e, t) {
                    var r,
                        i = function(e, t) {
                            if (!ae.TypeIsObject(e))
                                throw new TypeError(
                                    "cannot set prototype on a non-object"
                                );
                            if (null !== t && !ae.TypeIsObject(t))
                                throw new TypeError(
                                    "can only set prototype to an object or null" +
                                        t
                                );
                        },
                        o = function(e, t) {
                            return i(e, t), n(r, e, t), e;
                        };
                    try {
                        (r = e.getOwnPropertyDescriptor(
                            e.prototype,
                            "__proto__"
                        ).set),
                            n(r, {}, null);
                    } catch (t) {
                        if (e.prototype !== {}.__proto__) return;
                        (r = function(e) {
                            this.__proto__ = e;
                        }),
                            (o.polyfill =
                                o(o({}, null), e.prototype) instanceof e);
                    }
                    return o;
                })(Object)
            };
            m(Object, Tt);
        }
        if (
            (Object.setPrototypeOf &&
                Object.getPrototypeOf &&
                null !==
                    Object.getPrototypeOf(Object.setPrototypeOf({}, null)) &&
                null === Object.getPrototypeOf(Object.create(null)) &&
                (function() {
                    var e = Object.create(null),
                        t = Object.getPrototypeOf,
                        n = Object.setPrototypeOf;
                    (Object.getPrototypeOf = function(n) {
                        var r = t(n);
                        return r === e ? null : r;
                    }),
                        (Object.setPrototypeOf = function(t, r) {
                            return n(t, null === r ? e : r);
                        }),
                        (Object.setPrototypeOf.polyfill = !1);
                })(),
            !!o(function() {
                Object.keys("foo");
            }))
        ) {
            var St = Object.keys;
            Z(Object, "keys", function(e) {
                return St(ae.ToObject(e));
            }),
                (i = Object.keys);
        }
        if (
            o(function() {
                Object.keys(/a/g);
            })
        ) {
            var Ct = Object.keys;
            Z(Object, "keys", function(e) {
                if (Y.regex(e)) {
                    var t = [];
                    for (var n in e) L(e, n) && k(t, n);
                    return t;
                }
                return Ct(e);
            }),
                (i = Object.keys);
        }
        if (Object.getOwnPropertyNames) {
            if (
                !!o(function() {
                    Object.getOwnPropertyNames("foo");
                })
            ) {
                var kt =
                        "object" == typeof window
                            ? Object.getOwnPropertyNames(window)
                            : [],
                    It = Object.getOwnPropertyNames;
                Z(Object, "getOwnPropertyNames", function(e) {
                    var t = ae.ToObject(e);
                    if ("[object Window]" === g(t))
                        try {
                            return It(t);
                        } catch (e) {
                            return S([], kt);
                        }
                    return It(t);
                });
            }
        }
        if (Object.getOwnPropertyDescriptor) {
            if (
                !!o(function() {
                    Object.getOwnPropertyDescriptor("foo", "bar");
                })
            ) {
                var Pt = Object.getOwnPropertyDescriptor;
                Z(Object, "getOwnPropertyDescriptor", function(e, t) {
                    return Pt(ae.ToObject(e), t);
                });
            }
        }
        if (Object.seal) {
            if (
                !!o(function() {
                    Object.seal("foo");
                })
            ) {
                var Ot = Object.seal;
                Z(Object, "seal", function(e) {
                    return ae.TypeIsObject(e) ? Ot(e) : e;
                });
            }
        }
        if (Object.isSealed) {
            if (
                !!o(function() {
                    Object.isSealed("foo");
                })
            ) {
                var At = Object.isSealed;
                Z(Object, "isSealed", function(e) {
                    return !ae.TypeIsObject(e) || At(e);
                });
            }
        }
        if (Object.freeze) {
            if (
                !!o(function() {
                    Object.freeze("foo");
                })
            ) {
                var Nt = Object.freeze;
                Z(Object, "freeze", function(e) {
                    return ae.TypeIsObject(e) ? Nt(e) : e;
                });
            }
        }
        if (Object.isFrozen) {
            if (
                !!o(function() {
                    Object.isFrozen("foo");
                })
            ) {
                var Rt = Object.isFrozen;
                Z(Object, "isFrozen", function(e) {
                    return !ae.TypeIsObject(e) || Rt(e);
                });
            }
        }
        if (Object.preventExtensions) {
            if (
                !!o(function() {
                    Object.preventExtensions("foo");
                })
            ) {
                var Dt = Object.preventExtensions;
                Z(Object, "preventExtensions", function(e) {
                    return ae.TypeIsObject(e) ? Dt(e) : e;
                });
            }
        }
        if (Object.isExtensible) {
            if (
                !!o(function() {
                    Object.isExtensible("foo");
                })
            ) {
                var jt = Object.isExtensible;
                Z(Object, "isExtensible", function(e) {
                    return !!ae.TypeIsObject(e) && jt(e);
                });
            }
        }
        if (Object.getPrototypeOf) {
            if (
                !!o(function() {
                    Object.getPrototypeOf("foo");
                })
            ) {
                var Mt = Object.getPrototypeOf;
                Z(Object, "getPrototypeOf", function(e) {
                    return Mt(ae.ToObject(e));
                });
            }
        }
        var Lt =
            l &&
            (function() {
                var e = Object.getOwnPropertyDescriptor(
                    RegExp.prototype,
                    "flags"
                );
                return e && ae.IsCallable(e.get);
            })();
        if (l && !Lt) {
            var Ft = function() {
                if (!ae.TypeIsObject(this))
                    throw new TypeError(
                        "Method called on incompatible type: must be an object."
                    );
                var e = "";
                return (
                    this.global && (e += "g"),
                    this.ignoreCase && (e += "i"),
                    this.multiline && (e += "m"),
                    this.unicode && (e += "u"),
                    this.sticky && (e += "y"),
                    e
                );
            };
            b.getter(RegExp.prototype, "flags", Ft);
        }
        var Ut =
                l &&
                a(function() {
                    return "/a/i" === String(new RegExp(/a/g, "i"));
                }),
            zt =
                ee &&
                l &&
                (function() {
                    var e = /./;
                    return (e[H.match] = !1), RegExp(e) === e;
                })(),
            Bt = a(function() {
                return (
                    "/abc/" ===
                    RegExp.prototype.toString.call({ source: "abc" })
                );
            }),
            Vt =
                Bt &&
                a(function() {
                    return (
                        "/a/b" ===
                        RegExp.prototype.toString.call({
                            source: "a",
                            flags: "b"
                        })
                    );
                });
        if (!Bt || !Vt) {
            var $t = RegExp.prototype.toString;
            h(
                RegExp.prototype,
                "toString",
                function() {
                    var e = ae.RequireObjectCoercible(this);
                    return Y.regex(e)
                        ? n($t, e)
                        : "/" + re(e.source) + "/" + re(e.flags);
                },
                !0
            ),
                b.preserveToString(RegExp.prototype.toString, $t);
        }
        if (l && (!Ut || zt)) {
            var Ht = Object.getOwnPropertyDescriptor(RegExp.prototype, "flags")
                    .get,
                qt =
                    Object.getOwnPropertyDescriptor(
                        RegExp.prototype,
                        "source"
                    ) || {},
                Wt = function() {
                    return this.source;
                },
                Gt = ae.IsCallable(qt.get) ? qt.get : Wt,
                Xt = RegExp,
                Kt = (function() {
                    return function e(t, n) {
                        var r = ae.IsRegExp(t);
                        if (
                            !(this instanceof e) &&
                            r &&
                            void 0 === n &&
                            t.constructor === e
                        )
                            return t;
                        var i = t,
                            o = n;
                        return Y.regex(t)
                            ? ((i = ae.Call(Gt, t)),
                              (o = void 0 === n ? ae.Call(Ht, t) : n),
                              new e(i, o))
                            : (r &&
                                  ((i = t.source),
                                  (o = void 0 === n ? t.flags : n)),
                              new Xt(t, n));
                    };
                })();
            xe(Xt, Kt, { $input: !0 }),
                (RegExp = Kt),
                b.redefine(w, "RegExp", Kt);
        }
        if (l) {
            var Jt = {
                input: "$_",
                lastMatch: "$&",
                lastParen: "$+",
                leftContext: "$`",
                rightContext: "$'"
            };
            c(i(Jt), function(e) {
                e in RegExp &&
                    !(Jt[e] in RegExp) &&
                    b.getter(RegExp, Jt[e], function() {
                        return RegExp[e];
                    });
            });
        }
        Te(RegExp);
        var Qt = 1 / Number.EPSILON,
            Yt = function(e) {
                return e + Qt - Qt;
            },
            Zt = Math.pow(2, -23),
            en = Math.pow(2, 127) * (2 - Zt),
            tn = Math.pow(2, -126),
            nn = Math.E,
            rn = Math.LOG2E,
            on = Math.LOG10E,
            an = Number.prototype.clz;
        delete Number.prototype.clz;
        var sn = {
            acosh: function(e) {
                var t = Number(e);
                return W(t) || e < 1
                    ? NaN
                    : 1 === t
                        ? 0
                        : t === 1 / 0
                            ? t
                            : j(t / nn + (M(t + 1) * M(t - 1)) / nn) + 1;
            },
            asinh: function e(t) {
                var n = Number(t);
                return 0 !== n && x(n)
                    ? n < 0
                        ? -e(-n)
                        : j(n + M(n * n + 1))
                    : n;
            },
            atanh: function(e) {
                var t = Number(e);
                return W(t) || t < -1 || t > 1
                    ? NaN
                    : -1 === t
                        ? -1 / 0
                        : 1 === t
                            ? 1 / 0
                            : 0 === t
                                ? t
                                : 0.5 * j((1 + t) / (1 - t));
            },
            cbrt: function(e) {
                var t = Number(e);
                if (0 === t) return t;
                var n,
                    r = t < 0;
                return (
                    r && (t = -t),
                    t === 1 / 0
                        ? (n = 1 / 0)
                        : ((n = D(j(t) / 3)), (n = (t / (n * n) + 2 * n) / 3)),
                    r ? -n : n
                );
            },
            clz32: function(e) {
                var t = Number(e),
                    n = ae.ToUint32(t);
                return 0 === n
                    ? 32
                    : an
                        ? ae.Call(an, n)
                        : 31 - N(j(n + 0.5) * rn);
            },
            cosh: function(e) {
                var t = Number(e);
                return 0 === t
                    ? 1
                    : W(t)
                        ? NaN
                        : x(t)
                            ? (t < 0 && (t = -t),
                              t > 21 ? D(t) / 2 : (D(t) + D(-t)) / 2)
                            : 1 / 0;
            },
            expm1: function(e) {
                var t = Number(e);
                if (t === -1 / 0) return -1;
                if (!x(t) || 0 === t) return t;
                if (R(t) > 0.5) return D(t) - 1;
                for (var n = t, r = 0, i = 1; r + n !== r; )
                    (r += n), (i += 1), (n *= t / i);
                return r;
            },
            hypot: function(e, t) {
                for (var n = 0, r = 0, i = 0; i < arguments.length; ++i) {
                    var o = R(Number(arguments[i]));
                    r < o
                        ? ((n *= (r / o) * (r / o)), (n += 1), (r = o))
                        : (n += o > 0 ? (o / r) * (o / r) : o);
                }
                return r === 1 / 0 ? 1 / 0 : r * M(n);
            },
            log2: function(e) {
                return j(e) * rn;
            },
            log10: function(e) {
                return j(e) * on;
            },
            log1p: function(e) {
                var t = Number(e);
                return t < -1 || W(t)
                    ? NaN
                    : 0 === t || t === 1 / 0
                        ? t
                        : -1 === t
                            ? -1 / 0
                            : 1 + t - 1 == 0
                                ? t
                                : t * (j(1 + t) / (1 + t - 1));
            },
            sign: X,
            sinh: function(e) {
                var t = Number(e);
                return x(t) && 0 !== t
                    ? R(t) < 1
                        ? (Math.expm1(t) - Math.expm1(-t)) / 2
                        : ((D(t - 1) - D(-t - 1)) * nn) / 2
                    : t;
            },
            tanh: function(e) {
                var t = Number(e);
                return W(t) || 0 === t
                    ? t
                    : t >= 20
                        ? 1
                        : t <= -20
                            ? -1
                            : (Math.expm1(t) - Math.expm1(-t)) / (D(t) + D(-t));
            },
            trunc: function(e) {
                var t = Number(e);
                return t < 0 ? -N(-t) : N(t);
            },
            imul: function(e, t) {
                var n = ae.ToUint32(e),
                    r = ae.ToUint32(t),
                    i = (n >>> 16) & 65535,
                    o = 65535 & n,
                    a = (r >>> 16) & 65535,
                    s = 65535 & r;
                return (o * s + (((i * s + o * a) << 16) >>> 0)) | 0;
            },
            fround: function(e) {
                var t = Number(e);
                if (0 === t || t === 1 / 0 || t === -1 / 0 || W(t)) return t;
                var n = X(t),
                    r = R(t);
                if (r < tn) return n * Yt(r / tn / Zt) * tn * Zt;
                var i = (1 + Zt / Number.EPSILON) * r,
                    o = i - (i - r);
                return o > en || W(o) ? n * (1 / 0) : n * o;
            }
        };
        m(Math, sn),
            h(Math, "log1p", sn.log1p, -1e-17 !== Math.log1p(-1e-17)),
            h(Math, "asinh", sn.asinh, Math.asinh(-1e7) !== -Math.asinh(1e7)),
            h(Math, "tanh", sn.tanh, -2e-17 !== Math.tanh(-2e-17)),
            h(Math, "acosh", sn.acosh, Math.acosh(Number.MAX_VALUE) === 1 / 0),
            h(
                Math,
                "cbrt",
                sn.cbrt,
                Math.abs(1 - Math.cbrt(1e-300) / 1e-100) / Number.EPSILON > 8
            ),
            h(Math, "sinh", sn.sinh, -2e-17 !== Math.sinh(-2e-17));
        var ln = Math.expm1(10);
        h(
            Math,
            "expm1",
            sn.expm1,
            ln > 22025.465794806718 || ln < 22025.465794806718
        );
        var un = Math.round,
            cn =
                0 === Math.round(0.5 - Number.EPSILON / 4) &&
                1 === Math.round(Number.EPSILON / 3.99 - 0.5),
            dn = Qt + 1,
            fn = 2 * Qt - 1,
            pn = [dn, fn].every(function(e) {
                return Math.round(e) === e;
            });
        h(
            Math,
            "round",
            function(e) {
                var t = N(e),
                    n = -1 === t ? -0 : t + 1;
                return e - t < 0.5 ? t : n;
            },
            !cn || !pn
        ),
            b.preserveToString(Math.round, un);
        var hn = Math.imul;
        -5 !== Math.imul(4294967295, 5) &&
            ((Math.imul = sn.imul), b.preserveToString(Math.imul, hn)),
            2 !== Math.imul.length &&
                Z(Math, "imul", function(e, t) {
                    return ae.Call(hn, Math, arguments);
                });
        var mn = (function() {
            var e = w.setTimeout;
            if ("function" == typeof e || "object" == typeof e) {
                ae.IsPromise = function(e) {
                    return !!ae.TypeIsObject(e) && void 0 !== e._promise;
                };
                var t,
                    r = function(e) {
                        if (!ae.IsConstructor(e))
                            throw new TypeError("Bad promise constructor");
                        var t = this,
                            n = function(e, n) {
                                if (void 0 !== t.resolve || void 0 !== t.reject)
                                    throw new TypeError(
                                        "Bad Promise implementation!"
                                    );
                                (t.resolve = e), (t.reject = n);
                            };
                        if (
                            ((t.resolve = void 0),
                            (t.reject = void 0),
                            (t.promise = new e(n)),
                            !ae.IsCallable(t.resolve) ||
                                !ae.IsCallable(t.reject))
                        )
                            throw new TypeError("Bad promise constructor");
                    };
                "undefined" != typeof window &&
                    ae.IsCallable(window.postMessage) &&
                    (t = function() {
                        var e = [],
                            t = function(t) {
                                k(e, t),
                                    window.postMessage(
                                        "zero-timeout-message",
                                        "*"
                                    );
                            },
                            n = function(t) {
                                if (
                                    t.source === window &&
                                    "zero-timeout-message" === t.data
                                ) {
                                    if ((t.stopPropagation(), 0 === e.length))
                                        return;
                                    P(e)();
                                }
                            };
                        return window.addEventListener("message", n, !0), t;
                    });
                var i,
                    o,
                    a = ae.IsCallable(w.setImmediate)
                        ? w.setImmediate
                        : "object" == typeof process && process.nextTick
                            ? process.nextTick
                            : (function() {
                                  var e = w.Promise,
                                      t = e && e.resolve && e.resolve();
                                  return (
                                      t &&
                                      function(e) {
                                          return t.then(e);
                                      }
                                  );
                              })() ||
                              (ae.IsCallable(t)
                                  ? t()
                                  : function(t) {
                                        e(t, 0);
                                    }),
                    s = function(e) {
                        return e;
                    },
                    l = function(e) {
                        throw e;
                    },
                    u = {},
                    c = function(e, t, n) {
                        a(function() {
                            d(e, t, n);
                        });
                    },
                    d = function(e, t, n) {
                        var r, i;
                        if (t === u) return e(n);
                        try {
                            (r = e(n)), (i = t.resolve);
                        } catch (e) {
                            (r = e), (i = t.reject);
                        }
                        i(r);
                    },
                    f = function(e, t) {
                        var n = e._promise,
                            r = n.reactionLength;
                        if (
                            r > 0 &&
                            (c(
                                n.fulfillReactionHandler0,
                                n.reactionCapability0,
                                t
                            ),
                            (n.fulfillReactionHandler0 = void 0),
                            (n.rejectReactions0 = void 0),
                            (n.reactionCapability0 = void 0),
                            r > 1)
                        )
                            for (var i = 1, o = 0; i < r; i++, o += 3)
                                c(n[o + 0], n[o + 2], t),
                                    (e[o + 0] = void 0),
                                    (e[o + 1] = void 0),
                                    (e[o + 2] = void 0);
                        (n.result = t), (n.state = 1), (n.reactionLength = 0);
                    },
                    p = function(e, t) {
                        var n = e._promise,
                            r = n.reactionLength;
                        if (
                            r > 0 &&
                            (c(
                                n.rejectReactionHandler0,
                                n.reactionCapability0,
                                t
                            ),
                            (n.fulfillReactionHandler0 = void 0),
                            (n.rejectReactions0 = void 0),
                            (n.reactionCapability0 = void 0),
                            r > 1)
                        )
                            for (var i = 1, o = 0; i < r; i++, o += 3)
                                c(n[o + 1], n[o + 2], t),
                                    (e[o + 0] = void 0),
                                    (e[o + 1] = void 0),
                                    (e[o + 2] = void 0);
                        (n.result = t), (n.state = 2), (n.reactionLength = 0);
                    },
                    h = function(e) {
                        var t = !1;
                        return {
                            resolve: function(n) {
                                var r;
                                if (!t) {
                                    if (((t = !0), n === e))
                                        return p(
                                            e,
                                            new TypeError("Self resolution")
                                        );
                                    if (!ae.TypeIsObject(n)) return f(e, n);
                                    try {
                                        r = n.then;
                                    } catch (t) {
                                        return p(e, t);
                                    }
                                    if (!ae.IsCallable(r)) return f(e, n);
                                    a(function() {
                                        v(e, n, r);
                                    });
                                }
                            },
                            reject: function(n) {
                                if (!t) return (t = !0), p(e, n);
                            }
                        };
                    },
                    g = function(e, t, r, i) {
                        e === o ? n(e, t, r, i, u) : n(e, t, r, i);
                    },
                    v = function(e, t, n) {
                        var r = h(e),
                            i = r.resolve,
                            o = r.reject;
                        try {
                            g(n, t, i, o);
                        } catch (e) {
                            o(e);
                        }
                    },
                    b = (function() {
                        var e = function(t) {
                            if (!(this instanceof e))
                                throw new TypeError(
                                    'Constructor Promise requires "new"'
                                );
                            if (this && this._promise)
                                throw new TypeError("Bad construction");
                            if (!ae.IsCallable(t))
                                throw new TypeError("not a valid resolver");
                            var n = Ie(this, e, i, {
                                    _promise: {
                                        result: void 0,
                                        state: 0,
                                        reactionLength: 0,
                                        fulfillReactionHandler0: void 0,
                                        rejectReactionHandler0: void 0,
                                        reactionCapability0: void 0
                                    }
                                }),
                                r = h(n),
                                o = r.reject;
                            try {
                                t(r.resolve, o);
                            } catch (e) {
                                o(e);
                            }
                            return n;
                        };
                        return e;
                    })();
                i = b.prototype;
                var y = function(e, t, n, r) {
                        var i = !1;
                        return function(o) {
                            if (!i && ((i = !0), (t[e] = o), 0 == --r.count)) {
                                (0, n.resolve)(t);
                            }
                        };
                    },
                    _ = function(e, t, n) {
                        for (
                            var r,
                                i,
                                o = e.iterator,
                                a = [],
                                s = { count: 1 },
                                l = 0;
                            ;

                        ) {
                            try {
                                if (!1 === (r = ae.IteratorStep(o))) {
                                    e.done = !0;
                                    break;
                                }
                                i = r.value;
                            } catch (t) {
                                throw ((e.done = !0), t);
                            }
                            a[l] = void 0;
                            var u = t.resolve(i),
                                c = y(l, a, n, s);
                            (s.count += 1), g(u.then, u, c, n.reject), (l += 1);
                        }
                        if (0 == --s.count) {
                            (0, n.resolve)(a);
                        }
                        return n.promise;
                    },
                    x = function(e, t, n) {
                        for (var r, i, o, a = e.iterator; ; ) {
                            try {
                                if (!1 === (r = ae.IteratorStep(a))) {
                                    e.done = !0;
                                    break;
                                }
                                i = r.value;
                            } catch (t) {
                                throw ((e.done = !0), t);
                            }
                            (o = t.resolve(i)),
                                g(o.then, o, n.resolve, n.reject);
                        }
                        return n.promise;
                    };
                return (
                    m(b, {
                        all: function(e) {
                            var t = this;
                            if (!ae.TypeIsObject(t))
                                throw new TypeError("Promise is not object");
                            var n,
                                i,
                                o = new r(t);
                            try {
                                return (
                                    (n = ae.GetIterator(e)),
                                    (i = { iterator: n, done: !1 }),
                                    _(i, t, o)
                                );
                            } catch (e) {
                                var a = e;
                                if (i && !i.done)
                                    try {
                                        ae.IteratorClose(n, !0);
                                    } catch (e) {
                                        a = e;
                                    }
                                var s = o.reject;
                                return s(a), o.promise;
                            }
                        },
                        race: function(e) {
                            var t = this;
                            if (!ae.TypeIsObject(t))
                                throw new TypeError("Promise is not object");
                            var n,
                                i,
                                o = new r(t);
                            try {
                                return (
                                    (n = ae.GetIterator(e)),
                                    (i = { iterator: n, done: !1 }),
                                    x(i, t, o)
                                );
                            } catch (e) {
                                var a = e;
                                if (i && !i.done)
                                    try {
                                        ae.IteratorClose(n, !0);
                                    } catch (e) {
                                        a = e;
                                    }
                                var s = o.reject;
                                return s(a), o.promise;
                            }
                        },
                        reject: function(e) {
                            var t = this;
                            if (!ae.TypeIsObject(t))
                                throw new TypeError("Bad promise constructor");
                            var n = new r(t);
                            return (0, n.reject)(e), n.promise;
                        },
                        resolve: function(e) {
                            var t = this;
                            if (!ae.TypeIsObject(t))
                                throw new TypeError("Bad promise constructor");
                            if (ae.IsPromise(e)) {
                                var n = e.constructor;
                                if (n === t) return e;
                            }
                            var i = new r(t);
                            return (0, i.resolve)(e), i.promise;
                        }
                    }),
                    m(i, {
                        catch: function(e) {
                            return this.then(null, e);
                        },
                        then: function(e, t) {
                            var n = this;
                            if (!ae.IsPromise(n))
                                throw new TypeError("not a promise");
                            var i,
                                o = ae.SpeciesConstructor(n, b);
                            i =
                                arguments.length > 2 &&
                                arguments[2] === u &&
                                o === b
                                    ? u
                                    : new r(o);
                            var a,
                                d = ae.IsCallable(e) ? e : s,
                                f = ae.IsCallable(t) ? t : l,
                                p = n._promise;
                            if (0 === p.state) {
                                if (0 === p.reactionLength)
                                    (p.fulfillReactionHandler0 = d),
                                        (p.rejectReactionHandler0 = f),
                                        (p.reactionCapability0 = i);
                                else {
                                    var h = 3 * (p.reactionLength - 1);
                                    (p[h + 0] = d),
                                        (p[h + 1] = f),
                                        (p[h + 2] = i);
                                }
                                p.reactionLength += 1;
                            } else if (1 === p.state)
                                (a = p.result), c(d, i, a);
                            else {
                                if (2 !== p.state)
                                    throw new TypeError(
                                        "unexpected Promise state"
                                    );
                                (a = p.result), c(f, i, a);
                            }
                            return i.promise;
                        }
                    }),
                    (u = new r(b)),
                    (o = i.then),
                    b
                );
            }
        })();
        if (
            (w.Promise &&
                (delete w.Promise.accept,
                delete w.Promise.defer,
                delete w.Promise.prototype.chain),
            "function" == typeof mn)
        ) {
            m(w, { Promise: mn });
            var gn = _(w.Promise, function(e) {
                    return e.resolve(42).then(function() {}) instanceof e;
                }),
                vn = !o(function() {
                    w.Promise.reject(42)
                        .then(null, 5)
                        .then(null, F);
                }),
                bn = o(function() {
                    w.Promise.call(3, F);
                }),
                yn = (function(e) {
                    var t = e.resolve(5);
                    t.constructor = {};
                    var n = e.resolve(t);
                    try {
                        n.then(null, F).then(null, F);
                    } catch (e) {
                        return !0;
                    }
                    return t === n;
                })(w.Promise),
                _n =
                    l &&
                    (function() {
                        var e = 0,
                            t = Object.defineProperty({}, "then", {
                                get: function() {
                                    e += 1;
                                }
                            });
                        return Promise.resolve(t), 1 === e;
                    })(),
                wn = function e(t) {
                    var n = new Promise(t);
                    t(3, function() {}),
                        (this.then = n.then),
                        (this.constructor = e);
                };
            (wn.prototype = Promise.prototype), (wn.all = Promise.all);
            var xn = a(function() {
                return !!wn.all([1, 2]);
            });
            if (
                ((gn && vn && bn && !yn && _n && !xn) ||
                    ((Promise = mn), Z(w, "Promise", mn)),
                1 !== Promise.all.length)
            ) {
                var En = Promise.all;
                Z(Promise, "all", function(e) {
                    return ae.Call(En, this, arguments);
                });
            }
            if (1 !== Promise.race.length) {
                var Tn = Promise.race;
                Z(Promise, "race", function(e) {
                    return ae.Call(Tn, this, arguments);
                });
            }
            if (1 !== Promise.resolve.length) {
                var Sn = Promise.resolve;
                Z(Promise, "resolve", function(e) {
                    return ae.Call(Sn, this, arguments);
                });
            }
            if (1 !== Promise.reject.length) {
                var Cn = Promise.reject;
                Z(Promise, "reject", function(e) {
                    return ae.Call(Cn, this, arguments);
                });
            }
            yt(Promise, "all"),
                yt(Promise, "race"),
                yt(Promise, "resolve"),
                yt(Promise, "reject"),
                Te(Promise);
        }
        var kn = function(e) {
                var t = i(
                    d(
                        e,
                        function(e, t) {
                            return (e[t] = !0), e;
                        },
                        {}
                    )
                );
                return e.join(":") === t.join(":");
            },
            In = kn(["z", "a", "bb"]),
            Pn = kn(["z", 1, "a", "3", 2]);
        if (l) {
            var On = function(e, t) {
                    return t || In
                        ? oe(e)
                            ? "^" + ae.ToString(e)
                            : "string" == typeof e
                                ? "$" + e
                                : "number" == typeof e
                                    ? Pn
                                        ? e
                                        : "n" + e
                                    : "boolean" == typeof e
                                        ? "b" + e
                                        : null
                        : null;
                },
                An = function() {
                    return Object.create ? Object.create(null) : {};
                },
                Nn = function(e, t, i) {
                    if (r(i) || Y.string(i))
                        c(i, function(e) {
                            if (!ae.TypeIsObject(e))
                                throw new TypeError(
                                    "Iterator value " +
                                        e +
                                        " is not an entry object"
                                );
                            t.set(e[0], e[1]);
                        });
                    else if (i instanceof e)
                        n(e.prototype.forEach, i, function(e, n) {
                            t.set(n, e);
                        });
                    else {
                        var o, a;
                        if (!oe(i)) {
                            if (((a = t.set), !ae.IsCallable(a)))
                                throw new TypeError("bad map");
                            o = ae.GetIterator(i);
                        }
                        if (void 0 !== o)
                            for (;;) {
                                var s = ae.IteratorStep(o);
                                if (!1 === s) break;
                                var l = s.value;
                                try {
                                    if (!ae.TypeIsObject(l))
                                        throw new TypeError(
                                            "Iterator value " +
                                                l +
                                                " is not an entry object"
                                        );
                                    n(a, t, l[0], l[1]);
                                } catch (e) {
                                    throw (ae.IteratorClose(o, !0), e);
                                }
                            }
                    }
                },
                Rn = function(e, t, i) {
                    if (r(i) || Y.string(i))
                        c(i, function(e) {
                            t.add(e);
                        });
                    else if (i instanceof e)
                        n(e.prototype.forEach, i, function(e) {
                            t.add(e);
                        });
                    else {
                        var o, a;
                        if (!oe(i)) {
                            if (((a = t.add), !ae.IsCallable(a)))
                                throw new TypeError("bad set");
                            o = ae.GetIterator(i);
                        }
                        if (void 0 !== o)
                            for (;;) {
                                var s = ae.IteratorStep(o);
                                if (!1 === s) break;
                                var l = s.value;
                                try {
                                    n(a, t, l);
                                } catch (e) {
                                    throw (ae.IteratorClose(o, !0), e);
                                }
                            }
                    }
                },
                Dn = {
                    Map: (function() {
                        var e = {},
                            t = function(e, t) {
                                (this.key = e),
                                    (this.value = t),
                                    (this.next = null),
                                    (this.prev = null);
                            };
                        t.prototype.isRemoved = function() {
                            return this.key === e;
                        };
                        var r = function(e) {
                                return !!e._es6map;
                            },
                            i = function(e, t) {
                                if (!ae.TypeIsObject(e) || !r(e))
                                    throw new TypeError(
                                        "Method Map.prototype." +
                                            t +
                                            " called on incompatible receiver " +
                                            ae.ToString(e)
                                    );
                            },
                            o = function(e, t) {
                                i(e, "[[MapIterator]]"),
                                    (this.head = e._head),
                                    (this.i = this.head),
                                    (this.kind = t);
                            };
                        (o.prototype = {
                            next: function() {
                                var e = this.i,
                                    t = this.kind,
                                    n = this.head;
                                if (void 0 === this.i) return Ve();
                                for (; e.isRemoved() && e !== n; ) e = e.prev;
                                for (var r; e.next !== n; )
                                    if (((e = e.next), !e.isRemoved()))
                                        return (
                                            (r =
                                                "key" === t
                                                    ? e.key
                                                    : "value" === t
                                                        ? e.value
                                                        : [e.key, e.value]),
                                            (this.i = e),
                                            Ve(r)
                                        );
                                return (this.i = void 0), Ve();
                            }
                        }),
                            Se(o.prototype);
                        var a,
                            s = function e() {
                                if (!(this instanceof e))
                                    throw new TypeError(
                                        'Constructor Map requires "new"'
                                    );
                                if (this && this._es6map)
                                    throw new TypeError("Bad construction");
                                var n = Ie(this, e, a, {
                                        _es6map: !0,
                                        _head: null,
                                        _map: U ? new U() : null,
                                        _size: 0,
                                        _storage: An()
                                    }),
                                    r = new t(null, null);
                                return (
                                    (r.next = r.prev = r),
                                    (n._head = r),
                                    arguments.length > 0 &&
                                        Nn(e, n, arguments[0]),
                                    n
                                );
                            };
                        return (
                            (a = s.prototype),
                            b.getter(a, "size", function() {
                                if (void 0 === this._size)
                                    throw new TypeError(
                                        "size method called on incompatible Map"
                                    );
                                return this._size;
                            }),
                            m(a, {
                                get: function(e) {
                                    i(this, "get");
                                    var t,
                                        n = On(e, !0);
                                    if (null !== n)
                                        return (
                                            (t = this._storage[n]),
                                            t ? t.value : void 0
                                        );
                                    if (this._map)
                                        return (
                                            (t = B.call(this._map, e)),
                                            t ? t.value : void 0
                                        );
                                    for (
                                        var r = this._head, o = r;
                                        (o = o.next) !== r;

                                    )
                                        if (ae.SameValueZero(o.key, e))
                                            return o.value;
                                },
                                has: function(e) {
                                    i(this, "has");
                                    var t = On(e, !0);
                                    if (null !== t)
                                        return void 0 !== this._storage[t];
                                    if (this._map) return V.call(this._map, e);
                                    for (
                                        var n = this._head, r = n;
                                        (r = r.next) !== n;

                                    )
                                        if (ae.SameValueZero(r.key, e))
                                            return !0;
                                    return !1;
                                },
                                set: function(e, n) {
                                    i(this, "set");
                                    var r,
                                        o = this._head,
                                        a = o,
                                        s = On(e, !0);
                                    if (null !== s) {
                                        if (void 0 !== this._storage[s])
                                            return (
                                                (this._storage[s].value = n),
                                                this
                                            );
                                        (r = this._storage[s] = new t(e, n)),
                                            (a = o.prev);
                                    } else
                                        this._map &&
                                            (V.call(this._map, e)
                                                ? (B.call(
                                                      this._map,
                                                      e
                                                  ).value = n)
                                                : ((r = new t(e, n)),
                                                  $.call(this._map, e, r),
                                                  (a = o.prev)));
                                    for (; (a = a.next) !== o; )
                                        if (ae.SameValueZero(a.key, e))
                                            return (a.value = n), this;
                                    return (
                                        (r = r || new t(e, n)),
                                        ae.SameValue(-0, e) && (r.key = 0),
                                        (r.next = this._head),
                                        (r.prev = this._head.prev),
                                        (r.prev.next = r),
                                        (r.next.prev = r),
                                        (this._size += 1),
                                        this
                                    );
                                },
                                delete: function(t) {
                                    i(this, "delete");
                                    var n = this._head,
                                        r = n,
                                        o = On(t, !0);
                                    if (null !== o) {
                                        if (void 0 === this._storage[o])
                                            return !1;
                                        (r = this._storage[o].prev),
                                            delete this._storage[o];
                                    } else if (this._map) {
                                        if (!V.call(this._map, t)) return !1;
                                        (r = B.call(this._map, t).prev),
                                            z.call(this._map, t);
                                    }
                                    for (; (r = r.next) !== n; )
                                        if (ae.SameValueZero(r.key, t))
                                            return (
                                                (r.key = e),
                                                (r.value = e),
                                                (r.prev.next = r.next),
                                                (r.next.prev = r.prev),
                                                (this._size -= 1),
                                                !0
                                            );
                                    return !1;
                                },
                                clear: function() {
                                    i(this, "clear"),
                                        (this._map = U ? new U() : null),
                                        (this._size = 0),
                                        (this._storage = An());
                                    for (
                                        var t = this._head, n = t, r = n.next;
                                        (n = r) !== t;

                                    )
                                        (n.key = e),
                                            (n.value = e),
                                            (r = n.next),
                                            (n.next = n.prev = t);
                                    t.next = t.prev = t;
                                },
                                keys: function() {
                                    return i(this, "keys"), new o(this, "key");
                                },
                                values: function() {
                                    return (
                                        i(this, "values"), new o(this, "value")
                                    );
                                },
                                entries: function() {
                                    return (
                                        i(this, "entries"),
                                        new o(this, "key+value")
                                    );
                                },
                                forEach: function(e) {
                                    i(this, "forEach");
                                    for (
                                        var t =
                                                arguments.length > 1
                                                    ? arguments[1]
                                                    : null,
                                            r = this.entries(),
                                            o = r.next();
                                        !o.done;
                                        o = r.next()
                                    )
                                        t
                                            ? n(
                                                  e,
                                                  t,
                                                  o.value[1],
                                                  o.value[0],
                                                  this
                                              )
                                            : e(o.value[1], o.value[0], this);
                                }
                            }),
                            Se(a, a.entries),
                            s
                        );
                    })(),
                    Set: (function() {
                        var e,
                            t = function(e) {
                                return e._es6set && void 0 !== e._storage;
                            },
                            r = function(e, n) {
                                if (!ae.TypeIsObject(e) || !t(e))
                                    throw new TypeError(
                                        "Set.prototype." +
                                            n +
                                            " called on incompatible receiver " +
                                            ae.ToString(e)
                                    );
                            },
                            o = function t() {
                                if (!(this instanceof t))
                                    throw new TypeError(
                                        'Constructor Set requires "new"'
                                    );
                                if (this && this._es6set)
                                    throw new TypeError("Bad construction");
                                var n = Ie(this, t, e, {
                                    _es6set: !0,
                                    "[[SetData]]": null,
                                    _storage: An()
                                });
                                if (!n._es6set) throw new TypeError("bad set");
                                return (
                                    arguments.length > 0 &&
                                        Rn(t, n, arguments[0]),
                                    n
                                );
                            };
                        e = o.prototype;
                        var a = function(e) {
                                var t = e;
                                if ("^null" === t) return null;
                                if ("^undefined" !== t) {
                                    var n = t.charAt(0);
                                    return "$" === n
                                        ? C(t, 1)
                                        : "n" === n
                                            ? +C(t, 1)
                                            : "b" === n
                                                ? "btrue" === t
                                                : +t;
                                }
                            },
                            s = function(e) {
                                if (!e["[[SetData]]"]) {
                                    var t = new Dn.Map();
                                    (e["[[SetData]]"] = t),
                                        c(i(e._storage), function(e) {
                                            var n = a(e);
                                            t.set(n, n);
                                        }),
                                        (e["[[SetData]]"] = t);
                                }
                                e._storage = null;
                            };
                        return (
                            b.getter(o.prototype, "size", function() {
                                return (
                                    r(this, "size"),
                                    this._storage
                                        ? i(this._storage).length
                                        : (s(this), this["[[SetData]]"].size)
                                );
                            }),
                            m(o.prototype, {
                                has: function(e) {
                                    r(this, "has");
                                    var t;
                                    return this._storage && null !== (t = On(e))
                                        ? !!this._storage[t]
                                        : (s(this), this["[[SetData]]"].has(e));
                                },
                                add: function(e) {
                                    r(this, "add");
                                    var t;
                                    return this._storage && null !== (t = On(e))
                                        ? ((this._storage[t] = !0), this)
                                        : (s(this),
                                          this["[[SetData]]"].set(e, e),
                                          this);
                                },
                                delete: function(e) {
                                    r(this, "delete");
                                    var t;
                                    if (this._storage && null !== (t = On(e))) {
                                        var n = L(this._storage, t);
                                        return delete this._storage[t] && n;
                                    }
                                    return (
                                        s(this), this["[[SetData]]"].delete(e)
                                    );
                                },
                                clear: function() {
                                    r(this, "clear"),
                                        this._storage && (this._storage = An()),
                                        this["[[SetData]]"] &&
                                            this["[[SetData]]"].clear();
                                },
                                values: function() {
                                    return (
                                        r(this, "values"),
                                        s(this),
                                        this["[[SetData]]"].values()
                                    );
                                },
                                entries: function() {
                                    return (
                                        r(this, "entries"),
                                        s(this),
                                        this["[[SetData]]"].entries()
                                    );
                                },
                                forEach: function(e) {
                                    r(this, "forEach");
                                    var t =
                                            arguments.length > 1
                                                ? arguments[1]
                                                : null,
                                        i = this;
                                    s(i),
                                        this["[[SetData]]"].forEach(function(
                                            r,
                                            o
                                        ) {
                                            t ? n(e, t, o, o, i) : e(o, o, i);
                                        });
                                }
                            }),
                            h(o.prototype, "keys", o.prototype.values, !0),
                            Se(o.prototype, o.prototype.values),
                            o
                        );
                    })()
                };
            if (w.Map || w.Set) {
                a(function() {
                    return 2 === new Map([[1, 2]]).get(1);
                }) ||
                    ((w.Map = function e() {
                        if (!(this instanceof e))
                            throw new TypeError(
                                'Constructor Map requires "new"'
                            );
                        var t = new U();
                        return (
                            arguments.length > 0 && Nn(e, t, arguments[0]),
                            delete t.constructor,
                            Object.setPrototypeOf(t, w.Map.prototype),
                            t
                        );
                    }),
                    (w.Map.prototype = y(U.prototype)),
                    h(w.Map.prototype, "constructor", w.Map, !0),
                    b.preserveToString(w.Map, U));
                var jn = new Map(),
                    Mn = (function() {
                        var e = new Map([[1, 0], [2, 0], [3, 0], [4, 0]]);
                        return (
                            e.set(-0, e),
                            e.get(0) === e &&
                                e.get(-0) === e &&
                                e.has(0) &&
                                e.has(-0)
                        );
                    })(),
                    Ln = jn.set(1, 2) === jn;
                (Mn && Ln) ||
                    Z(Map.prototype, "set", function(e, t) {
                        return n($, this, 0 === e ? 0 : e, t), this;
                    }),
                    Mn ||
                        (m(
                            Map.prototype,
                            {
                                get: function(e) {
                                    return n(B, this, 0 === e ? 0 : e);
                                },
                                has: function(e) {
                                    return n(V, this, 0 === e ? 0 : e);
                                }
                            },
                            !0
                        ),
                        b.preserveToString(Map.prototype.get, B),
                        b.preserveToString(Map.prototype.has, V));
                var Fn = new Set(),
                    Un = (function(e) {
                        return e.delete(0), e.add(-0), !e.has(0);
                    })(Fn),
                    zn = Fn.add(1) === Fn;
                if (!Un || !zn) {
                    var Bn = Set.prototype.add;
                    (Set.prototype.add = function(e) {
                        return n(Bn, this, 0 === e ? 0 : e), this;
                    }),
                        b.preserveToString(Set.prototype.add, Bn);
                }
                if (!Un) {
                    var Vn = Set.prototype.has;
                    (Set.prototype.has = function(e) {
                        return n(Vn, this, 0 === e ? 0 : e);
                    }),
                        b.preserveToString(Set.prototype.has, Vn);
                    var $n = Set.prototype.delete;
                    (Set.prototype.delete = function(e) {
                        return n($n, this, 0 === e ? 0 : e);
                    }),
                        b.preserveToString(Set.prototype.delete, $n);
                }
                var Hn = _(w.Map, function(e) {
                        var t = new e([]);
                        return t.set(42, 42), t instanceof e;
                    }),
                    qn = Object.setPrototypeOf && !Hn,
                    Wn = (function() {
                        try {
                            return !(w.Map() instanceof w.Map);
                        } catch (e) {
                            return e instanceof TypeError;
                        }
                    })();
                (0 === w.Map.length && !qn && Wn) ||
                    ((w.Map = function e() {
                        if (!(this instanceof e))
                            throw new TypeError(
                                'Constructor Map requires "new"'
                            );
                        var t = new U();
                        return (
                            arguments.length > 0 && Nn(e, t, arguments[0]),
                            delete t.constructor,
                            Object.setPrototypeOf(t, e.prototype),
                            t
                        );
                    }),
                    (w.Map.prototype = U.prototype),
                    h(w.Map.prototype, "constructor", w.Map, !0),
                    b.preserveToString(w.Map, U));
                var Gn = _(w.Set, function(e) {
                        var t = new e([]);
                        return t.add(42, 42), t instanceof e;
                    }),
                    Xn = Object.setPrototypeOf && !Gn,
                    Kn = (function() {
                        try {
                            return !(w.Set() instanceof w.Set);
                        } catch (e) {
                            return e instanceof TypeError;
                        }
                    })();
                if (0 !== w.Set.length || Xn || !Kn) {
                    var Jn = w.Set;
                    (w.Set = function e() {
                        if (!(this instanceof e))
                            throw new TypeError(
                                'Constructor Set requires "new"'
                            );
                        var t = new Jn();
                        return (
                            arguments.length > 0 && Rn(e, t, arguments[0]),
                            delete t.constructor,
                            Object.setPrototypeOf(t, e.prototype),
                            t
                        );
                    }),
                        (w.Set.prototype = Jn.prototype),
                        h(w.Set.prototype, "constructor", w.Set, !0),
                        b.preserveToString(w.Set, Jn);
                }
                var Qn = new w.Map(),
                    Yn = !a(function() {
                        return Qn.keys().next().done;
                    });
                if (
                    (("function" != typeof w.Map.prototype.clear ||
                        0 !== new w.Set().size ||
                        0 !== Qn.size ||
                        "function" != typeof w.Map.prototype.keys ||
                        "function" != typeof w.Set.prototype.keys ||
                        "function" != typeof w.Map.prototype.forEach ||
                        "function" != typeof w.Set.prototype.forEach ||
                        s(w.Map) ||
                        s(w.Set) ||
                        "function" != typeof Qn.keys().next ||
                        Yn ||
                        !Hn) &&
                        m(w, { Map: Dn.Map, Set: Dn.Set }, !0),
                    w.Set.prototype.keys !== w.Set.prototype.values &&
                        h(w.Set.prototype, "keys", w.Set.prototype.values, !0),
                    Se(Object.getPrototypeOf(new w.Map().keys())),
                    Se(Object.getPrototypeOf(new w.Set().keys())),
                    u && "has" !== w.Set.prototype.has.name)
                ) {
                    var Zn = w.Set.prototype.has;
                    Z(w.Set.prototype, "has", function(e) {
                        return n(Zn, this, e);
                    });
                }
            }
            m(w, Dn), Te(w.Map), Te(w.Set);
        }
        var er = function(e) {
                if (!ae.TypeIsObject(e))
                    throw new TypeError("target must be an object");
            },
            tr = {
                apply: function() {
                    return ae.Call(ae.Call, null, arguments);
                },
                construct: function(e, t) {
                    if (!ae.IsConstructor(e))
                        throw new TypeError(
                            "First argument must be a constructor."
                        );
                    var n = arguments.length > 2 ? arguments[2] : e;
                    if (!ae.IsConstructor(n))
                        throw new TypeError(
                            "new.target must be a constructor."
                        );
                    return ae.Construct(e, t, n, "internal");
                },
                deleteProperty: function(e, t) {
                    if ((er(e), l)) {
                        var n = Object.getOwnPropertyDescriptor(e, t);
                        if (n && !n.configurable) return !1;
                    }
                    return delete e[t];
                },
                has: function(e, t) {
                    return er(e), t in e;
                }
            };
        Object.getOwnPropertyNames &&
            Object.assign(tr, {
                ownKeys: function(e) {
                    er(e);
                    var t = Object.getOwnPropertyNames(e);
                    return (
                        ae.IsCallable(Object.getOwnPropertySymbols) &&
                            I(t, Object.getOwnPropertySymbols(e)),
                        t
                    );
                }
            });
        var nr = function(e) {
            return !o(e);
        };
        if (
            (Object.preventExtensions &&
                Object.assign(tr, {
                    isExtensible: function(e) {
                        return er(e), Object.isExtensible(e);
                    },
                    preventExtensions: function(e) {
                        return (
                            er(e),
                            nr(function() {
                                Object.preventExtensions(e);
                            })
                        );
                    }
                }),
            l)
        ) {
            var rr = function(e, t, n) {
                    var r = Object.getOwnPropertyDescriptor(e, t);
                    if (!r) {
                        var i = Object.getPrototypeOf(e);
                        if (null === i) return;
                        return rr(i, t, n);
                    }
                    return "value" in r
                        ? r.value
                        : r.get
                            ? ae.Call(r.get, n)
                            : void 0;
                },
                ir = function(e, t, r, i) {
                    var o = Object.getOwnPropertyDescriptor(e, t);
                    if (!o) {
                        var a = Object.getPrototypeOf(e);
                        if (null !== a) return ir(a, t, r, i);
                        o = {
                            value: void 0,
                            writable: !0,
                            enumerable: !0,
                            configurable: !0
                        };
                    }
                    if ("value" in o) {
                        if (!o.writable) return !1;
                        if (!ae.TypeIsObject(i)) return !1;
                        return Object.getOwnPropertyDescriptor(i, t)
                            ? ne.defineProperty(i, t, { value: r })
                            : ne.defineProperty(i, t, {
                                  value: r,
                                  writable: !0,
                                  enumerable: !0,
                                  configurable: !0
                              });
                    }
                    return !!o.set && (n(o.set, i, r), !0);
                };
            Object.assign(tr, {
                defineProperty: function(e, t, n) {
                    return (
                        er(e),
                        nr(function() {
                            Object.defineProperty(e, t, n);
                        })
                    );
                },
                getOwnPropertyDescriptor: function(e, t) {
                    return er(e), Object.getOwnPropertyDescriptor(e, t);
                },
                get: function(e, t) {
                    er(e);
                    var n = arguments.length > 2 ? arguments[2] : e;
                    return rr(e, t, n);
                },
                set: function(e, t, n) {
                    er(e);
                    var r = arguments.length > 3 ? arguments[3] : e;
                    return ir(e, t, n, r);
                }
            });
        }
        if (Object.getPrototypeOf) {
            var or = Object.getPrototypeOf;
            tr.getPrototypeOf = function(e) {
                return er(e), or(e);
            };
        }
        if (Object.setPrototypeOf && tr.getPrototypeOf) {
            var ar = function(e, t) {
                for (var n = t; n; ) {
                    if (e === n) return !0;
                    n = tr.getPrototypeOf(n);
                }
                return !1;
            };
            Object.assign(tr, {
                setPrototypeOf: function(e, t) {
                    if ((er(e), null !== t && !ae.TypeIsObject(t)))
                        throw new TypeError("proto must be an object or null");
                    return (
                        t === ne.getPrototypeOf(e) ||
                        (!(ne.isExtensible && !ne.isExtensible(e)) &&
                            (!ar(e, t) && (Object.setPrototypeOf(e, t), !0)))
                    );
                }
            });
        }
        var sr = function(e, t) {
            if (ae.IsCallable(w.Reflect[e])) {
                a(function() {
                    return (
                        w.Reflect[e](1), w.Reflect[e](NaN), w.Reflect[e](!0), !0
                    );
                }) && Z(w.Reflect, e, t);
            } else h(w.Reflect, e, t);
        };
        Object.keys(tr).forEach(function(e) {
            sr(e, tr[e]);
        });
        var lr = w.Reflect.getPrototypeOf;
        if (
            (u &&
                lr &&
                "getPrototypeOf" !== lr.name &&
                Z(w.Reflect, "getPrototypeOf", function(e) {
                    return n(lr, w.Reflect, e);
                }),
            w.Reflect.setPrototypeOf &&
                a(function() {
                    return w.Reflect.setPrototypeOf(1, {}), !0;
                }) &&
                Z(w.Reflect, "setPrototypeOf", tr.setPrototypeOf),
            w.Reflect.defineProperty &&
                (a(function() {
                    var e = !w.Reflect.defineProperty(1, "test", { value: 1 }),
                        t =
                            "function" != typeof Object.preventExtensions ||
                            !w.Reflect.defineProperty(
                                Object.preventExtensions({}),
                                "test",
                                {}
                            );
                    return e && t;
                }) ||
                    Z(w.Reflect, "defineProperty", tr.defineProperty)),
            w.Reflect.construct &&
                (a(function() {
                    var e = function() {};
                    return (
                        w.Reflect.construct(function() {}, [], e) instanceof e
                    );
                }) ||
                    Z(w.Reflect, "construct", tr.construct)),
            "Invalid Date" !== String(new Date(NaN)))
        ) {
            var ur = Date.prototype.toString,
                cr = function() {
                    var e = +this;
                    return e !== e ? "Invalid Date" : ae.Call(ur, this);
                };
            Z(Date.prototype, "toString", cr);
        }
        var dr = {
            anchor: function(e) {
                return ae.CreateHTML(this, "a", "name", e);
            },
            big: function() {
                return ae.CreateHTML(this, "big", "", "");
            },
            blink: function() {
                return ae.CreateHTML(this, "blink", "", "");
            },
            bold: function() {
                return ae.CreateHTML(this, "b", "", "");
            },
            fixed: function() {
                return ae.CreateHTML(this, "tt", "", "");
            },
            fontcolor: function(e) {
                return ae.CreateHTML(this, "font", "color", e);
            },
            fontsize: function(e) {
                return ae.CreateHTML(this, "font", "size", e);
            },
            italics: function() {
                return ae.CreateHTML(this, "i", "", "");
            },
            link: function(e) {
                return ae.CreateHTML(this, "a", "href", e);
            },
            small: function() {
                return ae.CreateHTML(this, "small", "", "");
            },
            strike: function() {
                return ae.CreateHTML(this, "strike", "", "");
            },
            sub: function() {
                return ae.CreateHTML(this, "sub", "", "");
            },
            sup: function() {
                return ae.CreateHTML(this, "sup", "", "");
            }
        };
        c(Object.keys(dr), function(e) {
            var t = String.prototype[e],
                r = !1;
            if (ae.IsCallable(t)) {
                var i = n(t, "", ' " '),
                    o = S([], i.match(/"/g)).length;
                r = i !== i.toLowerCase() || o > 2;
            } else r = !0;
            r && Z(String.prototype, e, dr[e]);
        });
        var fr = (function() {
                if (!ee) return !1;
                var e =
                    "object" == typeof JSON &&
                    "function" == typeof JSON.stringify
                        ? JSON.stringify
                        : null;
                if (!e) return !1;
                if (void 0 !== e(H())) return !0;
                if ("[null]" !== e([H()])) return !0;
                var t = { a: H() };
                return (t[H()] = !0), "{}" !== e(t);
            })(),
            pr = a(function() {
                return (
                    !ee ||
                    ("{}" === JSON.stringify(Object(H())) &&
                        "[{}]" === JSON.stringify([Object(H())]))
                );
            });
        if (fr || !pr) {
            var hr = JSON.stringify;
            Z(JSON, "stringify", function(e) {
                if ("symbol" != typeof e) {
                    var t;
                    arguments.length > 1 && (t = arguments[1]);
                    var i = [e];
                    if (r(t)) i.push(t);
                    else {
                        var o = ae.IsCallable(t) ? t : null,
                            a = function(e, t) {
                                var r = o ? n(o, this, e, t) : t;
                                if ("symbol" != typeof r)
                                    return Y.symbol(r) ? wt({})(r) : r;
                            };
                        i.push(a);
                    }
                    return (
                        arguments.length > 2 && i.push(arguments[2]),
                        hr.apply(this, i)
                    );
                }
            });
        }
        return w;
    }),
    (function(e) {
        function t(e) {
            throw new RangeError(O[e]);
        }
        function n(e, t) {
            for (var n = e.length, r = []; n--; ) r[n] = t(e[n]);
            return r;
        }
        function r(e, t) {
            var r = e.split("@"),
                i = "";
            return (
                r.length > 1 && ((i = r[0] + "@"), (e = r[1])),
                (e = e.replace(P, ".")),
                i + n(e.split("."), t).join(".")
            );
        }
        function i(e) {
            for (var t, n, r = [], i = 0, o = e.length; i < o; )
                (t = e.charCodeAt(i++)),
                    t >= 55296 && t <= 56319 && i < o
                        ? ((n = e.charCodeAt(i++)),
                          56320 == (64512 & n)
                              ? r.push(((1023 & t) << 10) + (1023 & n) + 65536)
                              : (r.push(t), i--))
                        : r.push(t);
            return r;
        }
        function o(e) {
            return n(e, function(e) {
                var t = "";
                return (
                    e > 65535 &&
                        ((e -= 65536),
                        (t += R(((e >>> 10) & 1023) | 55296)),
                        (e = 56320 | (1023 & e))),
                    (t += R(e))
                );
            }).join("");
        }
        function a(e) {
            return e - 48 < 10
                ? e - 22
                : e - 65 < 26
                    ? e - 65
                    : e - 97 < 26
                        ? e - 97
                        : y;
        }
        function s(e, t) {
            return e + 22 + 75 * (e < 26) - ((0 != t) << 5);
        }
        function l(e, t, n) {
            var r = 0;
            for (
                e = n ? N(e / E) : e >> 1, e += N(e / t);
                e > (A * w) >> 1;
                r += y
            )
                e = N(e / A);
            return N(r + ((A + 1) * e) / (e + x));
        }
        function u(e) {
            var n,
                r,
                i,
                s,
                u,
                c,
                d,
                f,
                p,
                h,
                m = [],
                g = e.length,
                v = 0,
                x = S,
                E = T;
            for (r = e.lastIndexOf(C), r < 0 && (r = 0), i = 0; i < r; ++i)
                e.charCodeAt(i) >= 128 && t("not-basic"),
                    m.push(e.charCodeAt(i));
            for (s = r > 0 ? r + 1 : 0; s < g; ) {
                for (
                    u = v, c = 1, d = y;
                    s >= g && t("invalid-input"),
                        (f = a(e.charCodeAt(s++))),
                        (f >= y || f > N((b - v) / c)) && t("overflow"),
                        (v += f * c),
                        (p = d <= E ? _ : d >= E + w ? w : d - E),
                        !(f < p);
                    d += y
                )
                    (h = y - p), c > N(b / h) && t("overflow"), (c *= h);
                (n = m.length + 1),
                    (E = l(v - u, n, 0 == u)),
                    N(v / n) > b - x && t("overflow"),
                    (x += N(v / n)),
                    (v %= n),
                    m.splice(v++, 0, x);
            }
            return o(m);
        }
        function c(e) {
            var n,
                r,
                o,
                a,
                u,
                c,
                d,
                f,
                p,
                h,
                m,
                g,
                v,
                x,
                E,
                k = [];
            for (e = i(e), g = e.length, n = S, r = 0, u = T, c = 0; c < g; ++c)
                (m = e[c]) < 128 && k.push(R(m));
            for (o = a = k.length, a && k.push(C); o < g; ) {
                for (d = b, c = 0; c < g; ++c)
                    (m = e[c]) >= n && m < d && (d = m);
                for (
                    v = o + 1,
                        d - n > N((b - r) / v) && t("overflow"),
                        r += (d - n) * v,
                        n = d,
                        c = 0;
                    c < g;
                    ++c
                )
                    if (
                        ((m = e[c]), m < n && ++r > b && t("overflow"), m == n)
                    ) {
                        for (
                            f = r, p = y;
                            (h = p <= u ? _ : p >= u + w ? w : p - u), !(f < h);
                            p += y
                        )
                            (E = f - h),
                                (x = y - h),
                                k.push(R(s(h + (E % x), 0))),
                                (f = N(E / x));
                        k.push(R(s(f, 0))), (u = l(r, v, o == a)), (r = 0), ++o;
                    }
                ++r, ++n;
            }
            return k.join("");
        }
        function d(e) {
            return r(e, function(e) {
                return k.test(e) ? u(e.slice(4).toLowerCase()) : e;
            });
        }
        function f(e) {
            return r(e, function(e) {
                return I.test(e) ? "xn--" + c(e) : e;
            });
        }
        var p =
                "object" == typeof exports &&
                exports &&
                !exports.nodeType &&
                exports,
            h =
                "object" == typeof module &&
                module &&
                !module.nodeType &&
                module,
            m = "object" == typeof global && global;
        (m.global !== m && m.window !== m && m.self !== m) || (e = m);
        var g,
            v,
            b = 2147483647,
            y = 36,
            _ = 1,
            w = 26,
            x = 38,
            E = 700,
            T = 72,
            S = 128,
            C = "-",
            k = /^xn--/,
            I = /[^\x20-\x7E]/,
            P = /[\x2E\u3002\uFF0E\uFF61]/g,
            O = {
                overflow: "Overflow: input needs wider integers to process",
                "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                "invalid-input": "Invalid input"
            },
            A = y - _,
            N = Math.floor,
            R = String.fromCharCode;
        if (
            ((g = {
                version: "1.3.2",
                ucs2: { decode: i, encode: o },
                decode: u,
                encode: c,
                toASCII: f,
                toUnicode: d
            }),
            "function" == typeof define &&
                "object" == typeof define.amd &&
                define.amd)
        )
            define("punycode", [], function() {
                return g;
            });
        else if (p && h)
            if (module.exports == p) h.exports = g;
            else for (v in g) g.hasOwnProperty(v) && (p[v] = g[v]);
        else e.punycode = g;
    })(this),
    (function(e, t) {
        "use strict";
        "object" == typeof module && module.exports
            ? (module.exports = t())
            : "function" == typeof define && define.amd
                ? define("IPv6", t)
                : (e.IPv6 = t(e));
    })(this, function(e) {
        "use strict";
        function t(e) {
            var t = e.toLowerCase(),
                n = t.split(":"),
                r = n.length,
                i = 8;
            "" === n[0] && "" === n[1] && "" === n[2]
                ? (n.shift(), n.shift())
                : "" === n[0] && "" === n[1]
                    ? n.shift()
                    : "" === n[r - 1] && "" === n[r - 2] && n.pop(),
                (r = n.length),
                -1 !== n[r - 1].indexOf(".") && (i = 7);
            var o;
            for (o = 0; o < r && "" !== n[o]; o++);
            if (o < i)
                for (n.splice(o, 1, "0000"); n.length < i; )
                    n.splice(o, 0, "0000");
            for (var a, s = 0; s < i; s++) {
                a = n[s].split("");
                for (var l = 0; l < 3 && ("0" === a[0] && a.length > 1); l++)
                    a.splice(0, 1);
                n[s] = a.join("");
            }
            var u = -1,
                c = 0,
                d = 0,
                f = -1,
                p = !1;
            for (s = 0; s < i; s++)
                p
                    ? "0" === n[s]
                        ? (d += 1)
                        : ((p = !1), d > c && ((u = f), (c = d)))
                    : "0" === n[s] && ((p = !0), (f = s), (d = 1));
            d > c && ((u = f), (c = d)),
                c > 1 && n.splice(u, c, ""),
                (r = n.length);
            var h = "";
            for (
                "" === n[0] && (h = ":"), s = 0;
                s < r && ((h += n[s]), s !== r - 1);
                s++
            )
                h += ":";
            return "" === n[r - 1] && (h += ":"), h;
        }
        function n() {
            return e.IPv6 === this && (e.IPv6 = r), this;
        }
        var r = e && e.IPv6;
        return { best: t, noConflict: n };
    }),
    (function(e, t) {
        "use strict";
        "object" == typeof module && module.exports
            ? (module.exports = t())
            : "function" == typeof define && define.amd
                ? define("SecondLevelDomains", t)
                : (e.SecondLevelDomains = t(e));
    })(this, function(e) {
        "use strict";
        var t = e && e.SecondLevelDomains,
            n = {
                list: {
                    ac: " com gov mil net org ",
                    ae: " ac co gov mil name net org pro sch ",
                    af: " com edu gov net org ",
                    al: " com edu gov mil net org ",
                    ao: " co ed gv it og pb ",
                    ar: " com edu gob gov int mil net org tur ",
                    at: " ac co gv or ",
                    au: " asn com csiro edu gov id net org ",
                    ba:
                        " co com edu gov mil net org rs unbi unmo unsa untz unze ",
                    bb: " biz co com edu gov info net org store tv ",
                    bh: " biz cc com edu gov info net org ",
                    bn: " com edu gov net org ",
                    bo: " com edu gob gov int mil net org tv ",
                    br:
                        " adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",
                    bs: " com edu gov net org ",
                    bz: " du et om ov rg ",
                    ca: " ab bc mb nb nf nl ns nt nu on pe qc sk yk ",
                    ck: " biz co edu gen gov info net org ",
                    cn:
                        " ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",
                    co: " com edu gov mil net nom org ",
                    cr: " ac c co ed fi go or sa ",
                    cy:
                        " ac biz com ekloges gov ltd name net org parliament press pro tm ",
                    do: " art com edu gob gov mil net org sld web ",
                    dz: " art asso com edu gov net org pol ",
                    ec: " com edu fin gov info med mil net org pro ",
                    eg: " com edu eun gov mil name net org sci ",
                    er: " com edu gov ind mil net org rochest w ",
                    es: " com edu gob nom org ",
                    et: " biz com edu gov info name net org ",
                    fj: " ac biz com info mil name net org pro ",
                    fk: " ac co gov net nom org ",
                    fr: " asso com f gouv nom prd presse tm ",
                    gg: " co net org ",
                    gh: " com edu gov mil org ",
                    gn: " ac com gov net org ",
                    gr: " com edu gov mil net org ",
                    gt: " com edu gob ind mil net org ",
                    gu: " com edu gov net org ",
                    hk: " com edu gov idv net org ",
                    hu:
                        " 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",
                    id: " ac co go mil net or sch web ",
                    il: " ac co gov idf k12 muni net org ",
                    in:
                        " ac co edu ernet firm gen gov i ind mil net nic org res ",
                    iq: " com edu gov i mil net org ",
                    ir: " ac co dnssec gov i id net org sch ",
                    it: " edu gov ",
                    je: " co net org ",
                    jo: " com edu gov mil name net org sch ",
                    jp: " ac ad co ed go gr lg ne or ",
                    ke: " ac co go info me mobi ne or sc ",
                    kh: " com edu gov mil net org per ",
                    ki: " biz com de edu gov info mob net org tel ",
                    km:
                        " asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",
                    kn: " edu gov net org ",
                    kr:
                        " ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",
                    kw: " com edu gov net org ",
                    ky: " com edu gov net org ",
                    kz: " com edu gov mil net org ",
                    lb: " com edu gov net org ",
                    lk:
                        " assn com edu gov grp hotel int ltd net ngo org sch soc web ",
                    lr: " com edu gov net org ",
                    lv: " asn com conf edu gov id mil net org ",
                    ly: " com edu gov id med net org plc sch ",
                    ma: " ac co gov m net org press ",
                    mc: " asso tm ",
                    me: " ac co edu gov its net org priv ",
                    mg: " com edu gov mil nom org prd tm ",
                    mk: " com edu gov inf name net org pro ",
                    ml: " com edu gov net org presse ",
                    mn: " edu gov org ",
                    mo: " com edu gov net org ",
                    mt: " com edu gov net org ",
                    mv:
                        " aero biz com coop edu gov info int mil museum name net org pro ",
                    mw: " ac co com coop edu gov int museum net org ",
                    mx: " com edu gob net org ",
                    my: " com edu gov mil name net org sch ",
                    nf: " arts com firm info net other per rec store web ",
                    ng: " biz com edu gov mil mobi name net org sch ",
                    ni: " ac co com edu gob mil net nom org ",
                    np: " com edu gov mil net org ",
                    nr: " biz com edu gov info net org ",
                    om:
                        " ac biz co com edu gov med mil museum net org pro sch ",
                    pe: " com edu gob mil net nom org sld ",
                    ph: " com edu gov i mil net ngo org ",
                    pk: " biz com edu fam gob gok gon gop gos gov net org web ",
                    pl:
                        " art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",
                    pr:
                        " ac biz com edu est gov info isla name net org pro prof ",
                    ps: " com edu gov net org plo sec ",
                    pw: " belau co ed go ne or ",
                    ro: " arts com firm info nom nt org rec store tm www ",
                    rs: " ac co edu gov in org ",
                    sb: " com edu gov net org ",
                    sc: " com edu gov net org ",
                    sh: " co com edu gov net nom org ",
                    sl: " com edu gov net org ",
                    st:
                        " co com consulado edu embaixada gov mil net org principe saotome store ",
                    sv: " com edu gob org red ",
                    sz: " ac co org ",
                    tr:
                        " av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",
                    tt:
                        " aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",
                    tw: " club com ebiz edu game gov idv mil net org ",
                    mu: " ac co com gov net or org ",
                    mz: " ac co edu gov org ",
                    na: " co com ",
                    nz:
                        " ac co cri geek gen govt health iwi maori mil net org parliament school ",
                    pa: " abo ac com edu gob ing med net nom org sld ",
                    pt: " com edu gov int net nome org publ ",
                    py: " com edu gov mil net org ",
                    qa: " com edu gov mil net org ",
                    re: " asso com nom ",
                    ru:
                        " ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",
                    rw: " ac co com edu gouv gov int mil net ",
                    sa: " com edu gov med net org pub sch ",
                    sd: " com edu gov info med net org tv ",
                    se:
                        " a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",
                    sg: " com edu gov idn net org per ",
                    sn: " art com edu gouv org perso univ ",
                    sy: " com edu gov mil net news org ",
                    th: " ac co go in mi net or ",
                    tj:
                        " ac biz co com edu go gov info int mil name net nic org test web ",
                    tn:
                        " agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",
                    tz: " ac co go ne or ",
                    ua:
                        " biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",
                    ug: " ac co go ne or org sc ",
                    uk:
                        " ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",
                    us: " dni fed isa kids nsn ",
                    uy: " com edu gub mil net org ",
                    ve: " co com edu gob info mil net org web ",
                    vi: " co com k12 net org ",
                    vn: " ac biz com edu gov health info int name net org pro ",
                    ye: " co com gov ltd me net org plc ",
                    yu: " ac co edu gov org ",
                    za:
                        " ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",
                    zm: " ac co com edu gov net org sch ",
                    com:
                        "ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",
                    net: "gb jp se uk ",
                    org: "ae",
                    de: "com "
                },
                has: function(e) {
                    var t = e.lastIndexOf(".");
                    if (t <= 0 || t >= e.length - 1) return !1;
                    var r = e.lastIndexOf(".", t - 1);
                    if (r <= 0 || r >= t - 1) return !1;
                    var i = n.list[e.slice(t + 1)];
                    return !!i && i.indexOf(" " + e.slice(r + 1, t) + " ") >= 0;
                },
                is: function(e) {
                    var t = e.lastIndexOf(".");
                    if (t <= 0 || t >= e.length - 1) return !1;
                    if (e.lastIndexOf(".", t - 1) >= 0) return !1;
                    var r = n.list[e.slice(t + 1)];
                    return !!r && r.indexOf(" " + e.slice(0, t) + " ") >= 0;
                },
                get: function(e) {
                    var t = e.lastIndexOf(".");
                    if (t <= 0 || t >= e.length - 1) return null;
                    var r = e.lastIndexOf(".", t - 1);
                    if (r <= 0 || r >= t - 1) return null;
                    var i = n.list[e.slice(t + 1)];
                    return i
                        ? i.indexOf(" " + e.slice(r + 1, t) + " ") < 0
                            ? null
                            : e.slice(r + 1)
                        : null;
                },
                noConflict: function() {
                    return (
                        e.SecondLevelDomains === this &&
                            (e.SecondLevelDomains = t),
                        this
                    );
                }
            };
        return n;
    }),
    (function(e, t) {
        "use strict";
        "object" == typeof module && module.exports
            ? (module.exports = t(
                  require("./punycode"),
                  require("./IPv6"),
                  require("./SecondLevelDomains")
              ))
            : "function" == typeof define && define.amd
                ? define("URIjs", [
                      "./punycode",
                      "./IPv6",
                      "./SecondLevelDomains"
                  ], t)
                : (e.URI = t(e.punycode, e.IPv6, e.SecondLevelDomains, e));
    })(this, function(e, t, n, r) {
        "use strict";
        function i(e, t) {
            var n = arguments.length >= 1,
                r = arguments.length >= 2;
            if (!(this instanceof i))
                return n ? (r ? new i(e, t) : new i(e)) : new i();
            if (void 0 === e) {
                if (n)
                    throw new TypeError(
                        "undefined is not a valid argument for URI"
                    );
                e = "undefined" != typeof location ? location.href + "" : "";
            }
            if (null === e && n)
                throw new TypeError("null is not a valid argument for URI");
            return this.href(e), void 0 !== t ? this.absoluteTo(t) : this;
        }
        function o(e) {
            return /^[0-9]+$/.test(e);
        }
        function a(e) {
            return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g, "\\$1");
        }
        function s(e) {
            return void 0 === e
                ? "Undefined"
                : String(Object.prototype.toString.call(e)).slice(8, -1);
        }
        function l(e) {
            return "Array" === s(e);
        }
        function u(e, t) {
            var n,
                r,
                i = {};
            if ("RegExp" === s(t)) i = null;
            else if (l(t)) for (n = 0, r = t.length; n < r; n++) i[t[n]] = !0;
            else i[t] = !0;
            for (n = 0, r = e.length; n < r; n++) {
                ((i && void 0 !== i[e[n]]) || (!i && t.test(e[n]))) &&
                    (e.splice(n, 1), r--, n--);
            }
            return e;
        }
        function c(e, t) {
            var n, r;
            if (l(t)) {
                for (n = 0, r = t.length; n < r; n++)
                    if (!c(e, t[n])) return !1;
                return !0;
            }
            var i = s(t);
            for (n = 0, r = e.length; n < r; n++)
                if ("RegExp" === i) {
                    if ("string" == typeof e[n] && e[n].match(t)) return !0;
                } else if (e[n] === t) return !0;
            return !1;
        }
        function d(e, t) {
            if (!l(e) || !l(t)) return !1;
            if (e.length !== t.length) return !1;
            e.sort(), t.sort();
            for (var n = 0, r = e.length; n < r; n++)
                if (e[n] !== t[n]) return !1;
            return !0;
        }
        function f(e) {
            var t = /^\/+|\/+$/g;
            return e.replace(t, "");
        }
        function p(e) {
            return escape(e);
        }
        function h(e) {
            return encodeURIComponent(e)
                .replace(/[!'()*]/g, p)
                .replace(/\*/g, "%2A");
        }
        function m(e) {
            return function(t, n) {
                return void 0 === t
                    ? this._parts[e] || ""
                    : ((this._parts[e] = t || null), this.build(!n), this);
            };
        }
        function g(e, t) {
            return function(n, r) {
                return void 0 === n
                    ? this._parts[e] || ""
                    : (null !== n &&
                          ((n += ""),
                          n.charAt(0) === t && (n = n.substring(1))),
                      (this._parts[e] = n),
                      this.build(!r),
                      this);
            };
        }
        var v = r && r.URI;
        i.version = "1.19.1";
        var b = i.prototype,
            y = Object.prototype.hasOwnProperty;
        (i._parts = function() {
            return {
                protocol: null,
                username: null,
                password: null,
                hostname: null,
                urn: null,
                port: null,
                path: null,
                query: null,
                fragment: null,
                preventInvalidHostname: i.preventInvalidHostname,
                duplicateQueryParameters: i.duplicateQueryParameters,
                escapeQuerySpace: i.escapeQuerySpace
            };
        }),
            (i.preventInvalidHostname = !1),
            (i.duplicateQueryParameters = !1),
            (i.escapeQuerySpace = !0),
            (i.protocol_expression = /^[a-z][a-z0-9.+-]*$/i),
            (i.idn_expression = /[^a-z0-9\._-]/i),
            (i.punycode_expression = /(xn--)/i),
            (i.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/),
            (i.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/),
            (i.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi),
            (i.findUri = {
                start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
                end: /[\s\r\n]|$/,
                trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,
                parens: /(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g
            }),
            (i.defaultPorts = {
                http: "80",
                https: "443",
                ftp: "21",
                gopher: "70",
                ws: "80",
                wss: "443"
            }),
            (i.hostProtocols = ["http", "https"]),
            (i.invalid_hostname_characters = /[^a-zA-Z0-9\.\-:_]/),
            (i.domAttributes = {
                a: "href",
                blockquote: "cite",
                link: "href",
                base: "href",
                script: "src",
                form: "action",
                img: "src",
                area: "href",
                iframe: "src",
                embed: "src",
                source: "src",
                track: "src",
                input: "src",
                audio: "src",
                video: "src"
            }),
            (i.getDomAttribute = function(e) {
                if (e && e.nodeName) {
                    var t = e.nodeName.toLowerCase();
                    if ("input" !== t || "image" === e.type)
                        return i.domAttributes[t];
                }
            }),
            (i.encode = h),
            (i.decode = decodeURIComponent),
            (i.iso8859 = function() {
                (i.encode = escape), (i.decode = unescape);
            }),
            (i.unicode = function() {
                (i.encode = h), (i.decode = decodeURIComponent);
            }),
            (i.characters = {
                pathname: {
                    encode: {
                        expression: /%(24|26|2B|2C|3B|3D|3A|40)/gi,
                        map: {
                            "%24": "$",
                            "%26": "&",
                            "%2B": "+",
                            "%2C": ",",
                            "%3B": ";",
                            "%3D": "=",
                            "%3A": ":",
                            "%40": "@"
                        }
                    },
                    decode: {
                        expression: /[\/\?#]/g,
                        map: { "/": "%2F", "?": "%3F", "#": "%23" }
                    }
                },
                reserved: {
                    encode: {
                        expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,
                        map: {
                            "%3A": ":",
                            "%2F": "/",
                            "%3F": "?",
                            "%23": "#",
                            "%5B": "[",
                            "%5D": "]",
                            "%40": "@",
                            "%21": "!",
                            "%24": "$",
                            "%26": "&",
                            "%27": "'",
                            "%28": "(",
                            "%29": ")",
                            "%2A": "*",
                            "%2B": "+",
                            "%2C": ",",
                            "%3B": ";",
                            "%3D": "="
                        }
                    }
                },
                urnpath: {
                    encode: {
                        expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,
                        map: {
                            "%21": "!",
                            "%24": "$",
                            "%27": "'",
                            "%28": "(",
                            "%29": ")",
                            "%2A": "*",
                            "%2B": "+",
                            "%2C": ",",
                            "%3B": ";",
                            "%3D": "=",
                            "%40": "@"
                        }
                    },
                    decode: {
                        expression: /[\/\?#:]/g,
                        map: { "/": "%2F", "?": "%3F", "#": "%23", ":": "%3A" }
                    }
                }
            }),
            (i.encodeQuery = function(e, t) {
                var n = i.encode(e + "");
                return (
                    void 0 === t && (t = i.escapeQuerySpace),
                    t ? n.replace(/%20/g, "+") : n
                );
            }),
            (i.decodeQuery = function(e, t) {
                (e += ""), void 0 === t && (t = i.escapeQuerySpace);
                try {
                    return i.decode(t ? e.replace(/\+/g, "%20") : e);
                } catch (t) {
                    return e;
                }
            });
        var _,
            w = { encode: "encode", decode: "decode" },
            x = function(e, t) {
                return function(n) {
                    try {
                        return i[t](n + "").replace(
                            i.characters[e][t].expression,
                            function(n) {
                                return i.characters[e][t].map[n];
                            }
                        );
                    } catch (e) {
                        return n;
                    }
                };
            };
        for (_ in w)
            (i[_ + "PathSegment"] = x("pathname", w[_])),
                (i[_ + "UrnPathSegment"] = x("urnpath", w[_]));
        var E = function(e, t, n) {
            return function(r) {
                var o;
                o = n
                    ? function(e) {
                          return i[t](i[n](e));
                      }
                    : i[t];
                for (var a = (r + "").split(e), s = 0, l = a.length; s < l; s++)
                    a[s] = o(a[s]);
                return a.join(e);
            };
        };
        (i.decodePath = E("/", "decodePathSegment")),
            (i.decodeUrnPath = E(":", "decodeUrnPathSegment")),
            (i.recodePath = E("/", "encodePathSegment", "decode")),
            (i.recodeUrnPath = E(":", "encodeUrnPathSegment", "decode")),
            (i.encodeReserved = x("reserved", "encode")),
            (i.parse = function(e, t) {
                var n;
                return (
                    t ||
                        (t = {
                            preventInvalidHostname: i.preventInvalidHostname
                        }),
                    (n = e.indexOf("#")),
                    n > -1 &&
                        ((t.fragment = e.substring(n + 1) || null),
                        (e = e.substring(0, n))),
                    (n = e.indexOf("?")),
                    n > -1 &&
                        ((t.query = e.substring(n + 1) || null),
                        (e = e.substring(0, n))),
                    "//" === e.substring(0, 2)
                        ? ((t.protocol = null),
                          (e = e.substring(2)),
                          (e = i.parseAuthority(e, t)))
                        : (n = e.indexOf(":")) > -1 &&
                          ((t.protocol = e.substring(0, n) || null),
                          t.protocol && !t.protocol.match(i.protocol_expression)
                              ? (t.protocol = void 0)
                              : "//" === e.substring(n + 1, n + 3)
                                  ? ((e = e.substring(n + 3)),
                                    (e = i.parseAuthority(e, t)))
                                  : ((e = e.substring(n + 1)), (t.urn = !0))),
                    (t.path = e),
                    t
                );
            }),
            (i.parseHost = function(e, t) {
                e || (e = ""), (e = e.replace(/\\/g, "/"));
                var n,
                    r,
                    o = e.indexOf("/");
                if ((-1 === o && (o = e.length), "[" === e.charAt(0)))
                    (n = e.indexOf("]")),
                        (t.hostname = e.substring(1, n) || null),
                        (t.port = e.substring(n + 2, o) || null),
                        "/" === t.port && (t.port = null);
                else {
                    var a = e.indexOf(":"),
                        s = e.indexOf("/"),
                        l = e.indexOf(":", a + 1);
                    -1 !== l && (-1 === s || l < s)
                        ? ((t.hostname = e.substring(0, o) || null),
                          (t.port = null))
                        : ((r = e.substring(0, o).split(":")),
                          (t.hostname = r[0] || null),
                          (t.port = r[1] || null));
                }
                return (
                    t.hostname &&
                        "/" !== e.substring(o).charAt(0) &&
                        (o++, (e = "/" + e)),
                    t.preventInvalidHostname &&
                        i.ensureValidHostname(t.hostname, t.protocol),
                    t.port && i.ensureValidPort(t.port),
                    e.substring(o) || "/"
                );
            }),
            (i.parseAuthority = function(e, t) {
                return (e = i.parseUserinfo(e, t)), i.parseHost(e, t);
            }),
            (i.parseUserinfo = function(e, t) {
                var n,
                    r = e.indexOf("/"),
                    o = e.lastIndexOf("@", r > -1 ? r : e.length - 1);
                return (
                    o > -1 && (-1 === r || o < r)
                        ? ((n = e.substring(0, o).split(":")),
                          (t.username = n[0] ? i.decode(n[0]) : null),
                          n.shift(),
                          (t.password = n[0] ? i.decode(n.join(":")) : null),
                          (e = e.substring(o + 1)))
                        : ((t.username = null), (t.password = null)),
                    e
                );
            }),
            (i.parseQuery = function(e, t) {
                if (!e) return {};
                if (!(e = e.replace(/&+/g, "&").replace(/^\?*&*|&+$/g, "")))
                    return {};
                for (
                    var n, r, o, a = {}, s = e.split("&"), l = s.length, u = 0;
                    u < l;
                    u++
                )
                    (n = s[u].split("=")),
                        (r = i.decodeQuery(n.shift(), t)),
                        (o = n.length ? i.decodeQuery(n.join("="), t) : null),
                        y.call(a, r)
                            ? (("string" != typeof a[r] && null !== a[r]) ||
                                  (a[r] = [a[r]]),
                              a[r].push(o))
                            : (a[r] = o);
                return a;
            }),
            (i.build = function(e) {
                var t = "";
                return (
                    e.protocol && (t += e.protocol + ":"),
                    e.urn || (!t && !e.hostname) || (t += "//"),
                    (t += i.buildAuthority(e) || ""),
                    "string" == typeof e.path &&
                        ("/" !== e.path.charAt(0) &&
                            "string" == typeof e.hostname &&
                            (t += "/"),
                        (t += e.path)),
                    "string" == typeof e.query &&
                        e.query &&
                        (t += "?" + e.query),
                    "string" == typeof e.fragment &&
                        e.fragment &&
                        (t += "#" + e.fragment),
                    t
                );
            }),
            (i.buildHost = function(e) {
                var t = "";
                return e.hostname
                    ? (i.ip6_expression.test(e.hostname)
                          ? (t += "[" + e.hostname + "]")
                          : (t += e.hostname),
                      e.port && (t += ":" + e.port),
                      t)
                    : "";
            }),
            (i.buildAuthority = function(e) {
                return i.buildUserinfo(e) + i.buildHost(e);
            }),
            (i.buildUserinfo = function(e) {
                var t = "";
                return (
                    e.username && (t += i.encode(e.username)),
                    e.password && (t += ":" + i.encode(e.password)),
                    t && (t += "@"),
                    t
                );
            }),
            (i.buildQuery = function(e, t, n) {
                var r,
                    o,
                    a,
                    s,
                    u = "";
                for (o in e)
                    if (y.call(e, o) && o)
                        if (l(e[o]))
                            for (r = {}, a = 0, s = e[o].length; a < s; a++)
                                void 0 !== e[o][a] &&
                                    void 0 === r[e[o][a] + ""] &&
                                    ((u +=
                                        "&" +
                                        i.buildQueryParameter(o, e[o][a], n)),
                                    !0 !== t && (r[e[o][a] + ""] = !0));
                        else
                            void 0 !== e[o] &&
                                (u += "&" + i.buildQueryParameter(o, e[o], n));
                return u.substring(1);
            }),
            (i.buildQueryParameter = function(e, t, n) {
                return (
                    i.encodeQuery(e, n) +
                    (null !== t ? "=" + i.encodeQuery(t, n) : "")
                );
            }),
            (i.addQuery = function(e, t, n) {
                if ("object" == typeof t)
                    for (var r in t) y.call(t, r) && i.addQuery(e, r, t[r]);
                else {
                    if ("string" != typeof t)
                        throw new TypeError(
                            "URI.addQuery() accepts an object, string as the name parameter"
                        );
                    if (void 0 === e[t]) return void (e[t] = n);
                    "string" == typeof e[t] && (e[t] = [e[t]]),
                        l(n) || (n = [n]),
                        (e[t] = (e[t] || []).concat(n));
                }
            }),
            (i.setQuery = function(e, t, n) {
                if ("object" == typeof t)
                    for (var r in t) y.call(t, r) && i.setQuery(e, r, t[r]);
                else {
                    if ("string" != typeof t)
                        throw new TypeError(
                            "URI.setQuery() accepts an object, string as the name parameter"
                        );
                    e[t] = void 0 === n ? null : n;
                }
            }),
            (i.removeQuery = function(e, t, n) {
                var r, o, a;
                if (l(t))
                    for (r = 0, o = t.length; r < o; r++) e[t[r]] = void 0;
                else if ("RegExp" === s(t))
                    for (a in e) t.test(a) && (e[a] = void 0);
                else if ("object" == typeof t)
                    for (a in t) y.call(t, a) && i.removeQuery(e, a, t[a]);
                else {
                    if ("string" != typeof t)
                        throw new TypeError(
                            "URI.removeQuery() accepts an object, string, RegExp as the first parameter"
                        );
                    void 0 !== n
                        ? "RegExp" === s(n)
                            ? !l(e[t]) && n.test(e[t])
                                ? (e[t] = void 0)
                                : (e[t] = u(e[t], n))
                            : e[t] !== String(n) || (l(n) && 1 !== n.length)
                                ? l(e[t]) && (e[t] = u(e[t], n))
                                : (e[t] = void 0)
                        : (e[t] = void 0);
                }
            }),
            (i.hasQuery = function(e, t, n, r) {
                switch (s(t)) {
                    case "String":
                        break;
                    case "RegExp":
                        for (var o in e)
                            if (
                                y.call(e, o) &&
                                t.test(o) &&
                                (void 0 === n || i.hasQuery(e, o, n))
                            )
                                return !0;
                        return !1;
                    case "Object":
                        for (var a in t)
                            if (y.call(t, a) && !i.hasQuery(e, a, t[a]))
                                return !1;
                        return !0;
                    default:
                        throw new TypeError(
                            "URI.hasQuery() accepts a string, regular expression or object as the name parameter"
                        );
                }
                switch (s(n)) {
                    case "Undefined":
                        return t in e;
                    case "Boolean":
                        return n === Boolean(l(e[t]) ? e[t].length : e[t]);
                    case "Function":
                        return !!n(e[t], t, e);
                    case "Array":
                        if (!l(e[t])) return !1;
                        return (r ? c : d)(e[t], n);
                    case "RegExp":
                        return l(e[t])
                            ? !!r && c(e[t], n)
                            : Boolean(e[t] && e[t].match(n));
                    case "Number":
                        n = String(n);
                    case "String":
                        return l(e[t]) ? !!r && c(e[t], n) : e[t] === n;
                    default:
                        throw new TypeError(
                            "URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter"
                        );
                }
            }),
            (i.joinPaths = function() {
                for (
                    var e = [], t = [], n = 0, r = 0;
                    r < arguments.length;
                    r++
                ) {
                    var o = new i(arguments[r]);
                    e.push(o);
                    for (var a = o.segment(), s = 0; s < a.length; s++)
                        "string" == typeof a[s] && t.push(a[s]), a[s] && n++;
                }
                if (!t.length || !n) return new i("");
                var l = new i("").segment(t);
                return (
                    ("" !== e[0].path() && "/" !== e[0].path().slice(0, 1)) ||
                        l.path("/" + l.path()),
                    l.normalize()
                );
            }),
            (i.commonPath = function(e, t) {
                var n,
                    r = Math.min(e.length, t.length);
                for (n = 0; n < r; n++)
                    if (e.charAt(n) !== t.charAt(n)) {
                        n--;
                        break;
                    }
                return n < 1
                    ? e.charAt(0) === t.charAt(0) && "/" === e.charAt(0)
                        ? "/"
                        : ""
                    : (("/" === e.charAt(n) && "/" === t.charAt(n)) ||
                          (n = e.substring(0, n).lastIndexOf("/")),
                      e.substring(0, n + 1));
            }),
            (i.withinString = function(e, t, n) {
                n || (n = {});
                var r = n.start || i.findUri.start,
                    o = n.end || i.findUri.end,
                    a = n.trim || i.findUri.trim,
                    s = n.parens || i.findUri.parens,
                    l = /[a-z0-9-]=["']?$/i;
                for (r.lastIndex = 0; ; ) {
                    var u = r.exec(e);
                    if (!u) break;
                    var c = u.index;
                    if (n.ignoreHtml) {
                        var d = e.slice(Math.max(c - 3, 0), c);
                        if (d && l.test(d)) continue;
                    }
                    for (
                        var f = c + e.slice(c).search(o),
                            p = e.slice(c, f),
                            h = -1;
                        ;

                    ) {
                        var m = s.exec(p);
                        if (!m) break;
                        var g = m.index + m[0].length;
                        h = Math.max(h, g);
                    }
                    if (
                        ((p =
                            h > -1
                                ? p.slice(0, h) + p.slice(h).replace(a, "")
                                : p.replace(a, "")),
                        !(
                            p.length <= u[0].length ||
                            (n.ignore && n.ignore.test(p))
                        ))
                    ) {
                        f = c + p.length;
                        var v = t(p, c, f, e);
                        void 0 !== v
                            ? ((v = String(v)),
                              (e = e.slice(0, c) + v + e.slice(f)),
                              (r.lastIndex = c + v.length))
                            : (r.lastIndex = f);
                    }
                }
                return (r.lastIndex = 0), e;
            }),
            (i.ensureValidHostname = function(t, n) {
                var r = !!t,
                    o = !!n,
                    a = !1;
                if ((o && (a = c(i.hostProtocols, n)), a && !r))
                    throw new TypeError(
                        "Hostname cannot be empty, if protocol is " + n
                    );
                if (t && t.match(i.invalid_hostname_characters)) {
                    if (!e)
                        throw new TypeError(
                            'Hostname "' +
                                t +
                                '" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available'
                        );
                    if (e.toASCII(t).match(i.invalid_hostname_characters))
                        throw new TypeError(
                            'Hostname "' +
                                t +
                                '" contains characters other than [A-Z0-9.-:_]'
                        );
                }
            }),
            (i.ensureValidPort = function(e) {
                if (e) {
                    var t = Number(e);
                    if (!(o(t) && t > 0 && t < 65536))
                        throw new TypeError(
                            'Port "' + e + '" is not a valid port'
                        );
                }
            }),
            (i.noConflict = function(e) {
                if (e) {
                    var t = { URI: this.noConflict() };
                    return (
                        r.URITemplate &&
                            "function" == typeof r.URITemplate.noConflict &&
                            (t.URITemplate = r.URITemplate.noConflict()),
                        r.IPv6 &&
                            "function" == typeof r.IPv6.noConflict &&
                            (t.IPv6 = r.IPv6.noConflict()),
                        r.SecondLevelDomains &&
                            "function" ==
                                typeof r.SecondLevelDomains.noConflict &&
                            (t.SecondLevelDomains = r.SecondLevelDomains.noConflict()),
                        t
                    );
                }
                return r.URI === this && (r.URI = v), this;
            }),
            (b.build = function(e) {
                return (
                    !0 === e
                        ? (this._deferred_build = !0)
                        : (void 0 === e || this._deferred_build) &&
                          ((this._string = i.build(this._parts)),
                          (this._deferred_build = !1)),
                    this
                );
            }),
            (b.clone = function() {
                return new i(this);
            }),
            (b.valueOf = b.toString = function() {
                return this.build(!1)._string;
            }),
            (b.protocol = m("protocol")),
            (b.username = m("username")),
            (b.password = m("password")),
            (b.hostname = m("hostname")),
            (b.port = m("port")),
            (b.query = g("query", "?")),
            (b.fragment = g("fragment", "#")),
            (b.search = function(e, t) {
                var n = this.query(e, t);
                return "string" == typeof n && n.length ? "?" + n : n;
            }),
            (b.hash = function(e, t) {
                var n = this.fragment(e, t);
                return "string" == typeof n && n.length ? "#" + n : n;
            }),
            (b.pathname = function(e, t) {
                if (void 0 === e || !0 === e) {
                    var n =
                        this._parts.path || (this._parts.hostname ? "/" : "");
                    return e
                        ? (this._parts.urn ? i.decodeUrnPath : i.decodePath)(n)
                        : n;
                }
                return (
                    this._parts.urn
                        ? (this._parts.path = e ? i.recodeUrnPath(e) : "")
                        : (this._parts.path = e ? i.recodePath(e) : "/"),
                    this.build(!t),
                    this
                );
            }),
            (b.path = b.pathname),
            (b.href = function(e, t) {
                var n;
                if (void 0 === e) return this.toString();
                (this._string = ""), (this._parts = i._parts());
                var r = e instanceof i,
                    o =
                        "object" == typeof e &&
                        (e.hostname || e.path || e.pathname);
                if (e.nodeName) {
                    (e = e[i.getDomAttribute(e)] || ""), (o = !1);
                }
                if (
                    (!r && o && void 0 !== e.pathname && (e = e.toString()),
                    "string" == typeof e || e instanceof String)
                )
                    this._parts = i.parse(String(e), this._parts);
                else {
                    if (!r && !o) throw new TypeError("invalid input");
                    var a = r ? e._parts : e;
                    for (n in a)
                        "query" !== n &&
                            y.call(this._parts, n) &&
                            (this._parts[n] = a[n]);
                    a.query && this.query(a.query, !1);
                }
                return this.build(!t), this;
            }),
            (b.is = function(e) {
                var t = !1,
                    r = !1,
                    o = !1,
                    a = !1,
                    s = !1,
                    l = !1,
                    u = !1,
                    c = !this._parts.urn;
                switch (
                    (this._parts.hostname &&
                        ((c = !1),
                        (r = i.ip4_expression.test(this._parts.hostname)),
                        (o = i.ip6_expression.test(this._parts.hostname)),
                        (t = r || o),
                        (a = !t),
                        (s = a && n && n.has(this._parts.hostname)),
                        (l = a && i.idn_expression.test(this._parts.hostname)),
                        (u =
                            a &&
                            i.punycode_expression.test(this._parts.hostname))),
                    e.toLowerCase())
                ) {
                    case "relative":
                        return c;
                    case "absolute":
                        return !c;
                    case "domain":
                    case "name":
                        return a;
                    case "sld":
                        return s;
                    case "ip":
                        return t;
                    case "ip4":
                    case "ipv4":
                    case "inet4":
                        return r;
                    case "ip6":
                    case "ipv6":
                    case "inet6":
                        return o;
                    case "idn":
                        return l;
                    case "url":
                        return !this._parts.urn;
                    case "urn":
                        return !!this._parts.urn;
                    case "punycode":
                        return u;
                }
                return null;
            });
        var T = b.protocol,
            S = b.port,
            C = b.hostname;
        (b.protocol = function(e, t) {
            if (
                e &&
                ((e = e.replace(/:(\/\/)?$/, "")),
                !e.match(i.protocol_expression))
            )
                throw new TypeError(
                    'Protocol "' +
                        e +
                        "\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]"
                );
            return T.call(this, e, t);
        }),
            (b.scheme = b.protocol),
            (b.port = function(e, t) {
                return this._parts.urn
                    ? void 0 === e
                        ? ""
                        : this
                    : (void 0 !== e &&
                          (0 === e && (e = null),
                          e &&
                              ((e += ""),
                              ":" === e.charAt(0) && (e = e.substring(1)),
                              i.ensureValidPort(e))),
                      S.call(this, e, t));
            }),
            (b.hostname = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if (void 0 !== e) {
                    var n = {
                        preventInvalidHostname: this._parts
                            .preventInvalidHostname
                    };
                    if ("/" !== i.parseHost(e, n))
                        throw new TypeError(
                            'Hostname "' +
                                e +
                                '" contains characters other than [A-Z0-9.-]'
                        );
                    (e = n.hostname),
                        this._parts.preventInvalidHostname &&
                            i.ensureValidHostname(e, this._parts.protocol);
                }
                return C.call(this, e, t);
            }),
            (b.origin = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if (void 0 === e) {
                    var n = this.protocol();
                    return this.authority()
                        ? (n ? n + "://" : "") + this.authority()
                        : "";
                }
                var r = i(e);
                return (
                    this.protocol(r.protocol())
                        .authority(r.authority())
                        .build(!t),
                    this
                );
            }),
            (b.host = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if (void 0 === e)
                    return this._parts.hostname ? i.buildHost(this._parts) : "";
                if ("/" !== i.parseHost(e, this._parts))
                    throw new TypeError(
                        'Hostname "' +
                            e +
                            '" contains characters other than [A-Z0-9.-]'
                    );
                return this.build(!t), this;
            }),
            (b.authority = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if (void 0 === e)
                    return this._parts.hostname
                        ? i.buildAuthority(this._parts)
                        : "";
                if ("/" !== i.parseAuthority(e, this._parts))
                    throw new TypeError(
                        'Hostname "' +
                            e +
                            '" contains characters other than [A-Z0-9.-]'
                    );
                return this.build(!t), this;
            }),
            (b.userinfo = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if (void 0 === e) {
                    var n = i.buildUserinfo(this._parts);
                    return n ? n.substring(0, n.length - 1) : n;
                }
                return (
                    "@" !== e[e.length - 1] && (e += "@"),
                    i.parseUserinfo(e, this._parts),
                    this.build(!t),
                    this
                );
            }),
            (b.resource = function(e, t) {
                var n;
                return void 0 === e
                    ? this.path() + this.search() + this.hash()
                    : ((n = i.parse(e)),
                      (this._parts.path = n.path),
                      (this._parts.query = n.query),
                      (this._parts.fragment = n.fragment),
                      this.build(!t),
                      this);
            }),
            (b.subdomain = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if (void 0 === e) {
                    if (!this._parts.hostname || this.is("IP")) return "";
                    var n =
                        this._parts.hostname.length - this.domain().length - 1;
                    return this._parts.hostname.substring(0, n) || "";
                }
                var r = this._parts.hostname.length - this.domain().length,
                    o = this._parts.hostname.substring(0, r),
                    s = new RegExp("^" + a(o));
                if (
                    (e && "." !== e.charAt(e.length - 1) && (e += "."),
                    -1 !== e.indexOf(":"))
                )
                    throw new TypeError("Domains cannot contain colons");
                return (
                    e && i.ensureValidHostname(e, this._parts.protocol),
                    (this._parts.hostname = this._parts.hostname.replace(s, e)),
                    this.build(!t),
                    this
                );
            }),
            (b.domain = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if (
                    ("boolean" == typeof e && ((t = e), (e = void 0)),
                    void 0 === e)
                ) {
                    if (!this._parts.hostname || this.is("IP")) return "";
                    var n = this._parts.hostname.match(/\./g);
                    if (n && n.length < 2) return this._parts.hostname;
                    var r =
                        this._parts.hostname.length - this.tld(t).length - 1;
                    return (
                        (r = this._parts.hostname.lastIndexOf(".", r - 1) + 1),
                        this._parts.hostname.substring(r) || ""
                    );
                }
                if (!e) throw new TypeError("cannot set domain empty");
                if (-1 !== e.indexOf(":"))
                    throw new TypeError("Domains cannot contain colons");
                if (
                    (i.ensureValidHostname(e, this._parts.protocol),
                    !this._parts.hostname || this.is("IP"))
                )
                    this._parts.hostname = e;
                else {
                    var o = new RegExp(a(this.domain()) + "$");
                    this._parts.hostname = this._parts.hostname.replace(o, e);
                }
                return this.build(!t), this;
            }),
            (b.tld = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if (
                    ("boolean" == typeof e && ((t = e), (e = void 0)),
                    void 0 === e)
                ) {
                    if (!this._parts.hostname || this.is("IP")) return "";
                    var r = this._parts.hostname.lastIndexOf("."),
                        i = this._parts.hostname.substring(r + 1);
                    return !0 !== t && n && n.list[i.toLowerCase()]
                        ? n.get(this._parts.hostname) || i
                        : i;
                }
                var o;
                if (!e) throw new TypeError("cannot set TLD empty");
                if (e.match(/[^a-zA-Z0-9-]/)) {
                    if (!n || !n.is(e))
                        throw new TypeError(
                            'TLD "' +
                                e +
                                '" contains characters other than [A-Z0-9]'
                        );
                    (o = new RegExp(a(this.tld()) + "$")),
                        (this._parts.hostname = this._parts.hostname.replace(
                            o,
                            e
                        ));
                } else {
                    if (!this._parts.hostname || this.is("IP"))
                        throw new ReferenceError(
                            "cannot set TLD on non-domain host"
                        );
                    (o = new RegExp(a(this.tld()) + "$")),
                        (this._parts.hostname = this._parts.hostname.replace(
                            o,
                            e
                        ));
                }
                return this.build(!t), this;
            }),
            (b.directory = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if (void 0 === e || !0 === e) {
                    if (!this._parts.path && !this._parts.hostname) return "";
                    if ("/" === this._parts.path) return "/";
                    var n =
                            this._parts.path.length -
                            this.filename().length -
                            1,
                        r =
                            this._parts.path.substring(0, n) ||
                            (this._parts.hostname ? "/" : "");
                    return e ? i.decodePath(r) : r;
                }
                var o = this._parts.path.length - this.filename().length,
                    s = this._parts.path.substring(0, o),
                    l = new RegExp("^" + a(s));
                return (
                    this.is("relative") ||
                        (e || (e = "/"), "/" !== e.charAt(0) && (e = "/" + e)),
                    e && "/" !== e.charAt(e.length - 1) && (e += "/"),
                    (e = i.recodePath(e)),
                    (this._parts.path = this._parts.path.replace(l, e)),
                    this.build(!t),
                    this
                );
            }),
            (b.filename = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if ("string" != typeof e) {
                    if (!this._parts.path || "/" === this._parts.path)
                        return "";
                    var n = this._parts.path.lastIndexOf("/"),
                        r = this._parts.path.substring(n + 1);
                    return e ? i.decodePathSegment(r) : r;
                }
                var o = !1;
                "/" === e.charAt(0) && (e = e.substring(1)),
                    e.match(/\.?\//) && (o = !0);
                var s = new RegExp(a(this.filename()) + "$");
                return (
                    (e = i.recodePath(e)),
                    (this._parts.path = this._parts.path.replace(s, e)),
                    o ? this.normalizePath(t) : this.build(!t),
                    this
                );
            }),
            (b.suffix = function(e, t) {
                if (this._parts.urn) return void 0 === e ? "" : this;
                if (void 0 === e || !0 === e) {
                    if (!this._parts.path || "/" === this._parts.path)
                        return "";
                    var n,
                        r,
                        o = this.filename(),
                        s = o.lastIndexOf(".");
                    return -1 === s
                        ? ""
                        : ((n = o.substring(s + 1)),
                          (r = /^[a-z0-9%]+$/i.test(n) ? n : ""),
                          e ? i.decodePathSegment(r) : r);
                }
                "." === e.charAt(0) && (e = e.substring(1));
                var l,
                    u = this.suffix();
                if (u)
                    l = e
                        ? new RegExp(a(u) + "$")
                        : new RegExp(a("." + u) + "$");
                else {
                    if (!e) return this;
                    this._parts.path += "." + i.recodePath(e);
                }
                return (
                    l &&
                        ((e = i.recodePath(e)),
                        (this._parts.path = this._parts.path.replace(l, e))),
                    this.build(!t),
                    this
                );
            }),
            (b.segment = function(e, t, n) {
                var r = this._parts.urn ? ":" : "/",
                    i = this.path(),
                    o = "/" === i.substring(0, 1),
                    a = i.split(r);
                if (
                    (void 0 !== e &&
                        "number" != typeof e &&
                        ((n = t), (t = e), (e = void 0)),
                    void 0 !== e && "number" != typeof e)
                )
                    throw new Error(
                        'Bad segment "' + e + '", must be 0-based integer'
                    );
                if (
                    (o && a.shift(),
                    e < 0 && (e = Math.max(a.length + e, 0)),
                    void 0 === t)
                )
                    return void 0 === e ? a : a[e];
                if (null === e || void 0 === a[e])
                    if (l(t)) {
                        a = [];
                        for (var s = 0, u = t.length; s < u; s++)
                            (t[s].length ||
                                (a.length && a[a.length - 1].length)) &&
                                (a.length && !a[a.length - 1].length && a.pop(),
                                a.push(f(t[s])));
                    } else
                        (t || "string" == typeof t) &&
                            ((t = f(t)),
                            "" === a[a.length - 1]
                                ? (a[a.length - 1] = t)
                                : a.push(t));
                else t ? (a[e] = f(t)) : a.splice(e, 1);
                return o && a.unshift(""), this.path(a.join(r), n);
            }),
            (b.segmentCoded = function(e, t, n) {
                var r, o, a;
                if (
                    ("number" != typeof e && ((n = t), (t = e), (e = void 0)),
                    void 0 === t)
                ) {
                    if (((r = this.segment(e, t, n)), l(r)))
                        for (o = 0, a = r.length; o < a; o++)
                            r[o] = i.decode(r[o]);
                    else r = void 0 !== r ? i.decode(r) : void 0;
                    return r;
                }
                if (l(t))
                    for (o = 0, a = t.length; o < a; o++) t[o] = i.encode(t[o]);
                else
                    t =
                        "string" == typeof t || t instanceof String
                            ? i.encode(t)
                            : t;
                return this.segment(e, t, n);
            });
        var k = b.query;
        return (
            (b.query = function(e, t) {
                if (!0 === e)
                    return i.parseQuery(
                        this._parts.query,
                        this._parts.escapeQuerySpace
                    );
                if ("function" == typeof e) {
                    var n = i.parseQuery(
                            this._parts.query,
                            this._parts.escapeQuerySpace
                        ),
                        r = e.call(this, n);
                    return (
                        (this._parts.query = i.buildQuery(
                            r || n,
                            this._parts.duplicateQueryParameters,
                            this._parts.escapeQuerySpace
                        )),
                        this.build(!t),
                        this
                    );
                }
                return void 0 !== e && "string" != typeof e
                    ? ((this._parts.query = i.buildQuery(
                          e,
                          this._parts.duplicateQueryParameters,
                          this._parts.escapeQuerySpace
                      )),
                      this.build(!t),
                      this)
                    : k.call(this, e, t);
            }),
            (b.setQuery = function(e, t, n) {
                var r = i.parseQuery(
                    this._parts.query,
                    this._parts.escapeQuerySpace
                );
                if ("string" == typeof e || e instanceof String)
                    r[e] = void 0 !== t ? t : null;
                else {
                    if ("object" != typeof e)
                        throw new TypeError(
                            "URI.addQuery() accepts an object, string as the name parameter"
                        );
                    for (var o in e) y.call(e, o) && (r[o] = e[o]);
                }
                return (
                    (this._parts.query = i.buildQuery(
                        r,
                        this._parts.duplicateQueryParameters,
                        this._parts.escapeQuerySpace
                    )),
                    "string" != typeof e && (n = t),
                    this.build(!n),
                    this
                );
            }),
            (b.addQuery = function(e, t, n) {
                var r = i.parseQuery(
                    this._parts.query,
                    this._parts.escapeQuerySpace
                );
                return (
                    i.addQuery(r, e, void 0 === t ? null : t),
                    (this._parts.query = i.buildQuery(
                        r,
                        this._parts.duplicateQueryParameters,
                        this._parts.escapeQuerySpace
                    )),
                    "string" != typeof e && (n = t),
                    this.build(!n),
                    this
                );
            }),
            (b.removeQuery = function(e, t, n) {
                var r = i.parseQuery(
                    this._parts.query,
                    this._parts.escapeQuerySpace
                );
                return (
                    i.removeQuery(r, e, t),
                    (this._parts.query = i.buildQuery(
                        r,
                        this._parts.duplicateQueryParameters,
                        this._parts.escapeQuerySpace
                    )),
                    "string" != typeof e && (n = t),
                    this.build(!n),
                    this
                );
            }),
            (b.hasQuery = function(e, t, n) {
                var r = i.parseQuery(
                    this._parts.query,
                    this._parts.escapeQuerySpace
                );
                return i.hasQuery(r, e, t, n);
            }),
            (b.setSearch = b.setQuery),
            (b.addSearch = b.addQuery),
            (b.removeSearch = b.removeQuery),
            (b.hasSearch = b.hasQuery),
            (b.normalize = function() {
                return this._parts.urn
                    ? this.normalizeProtocol(!1)
                          .normalizePath(!1)
                          .normalizeQuery(!1)
                          .normalizeFragment(!1)
                          .build()
                    : this.normalizeProtocol(!1)
                          .normalizeHostname(!1)
                          .normalizePort(!1)
                          .normalizePath(!1)
                          .normalizeQuery(!1)
                          .normalizeFragment(!1)
                          .build();
            }),
            (b.normalizeProtocol = function(e) {
                return (
                    "string" == typeof this._parts.protocol &&
                        ((this._parts.protocol = this._parts.protocol.toLowerCase()),
                        this.build(!e)),
                    this
                );
            }),
            (b.normalizeHostname = function(n) {
                return (
                    this._parts.hostname &&
                        (this.is("IDN") && e
                            ? (this._parts.hostname = e.toASCII(
                                  this._parts.hostname
                              ))
                            : this.is("IPv6") &&
                              t &&
                              (this._parts.hostname = t.best(
                                  this._parts.hostname
                              )),
                        (this._parts.hostname = this._parts.hostname.toLowerCase()),
                        this.build(!n)),
                    this
                );
            }),
            (b.normalizePort = function(e) {
                return (
                    "string" == typeof this._parts.protocol &&
                        this._parts.port ===
                            i.defaultPorts[this._parts.protocol] &&
                        ((this._parts.port = null), this.build(!e)),
                    this
                );
            }),
            (b.normalizePath = function(e) {
                var t = this._parts.path;
                if (!t) return this;
                if (this._parts.urn)
                    return (
                        (this._parts.path = i.recodeUrnPath(this._parts.path)),
                        this.build(!e),
                        this
                    );
                if ("/" === this._parts.path) return this;
                t = i.recodePath(t);
                var n,
                    r,
                    o,
                    a = "";
                for (
                    "/" !== t.charAt(0) && ((n = !0), (t = "/" + t)),
                        ("/.." !== t.slice(-3) && "/." !== t.slice(-2)) ||
                            (t += "/"),
                        t = t
                            .replace(/(\/(\.\/)+)|(\/\.$)/g, "/")
                            .replace(/\/{2,}/g, "/"),
                        n &&
                            (a = t.substring(1).match(/^(\.\.\/)+/) || "") &&
                            (a = a[0]);
                    ;

                ) {
                    if (-1 === (r = t.search(/\/\.\.(\/|$)/))) break;
                    0 !== r
                        ? ((o = t.substring(0, r).lastIndexOf("/")),
                          -1 === o && (o = r),
                          (t = t.substring(0, o) + t.substring(r + 3)))
                        : (t = t.substring(3));
                }
                return (
                    n && this.is("relative") && (t = a + t.substring(1)),
                    (this._parts.path = t),
                    this.build(!e),
                    this
                );
            }),
            (b.normalizePathname = b.normalizePath),
            (b.normalizeQuery = function(e) {
                return (
                    "string" == typeof this._parts.query &&
                        (this._parts.query.length
                            ? this.query(
                                  i.parseQuery(
                                      this._parts.query,
                                      this._parts.escapeQuerySpace
                                  )
                              )
                            : (this._parts.query = null),
                        this.build(!e)),
                    this
                );
            }),
            (b.normalizeFragment = function(e) {
                return (
                    this._parts.fragment ||
                        ((this._parts.fragment = null), this.build(!e)),
                    this
                );
            }),
            (b.normalizeSearch = b.normalizeQuery),
            (b.normalizeHash = b.normalizeFragment),
            (b.iso8859 = function() {
                var e = i.encode,
                    t = i.decode;
                (i.encode = escape), (i.decode = decodeURIComponent);
                try {
                    this.normalize();
                } finally {
                    (i.encode = e), (i.decode = t);
                }
                return this;
            }),
            (b.unicode = function() {
                var e = i.encode,
                    t = i.decode;
                (i.encode = h), (i.decode = unescape);
                try {
                    this.normalize();
                } finally {
                    (i.encode = e), (i.decode = t);
                }
                return this;
            }),
            (b.readable = function() {
                var t = this.clone();
                t.username("")
                    .password("")
                    .normalize();
                var n = "";
                if (
                    (t._parts.protocol && (n += t._parts.protocol + "://"),
                    t._parts.hostname &&
                        (t.is("punycode") && e
                            ? ((n += e.toUnicode(t._parts.hostname)),
                              t._parts.port && (n += ":" + t._parts.port))
                            : (n += t.host())),
                    t._parts.hostname &&
                        t._parts.path &&
                        "/" !== t._parts.path.charAt(0) &&
                        (n += "/"),
                    (n += t.path(!0)),
                    t._parts.query)
                ) {
                    for (
                        var r = "",
                            o = 0,
                            a = t._parts.query.split("&"),
                            s = a.length;
                        o < s;
                        o++
                    ) {
                        var l = (a[o] || "").split("=");
                        (r +=
                            "&" +
                            i
                                .decodeQuery(l[0], this._parts.escapeQuerySpace)
                                .replace(/&/g, "%26")),
                            void 0 !== l[1] &&
                                (r +=
                                    "=" +
                                    i
                                        .decodeQuery(
                                            l[1],
                                            this._parts.escapeQuerySpace
                                        )
                                        .replace(/&/g, "%26"));
                    }
                    n += "?" + r.substring(1);
                }
                return (n += i.decodeQuery(t.hash(), !0));
            }),
            (b.absoluteTo = function(e) {
                var t,
                    n,
                    r,
                    o = this.clone(),
                    a = [
                        "protocol",
                        "username",
                        "password",
                        "hostname",
                        "port"
                    ];
                if (
                    (e instanceof i || (e = new i(e)),
                    "filesystem" == this._parts.protocol)
                )
                    return o;
                if ("filesystem" == e._parts.protocol) {
                    var s = this.absoluteTo(e._parts.path);
                    return -1 !== e._parts.path.indexOf("chrome-extension:") ||
                        -1 !== e._parts.path.indexOf("http:") ||
                        -1 !== e._parts.path.indexOf("https:")
                        ? new i("filesystem:" + s.toString())
                        : s;
                }
                if (this._parts.urn)
                    throw new Error(
                        "URNs do not have any generally defined hierarchical components"
                    );
                if (o._parts.protocol) return o;
                if (
                    ((o._parts.protocol = e._parts.protocol),
                    this._parts.hostname)
                )
                    return o;
                for (n = 0; (r = a[n]); n++) o._parts[r] = e._parts[r];
                return (
                    o._parts.path
                        ? (".." === o._parts.path.substring(-2) &&
                              (o._parts.path += "/"),
                          "/" !== o.path().charAt(0) &&
                              ((t = e.directory()),
                              (t =
                                  t ||
                                  (0 === e.path().indexOf("/") ? "/" : "")),
                              (o._parts.path =
                                  (t ? t + "/" : "") + o._parts.path),
                              o.normalizePath()))
                        : ((o._parts.path = e._parts.path),
                          o._parts.query || (o._parts.query = e._parts.query)),
                    o.build(),
                    o
                );
            }),
            (b.relativeTo = function(e) {
                var t,
                    n,
                    r,
                    o,
                    a,
                    s = this.clone().normalize();
                if (s._parts.urn)
                    throw new Error(
                        "URNs do not have any generally defined hierarchical components"
                    );
                if (
                    ((e = new i(e).normalize()),
                    (t = s._parts),
                    (n = e._parts),
                    (o = s.path()),
                    (a = e.path()),
                    "/" !== o.charAt(0))
                )
                    throw new Error("URI is already relative");
                if ("/" !== a.charAt(0))
                    throw new Error(
                        "Cannot calculate a URI relative to another relative URI"
                    );
                if (
                    (t.protocol === n.protocol && (t.protocol = null),
                    t.username !== n.username || t.password !== n.password)
                )
                    return s.build();
                if (
                    null !== t.protocol ||
                    null !== t.username ||
                    null !== t.password
                )
                    return s.build();
                if (t.hostname !== n.hostname || t.port !== n.port)
                    return s.build();
                if (((t.hostname = null), (t.port = null), o === a))
                    return (t.path = ""), s.build();
                if (!(r = i.commonPath(o, a))) return s.build();
                var l = n.path
                    .substring(r.length)
                    .replace(/[^\/]*$/, "")
                    .replace(/.*?\//g, "../");
                return (
                    (t.path = l + t.path.substring(r.length) || "./"), s.build()
                );
            }),
            (b.equals = function(e) {
                var t,
                    n,
                    r,
                    o = this.clone(),
                    a = new i(e),
                    s = {},
                    u = {},
                    c = {};
                if (
                    (o.normalize(),
                    a.normalize(),
                    o.toString() === a.toString())
                )
                    return !0;
                if (
                    ((t = o.query()),
                    (n = a.query()),
                    o.query(""),
                    a.query(""),
                    o.toString() !== a.toString())
                )
                    return !1;
                if (t.length !== n.length) return !1;
                (s = i.parseQuery(t, this._parts.escapeQuerySpace)),
                    (u = i.parseQuery(n, this._parts.escapeQuerySpace));
                for (r in s)
                    if (y.call(s, r)) {
                        if (l(s[r])) {
                            if (!d(s[r], u[r])) return !1;
                        } else if (s[r] !== u[r]) return !1;
                        c[r] = !0;
                    }
                for (r in u) if (y.call(u, r) && !c[r]) return !1;
                return !0;
            }),
            (b.preventInvalidHostname = function(e) {
                return (this._parts.preventInvalidHostname = !!e), this;
            }),
            (b.duplicateQueryParameters = function(e) {
                return (this._parts.duplicateQueryParameters = !!e), this;
            }),
            (b.escapeQuerySpace = function(e) {
                return (this._parts.escapeQuerySpace = !!e), this;
            }),
            i
        );
    }),
    (function(e, t) {
        "object" == typeof exports && "undefined" != typeof module
            ? t(exports)
            : "function" == typeof define && define.amd
                ? define("readium_cfi_js", ["exports"], t)
                : t((e.EPUBcfi = {}));
    })(this, function(e) {
        "use strict";
        function t(e, t) {
            for (
                var n = -1, r = null == e ? 0 : e.length, i = Array(r);
                ++n < r;

            )
                i[n] = t(e[n], n, e);
            return i;
        }
        function n(e) {
            var t = yt.call(e, wt),
                n = e[wt];
            try {
                e[wt] = void 0;
                var r = !0;
            } catch (e) {}
            var i = _t.call(e);
            return r && (t ? (e[wt] = n) : delete e[wt]), i;
        }
        function r(e) {
            return Et.call(e);
        }
        function i(e) {
            return null == e
                ? void 0 === e
                    ? St
                    : Tt
                : Ct && Ct in Object(e)
                    ? n(e)
                    : r(e);
        }
        function o(e) {
            var t = typeof e;
            return null != e && ("object" == t || "function" == t);
        }
        function a(e) {
            if (!o(e)) return !1;
            var t = i(e);
            return t == It || t == Pt || t == kt || t == Ot;
        }
        function s(e) {
            return !!Nt && Nt in e;
        }
        function l(e) {
            if (null != e) {
                try {
                    return Dt.call(e);
                } catch (e) {}
                try {
                    return e + "";
                } catch (e) {}
            }
            return "";
        }
        function u(e) {
            return !(!o(e) || s(e)) && (a(e) ? Bt : Mt).test(l(e));
        }
        function c(e, t) {
            return null == e ? void 0 : e[t];
        }
        function d(e, t) {
            var n = c(e, t);
            return u(n) ? n : void 0;
        }
        function f() {
            (this.__data__ = Vt ? Vt(null) : {}), (this.size = 0);
        }
        function p(e) {
            var t = this.has(e) && delete this.__data__[e];
            return (this.size -= t ? 1 : 0), t;
        }
        function h(e) {
            var t = this.__data__;
            if (Vt) {
                var n = t[e];
                return n === $t ? void 0 : n;
            }
            return qt.call(t, e) ? t[e] : void 0;
        }
        function m(e) {
            var t = this.__data__;
            return Vt ? void 0 !== t[e] : Gt.call(t, e);
        }
        function g(e, t) {
            var n = this.__data__;
            return (
                (this.size += this.has(e) ? 0 : 1),
                (n[e] = Vt && void 0 === t ? Xt : t),
                this
            );
        }
        function v(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n; ) {
                var r = e[t];
                this.set(r[0], r[1]);
            }
        }
        function b() {
            (this.__data__ = []), (this.size = 0);
        }
        function y(e, t) {
            return e === t || (e !== e && t !== t);
        }
        function _(e, t) {
            for (var n = e.length; n--; ) if (y(e[n][0], t)) return n;
            return -1;
        }
        function w(e) {
            var t = this.__data__,
                n = _(t, e);
            return (
                !(n < 0) &&
                (n == t.length - 1 ? t.pop() : Jt.call(t, n, 1),
                --this.size,
                !0)
            );
        }
        function x(e) {
            var t = this.__data__,
                n = _(t, e);
            return n < 0 ? void 0 : t[n][1];
        }
        function E(e) {
            return _(this.__data__, e) > -1;
        }
        function T(e, t) {
            var n = this.__data__,
                r = _(n, e);
            return r < 0 ? (++this.size, n.push([e, t])) : (n[r][1] = t), this;
        }
        function S(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n; ) {
                var r = e[t];
                this.set(r[0], r[1]);
            }
        }
        function C() {
            (this.size = 0),
                (this.__data__ = {
                    hash: new v(),
                    map: new (Qt || S)(),
                    string: new v()
                });
        }
        function k(e) {
            var t = typeof e;
            return "string" == t ||
                "number" == t ||
                "symbol" == t ||
                "boolean" == t
                ? "__proto__" !== e
                : null === e;
        }
        function I(e, t) {
            var n = e.__data__;
            return k(t) ? n["string" == typeof t ? "string" : "hash"] : n.map;
        }
        function P(e) {
            var t = I(this, e).delete(e);
            return (this.size -= t ? 1 : 0), t;
        }
        function O(e) {
            return I(this, e).get(e);
        }
        function A(e) {
            return I(this, e).has(e);
        }
        function N(e, t) {
            var n = I(this, e),
                r = n.size;
            return n.set(e, t), (this.size += n.size == r ? 0 : 1), this;
        }
        function R(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n; ) {
                var r = e[t];
                this.set(r[0], r[1]);
            }
        }
        function D(e) {
            return this.__data__.set(e, Yt), this;
        }
        function j(e) {
            return this.__data__.has(e);
        }
        function M(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.__data__ = new R(); ++t < n; ) this.add(e[t]);
        }
        function L(e, t, n, r) {
            for (var i = e.length, o = n + (r ? 1 : -1); r ? o-- : ++o < i; )
                if (t(e[o], o, e)) return o;
            return -1;
        }
        function F(e) {
            return e !== e;
        }
        function U(e, t, n) {
            for (var r = n - 1, i = e.length; ++r < i; )
                if (e[r] === t) return r;
            return -1;
        }
        function z(e, t, n) {
            return t === t ? U(e, t, n) : L(e, F, n);
        }
        function B(e, t) {
            return !!(null == e ? 0 : e.length) && z(e, t, 0) > -1;
        }
        function V(e, t, n) {
            for (var r = -1, i = null == e ? 0 : e.length; ++r < i; )
                if (n(t, e[r])) return !0;
            return !1;
        }
        function $(e) {
            return function(t) {
                return e(t);
            };
        }
        function H(e, t) {
            return e.has(t);
        }
        function q(e, n, r) {
            for (
                var i = r ? V : B,
                    o = e[0].length,
                    a = e.length,
                    s = a,
                    l = Array(a),
                    u = 1 / 0,
                    c = [];
                s--;

            ) {
                var d = e[s];
                s && n && (d = t(d, $(n))),
                    (u = Zt(d.length, u)),
                    (l[s] =
                        !r && (n || (o >= 120 && d.length >= 120))
                            ? new M(s && d)
                            : void 0);
            }
            d = e[0];
            var f = -1,
                p = l[0];
            e: for (; ++f < o && c.length < u; ) {
                var h = d[f],
                    m = n ? n(h) : h;
                if (((h = r || 0 !== h ? h : 0), !(p ? H(p, m) : i(c, m, r)))) {
                    for (s = a; --s; ) {
                        var g = l[s];
                        if (!(g ? H(g, m) : i(e[s], m, r))) continue e;
                    }
                    p && p.push(m), c.push(h);
                }
            }
            return c;
        }
        function W(e) {
            return e;
        }
        function G(e, t, n) {
            switch (n.length) {
                case 0:
                    return e.call(t);
                case 1:
                    return e.call(t, n[0]);
                case 2:
                    return e.call(t, n[0], n[1]);
                case 3:
                    return e.call(t, n[0], n[1], n[2]);
            }
            return e.apply(t, n);
        }
        function X(e, t, n) {
            return (
                (t = en(void 0 === t ? e.length - 1 : t, 0)),
                function() {
                    for (
                        var r = arguments,
                            i = -1,
                            o = en(r.length - t, 0),
                            a = Array(o);
                        ++i < o;

                    )
                        a[i] = r[t + i];
                    i = -1;
                    for (var s = Array(t + 1); ++i < t; ) s[i] = r[i];
                    return (s[t] = n(a)), G(e, this, s);
                }
            );
        }
        function K(e) {
            return function() {
                return e;
            };
        }
        function J(e) {
            return "number" == typeof e && e > -1 && e % 1 == 0 && e <= ln;
        }
        function Q(e) {
            return null != e && J(e.length) && !a(e);
        }
        function Y(e) {
            return null != e && "object" == typeof e;
        }
        function Z(e) {
            return Y(e) && Q(e);
        }
        function ee(e) {
            return Z(e) ? e : [];
        }
        function te(e, t) {
            return "string" == typeof t
                ? (e.localName || e.nodeName) === t
                : e === t;
        }
        function ne(e) {
            var t = e.className;
            return "string" == typeof t
                ? t.split(/\s/)
                : "object" === (void 0 === t ? "undefined" : it(t)) &&
                  "baseVal" in t
                    ? t.baseVal.split(/\s/)
                    : [];
        }
        function re(e, t, n, r) {
            if (t && t.length) {
                var i = ne(e);
                if (1 === i.length && t.includes(i[0])) return !1;
                if (i.length && un(t, i).length) return !1;
            }
            if (n && n.length && e.tagName) {
                if (
                    n.find(function(t) {
                        return te(e, t.toLowerCase());
                    })
                )
                    return !1;
            }
            if (r && r.length) {
                var o = e.id;
                if (o && o.length && r.includes(o)) return !1;
            }
            return !0;
        }
        function ie(e, t, n, r) {
            return [].concat(ut(e)).filter(function(e) {
                return re(e, t, n, r);
            });
        }
        function oe(e, t) {
            var n = e.getAttribute("idref");
            if (n) {
                var r = t.querySelector("[id=" + n + "]");
                if (r) return r.getAttribute("href");
            }
        }
        function ae(e, t) {
            return e > t - 1;
        }
        function se(e, t, n, r, i) {
            var o = e / 2 - 1,
                a = rt(ie(t.children().toArray(), n, r, i)),
                s = a.length;
            if (ae(o, s)) throw new dt(o, s - 1, "");
            return rt(a[o]);
        }
        function le(e, t, n) {
            for (
                var r = e, i = e[0].ownerDocument, o = 0, a = 0;
                a <= e.length;
                a += 1
            )
                if (e[a].nodeType === Node.TEXT_NODE) {
                    var s = void 0,
                        l = e[a].nodeValue.length + o,
                        u = t - o;
                    if (l > t) {
                        var c = e[a].nodeValue;
                        (r[a].nodeValue = c.slice(0, u)),
                            (s = rt(n).insertAfter(e.eq(a)));
                        var d = c.slice(u, c.length),
                            f = i.createTextNode(d);
                        return rt(f).insertAfter(s), s;
                    }
                    if (l === t) return (s = rt(n).insertAfter(e.eq(a)));
                    o = l;
                } else
                    e[a].nodeType === Node.COMMENT_NODE
                        ? (o = e[a].nodeValue.length + 7 + o)
                        : e[a].nodeType === Node.PROCESSING_INSTRUCTION_NODE &&
                          (o = e[a].nodeValue.length + e[a].target.length + 5);
            throw new ft(
                "Text",
                "Text offset:" + t,
                "The offset exceeded the length of the text"
            );
        }
        function ue(e, t, n, r, i) {
            var o = void 0,
                a = void 0,
                s = rt(ie(t.contents().toArray(), n, r, i)),
                l = (parseInt(e, 10) + 1) / 2 - 1;
            (o = 0), (a = !1);
            var u = s.filter(function() {
                return o === l
                    ? this.nodeType === Node.TEXT_NODE ||
                      this.nodeType === Node.COMMENT_NODE ||
                      this.nodeType === Node.PROCESSING_INSTRUCTION_NODE
                        ? ((a = !0), !0)
                        : !(!a || this.nodeType === Node.TEXT_NODE) &&
                          ((o += 1), (a = !1), !1)
                    : (this.nodeType === Node.TEXT_NODE ||
                      this.nodeType === Node.COMMENT_NODE ||
                      this.nodeType === Node.PROCESSING_INSTRUCTION_NODE
                          ? (a = !0)
                          : a || this.nodeType !== Node.ELEMENT_NODE
                              ? a &&
                                this.nodeType !== Node.TEXT_NODE &&
                                this !== s.lastChild &&
                                ((o += 1), (a = !1))
                              : ((o += 1), (a = !0)),
                      !1);
            });
            if (0 === u.length) throw new dt(l, o, "Index out of range");
            return u;
        }
        function ce(e, t, n, r, i) {
            return e % 2 == 0 ? se(e, t, n, r, i) : ue(e, t, n, r, i);
        }
        function de(e, t, n, r, i) {
            var o = void 0,
                a = void 0,
                s = void 0;
            if (void 0 === t || !te(t[0], "iframe"))
                throw new ct(t, "expected an iframe element");
            if (te(t[0], "iframe"))
                return (
                    (o = t.contents()),
                    (a = rt(ie(o.children().toArray(), n, r, i))),
                    (s = rt(a[0])),
                    ce(e, s, n, r, i)
                );
        }
        function fe(e, t, n) {
            if (void 0 === e)
                throw new ct(e, "expected a terminating node, or node list");
            if (0 === e.length)
                throw new ft(
                    "Text",
                    "Text offset:" + t,
                    "no nodes found for termination condition"
                );
            return le(e, t, n);
        }
        function pe(e, t) {
            return e.attr("id") === t;
        }
        function he(e, t, n, r) {
            (this.message = e),
                (this.expected = t),
                (this.found = n),
                (this.location = r),
                (this.name = "SyntaxError"),
                "function" == typeof Error.captureStackTrace &&
                    Error.captureStackTrace(this, he);
        }
        function me(e, t) {
            function n(e, t) {
                return { type: "literal", text: e, ignoreCase: t };
            }
            function r(e, t, n) {
                return { type: "class", parts: e, inverted: t, ignoreCase: n };
            }
            function i(t) {
                var n,
                    r = Xe[t];
                if (r) return r;
                for (n = t - 1; !Xe[n]; ) n--;
                for (r = Xe[n], r = { line: r.line, column: r.column }; n < t; )
                    10 === e.charCodeAt(n)
                        ? (r.line++, (r.column = 1))
                        : r.column++,
                        n++;
                return (Xe[t] = r), r;
            }
            function o(e, t) {
                var n = i(e),
                    r = i(t);
                return {
                    start: { offset: e, line: n.line, column: n.column },
                    end: { offset: t, line: r.line, column: r.column }
                };
            }
            function a(e) {
                Ge < Ke || (Ge > Ke && ((Ke = Ge), (Je = [])), Je.push(e));
            }
            function s() {
                var t, n, r, i;
                return (
                    (t = Ge),
                    e.substr(Ge, 8) === D
                        ? ((n = D), (Ge += 8))
                        : ((n = A), 0 === Qe && a(j)),
                    n !== A
                        ? ((r = l()),
                          r === A && (r = u()),
                          r !== A
                              ? (41 === e.charCodeAt(Ge)
                                    ? ((i = M), Ge++)
                                    : ((i = A), 0 === Qe && a(L)),
                                i !== A
                                    ? ((n = F(r)), (t = n))
                                    : ((Ge = t), (t = A)))
                              : ((Ge = t), (t = A)))
                        : ((Ge = t), (t = A)),
                    t
                );
            }
            function l() {
                var t, n, r, i, o, s, l;
                return (
                    (t = Ge),
                    (n = d()),
                    n !== A
                        ? ((r = c()),
                          r === A && (r = null),
                          r !== A
                              ? (44 === e.charCodeAt(Ge)
                                    ? ((i = U), Ge++)
                                    : ((i = A), 0 === Qe && a(z)),
                                i !== A
                                    ? ((o = c()),
                                      o !== A
                                          ? (44 === e.charCodeAt(Ge)
                                                ? ((s = U), Ge++)
                                                : ((s = A), 0 === Qe && a(z)),
                                            s !== A
                                                ? ((l = c()),
                                                  l !== A
                                                      ? ((n = B(n, r, o, l)),
                                                        (t = n))
                                                      : ((Ge = t), (t = A)))
                                                : ((Ge = t), (t = A)))
                                          : ((Ge = t), (t = A)))
                                    : ((Ge = t), (t = A)))
                              : ((Ge = t), (t = A)))
                        : ((Ge = t), (t = A)),
                    t
                );
            }
            function u() {
                var e, t, n;
                return (
                    (e = Ge),
                    (t = d()),
                    t !== A
                        ? ((n = c()),
                          n !== A
                              ? ((t = V(t, n)), (e = t))
                              : ((Ge = e), (e = A)))
                        : ((Ge = e), (e = A)),
                    e
                );
            }
            function c() {
                var e, t, n;
                if (
                    ((e = Ge),
                    (t = []),
                    (n = d()),
                    n === A && (n = f()),
                    n !== A)
                )
                    for (; n !== A; ) t.push(n), (n = d()) === A && (n = f());
                else t = A;
                return (
                    t !== A
                        ? ((n = p()),
                          n === A && (n = null),
                          n !== A
                              ? ((t = $(t, n)), (e = t))
                              : ((Ge = e), (e = A)))
                        : ((Ge = e), (e = A)),
                    e
                );
            }
            function d() {
                var t, n, r, i, o, s, l;
                return (
                    (t = Ge),
                    47 === e.charCodeAt(Ge)
                        ? ((n = H), Ge++)
                        : ((n = A), 0 === Qe && a(q)),
                    n !== A
                        ? ((r = w()),
                          r !== A
                              ? ((i = Ge),
                                91 === e.charCodeAt(Ge)
                                    ? ((o = W), Ge++)
                                    : ((o = A), 0 === Qe && a(G)),
                                o !== A
                                    ? ((s = h()),
                                      s !== A
                                          ? (93 === e.charCodeAt(Ge)
                                                ? ((l = X), Ge++)
                                                : ((l = A), 0 === Qe && a(K)),
                                            l !== A
                                                ? ((o = [o, s, l]), (i = o))
                                                : ((Ge = i), (i = A)))
                                          : ((Ge = i), (i = A)))
                                    : ((Ge = i), (i = A)),
                                i === A && (i = null),
                                i !== A
                                    ? ((n = J(r, i)), (t = n))
                                    : ((Ge = t), (t = A)))
                              : ((Ge = t), (t = A)))
                        : ((Ge = t), (t = A)),
                    t
                );
            }
            function f() {
                var t, n, r, i, o, s, l;
                return (
                    (t = Ge),
                    e.substr(Ge, 2) === Q
                        ? ((n = Q), (Ge += 2))
                        : ((n = A), 0 === Qe && a(Y)),
                    n !== A
                        ? ((r = w()),
                          r !== A
                              ? ((i = Ge),
                                91 === e.charCodeAt(Ge)
                                    ? ((o = W), Ge++)
                                    : ((o = A), 0 === Qe && a(G)),
                                o !== A
                                    ? ((s = h()),
                                      s !== A
                                          ? (93 === e.charCodeAt(Ge)
                                                ? ((l = X), Ge++)
                                                : ((l = A), 0 === Qe && a(K)),
                                            l !== A
                                                ? ((o = [o, s, l]), (i = o))
                                                : ((Ge = i), (i = A)))
                                          : ((Ge = i), (i = A)))
                                    : ((Ge = i), (i = A)),
                                i === A && (i = null),
                                i !== A
                                    ? ((n = Z(r, i)), (t = n))
                                    : ((Ge = t), (t = A)))
                              : ((Ge = t), (t = A)))
                        : ((Ge = t), (t = A)),
                    t
                );
            }
            function p() {
                var t, n, r, i, o, s, l;
                return (
                    (t = Ge),
                    58 === e.charCodeAt(Ge)
                        ? ((n = ee), Ge++)
                        : ((n = A), 0 === Qe && a(te)),
                    n !== A
                        ? ((r = w()),
                          r !== A
                              ? ((i = Ge),
                                91 === e.charCodeAt(Ge)
                                    ? ((o = W), Ge++)
                                    : ((o = A), 0 === Qe && a(G)),
                                o !== A
                                    ? ((s = m()),
                                      s !== A
                                          ? (93 === e.charCodeAt(Ge)
                                                ? ((l = X), Ge++)
                                                : ((l = A), 0 === Qe && a(K)),
                                            l !== A
                                                ? ((o = [o, s, l]), (i = o))
                                                : ((Ge = i), (i = A)))
                                          : ((Ge = i), (i = A)))
                                    : ((Ge = i), (i = A)),
                                i === A && (i = null),
                                i !== A
                                    ? ((n = ne(r, i)), (t = n))
                                    : ((Ge = t), (t = A)))
                              : ((Ge = t), (t = A)))
                        : ((Ge = t), (t = A)),
                    t
                );
            }
            function h() {
                var e;
                return Ge, (e = y()), e !== A && (e = re(e)), e;
            }
            function m() {
                var e, t, n;
                return (
                    (e = Ge),
                    (t = v()),
                    t === A && (t = null),
                    t !== A
                        ? ((n = g()),
                          n === A && (n = null),
                          n !== A
                              ? ((t = ie(t, n)), (e = t))
                              : ((Ge = e), (e = A)))
                        : ((Ge = e), (e = A)),
                    e
                );
            }
            function g() {
                var t, n, r, i, o;
                return (
                    (t = Ge),
                    59 === e.charCodeAt(Ge)
                        ? ((n = oe), Ge++)
                        : ((n = A), 0 === Qe && a(ae)),
                    n !== A
                        ? ((r = b()),
                          r !== A
                              ? (61 === e.charCodeAt(Ge)
                                    ? ((i = se), Ge++)
                                    : ((i = A), 0 === Qe && a(le)),
                                i !== A
                                    ? ((o = b()),
                                      o !== A
                                          ? ((n = ue(r, o)), (t = n))
                                          : ((Ge = t), (t = A)))
                                    : ((Ge = t), (t = A)))
                              : ((Ge = t), (t = A)))
                        : ((Ge = t), (t = A)),
                    t
                );
            }
            function v() {
                var t, n, r, i;
                return (
                    (t = Ge),
                    (n = y()),
                    n === A && (n = null),
                    n !== A
                        ? (44 === e.charCodeAt(Ge)
                              ? ((r = U), Ge++)
                              : ((r = A), 0 === Qe && a(z)),
                          r !== A
                              ? ((i = y()),
                                i === A && (i = null),
                                i !== A
                                    ? ((n = ce(n, i)), (t = n))
                                    : ((Ge = t), (t = A)))
                              : ((Ge = t), (t = A)))
                        : ((Ge = t), (t = A)),
                    t
                );
            }
            function b() {
                var e, t;
                if ((Ge, (e = []), (t = _()), t === A && (t = P()), t !== A))
                    for (; t !== A; ) e.push(t), (t = _()) === A && (t = P());
                else e = A;
                return e !== A && (e = de(e)), e;
            }
            function y() {
                var e, t;
                if (
                    (Ge,
                    (e = []),
                    (t = _()),
                    t === A && (t = P()) === A && (t = x()),
                    t !== A)
                )
                    for (; t !== A; )
                        e.push(t),
                            (t = _()) === A && (t = P()) === A && (t = x());
                else e = A;
                return e !== A && (e = de(e)), e;
            }
            function _() {
                var e, t, n;
                return (
                    Ge,
                    (e = Ge),
                    (t = E()),
                    t !== A
                        ? ((n = E()),
                          n !== A
                              ? ((t = [t, n]), (e = t))
                              : ((Ge = e), (e = A)))
                        : ((Ge = e), (e = A)),
                    e === A &&
                        ((e = Ge),
                        (t = E()),
                        t !== A
                            ? ((n = T()),
                              n !== A
                                  ? ((t = [t, n]), (e = t))
                                  : ((Ge = e), (e = A)))
                            : ((Ge = e), (e = A)),
                        e === A &&
                            ((e = Ge),
                            (t = E()),
                            t !== A
                                ? ((n = S()),
                                  n !== A
                                      ? ((t = [t, n]), (e = t))
                                      : ((Ge = e), (e = A)))
                                : ((Ge = e), (e = A)),
                            e === A &&
                                ((e = Ge),
                                (t = E()),
                                t !== A
                                    ? ((n = C()),
                                      n !== A
                                          ? ((t = [t, n]), (e = t))
                                          : ((Ge = e), (e = A)))
                                    : ((Ge = e), (e = A)),
                                e === A &&
                                    ((e = Ge),
                                    (t = E()),
                                    t !== A
                                        ? ((n = k()),
                                          n !== A
                                              ? ((t = [t, n]), (e = t))
                                              : ((Ge = e), (e = A)))
                                        : ((Ge = e), (e = A)),
                                    e === A &&
                                        ((e = Ge),
                                        (t = E()),
                                        t !== A
                                            ? ((n = I()),
                                              n !== A
                                                  ? ((t = [t, n]), (e = t))
                                                  : ((Ge = e), (e = A)))
                                            : ((Ge = e), (e = A))))))),
                    e !== A && (e = fe(e)),
                    e
                );
            }
            function w() {
                var t, n, r, i;
                if (
                    (Ge,
                    48 === e.charCodeAt(Ge)
                        ? ((t = _e), Ge++)
                        : ((t = A), 0 === Qe && a(we)),
                    t === A)
                )
                    if (
                        ((t = Ge),
                        pe.test(e.charAt(Ge))
                            ? ((n = e.charAt(Ge)), Ge++)
                            : ((n = A), 0 === Qe && a(me)),
                        n !== A)
                    ) {
                        for (
                            r = [],
                                ge.test(e.charAt(Ge))
                                    ? ((i = e.charAt(Ge)), Ge++)
                                    : ((i = A), 0 === Qe && a(ve));
                            i !== A;

                        )
                            r.push(i),
                                ge.test(e.charAt(Ge))
                                    ? ((i = e.charAt(Ge)), Ge++)
                                    : ((i = A), 0 === Qe && a(ve));
                        r !== A ? ((n = [n, r]), (t = n)) : ((Ge = t), (t = A));
                    } else (Ge = t), (t = A);
                return t !== A && (t = xe(t)), t;
            }
            function x() {
                var t;
                return (
                    Ge,
                    32 === e.charCodeAt(Ge)
                        ? ((t = Ee), Ge++)
                        : ((t = A), 0 === Qe && a(Te)),
                    t !== A && (t = Se()),
                    t
                );
            }
            function E() {
                var t;
                return (
                    Ge,
                    94 === e.charCodeAt(Ge)
                        ? ((t = Ce), Ge++)
                        : ((t = A), 0 === Qe && a(ke)),
                    t !== A && (t = Ie()),
                    t
                );
            }
            function T() {
                var t;
                return (
                    Ge,
                    91 === e.charCodeAt(Ge)
                        ? ((t = W), Ge++)
                        : ((t = A), 0 === Qe && a(G)),
                    t === A &&
                        (93 === e.charCodeAt(Ge)
                            ? ((t = X), Ge++)
                            : ((t = A), 0 === Qe && a(K))),
                    t !== A && (t = Pe(t)),
                    t
                );
            }
            function S() {
                var t;
                return (
                    Ge,
                    40 === e.charCodeAt(Ge)
                        ? ((t = Oe), Ge++)
                        : ((t = A), 0 === Qe && a(Ae)),
                    t === A &&
                        (41 === e.charCodeAt(Ge)
                            ? ((t = M), Ge++)
                            : ((t = A), 0 === Qe && a(L))),
                    t !== A && (t = Ne(t)),
                    t
                );
            }
            function C() {
                var t;
                return (
                    Ge,
                    44 === e.charCodeAt(Ge)
                        ? ((t = U), Ge++)
                        : ((t = A), 0 === Qe && a(z)),
                    t !== A && (t = Re()),
                    t
                );
            }
            function k() {
                var t;
                return (
                    Ge,
                    59 === e.charCodeAt(Ge)
                        ? ((t = oe), Ge++)
                        : ((t = A), 0 === Qe && a(ae)),
                    t !== A && (t = De()),
                    t
                );
            }
            function I() {
                var t;
                return (
                    Ge,
                    61 === e.charCodeAt(Ge)
                        ? ((t = se), Ge++)
                        : ((t = A), 0 === Qe && a(le)),
                    t !== A && (t = je()),
                    t
                );
            }
            function P() {
                var t;
                return (
                    Ge,
                    Me.test(e.charAt(Ge))
                        ? ((t = e.charAt(Ge)), Ge++)
                        : ((t = A), 0 === Qe && a(Le)),
                    t === A &&
                        (Fe.test(e.charAt(Ge))
                            ? ((t = e.charAt(Ge)), Ge++)
                            : ((t = A), 0 === Qe && a(Ue)),
                        t === A &&
                            (ge.test(e.charAt(Ge))
                                ? ((t = e.charAt(Ge)), Ge++)
                                : ((t = A), 0 === Qe && a(ve)),
                            t === A &&
                                (45 === e.charCodeAt(Ge)
                                    ? ((t = ze), Ge++)
                                    : ((t = A), 0 === Qe && a(Be)),
                                t === A &&
                                    (95 === e.charCodeAt(Ge)
                                        ? ((t = Ve), Ge++)
                                        : ((t = A), 0 === Qe && a($e)),
                                    t === A &&
                                        (46 === e.charCodeAt(Ge)
                                            ? ((t = be), Ge++)
                                            : ((t = A), 0 === Qe && a(ye)),
                                        t === A &&
                                            (37 === e.charCodeAt(Ge)
                                                ? ((t = He), Ge++)
                                                : ((t = A),
                                                  0 === Qe && a(qe)))))))),
                    t !== A && (t = We(t)),
                    t
                );
            }
            t = void 0 !== t ? t : {};
            var O,
                A = {},
                N = { fragment: s },
                R = s,
                D = "epubcfi(",
                j = n("epubcfi(", !1),
                M = ")",
                L = n(")", !1),
                F = function(e) {
                    return { type: "CFIAST", cfiString: e };
                },
                U = ",",
                z = n(",", !1),
                B = function(e, t, n, r) {
                    return {
                        type: "range",
                        path: e,
                        localPath: t || "",
                        range1: n,
                        range2: r
                    };
                },
                V = function(e, t) {
                    return { type: "path", path: e, localPath: t };
                },
                $ = function(e, t) {
                    return { steps: e, termStep: t || "" };
                },
                H = "/",
                q = n("/", !1),
                W = "[",
                G = n("[", !1),
                X = "]",
                K = n("]", !1),
                J = function(e, t) {
                    return {
                        type: "indexStep",
                        stepLength: e,
                        idAssertion: t ? t[1] : void 0
                    };
                },
                Q = "!/",
                Y = n("!/", !1),
                Z = function(e, t) {
                    return {
                        type: "indirectionStep",
                        stepLength: e,
                        idAssertion: t ? t[1] : void 0
                    };
                },
                ee = ":",
                te = n(":", !1),
                ne = function(e, t) {
                    return {
                        type: "textTerminus",
                        offsetValue: e,
                        textAssertion: t ? t[1] : void 0
                    };
                },
                re = function(e) {
                    return e;
                },
                ie = function(e, t) {
                    return {
                        type: "textLocationAssertion",
                        csv: e || "",
                        parameter: t || ""
                    };
                },
                oe = ";",
                ae = n(";", !1),
                se = "=",
                le = n("=", !1),
                ue = function(e, t) {
                    return {
                        type: "parameter",
                        LHSValue: e || "",
                        RHSValue: t || ""
                    };
                },
                ce = function(e, t) {
                    return {
                        type: "csv",
                        preAssertion: e || "",
                        postAssertion: t || ""
                    };
                },
                de = function(e) {
                    return e.join("");
                },
                fe = function(e) {
                    return e[1];
                },
                pe = /^[1-9]/,
                me = r([["1", "9"]], !1, !1),
                ge = /^[0-9]/,
                ve = r([["0", "9"]], !1, !1),
                be = ".",
                ye = n(".", !1),
                _e = "0",
                we = n("0", !1),
                xe = function(e) {
                    return "0" === e ? "0" : e[0].concat(e[1].join(""));
                },
                Ee = " ",
                Te = n(" ", !1),
                Se = function() {
                    return " ";
                },
                Ce = "^",
                ke = n("^", !1),
                Ie = function() {
                    return "^";
                },
                Pe = function(e) {
                    return e;
                },
                Oe = "(",
                Ae = n("(", !1),
                Ne = function(e) {
                    return e;
                },
                Re = function() {
                    return ",";
                },
                De = function() {
                    return ";";
                },
                je = function() {
                    return "=";
                },
                Me = /^[a-z]/,
                Le = r([["a", "z"]], !1, !1),
                Fe = /^[A-Z]/,
                Ue = r([["A", "Z"]], !1, !1),
                ze = "-",
                Be = n("-", !1),
                Ve = "_",
                $e = n("_", !1),
                He = "%",
                qe = n("%", !1),
                We = function(e) {
                    return e;
                },
                Ge = 0,
                Xe = [{ line: 1, column: 1 }],
                Ke = 0,
                Je = [],
                Qe = 0;
            if ("startRule" in t) {
                if (!(t.startRule in N))
                    throw new Error(
                        "Can't start parsing from rule \"" + t.startRule + '".'
                    );
                R = N[t.startRule];
            }
            if ((O = R()) !== A && Ge === e.length) return O;
            throw (O !== A &&
                Ge < e.length &&
                a(
                    (function() {
                        return { type: "end" };
                    })()
                ),
            (function(e, t, n) {
                return new he(he.buildMessage(e, t), e, t, n);
            })(
                Je,
                Ke < e.length ? e.charAt(Ke) : null,
                Ke < e.length ? o(Ke, Ke + 1) : o(Ke, Ke)
            ));
        }
        function ge(e) {
            for (
                var t = 0;
                t <= e.cfiString.localPath.steps.length - 1;
                t += 1
            ) {
                if ("indirectionStep" === e.cfiString.localPath.steps[t].type)
                    return t;
            }
        }
        function ve(e, t) {
            var n = rt.extend(!0, {}, e),
                r = t ? e.cfiString.range1 : e.cfiString.range2;
            return (
                delete n.cfiString.range1,
                delete n.cfiString.range2,
                (n.cfiString.type = "path"),
                (n.cfiString.localPath.steps = n.cfiString.localPath.steps.concat(
                    r.steps
                )),
                (n.cfiString.localPath.termStep = r.termStep),
                n
            );
        }
        function be(e) {
            var t = decodeURI(e),
                n = hn(t);
            if (!n || "CFIAST" !== n.type)
                throw new ct(n, "expected CFI AST root node");
            var r = [];
            return (
                "range" === n.cfiString.type
                    ? (r.push(ve(n, !0)), r.push(ve(n, !1)))
                    : r.push(n),
                r
            );
        }
        function ye(e) {
            return e.cfiString.localPath.steps.map(function(e) {
                return parseInt(e.stepLength, 10);
            });
        }
        function _e(e, t) {
            for (
                var n = null,
                    r = 0,
                    i = ye(e),
                    o = ye(t),
                    a = e.cfiString.localPath.termStep,
                    s = t.cfiString.localPath.termStep;
                ;

            ) {
                var l = i[r],
                    u = o[r];
                if (!l || !u) {
                    if (0 === n && (a.offsetValue || s.offsetValue)) {
                        var c = parseInt(a.offsetValue, 10) || 0,
                            d = parseInt(s.offsetValue, 10) || 0;
                        n = c > d ? 1 : c < d ? -1 : 0;
                    }
                    break;
                }
                if (l > u) {
                    n = 1;
                    break;
                }
                if (l < u) {
                    n = -1;
                    break;
                }
                (n = 0), (r += 1);
            }
            return n;
        }
        function we(e, t, n, r, i) {
            if (void 0 === e || "indexStep" !== e.type)
                throw new ct(e, "expected index step node");
            var o = ce(e.stepLength, t, n, r, i);
            if (e.idAssertion && !pe(o, e.idAssertion))
                throw new pt(
                    e.idAssertion,
                    o.attr("id"),
                    "Id assertion failed"
                );
            return o;
        }
        function xe(e, t, n, r, i) {
            if (void 0 === e || "indirectionStep" !== e.type)
                throw new ct(e, "expected indirection step node");
            var o = de(e.stepLength, t, n, r, i);
            if (e.idAssertion && !pe(o, e.idAssertion))
                throw new pt(
                    e.idAssertion,
                    o.attr("id"),
                    "Id assertion failed"
                );
            return o;
        }
        function Ee(e, t, n, r, i, o) {
            for (
                var a = void 0, s = void 0, l = 0;
                l <= n.steps.length - 1;
                l += 1
            ) {
                (a = n.steps[l]),
                    "indexStep" === a.type
                        ? (s = we(a, e, r, i, o))
                        : "indirectionStep" === a.type &&
                          (s = xe(a, e, r, i, o));
                var u = s,
                    c = lt(u, 1),
                    d = c[0];
                if (te(d, "itemref")) return oe(d, t);
            }
        }
        function Te(e, t, n, r, i, o) {
            for (var a = void 0, s = t; s <= e.steps.length - 1; s += 1)
                (a = e.steps[s]),
                    "indexStep" === a.type
                        ? (n = we(a, n, r, i, o))
                        : "indirectionStep" === a.type &&
                          (n = xe(a, n, r, i, o));
            return n;
        }
        function Se(e, t, n) {
            if (void 0 === e || "textTerminus" !== e.type)
                throw new ct(e, "expected text terminus node");
            return fe(t, e.offsetValue, n);
        }
        function Ce(e, t, n, r, i) {
            var o = decodeURI(e),
                a = hn(o);
            if (!a || "CFIAST" !== a.type)
                throw new ct(a, "expected CFI AST root node");
            var s = rt(t.getElementsByTagNameNS("*", "package")),
                l = we(a.cfiString.path, s, n, r, i),
                u = Ee(l, t, a.cfiString.localPath, n, r, i);
            if (u) return u;
        }
        function ke(e, t) {
            var n = be(e),
                r = be(t);
            if (n.length > 1 && r.length > 1)
                return [_e(n[0], r[0]), _e(n[1], r[1])];
            if (n.length > 1 && 1 === r.length)
                return [_e(n[0], r[0]), _e(n[1], r[0])];
            if (1 === n.length && r.length > 1)
                return [_e(n[0], r[0]), _e(n[0], r[1])];
            var i = _e(n[0], r[0]);
            return [i, i];
        }
        function Ie(e, t, n, r, i, o) {
            var a = decodeURI(e),
                s = hn(a),
                l = void 0,
                u = ge(s);
            return (
                (s.cfiString.localPath.steps[u].type = "indexStep"),
                (l = Te(
                    s.cfiString.localPath,
                    u,
                    rt(t.documentElement, t),
                    r,
                    i,
                    o
                )),
                (l = Se(s.cfiString.localPath.termStep, l, n))
            );
        }
        function Pe(e, t, n, r, i, o, a) {
            var s = decodeURI(e),
                l = hn(s),
                u = void 0,
                c = void 0,
                d = ge(l);
            l.cfiString.localPath.steps[d].type = "indexStep";
            var f = Te(
                l.cfiString.localPath,
                d,
                rt(t.documentElement, t),
                i,
                o,
                a
            );
            return (
                (u = Te(l.cfiString.range1, 0, f, i, o, a)),
                (u = Se(l.cfiString.range1.termStep, u, n)),
                (c = Te(l.cfiString.range2, 0, f, i, o, a)),
                (c = Se(l.cfiString.range2.termStep, c, r)),
                { startElement: u[0], endElement: c[0] }
            );
        }
        function Oe(e, t, n, r, i) {
            var o = decodeURI(e),
                a = hn(o),
                s = ge(a);
            return (
                (a.cfiString.localPath.steps[s].type = "indexStep"),
                Te(a.cfiString.localPath, s, rt(t.documentElement, t), n, r, i)
            );
        }
        function Ae(e, t, n, r, i) {
            var o = decodeURI(e),
                a = hn(o),
                s = ge(a);
            a.cfiString.localPath.steps[s].type = "indexStep";
            var l = Te(
                    a.cfiString.localPath,
                    s,
                    rt(t.documentElement, t),
                    n,
                    r,
                    i
                ),
                u = Te(a.cfiString.range1, 0, l, n, r, i),
                c = Te(a.cfiString.range2, 0, l, n, r, i),
                d =
                    parseInt(a.cfiString.range1.termStep.offsetValue, 10) ||
                    void 0,
                f =
                    parseInt(a.cfiString.range2.termStep.offsetValue, 10) ||
                    void 0;
            return {
                startElement: u[0],
                startOffset: d,
                endElement: c[0],
                endOffset: f
            };
        }
        function Ne(e, t, n, r, i) {
            var o = decodeURI(e),
                a = hn(o),
                s = we(a.cfiString.path, rt(t.documentElement, t), n, r, i);
            return (s = Te(a.cfiString.localPath, 0, s, n, r, i));
        }
        function Re(e, t, n, r, i) {
            var o = decodeURI(e),
                a = hn(o),
                s = we(a.cfiString.path, rt(t.documentElement, t), n, r, i);
            s = Te(a.cfiString.localPath, 0, s, n, r, i);
            var l = parseInt(a.cfiString.localPath.termStep.offsetValue, 10);
            return { textNode: s[0], textOffset: l };
        }
        function De(e, t, n, r, i) {
            var o = decodeURI(e),
                a = hn(o),
                s = ge(a);
            a.cfiString.localPath.steps[s].type = "indexStep";
            var l = Te(
                    a.cfiString.localPath,
                    s,
                    rt(t.documentElement, t),
                    n,
                    r,
                    i
                ),
                u = parseInt(a.cfiString.localPath.termStep.offsetValue, 10);
            return { textNode: l[0], textOffset: u };
        }
        function je(e) {
            var t = e ? decodeURI(e) : void 0,
                n = hn(t);
            if (!n || "CFIAST" !== n.type)
                throw new ct(n, "expected CFI AST root node");
            return "range" === n.cfiString.type;
        }
        function Me(e) {
            var t = e ? decodeURI(e) : void 0,
                n = hn(t);
            if (!n || "CFIAST" !== n.type)
                throw new ct(n, "expected CFI AST root node");
            return !!n.cfiString.localPath.termStep;
        }
        function Le(e, t) {
            if (!e)
                throw new ct(
                    e,
                    "Cannot generate a character offset from a starting point that is not a text node"
                );
            if (3 !== e.nodeType)
                throw new ct(
                    e,
                    "Cannot generate a character offset from a starting point that is not a text node"
                );
            if (t < 0)
                throw new dt(t, 0, "Character offset cannot be less than 0");
            if (t > e.nodeValue.length)
                throw new dt(
                    t,
                    e.nodeValue.length - 1,
                    "character offset cannot be greater than the length of the text node"
                );
        }
        function Fe(e) {
            if (!e) throw new ct(e, "CFI target element is undefined");
        }
        function Ue(e) {
            if ((Fe(e), !e.nodeType || 1 !== e.nodeType))
                throw new ct(e, "CFI target element is not an HTML element");
        }
        function ze(e) {
            if (!e)
                throw new Error(
                    "The idref for the content document, as found in the spine, must be supplied"
                );
        }
        function Be(e, t) {
            return []
                .concat(ut(e.getElementsByTagNameNS("*", "itemref")))
                .find(function(e) {
                    return e.getAttribute("idref") === t;
                });
        }
        function Ve(e, t) {
            if (!e)
                throw new Error(
                    "A package document must be supplied to generate a CFI"
                );
            if (!Be(e, t))
                throw new Error(
                    "The idref of the content document could not be found in the spine"
                );
        }
        function $e(e) {
            return (
                e.nodeType === Node.TEXT_NODE ||
                e.nodeType === Node.ELEMENT_NODE
            );
        }
        function He(e) {
            var t = e.startContainer,
                n = e.endContainer,
                r = e.commonAncestorContainer;
            if (
                r.nodeType === Node.ELEMENT_NODE &&
                (t.nodeType === Node.TEXT_NODE || n.nodeType === Node.TEXT_NODE)
            ) {
                if (t === r) {
                    var i = [].concat(ut(t.childNodes)).filter($e),
                        o = lt(i, 1),
                        a = o[0];
                    a && e.setStart(a, 0);
                }
                if (n === r) {
                    var s = []
                            .concat(ut(n.childNodes))
                            .filter($e)
                            .slice(-1),
                        l = lt(s, 1),
                        u = l[0];
                    u &&
                        (u.length
                            ? e.setEnd(u, u.length)
                            : u.hasChildNodes()
                                ? e.setEnd(u, u.childNodes.length)
                                : e.setEnd(u, 1));
                }
            }
        }
        function qe(e, t, n, r, i) {
            var o = -1,
                a = e.parent(),
                s = rt(ie(a.contents().toArray(), n, r, i)),
                l = void 0,
                u = void 0,
                c = 0,
                d = 0,
                f = 0;
            return (
                rt.each(s, function() {
                    if (this.nodeType !== Node.TEXT_NODE && l)
                        this.nodeType === Node.ELEMENT_NODE
                            ? ((l = !1), (u = void 0), (d = 0))
                            : this.nodeType === Node.COMMENT_NODE
                                ? (d = d + this.length + 7)
                                : this.nodeType ===
                                      Node.PROCESSING_INSTRUCTION_NODE &&
                                  (d =
                                      d +
                                      this.data.length +
                                      this.target.length +
                                      5);
                    else if (this.nodeType === Node.TEXT_NODE) {
                        if (this === e[0])
                            return l ? ((o = u), (f = d)) : (o = c), !1;
                        (l = !0),
                            (d += this.length),
                            void 0 === u && ((u = c), (c += 1));
                    } else
                        this.nodeType === Node.ELEMENT_NODE
                            ? (c += 1)
                            : this.nodeType === Node.COMMENT_NODE
                                ? ((l = !0),
                                  (d = d + this.length + 7),
                                  void 0 === u && (u = c))
                                : this.nodeType ===
                                      Node.PROCESSING_INSTRUCTION_NODE &&
                                  ((l = !0),
                                  (d =
                                      d +
                                      this.data.length +
                                      this.target.length +
                                      5),
                                  void 0 === u && (u = c));
                    return !0;
                }),
                "/" + (2 * o + 1) + ":" + (f + t)
            );
        }
        function We(e, t, n, r, i) {
            var o = -1,
                a = void 0,
                s = rt(
                    ie(
                        e
                            .parent()
                            .children()
                            .toArray(),
                        n,
                        r,
                        i
                    )
                );
            rt.each(s, function(t) {
                return this !== e[0] || ((o = t), !1);
            });
            var l = 2 * (o + 1);
            a = e.attr("id") ? "/" + l + "[" + e.attr("id") + "]" : "/" + l;
            var u = e.parent();
            return ("string" == typeof t && te(u[0], t)) || te(e[0], t)
                ? a
                : u[0] === t || e[0] === t
                    ? a
                    : We(u, t, n, r, i) + a;
        }
        function Ge(e, t, n, r) {
            He(e);
            var i = e.startContainer,
                o = e.endContainer,
                a = e.startOffset,
                s = e.endOffset,
                l = e.commonAncestorContainer,
                u = i.ownerDocument,
                c = void 0,
                d = void 0,
                f = void 0,
                p = void 0,
                h = void 0;
            if (
                i.nodeType === Node.TEXT_NODE &&
                o.nodeType === Node.TEXT_NODE &&
                rt(i).parent()[0] === rt(o).parent()[0]
            )
                return (
                    (d = qe(rt(i), a, t, n, r)),
                    (p = qe(rt(o), s, t, n, r)),
                    (h = We(rt(i).parent(), u.documentElement, t, n, r)) +
                        "," +
                        d +
                        "," +
                        p
                );
            if (
                i.nodeType === Node.ELEMENT_NODE &&
                o.nodeType === Node.ELEMENT_NODE &&
                i === o &&
                l === i
            ) {
                var m = l.childNodes[a],
                    g = void 0;
                return (
                    (g =
                        s === l.childNodes.length
                            ? l.childNodes[s - 1]
                            : l.childNodes[s].previousSibling),
                    ((h = We(rt(l), u.documentElement, t, n, r)),
                    (c = We(rt(m), l, t, n, r)),
                    m === g)
                        ? h + c
                        : ((f = We(rt(g), l, t, n, r)), h + "," + c + "," + f)
                );
            }
            return (
                i.nodeType === Node.ELEMENT_NODE
                    ? (Ue(i), (c = We(rt(i), l, t, n, r)))
                    : (Le(i),
                      (d = qe(rt(i), a, t, n, r)),
                      (c =
                          rt(i).parent()[0] === l
                              ? d
                              : We(rt(i).parent(), l, t, n, r) + d)),
                o.nodeType === Node.ELEMENT_NODE
                    ? (Ue(o), (f = We(rt(o), l, t, n, r)))
                    : (Le(o),
                      (p = qe(rt(o), s, t, n, r)),
                      (f =
                          rt(o).parent()[0] === l
                              ? p
                              : We(rt(o).parent(), l, t, n, r) + p)),
                (h = We(rt(l), u.documentElement, t, n, r)) + "," + c + "," + f
            );
        }
        function Xe(e, t, n, r, i, o, a) {
            var s = e.ownerDocument,
                l = s.createRange();
            return l.setStart(e, t), l.setEnd(n, r), Ge(l, i, o, a);
        }
        function Ke(e, t, n, r, i, o, a) {
            var s = e.ownerDocument;
            Le(e), Le(n);
            var l = s.createRange();
            return l.setStart(e, t), l.setEnd(n, r), Ge(l, i, o, a);
        }
        function Je(e, t, n, r, i) {
            var o = e.ownerDocument,
                a = o.createRange();
            return a.setStartBefore(e), a.setEndAfter(t), Ge(a, n, r, i);
        }
        function Qe(e, t, n, r, i) {
            Le(e, t);
            var o = qe(rt(e), t, n, r, i);
            return (
                We(rt(e).parent(), e.ownerDocument.documentElement, n, r, i) + o
            );
        }
        function Ye(e, t, n, r) {
            return Ue(e), We(rt(e), e.ownerDocument.documentElement, t, n, r);
        }
        function Ze(e, t, n, r, i) {
            return ze(e), Ve(t, e), We(rt(Be(t, e)), "package", n, r, i) + "!";
        }
        function et(e, t, n, r, i) {
            var o = t.getElementsByTagNameNS("*", "spine");
            return We(rt(rt(o).children()[e]), "package", n, r, i) + "!";
        }
        function tt(e, t) {
            return "epubcfi(" + e + t + ")";
        }
        var nt =
                "undefined" != typeof window
                    ? window
                    : "undefined" != typeof global
                        ? global
                        : "undefined" != typeof self
                            ? self
                            : {},
            rt = (function(e, t) {
                return (t = { exports: {} }), e(t, t.exports), t.exports;
            })(function(e) {
                !(function(t, n) {
                    e.exports = t.document
                        ? n(t, !0)
                        : function(e) {
                              if (!e.document)
                                  throw new Error(
                                      "jQuery requires a window with a document"
                                  );
                              return n(e);
                          };
                })("undefined" != typeof window ? window : nt, function(e, t) {
                    function n(e, t, n) {
                        t = t || ae;
                        var r,
                            i = t.createElement("script");
                        if (((i.text = e), n))
                            for (r in _e) n[r] && (i[r] = n[r]);
                        t.head.appendChild(i).parentNode.removeChild(i);
                    }
                    function r(e) {
                        return null == e
                            ? e + ""
                            : "object" == typeof e || "function" == typeof e
                                ? fe[pe.call(e)] || "object"
                                : typeof e;
                    }
                    function i(e) {
                        var t = !!e && "length" in e && e.length,
                            n = r(e);
                        return (
                            !be(e) &&
                            !ye(e) &&
                            ("array" === n ||
                                0 === t ||
                                ("number" == typeof t && t > 0 && t - 1 in e))
                        );
                    }
                    function o(e, t) {
                        return (
                            e.nodeName &&
                            e.nodeName.toLowerCase() === t.toLowerCase()
                        );
                    }
                    function a(e, t, n) {
                        return be(t)
                            ? we.grep(e, function(e, r) {
                                  return !!t.call(e, r, e) !== n;
                              })
                            : t.nodeType
                                ? we.grep(e, function(e) {
                                      return (e === t) !== n;
                                  })
                                : "string" != typeof t
                                    ? we.grep(e, function(e) {
                                          return de.call(t, e) > -1 !== n;
                                      })
                                    : we.filter(t, e, n);
                    }
                    function s(e, t) {
                        for (; (e = e[t]) && 1 !== e.nodeType; );
                        return e;
                    }
                    function l(e) {
                        var t = {};
                        return (
                            we.each(e.match(Ne) || [], function(e, n) {
                                t[n] = !0;
                            }),
                            t
                        );
                    }
                    function u(e) {
                        return e;
                    }
                    function c(e) {
                        throw e;
                    }
                    function d(e, t, n, r) {
                        var i;
                        try {
                            e && be((i = e.promise))
                                ? i
                                      .call(e)
                                      .done(t)
                                      .fail(n)
                                : e && be((i = e.then))
                                    ? i.call(e, t, n)
                                    : t.apply(void 0, [e].slice(r));
                        } catch (e) {
                            n.apply(void 0, [e]);
                        }
                    }
                    function f() {
                        ae.removeEventListener("DOMContentLoaded", f),
                            e.removeEventListener("load", f),
                            we.ready();
                    }
                    function p(e, t) {
                        return t.toUpperCase();
                    }
                    function h(e) {
                        return e.replace(Me, "ms-").replace(Le, p);
                    }
                    function m() {
                        this.expando = we.expando + m.uid++;
                    }
                    function g(e) {
                        return (
                            "true" === e ||
                            ("false" !== e &&
                                ("null" === e
                                    ? null
                                    : e === +e + ""
                                        ? +e
                                        : Be.test(e)
                                            ? JSON.parse(e)
                                            : e))
                        );
                    }
                    function v(e, t, n) {
                        var r;
                        if (void 0 === n && 1 === e.nodeType)
                            if (
                                ((r =
                                    "data-" +
                                    t.replace(Ve, "-$&").toLowerCase()),
                                "string" == typeof (n = e.getAttribute(r)))
                            ) {
                                try {
                                    n = g(n);
                                } catch (e) {}
                                ze.set(e, t, n);
                            } else n = void 0;
                        return n;
                    }
                    function b(e, t, n, r) {
                        var i,
                            o,
                            a = 20,
                            s = r
                                ? function() {
                                      return r.cur();
                                  }
                                : function() {
                                      return we.css(e, t, "");
                                  },
                            l = s(),
                            u = (n && n[3]) || (we.cssNumber[t] ? "" : "px"),
                            c =
                                (we.cssNumber[t] || ("px" !== u && +l)) &&
                                He.exec(we.css(e, t));
                        if (c && c[3] !== u) {
                            for (l /= 2, u = u || c[3], c = +l || 1; a--; )
                                we.style(e, t, c + u),
                                    (1 - o) * (1 - (o = s() / l || 0.5)) <= 0 &&
                                        (a = 0),
                                    (c /= o);
                            (c *= 2), we.style(e, t, c + u), (n = n || []);
                        }
                        return (
                            n &&
                                ((c = +c || +l || 0),
                                (i = n[1] ? c + (n[1] + 1) * n[2] : +n[2]),
                                r &&
                                    ((r.unit = u), (r.start = c), (r.end = i))),
                            i
                        );
                    }
                    function y(e) {
                        var t,
                            n = e.ownerDocument,
                            r = e.nodeName,
                            i = Xe[r];
                        return (
                            i ||
                            ((t = n.body.appendChild(n.createElement(r))),
                            (i = we.css(t, "display")),
                            t.parentNode.removeChild(t),
                            "none" === i && (i = "block"),
                            (Xe[r] = i),
                            i)
                        );
                    }
                    function _(e, t) {
                        for (var n, r, i = [], o = 0, a = e.length; o < a; o++)
                            (r = e[o]),
                                r.style &&
                                    ((n = r.style.display),
                                    t
                                        ? ("none" === n &&
                                              ((i[o] =
                                                  Ue.get(r, "display") || null),
                                              i[o] || (r.style.display = "")),
                                          "" === r.style.display &&
                                              We(r) &&
                                              (i[o] = y(r)))
                                        : "none" !== n &&
                                          ((i[o] = "none"),
                                          Ue.set(r, "display", n)));
                        for (o = 0; o < a; o++)
                            null != i[o] && (e[o].style.display = i[o]);
                        return e;
                    }
                    function w(e, t) {
                        var n;
                        return (
                            (n =
                                void 0 !== e.getElementsByTagName
                                    ? e.getElementsByTagName(t || "*")
                                    : void 0 !== e.querySelectorAll
                                        ? e.querySelectorAll(t || "*")
                                        : []),
                            void 0 === t || (t && o(e, t))
                                ? we.merge([e], n)
                                : n
                        );
                    }
                    function x(e, t) {
                        for (var n = 0, r = e.length; n < r; n++)
                            Ue.set(
                                e[n],
                                "globalEval",
                                !t || Ue.get(t[n], "globalEval")
                            );
                    }
                    function E(e, t, n, i, o) {
                        for (
                            var a,
                                s,
                                l,
                                u,
                                c,
                                d,
                                f = t.createDocumentFragment(),
                                p = [],
                                h = 0,
                                m = e.length;
                            h < m;
                            h++
                        )
                            if ((a = e[h]) || 0 === a)
                                if ("object" === r(a))
                                    we.merge(p, a.nodeType ? [a] : a);
                                else if (Ze.test(a)) {
                                    for (
                                        s =
                                            s ||
                                            f.appendChild(
                                                t.createElement("div")
                                            ),
                                            l = (Je.exec(a) || [
                                                "",
                                                ""
                                            ])[1].toLowerCase(),
                                            u = Ye[l] || Ye._default,
                                            s.innerHTML =
                                                u[1] +
                                                we.htmlPrefilter(a) +
                                                u[2],
                                            d = u[0];
                                        d--;

                                    )
                                        s = s.lastChild;
                                    we.merge(p, s.childNodes),
                                        (s = f.firstChild),
                                        (s.textContent = "");
                                } else p.push(t.createTextNode(a));
                        for (f.textContent = "", h = 0; (a = p[h++]); )
                            if (i && we.inArray(a, i) > -1) o && o.push(a);
                            else if (
                                ((c = we.contains(a.ownerDocument, a)),
                                (s = w(f.appendChild(a), "script")),
                                c && x(s),
                                n)
                            )
                                for (d = 0; (a = s[d++]); )
                                    Qe.test(a.type || "") && n.push(a);
                        return f;
                    }
                    function T() {
                        return !0;
                    }
                    function S() {
                        return !1;
                    }
                    function C() {
                        try {
                            return ae.activeElement;
                        } catch (e) {}
                    }
                    function k(e, t, n, r, i, o) {
                        var a, s;
                        if ("object" == typeof t) {
                            "string" != typeof n &&
                                ((r = r || n), (n = void 0));
                            for (s in t) k(e, s, n, r, t[s], o);
                            return e;
                        }
                        if (
                            (null == r && null == i
                                ? ((i = n), (r = n = void 0))
                                : null == i &&
                                  ("string" == typeof n
                                      ? ((i = r), (r = void 0))
                                      : ((i = r), (r = n), (n = void 0))),
                            !1 === i)
                        )
                            i = S;
                        else if (!i) return e;
                        return (
                            1 === o &&
                                ((a = i),
                                (i = function(e) {
                                    return (
                                        we().off(e), a.apply(this, arguments)
                                    );
                                }),
                                (i.guid = a.guid || (a.guid = we.guid++))),
                            e.each(function() {
                                we.event.add(this, t, i, r, n);
                            })
                        );
                    }
                    function I(e, t) {
                        return o(e, "table") &&
                            o(11 !== t.nodeType ? t : t.firstChild, "tr")
                            ? we(e).children("tbody")[0] || e
                            : e;
                    }
                    function P(e) {
                        return (
                            (e.type =
                                (null !== e.getAttribute("type")) +
                                "/" +
                                e.type),
                            e
                        );
                    }
                    function O(e) {
                        return (
                            "true/" === (e.type || "").slice(0, 5)
                                ? (e.type = e.type.slice(5))
                                : e.removeAttribute("type"),
                            e
                        );
                    }
                    function A(e, t) {
                        var n, r, i, o, a, s, l, u;
                        if (1 === t.nodeType) {
                            if (
                                Ue.hasData(e) &&
                                ((o = Ue.access(e)),
                                (a = Ue.set(t, o)),
                                (u = o.events))
                            ) {
                                delete a.handle, (a.events = {});
                                for (i in u)
                                    for (n = 0, r = u[i].length; n < r; n++)
                                        we.event.add(t, i, u[i][n]);
                            }
                            ze.hasData(e) &&
                                ((s = ze.access(e)),
                                (l = we.extend({}, s)),
                                ze.set(t, l));
                        }
                    }
                    function N(e, t) {
                        var n = t.nodeName.toLowerCase();
                        "input" === n && Ke.test(e.type)
                            ? (t.checked = e.checked)
                            : ("input" !== n && "textarea" !== n) ||
                              (t.defaultValue = e.defaultValue);
                    }
                    function R(e, t, r, i) {
                        t = ue.apply([], t);
                        var o,
                            a,
                            s,
                            l,
                            u,
                            c,
                            d = 0,
                            f = e.length,
                            p = f - 1,
                            h = t[0],
                            m = be(h);
                        if (
                            m ||
                            (f > 1 &&
                                "string" == typeof h &&
                                !ve.checkClone &&
                                at.test(h))
                        )
                            return e.each(function(n) {
                                var o = e.eq(n);
                                m && (t[0] = h.call(this, n, o.html())),
                                    R(o, t, r, i);
                            });
                        if (
                            f &&
                            ((o = E(t, e[0].ownerDocument, !1, e, i)),
                            (a = o.firstChild),
                            1 === o.childNodes.length && (o = a),
                            a || i)
                        ) {
                            for (
                                s = we.map(w(o, "script"), P), l = s.length;
                                d < f;
                                d++
                            )
                                (u = o),
                                    d !== p &&
                                        ((u = we.clone(u, !0, !0)),
                                        l && we.merge(s, w(u, "script"))),
                                    r.call(e[d], u, d);
                            if (l)
                                for (
                                    c = s[s.length - 1].ownerDocument,
                                        we.map(s, O),
                                        d = 0;
                                    d < l;
                                    d++
                                )
                                    (u = s[d]),
                                        Qe.test(u.type || "") &&
                                            !Ue.access(u, "globalEval") &&
                                            we.contains(c, u) &&
                                            (u.src &&
                                            "module" !==
                                                (u.type || "").toLowerCase()
                                                ? we._evalUrl &&
                                                  we._evalUrl(u.src)
                                                : n(
                                                      u.textContent.replace(
                                                          st,
                                                          ""
                                                      ),
                                                      c,
                                                      u
                                                  ));
                        }
                        return e;
                    }
                    function D(e, t, n) {
                        for (
                            var r, i = t ? we.filter(t, e) : e, o = 0;
                            null != (r = i[o]);
                            o++
                        )
                            n || 1 !== r.nodeType || we.cleanData(w(r)),
                                r.parentNode &&
                                    (n &&
                                        we.contains(r.ownerDocument, r) &&
                                        x(w(r, "script")),
                                    r.parentNode.removeChild(r));
                        return e;
                    }
                    function j(e, t, n) {
                        var r,
                            i,
                            o,
                            a,
                            s = e.style;
                        return (
                            (n = n || ut(e)),
                            n &&
                                ((a = n.getPropertyValue(t) || n[t]),
                                "" !== a ||
                                    we.contains(e.ownerDocument, e) ||
                                    (a = we.style(e, t)),
                                !ve.pixelBoxStyles() &&
                                    lt.test(a) &&
                                    ct.test(t) &&
                                    ((r = s.width),
                                    (i = s.minWidth),
                                    (o = s.maxWidth),
                                    (s.minWidth = s.maxWidth = s.width = a),
                                    (a = n.width),
                                    (s.width = r),
                                    (s.minWidth = i),
                                    (s.maxWidth = o))),
                            void 0 !== a ? a + "" : a
                        );
                    }
                    function M(e, t) {
                        return {
                            get: function() {
                                return e()
                                    ? void delete this.get
                                    : (this.get = t).apply(this, arguments);
                            }
                        };
                    }
                    function L(e) {
                        if (e in gt) return e;
                        for (
                            var t = e[0].toUpperCase() + e.slice(1),
                                n = mt.length;
                            n--;

                        )
                            if ((e = mt[n] + t) in gt) return e;
                    }
                    function F(e) {
                        var t = we.cssProps[e];
                        return t || (t = we.cssProps[e] = L(e) || e), t;
                    }
                    function U(e, t, n) {
                        var r = He.exec(t);
                        return r
                            ? Math.max(0, r[2] - (n || 0)) + (r[3] || "px")
                            : t;
                    }
                    function z(e, t, n, r, i, o) {
                        var a = "width" === t ? 1 : 0,
                            s = 0,
                            l = 0;
                        if (n === (r ? "border" : "content")) return 0;
                        for (; a < 4; a += 2)
                            "margin" === n &&
                                (l += we.css(e, n + qe[a], !0, i)),
                                r
                                    ? ("content" === n &&
                                          (l -= we.css(
                                              e,
                                              "padding" + qe[a],
                                              !0,
                                              i
                                          )),
                                      "margin" !== n &&
                                          (l -= we.css(
                                              e,
                                              "border" + qe[a] + "Width",
                                              !0,
                                              i
                                          )))
                                    : ((l += we.css(
                                          e,
                                          "padding" + qe[a],
                                          !0,
                                          i
                                      )),
                                      "padding" !== n
                                          ? (l += we.css(
                                                e,
                                                "border" + qe[a] + "Width",
                                                !0,
                                                i
                                            ))
                                          : (s += we.css(
                                                e,
                                                "border" + qe[a] + "Width",
                                                !0,
                                                i
                                            )));
                        return (
                            !r &&
                                o >= 0 &&
                                (l += Math.max(
                                    0,
                                    Math.ceil(
                                        e[
                                            "offset" +
                                                t[0].toUpperCase() +
                                                t.slice(1)
                                        ] -
                                            o -
                                            l -
                                            s -
                                            0.5
                                    )
                                )),
                            l
                        );
                    }
                    function B(e, t, n) {
                        var r = ut(e),
                            i = j(e, t, r),
                            o = "border-box" === we.css(e, "boxSizing", !1, r),
                            a = o;
                        if (lt.test(i)) {
                            if (!n) return i;
                            i = "auto";
                        }
                        return (
                            (a =
                                a &&
                                (ve.boxSizingReliable() || i === e.style[t])),
                            ("auto" === i ||
                                (!parseFloat(i) &&
                                    "inline" ===
                                        we.css(e, "display", !1, r))) &&
                                ((i =
                                    e[
                                        "offset" +
                                            t[0].toUpperCase() +
                                            t.slice(1)
                                    ]),
                                (a = !0)),
                            (i = parseFloat(i) || 0) +
                                z(
                                    e,
                                    t,
                                    n || (o ? "border" : "content"),
                                    a,
                                    r,
                                    i
                                ) +
                                "px"
                        );
                    }
                    function V(e, t, n, r, i) {
                        return new V.prototype.init(e, t, n, r, i);
                    }
                    function $() {
                        bt &&
                            (!1 === ae.hidden && e.requestAnimationFrame
                                ? e.requestAnimationFrame($)
                                : e.setTimeout($, we.fx.interval),
                            we.fx.tick());
                    }
                    function H() {
                        return (
                            e.setTimeout(function() {
                                vt = void 0;
                            }),
                            (vt = Date.now())
                        );
                    }
                    function q(e, t) {
                        var n,
                            r = 0,
                            i = { height: e };
                        for (t = t ? 1 : 0; r < 4; r += 2 - t)
                            (n = qe[r]),
                                (i["margin" + n] = i["padding" + n] = e);
                        return t && (i.opacity = i.width = e), i;
                    }
                    function W(e, t, n) {
                        for (
                            var r,
                                i = (K.tweeners[t] || []).concat(
                                    K.tweeners["*"]
                                ),
                                o = 0,
                                a = i.length;
                            o < a;
                            o++
                        )
                            if ((r = i[o].call(n, t, e))) return r;
                    }
                    function G(e, t, n) {
                        var r,
                            i,
                            o,
                            a,
                            s,
                            l,
                            u,
                            c,
                            d = "width" in t || "height" in t,
                            f = this,
                            p = {},
                            h = e.style,
                            m = e.nodeType && We(e),
                            g = Ue.get(e, "fxshow");
                        n.queue ||
                            ((a = we._queueHooks(e, "fx")),
                            null == a.unqueued &&
                                ((a.unqueued = 0),
                                (s = a.empty.fire),
                                (a.empty.fire = function() {
                                    a.unqueued || s();
                                })),
                            a.unqueued++,
                            f.always(function() {
                                f.always(function() {
                                    a.unqueued--,
                                        we.queue(e, "fx").length ||
                                            a.empty.fire();
                                });
                            }));
                        for (r in t)
                            if (((i = t[r]), yt.test(i))) {
                                if (
                                    (delete t[r],
                                    (o = o || "toggle" === i),
                                    i === (m ? "hide" : "show"))
                                ) {
                                    if ("show" !== i || !g || void 0 === g[r])
                                        continue;
                                    m = !0;
                                }
                                p[r] = (g && g[r]) || we.style(e, r);
                            }
                        if (
                            (l = !we.isEmptyObject(t)) ||
                            !we.isEmptyObject(p)
                        ) {
                            d &&
                                1 === e.nodeType &&
                                ((n.overflow = [
                                    h.overflow,
                                    h.overflowX,
                                    h.overflowY
                                ]),
                                (u = g && g.display),
                                null == u && (u = Ue.get(e, "display")),
                                (c = we.css(e, "display")),
                                "none" === c &&
                                    (u
                                        ? (c = u)
                                        : (_([e], !0),
                                          (u = e.style.display || u),
                                          (c = we.css(e, "display")),
                                          _([e]))),
                                ("inline" === c ||
                                    ("inline-block" === c && null != u)) &&
                                    "none" === we.css(e, "float") &&
                                    (l ||
                                        (f.done(function() {
                                            h.display = u;
                                        }),
                                        null == u &&
                                            ((c = h.display),
                                            (u = "none" === c ? "" : c))),
                                    (h.display = "inline-block"))),
                                n.overflow &&
                                    ((h.overflow = "hidden"),
                                    f.always(function() {
                                        (h.overflow = n.overflow[0]),
                                            (h.overflowX = n.overflow[1]),
                                            (h.overflowY = n.overflow[2]);
                                    })),
                                (l = !1);
                            for (r in p)
                                l ||
                                    (g
                                        ? "hidden" in g && (m = g.hidden)
                                        : (g = Ue.access(e, "fxshow", {
                                              display: u
                                          })),
                                    o && (g.hidden = !m),
                                    m && _([e], !0),
                                    f.done(function() {
                                        m || _([e]), Ue.remove(e, "fxshow");
                                        for (r in p) we.style(e, r, p[r]);
                                    })),
                                    (l = W(m ? g[r] : 0, r, f)),
                                    r in g ||
                                        ((g[r] = l.start),
                                        m &&
                                            ((l.end = l.start), (l.start = 0)));
                        }
                    }
                    function X(e, t) {
                        var n, r, i, o, a;
                        for (n in e)
                            if (
                                ((r = h(n)),
                                (i = t[r]),
                                (o = e[n]),
                                Array.isArray(o) &&
                                    ((i = o[1]), (o = e[n] = o[0])),
                                n !== r && ((e[r] = o), delete e[n]),
                                (a = we.cssHooks[r]) && "expand" in a)
                            ) {
                                (o = a.expand(o)), delete e[r];
                                for (n in o)
                                    n in e || ((e[n] = o[n]), (t[n] = i));
                            } else t[r] = i;
                    }
                    function K(e, t, n) {
                        var r,
                            i,
                            o = 0,
                            a = K.prefilters.length,
                            s = we.Deferred().always(function() {
                                delete l.elem;
                            }),
                            l = function() {
                                if (i) return !1;
                                for (
                                    var t = vt || H(),
                                        n = Math.max(
                                            0,
                                            u.startTime + u.duration - t
                                        ),
                                        r = n / u.duration || 0,
                                        o = 1 - r,
                                        a = 0,
                                        l = u.tweens.length;
                                    a < l;
                                    a++
                                )
                                    u.tweens[a].run(o);
                                return (
                                    s.notifyWith(e, [u, o, n]),
                                    o < 1 && l
                                        ? n
                                        : (l || s.notifyWith(e, [u, 1, 0]),
                                          s.resolveWith(e, [u]),
                                          !1)
                                );
                            },
                            u = s.promise({
                                elem: e,
                                props: we.extend({}, t),
                                opts: we.extend(
                                    !0,
                                    {
                                        specialEasing: {},
                                        easing: we.easing._default
                                    },
                                    n
                                ),
                                originalProperties: t,
                                originalOptions: n,
                                startTime: vt || H(),
                                duration: n.duration,
                                tweens: [],
                                createTween: function(t, n) {
                                    var r = we.Tween(
                                        e,
                                        u.opts,
                                        t,
                                        n,
                                        u.opts.specialEasing[t] || u.opts.easing
                                    );
                                    return u.tweens.push(r), r;
                                },
                                stop: function(t) {
                                    var n = 0,
                                        r = t ? u.tweens.length : 0;
                                    if (i) return this;
                                    for (i = !0; n < r; n++) u.tweens[n].run(1);
                                    return (
                                        t
                                            ? (s.notifyWith(e, [u, 1, 0]),
                                              s.resolveWith(e, [u, t]))
                                            : s.rejectWith(e, [u, t]),
                                        this
                                    );
                                }
                            }),
                            c = u.props;
                        for (X(c, u.opts.specialEasing); o < a; o++)
                            if ((r = K.prefilters[o].call(u, e, c, u.opts)))
                                return (
                                    be(r.stop) &&
                                        (we._queueHooks(
                                            u.elem,
                                            u.opts.queue
                                        ).stop = r.stop.bind(r)),
                                    r
                                );
                        return (
                            we.map(c, W, u),
                            be(u.opts.start) && u.opts.start.call(e, u),
                            u
                                .progress(u.opts.progress)
                                .done(u.opts.done, u.opts.complete)
                                .fail(u.opts.fail)
                                .always(u.opts.always),
                            we.fx.timer(
                                we.extend(l, {
                                    elem: e,
                                    anim: u,
                                    queue: u.opts.queue
                                })
                            ),
                            u
                        );
                    }
                    function J(e) {
                        return (e.match(Ne) || []).join(" ");
                    }
                    function Q(e) {
                        return (
                            (e.getAttribute && e.getAttribute("class")) || ""
                        );
                    }
                    function Y(e) {
                        return Array.isArray(e)
                            ? e
                            : "string" == typeof e
                                ? e.match(Ne) || []
                                : [];
                    }
                    function Z(e, t, n, i) {
                        var o;
                        if (Array.isArray(t))
                            we.each(t, function(t, r) {
                                n || At.test(e)
                                    ? i(e, r)
                                    : Z(
                                          e +
                                              "[" +
                                              ("object" == typeof r && null != r
                                                  ? t
                                                  : "") +
                                              "]",
                                          r,
                                          n,
                                          i
                                      );
                            });
                        else if (n || "object" !== r(t)) i(e, t);
                        else for (o in t) Z(e + "[" + o + "]", t[o], n, i);
                    }
                    function ee(e) {
                        return function(t, n) {
                            "string" != typeof t && ((n = t), (t = "*"));
                            var r,
                                i = 0,
                                o = t.toLowerCase().match(Ne) || [];
                            if (be(n))
                                for (; (r = o[i++]); )
                                    "+" === r[0]
                                        ? ((r = r.slice(1) || "*"),
                                          (e[r] = e[r] || []).unshift(n))
                                        : (e[r] = e[r] || []).push(n);
                        };
                    }
                    function te(e, t, n, r) {
                        function i(s) {
                            var l;
                            return (
                                (o[s] = !0),
                                we.each(e[s] || [], function(e, s) {
                                    var u = s(t, n, r);
                                    return "string" != typeof u || a || o[u]
                                        ? a
                                            ? !(l = u)
                                            : void 0
                                        : (t.dataTypes.unshift(u), i(u), !1);
                                }),
                                l
                            );
                        }
                        var o = {},
                            a = e === $t;
                        return i(t.dataTypes[0]) || (!o["*"] && i("*"));
                    }
                    function ne(e, t) {
                        var n,
                            r,
                            i = we.ajaxSettings.flatOptions || {};
                        for (n in t)
                            void 0 !== t[n] &&
                                ((i[n] ? e : r || (r = {}))[n] = t[n]);
                        return r && we.extend(!0, e, r), e;
                    }
                    function re(e, t, n) {
                        for (
                            var r, i, o, a, s = e.contents, l = e.dataTypes;
                            "*" === l[0];

                        )
                            l.shift(),
                                void 0 === r &&
                                    (r =
                                        e.mimeType ||
                                        t.getResponseHeader("Content-Type"));
                        if (r)
                            for (i in s)
                                if (s[i] && s[i].test(r)) {
                                    l.unshift(i);
                                    break;
                                }
                        if (l[0] in n) o = l[0];
                        else {
                            for (i in n) {
                                if (!l[0] || e.converters[i + " " + l[0]]) {
                                    o = i;
                                    break;
                                }
                                a || (a = i);
                            }
                            o = o || a;
                        }
                        if (o) return o !== l[0] && l.unshift(o), n[o];
                    }
                    function ie(e, t, n, r) {
                        var i,
                            o,
                            a,
                            s,
                            l,
                            u = {},
                            c = e.dataTypes.slice();
                        if (c[1])
                            for (a in e.converters)
                                u[a.toLowerCase()] = e.converters[a];
                        for (o = c.shift(); o; )
                            if (
                                (e.responseFields[o] &&
                                    (n[e.responseFields[o]] = t),
                                !l &&
                                    r &&
                                    e.dataFilter &&
                                    (t = e.dataFilter(t, e.dataType)),
                                (l = o),
                                (o = c.shift()))
                            )
                                if ("*" === o) o = l;
                                else if ("*" !== l && l !== o) {
                                    if (!(a = u[l + " " + o] || u["* " + o]))
                                        for (i in u)
                                            if (
                                                ((s = i.split(" ")),
                                                s[1] === o &&
                                                    (a =
                                                        u[l + " " + s[0]] ||
                                                        u["* " + s[0]]))
                                            ) {
                                                !0 === a
                                                    ? (a = u[i])
                                                    : !0 !== u[i] &&
                                                      ((o = s[0]),
                                                      c.unshift(s[1]));
                                                break;
                                            }
                                    if (!0 !== a)
                                        if (a && e.throws) t = a(t);
                                        else
                                            try {
                                                t = a(t);
                                            } catch (e) {
                                                return {
                                                    state: "parsererror",
                                                    error: a
                                                        ? e
                                                        : "No conversion from " +
                                                          l +
                                                          " to " +
                                                          o
                                                };
                                            }
                                }
                        return { state: "success", data: t };
                    }
                    var oe = [],
                        ae = e.document,
                        se = Object.getPrototypeOf,
                        le = oe.slice,
                        ue = oe.concat,
                        ce = oe.push,
                        de = oe.indexOf,
                        fe = {},
                        pe = fe.toString,
                        he = fe.hasOwnProperty,
                        me = he.toString,
                        ge = me.call(Object),
                        ve = {},
                        be = function(e) {
                            return (
                                "function" == typeof e &&
                                "number" != typeof e.nodeType
                            );
                        },
                        ye = function(e) {
                            return null != e && e === e.window;
                        },
                        _e = { type: !0, src: !0, noModule: !0 },
                        we = function(e, t) {
                            return new we.fn.init(e, t);
                        },
                        xe = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
                    (we.fn = we.prototype = {
                        jquery: "3.3.1",
                        constructor: we,
                        length: 0,
                        toArray: function() {
                            return le.call(this);
                        },
                        get: function(e) {
                            return null == e
                                ? le.call(this)
                                : e < 0
                                    ? this[e + this.length]
                                    : this[e];
                        },
                        pushStack: function(e) {
                            var t = we.merge(this.constructor(), e);
                            return (t.prevObject = this), t;
                        },
                        each: function(e) {
                            return we.each(this, e);
                        },
                        map: function(e) {
                            return this.pushStack(
                                we.map(this, function(t, n) {
                                    return e.call(t, n, t);
                                })
                            );
                        },
                        slice: function() {
                            return this.pushStack(le.apply(this, arguments));
                        },
                        first: function() {
                            return this.eq(0);
                        },
                        last: function() {
                            return this.eq(-1);
                        },
                        eq: function(e) {
                            var t = this.length,
                                n = +e + (e < 0 ? t : 0);
                            return this.pushStack(
                                n >= 0 && n < t ? [this[n]] : []
                            );
                        },
                        end: function() {
                            return this.prevObject || this.constructor();
                        },
                        push: ce,
                        sort: oe.sort,
                        splice: oe.splice
                    }),
                        (we.extend = we.fn.extend = function() {
                            var e,
                                t,
                                n,
                                r,
                                i,
                                o,
                                a = arguments[0] || {},
                                s = 1,
                                l = arguments.length,
                                u = !1;
                            for (
                                "boolean" == typeof a &&
                                    ((u = a), (a = arguments[s] || {}), s++),
                                    "object" == typeof a || be(a) || (a = {}),
                                    s === l && ((a = this), s--);
                                s < l;
                                s++
                            )
                                if (null != (e = arguments[s]))
                                    for (t in e)
                                        (n = a[t]),
                                            (r = e[t]),
                                            a !== r &&
                                                (u &&
                                                r &&
                                                (we.isPlainObject(r) ||
                                                    (i = Array.isArray(r)))
                                                    ? (i
                                                          ? ((i = !1),
                                                            (o =
                                                                n &&
                                                                Array.isArray(n)
                                                                    ? n
                                                                    : []))
                                                          : (o =
                                                                n &&
                                                                we.isPlainObject(
                                                                    n
                                                                )
                                                                    ? n
                                                                    : {}),
                                                      (a[t] = we.extend(
                                                          u,
                                                          o,
                                                          r
                                                      )))
                                                    : void 0 !== r &&
                                                      (a[t] = r));
                            return a;
                        }),
                        we.extend({
                            expando:
                                "jQuery" +
                                ("3.3.1" + Math.random()).replace(/\D/g, ""),
                            isReady: !0,
                            error: function(e) {
                                throw new Error(e);
                            },
                            noop: function() {},
                            isPlainObject: function(e) {
                                var t, n;
                                return (
                                    !(!e || "[object Object]" !== pe.call(e)) &&
                                    (!(t = se(e)) ||
                                        ("function" ==
                                            typeof (n =
                                                he.call(t, "constructor") &&
                                                t.constructor) &&
                                            me.call(n) === ge))
                                );
                            },
                            isEmptyObject: function(e) {
                                var t;
                                for (t in e) return !1;
                                return !0;
                            },
                            globalEval: function(e) {
                                n(e);
                            },
                            each: function(e, t) {
                                var n,
                                    r = 0;
                                if (i(e))
                                    for (
                                        n = e.length;
                                        r < n && !1 !== t.call(e[r], r, e[r]);
                                        r++
                                    );
                                else
                                    for (r in e)
                                        if (!1 === t.call(e[r], r, e[r])) break;
                                return e;
                            },
                            trim: function(e) {
                                return null == e
                                    ? ""
                                    : (e + "").replace(xe, "");
                            },
                            makeArray: function(e, t) {
                                var n = t || [];
                                return (
                                    null != e &&
                                        (i(Object(e))
                                            ? we.merge(
                                                  n,
                                                  "string" == typeof e ? [e] : e
                                              )
                                            : ce.call(n, e)),
                                    n
                                );
                            },
                            inArray: function(e, t, n) {
                                return null == t ? -1 : de.call(t, e, n);
                            },
                            merge: function(e, t) {
                                for (
                                    var n = +t.length, r = 0, i = e.length;
                                    r < n;
                                    r++
                                )
                                    e[i++] = t[r];
                                return (e.length = i), e;
                            },
                            grep: function(e, t, n) {
                                for (
                                    var r = [], i = 0, o = e.length, a = !n;
                                    i < o;
                                    i++
                                )
                                    !t(e[i], i) !== a && r.push(e[i]);
                                return r;
                            },
                            map: function(e, t, n) {
                                var r,
                                    o,
                                    a = 0,
                                    s = [];
                                if (i(e))
                                    for (r = e.length; a < r; a++)
                                        null != (o = t(e[a], a, n)) &&
                                            s.push(o);
                                else
                                    for (a in e)
                                        null != (o = t(e[a], a, n)) &&
                                            s.push(o);
                                return ue.apply([], s);
                            },
                            guid: 1,
                            support: ve
                        }),
                        "function" == typeof Symbol &&
                            (we.fn[Symbol.iterator] = oe[Symbol.iterator]),
                        we.each(
                            "Boolean Number String Function Array Date RegExp Object Error Symbol".split(
                                " "
                            ),
                            function(e, t) {
                                fe["[object " + t + "]"] = t.toLowerCase();
                            }
                        );
                    var Ee = (function(e) {
                        function t(e, t, n, r) {
                            var i,
                                o,
                                a,
                                s,
                                l,
                                c,
                                f,
                                p = t && t.ownerDocument,
                                h = t ? t.nodeType : 9;
                            if (
                                ((n = n || []),
                                "string" != typeof e ||
                                    !e ||
                                    (1 !== h && 9 !== h && 11 !== h))
                            )
                                return n;
                            if (
                                !r &&
                                ((t ? t.ownerDocument || t : U) !== A && O(t),
                                (t = t || A),
                                R)
                            ) {
                                if (11 !== h && (l = me.exec(e)))
                                    if ((i = l[1])) {
                                        if (9 === h) {
                                            if (!(a = t.getElementById(i)))
                                                return n;
                                            if (a.id === i) return n.push(a), n;
                                        } else if (
                                            p &&
                                            (a = p.getElementById(i)) &&
                                            L(t, a) &&
                                            a.id === i
                                        )
                                            return n.push(a), n;
                                    } else {
                                        if (l[2])
                                            return (
                                                J.apply(
                                                    n,
                                                    t.getElementsByTagName(e)
                                                ),
                                                n
                                            );
                                        if (
                                            (i = l[3]) &&
                                            _.getElementsByClassName &&
                                            t.getElementsByClassName
                                        )
                                            return (
                                                J.apply(
                                                    n,
                                                    t.getElementsByClassName(i)
                                                ),
                                                n
                                            );
                                    }
                                if (
                                    _.qsa &&
                                    !H[e + " "] &&
                                    (!D || !D.test(e))
                                ) {
                                    if (1 !== h) (p = t), (f = e);
                                    else if (
                                        "object" !== t.nodeName.toLowerCase()
                                    ) {
                                        for (
                                            (s = t.getAttribute("id"))
                                                ? (s = s.replace(ye, _e))
                                                : t.setAttribute("id", (s = F)),
                                                c = T(e),
                                                o = c.length;
                                            o--;

                                        )
                                            c[o] = "#" + s + " " + d(c[o]);
                                        (f = c.join(",")),
                                            (p =
                                                (ge.test(e) &&
                                                    u(t.parentNode)) ||
                                                t);
                                    }
                                    if (f)
                                        try {
                                            return (
                                                J.apply(
                                                    n,
                                                    p.querySelectorAll(f)
                                                ),
                                                n
                                            );
                                        } catch (e) {
                                        } finally {
                                            s === F && t.removeAttribute("id");
                                        }
                                }
                            }
                            return C(e.replace(oe, "$1"), t, n, r);
                        }
                        function n() {
                            function e(n, r) {
                                return (
                                    t.push(n + " ") > w.cacheLength &&
                                        delete e[t.shift()],
                                    (e[n + " "] = r)
                                );
                            }
                            var t = [];
                            return e;
                        }
                        function r(e) {
                            return (e[F] = !0), e;
                        }
                        function i(e) {
                            var t = A.createElement("fieldset");
                            try {
                                return !!e(t);
                            } catch (e) {
                                return !1;
                            } finally {
                                t.parentNode && t.parentNode.removeChild(t),
                                    (t = null);
                            }
                        }
                        function o(e, t) {
                            for (var n = e.split("|"), r = n.length; r--; )
                                w.attrHandle[n[r]] = t;
                        }
                        function a(e, t) {
                            var n = t && e,
                                r =
                                    n &&
                                    1 === e.nodeType &&
                                    1 === t.nodeType &&
                                    e.sourceIndex - t.sourceIndex;
                            if (r) return r;
                            if (n)
                                for (; (n = n.nextSibling); )
                                    if (n === t) return -1;
                            return e ? 1 : -1;
                        }
                        function s(e) {
                            return function(t) {
                                return "form" in t
                                    ? t.parentNode && !1 === t.disabled
                                        ? "label" in t
                                            ? "label" in t.parentNode
                                                ? t.parentNode.disabled === e
                                                : t.disabled === e
                                            : t.isDisabled === e ||
                                              (t.isDisabled !== !e &&
                                                  xe(t) === e)
                                        : t.disabled === e
                                    : "label" in t && t.disabled === e;
                            };
                        }
                        function l(e) {
                            return r(function(t) {
                                return (
                                    (t = +t),
                                    r(function(n, r) {
                                        for (
                                            var i,
                                                o = e([], n.length, t),
                                                a = o.length;
                                            a--;

                                        )
                                            n[(i = o[a])] &&
                                                (n[i] = !(r[i] = n[i]));
                                    })
                                );
                            });
                        }
                        function u(e) {
                            return e && void 0 !== e.getElementsByTagName && e;
                        }
                        function c() {}
                        function d(e) {
                            for (var t = 0, n = e.length, r = ""; t < n; t++)
                                r += e[t].value;
                            return r;
                        }
                        function f(e, t, n) {
                            var r = t.dir,
                                i = t.next,
                                o = i || r,
                                a = n && "parentNode" === o,
                                s = B++;
                            return t.first
                                ? function(t, n, i) {
                                      for (; (t = t[r]); )
                                          if (1 === t.nodeType || a)
                                              return e(t, n, i);
                                      return !1;
                                  }
                                : function(t, n, l) {
                                      var u,
                                          c,
                                          d,
                                          f = [z, s];
                                      if (l) {
                                          for (; (t = t[r]); )
                                              if (
                                                  (1 === t.nodeType || a) &&
                                                  e(t, n, l)
                                              )
                                                  return !0;
                                      } else
                                          for (; (t = t[r]); )
                                              if (1 === t.nodeType || a)
                                                  if (
                                                      ((d =
                                                          t[F] || (t[F] = {})),
                                                      (c =
                                                          d[t.uniqueID] ||
                                                          (d[t.uniqueID] = {})),
                                                      i &&
                                                          i ===
                                                              t.nodeName.toLowerCase())
                                                  )
                                                      t = t[r] || t;
                                                  else {
                                                      if (
                                                          (u = c[o]) &&
                                                          u[0] === z &&
                                                          u[1] === s
                                                      )
                                                          return (f[2] = u[2]);
                                                      if (
                                                          ((c[o] = f),
                                                          (f[2] = e(t, n, l)))
                                                      )
                                                          return !0;
                                                  }
                                      return !1;
                                  };
                        }
                        function p(e) {
                            return e.length > 1
                                ? function(t, n, r) {
                                      for (var i = e.length; i--; )
                                          if (!e[i](t, n, r)) return !1;
                                      return !0;
                                  }
                                : e[0];
                        }
                        function h(e, n, r) {
                            for (var i = 0, o = n.length; i < o; i++)
                                t(e, n[i], r);
                            return r;
                        }
                        function m(e, t, n, r, i) {
                            for (
                                var o,
                                    a = [],
                                    s = 0,
                                    l = e.length,
                                    u = null != t;
                                s < l;
                                s++
                            )
                                (o = e[s]) &&
                                    ((n && !n(o, r, i)) ||
                                        (a.push(o), u && t.push(s)));
                            return a;
                        }
                        function g(e, t, n, i, o, a) {
                            return (
                                i && !i[F] && (i = g(i)),
                                o && !o[F] && (o = g(o, a)),
                                r(function(r, a, s, l) {
                                    var u,
                                        c,
                                        d,
                                        f = [],
                                        p = [],
                                        g = a.length,
                                        v =
                                            r ||
                                            h(
                                                t || "*",
                                                s.nodeType ? [s] : s,
                                                []
                                            ),
                                        b =
                                            !e || (!r && t)
                                                ? v
                                                : m(v, f, e, s, l),
                                        y = n
                                            ? o || (r ? e : g || i)
                                                ? []
                                                : a
                                            : b;
                                    if ((n && n(b, y, s, l), i))
                                        for (
                                            u = m(y, p),
                                                i(u, [], s, l),
                                                c = u.length;
                                            c--;

                                        )
                                            (d = u[c]) &&
                                                (y[p[c]] = !(b[p[c]] = d));
                                    if (r) {
                                        if (o || e) {
                                            if (o) {
                                                for (
                                                    u = [], c = y.length;
                                                    c--;

                                                )
                                                    (d = y[c]) &&
                                                        u.push((b[c] = d));
                                                o(null, (y = []), u, l);
                                            }
                                            for (c = y.length; c--; )
                                                (d = y[c]) &&
                                                    (u = o ? Y(r, d) : f[c]) >
                                                        -1 &&
                                                    (r[u] = !(a[u] = d));
                                        }
                                    } else (y = m(y === a ? y.splice(g, y.length) : y)), o ? o(null, a, y, l) : J.apply(a, y);
                                })
                            );
                        }
                        function v(e) {
                            for (
                                var t,
                                    n,
                                    r,
                                    i = e.length,
                                    o = w.relative[e[0].type],
                                    a = o || w.relative[" "],
                                    s = o ? 1 : 0,
                                    l = f(
                                        function(e) {
                                            return e === t;
                                        },
                                        a,
                                        !0
                                    ),
                                    u = f(
                                        function(e) {
                                            return Y(t, e) > -1;
                                        },
                                        a,
                                        !0
                                    ),
                                    c = [
                                        function(e, n, r) {
                                            var i =
                                                (!o && (r || n !== k)) ||
                                                ((t = n).nodeType
                                                    ? l(e, n, r)
                                                    : u(e, n, r));
                                            return (t = null), i;
                                        }
                                    ];
                                s < i;
                                s++
                            )
                                if ((n = w.relative[e[s].type]))
                                    c = [f(p(c), n)];
                                else {
                                    if (
                                        ((n = w.filter[e[s].type].apply(
                                            null,
                                            e[s].matches
                                        )),
                                        n[F])
                                    ) {
                                        for (
                                            r = ++s;
                                            r < i && !w.relative[e[r].type];
                                            r++
                                        );
                                        return g(
                                            s > 1 && p(c),
                                            s > 1 &&
                                                d(
                                                    e.slice(0, s - 1).concat({
                                                        value:
                                                            " " ===
                                                            e[s - 2].type
                                                                ? "*"
                                                                : ""
                                                    })
                                                ).replace(oe, "$1"),
                                            n,
                                            s < r && v(e.slice(s, r)),
                                            r < i && v((e = e.slice(r))),
                                            r < i && d(e)
                                        );
                                    }
                                    c.push(n);
                                }
                            return p(c);
                        }
                        function b(e, n) {
                            var i = n.length > 0,
                                o = e.length > 0,
                                a = function(r, a, s, l, u) {
                                    var c,
                                        d,
                                        f,
                                        p = 0,
                                        h = "0",
                                        g = r && [],
                                        v = [],
                                        b = k,
                                        y = r || (o && w.find.TAG("*", u)),
                                        _ = (z +=
                                            null == b
                                                ? 1
                                                : Math.random() || 0.1),
                                        x = y.length;
                                    for (
                                        u && (k = a === A || a || u);
                                        h !== x && null != (c = y[h]);
                                        h++
                                    ) {
                                        if (o && c) {
                                            for (
                                                d = 0,
                                                    a ||
                                                        c.ownerDocument === A ||
                                                        (O(c), (s = !R));
                                                (f = e[d++]);

                                            )
                                                if (f(c, a || A, s)) {
                                                    l.push(c);
                                                    break;
                                                }
                                            u && (z = _);
                                        }
                                        i &&
                                            ((c = !f && c) && p--,
                                            r && g.push(c));
                                    }
                                    if (((p += h), i && h !== p)) {
                                        for (d = 0; (f = n[d++]); )
                                            f(g, v, a, s);
                                        if (r) {
                                            if (p > 0)
                                                for (; h--; )
                                                    g[h] ||
                                                        v[h] ||
                                                        (v[h] = X.call(l));
                                            v = m(v);
                                        }
                                        J.apply(l, v),
                                            u &&
                                                !r &&
                                                v.length > 0 &&
                                                p + n.length > 1 &&
                                                t.uniqueSort(l);
                                    }
                                    return u && ((z = _), (k = b)), g;
                                };
                            return i ? r(a) : a;
                        }
                        var y,
                            _,
                            w,
                            x,
                            E,
                            T,
                            S,
                            C,
                            k,
                            I,
                            P,
                            O,
                            A,
                            N,
                            R,
                            D,
                            j,
                            M,
                            L,
                            F = "sizzle" + 1 * new Date(),
                            U = e.document,
                            z = 0,
                            B = 0,
                            V = n(),
                            $ = n(),
                            H = n(),
                            q = function(e, t) {
                                return e === t && (P = !0), 0;
                            },
                            W = {}.hasOwnProperty,
                            G = [],
                            X = G.pop,
                            K = G.push,
                            J = G.push,
                            Q = G.slice,
                            Y = function(e, t) {
                                for (var n = 0, r = e.length; n < r; n++)
                                    if (e[n] === t) return n;
                                return -1;
                            },
                            Z =
                                "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                            ee = "[\\x20\\t\\r\\n\\f]",
                            te = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
                            ne =
                                "\\[" +
                                ee +
                                "*(" +
                                te +
                                ")(?:" +
                                ee +
                                "*([*^$|!~]?=)" +
                                ee +
                                "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" +
                                te +
                                "))|)" +
                                ee +
                                "*\\]",
                            re =
                                ":(" +
                                te +
                                ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
                                ne +
                                ")*)|.*)\\)|)",
                            ie = new RegExp(ee + "+", "g"),
                            oe = new RegExp(
                                "^" +
                                    ee +
                                    "+|((?:^|[^\\\\])(?:\\\\.)*)" +
                                    ee +
                                    "+$",
                                "g"
                            ),
                            ae = new RegExp("^" + ee + "*," + ee + "*"),
                            se = new RegExp(
                                "^" + ee + "*([>+~]|" + ee + ")" + ee + "*"
                            ),
                            le = new RegExp(
                                "=" + ee + "*([^\\]'\"]*?)" + ee + "*\\]",
                                "g"
                            ),
                            ue = new RegExp(re),
                            ce = new RegExp("^" + te + "$"),
                            de = {
                                ID: new RegExp("^#(" + te + ")"),
                                CLASS: new RegExp("^\\.(" + te + ")"),
                                TAG: new RegExp("^(" + te + "|[*])"),
                                ATTR: new RegExp("^" + ne),
                                PSEUDO: new RegExp("^" + re),
                                CHILD: new RegExp(
                                    "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
                                        ee +
                                        "*(even|odd|(([+-]|)(\\d*)n|)" +
                                        ee +
                                        "*(?:([+-]|)" +
                                        ee +
                                        "*(\\d+)|))" +
                                        ee +
                                        "*\\)|)",
                                    "i"
                                ),
                                bool: new RegExp("^(?:" + Z + ")$", "i"),
                                needsContext: new RegExp(
                                    "^" +
                                        ee +
                                        "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                                        ee +
                                        "*((?:-\\d)?\\d*)" +
                                        ee +
                                        "*\\)|)(?=[^-]|$)",
                                    "i"
                                )
                            },
                            fe = /^(?:input|select|textarea|button)$/i,
                            pe = /^h\d$/i,
                            he = /^[^{]+\{\s*\[native \w/,
                            me = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                            ge = /[+~]/,
                            ve = new RegExp(
                                "\\\\([\\da-f]{1,6}" + ee + "?|(" + ee + ")|.)",
                                "ig"
                            ),
                            be = function(e, t, n) {
                                var r = "0x" + t - 65536;
                                return r !== r || n
                                    ? t
                                    : r < 0
                                        ? String.fromCharCode(r + 65536)
                                        : String.fromCharCode(
                                              (r >> 10) | 55296,
                                              (1023 & r) | 56320
                                          );
                            },
                            ye = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
                            _e = function(e, t) {
                                return t
                                    ? "\0" === e
                                        ? "�"
                                        : e.slice(0, -1) +
                                          "\\" +
                                          e
                                              .charCodeAt(e.length - 1)
                                              .toString(16) +
                                          " "
                                    : "\\" + e;
                            },
                            we = function() {
                                O();
                            },
                            xe = f(
                                function(e) {
                                    return (
                                        !0 === e.disabled &&
                                        ("form" in e || "label" in e)
                                    );
                                },
                                { dir: "parentNode", next: "legend" }
                            );
                        try {
                            J.apply((G = Q.call(U.childNodes)), U.childNodes),
                                G[U.childNodes.length].nodeType;
                        } catch (e) {
                            J = {
                                apply: G.length
                                    ? function(e, t) {
                                          K.apply(e, Q.call(t));
                                      }
                                    : function(e, t) {
                                          for (
                                              var n = e.length, r = 0;
                                              (e[n++] = t[r++]);

                                          );
                                          e.length = n - 1;
                                      }
                            };
                        }
                        (_ = t.support = {}),
                            (E = t.isXML = function(e) {
                                var t =
                                    e && (e.ownerDocument || e).documentElement;
                                return !!t && "HTML" !== t.nodeName;
                            }),
                            (O = t.setDocument = function(e) {
                                var t,
                                    n,
                                    r = e ? e.ownerDocument || e : U;
                                return r !== A &&
                                    9 === r.nodeType &&
                                    r.documentElement
                                    ? ((A = r),
                                      (N = A.documentElement),
                                      (R = !E(A)),
                                      U !== A &&
                                          (n = A.defaultView) &&
                                          n.top !== n &&
                                          (n.addEventListener
                                              ? n.addEventListener(
                                                    "unload",
                                                    we,
                                                    !1
                                                )
                                              : n.attachEvent &&
                                                n.attachEvent("onunload", we)),
                                      (_.attributes = i(function(e) {
                                          return (
                                              (e.className = "i"),
                                              !e.getAttribute("className")
                                          );
                                      })),
                                      (_.getElementsByTagName = i(function(e) {
                                          return (
                                              e.appendChild(
                                                  A.createComment("")
                                              ),
                                              !e.getElementsByTagName("*")
                                                  .length
                                          );
                                      })),
                                      (_.getElementsByClassName = he.test(
                                          A.getElementsByClassName
                                      )),
                                      (_.getById = i(function(e) {
                                          return (
                                              (N.appendChild(e).id = F),
                                              !A.getElementsByName ||
                                                  !A.getElementsByName(F).length
                                          );
                                      })),
                                      _.getById
                                          ? ((w.filter.ID = function(e) {
                                                var t = e.replace(ve, be);
                                                return function(e) {
                                                    return (
                                                        e.getAttribute("id") ===
                                                        t
                                                    );
                                                };
                                            }),
                                            (w.find.ID = function(e, t) {
                                                if (
                                                    void 0 !==
                                                        t.getElementById &&
                                                    R
                                                ) {
                                                    var n = t.getElementById(e);
                                                    return n ? [n] : [];
                                                }
                                            }))
                                          : ((w.filter.ID = function(e) {
                                                var t = e.replace(ve, be);
                                                return function(e) {
                                                    var n =
                                                        void 0 !==
                                                            e.getAttributeNode &&
                                                        e.getAttributeNode(
                                                            "id"
                                                        );
                                                    return n && n.value === t;
                                                };
                                            }),
                                            (w.find.ID = function(e, t) {
                                                if (
                                                    void 0 !==
                                                        t.getElementById &&
                                                    R
                                                ) {
                                                    var n,
                                                        r,
                                                        i,
                                                        o = t.getElementById(e);
                                                    if (o) {
                                                        if (
                                                            (n = o.getAttributeNode(
                                                                "id"
                                                            )) &&
                                                            n.value === e
                                                        )
                                                            return [o];
                                                        for (
                                                            i = t.getElementsByName(
                                                                e
                                                            ),
                                                                r = 0;
                                                            (o = i[r++]);

                                                        )
                                                            if (
                                                                (n = o.getAttributeNode(
                                                                    "id"
                                                                )) &&
                                                                n.value === e
                                                            )
                                                                return [o];
                                                    }
                                                    return [];
                                                }
                                            })),
                                      (w.find.TAG = _.getElementsByTagName
                                          ? function(e, t) {
                                                return void 0 !==
                                                    t.getElementsByTagName
                                                    ? t.getElementsByTagName(e)
                                                    : _.qsa
                                                        ? t.querySelectorAll(e)
                                                        : void 0;
                                            }
                                          : function(e, t) {
                                                var n,
                                                    r = [],
                                                    i = 0,
                                                    o = t.getElementsByTagName(
                                                        e
                                                    );
                                                if ("*" === e) {
                                                    for (; (n = o[i++]); )
                                                        1 === n.nodeType &&
                                                            r.push(n);
                                                    return r;
                                                }
                                                return o;
                                            }),
                                      (w.find.CLASS =
                                          _.getElementsByClassName &&
                                          function(e, t) {
                                              if (
                                                  void 0 !==
                                                      t.getElementsByClassName &&
                                                  R
                                              )
                                                  return t.getElementsByClassName(
                                                      e
                                                  );
                                          }),
                                      (j = []),
                                      (D = []),
                                      (_.qsa = he.test(A.querySelectorAll)) &&
                                          (i(function(e) {
                                              (N.appendChild(e).innerHTML =
                                                  "<a id='" +
                                                  F +
                                                  "'></a><select id='" +
                                                  F +
                                                  "-\r\\' msallowcapture=''><option selected=''></option></select>"),
                                                  e.querySelectorAll(
                                                      "[msallowcapture^='']"
                                                  ).length &&
                                                      D.push(
                                                          "[*^$]=" +
                                                              ee +
                                                              "*(?:''|\"\")"
                                                      ),
                                                  e.querySelectorAll(
                                                      "[selected]"
                                                  ).length ||
                                                      D.push(
                                                          "\\[" +
                                                              ee +
                                                              "*(?:value|" +
                                                              Z +
                                                              ")"
                                                      ),
                                                  e.querySelectorAll(
                                                      "[id~=" + F + "-]"
                                                  ).length || D.push("~="),
                                                  e.querySelectorAll(":checked")
                                                      .length ||
                                                      D.push(":checked"),
                                                  e.querySelectorAll(
                                                      "a#" + F + "+*"
                                                  ).length ||
                                                      D.push(".#.+[+~]");
                                          }),
                                          i(function(e) {
                                              e.innerHTML =
                                                  "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                                              var t = A.createElement("input");
                                              t.setAttribute("type", "hidden"),
                                                  e
                                                      .appendChild(t)
                                                      .setAttribute(
                                                          "name",
                                                          "D"
                                                      ),
                                                  e.querySelectorAll("[name=d]")
                                                      .length &&
                                                      D.push(
                                                          "name" +
                                                              ee +
                                                              "*[*^$|!~]?="
                                                      ),
                                                  2 !==
                                                      e.querySelectorAll(
                                                          ":enabled"
                                                      ).length &&
                                                      D.push(
                                                          ":enabled",
                                                          ":disabled"
                                                      ),
                                                  (N.appendChild(
                                                      e
                                                  ).disabled = !0),
                                                  2 !==
                                                      e.querySelectorAll(
                                                          ":disabled"
                                                      ).length &&
                                                      D.push(
                                                          ":enabled",
                                                          ":disabled"
                                                      ),
                                                  e.querySelectorAll("*,:x"),
                                                  D.push(",.*:");
                                          })),
                                      (_.matchesSelector = he.test(
                                          (M =
                                              N.matches ||
                                              N.webkitMatchesSelector ||
                                              N.mozMatchesSelector ||
                                              N.oMatchesSelector ||
                                              N.msMatchesSelector)
                                      )) &&
                                          i(function(e) {
                                              (_.disconnectedMatch = M.call(
                                                  e,
                                                  "*"
                                              )),
                                                  M.call(e, "[s!='']:x"),
                                                  j.push("!=", re);
                                          }),
                                      (D = D.length && new RegExp(D.join("|"))),
                                      (j = j.length && new RegExp(j.join("|"))),
                                      (t = he.test(N.compareDocumentPosition)),
                                      (L =
                                          t || he.test(N.contains)
                                              ? function(e, t) {
                                                    var n =
                                                            9 === e.nodeType
                                                                ? e.documentElement
                                                                : e,
                                                        r = t && t.parentNode;
                                                    return (
                                                        e === r ||
                                                        !(
                                                            !r ||
                                                            1 !== r.nodeType ||
                                                            !(n.contains
                                                                ? n.contains(r)
                                                                : e.compareDocumentPosition &&
                                                                  16 &
                                                                      e.compareDocumentPosition(
                                                                          r
                                                                      ))
                                                        )
                                                    );
                                                }
                                              : function(e, t) {
                                                    if (t)
                                                        for (
                                                            ;
                                                            (t = t.parentNode);

                                                        )
                                                            if (t === e)
                                                                return !0;
                                                    return !1;
                                                }),
                                      (q = t
                                          ? function(e, t) {
                                                if (e === t) return (P = !0), 0;
                                                var n =
                                                    !e.compareDocumentPosition -
                                                    !t.compareDocumentPosition;
                                                return (
                                                    n ||
                                                    ((n =
                                                        (e.ownerDocument ||
                                                            e) ===
                                                        (t.ownerDocument || t)
                                                            ? e.compareDocumentPosition(
                                                                  t
                                                              )
                                                            : 1),
                                                    1 & n ||
                                                    (!_.sortDetached &&
                                                        t.compareDocumentPosition(
                                                            e
                                                        ) === n)
                                                        ? e === A ||
                                                          (e.ownerDocument ===
                                                              U &&
                                                              L(U, e))
                                                            ? -1
                                                            : t === A ||
                                                              (t.ownerDocument ===
                                                                  U &&
                                                                  L(U, t))
                                                                ? 1
                                                                : I
                                                                    ? Y(I, e) -
                                                                      Y(I, t)
                                                                    : 0
                                                        : 4 & n
                                                            ? -1
                                                            : 1)
                                                );
                                            }
                                          : function(e, t) {
                                                if (e === t) return (P = !0), 0;
                                                var n,
                                                    r = 0,
                                                    i = e.parentNode,
                                                    o = t.parentNode,
                                                    s = [e],
                                                    l = [t];
                                                if (!i || !o)
                                                    return e === A
                                                        ? -1
                                                        : t === A
                                                            ? 1
                                                            : i
                                                                ? -1
                                                                : o
                                                                    ? 1
                                                                    : I
                                                                        ? Y(
                                                                              I,
                                                                              e
                                                                          ) -
                                                                          Y(
                                                                              I,
                                                                              t
                                                                          )
                                                                        : 0;
                                                if (i === o) return a(e, t);
                                                for (
                                                    n = e;
                                                    (n = n.parentNode);

                                                )
                                                    s.unshift(n);
                                                for (
                                                    n = t;
                                                    (n = n.parentNode);

                                                )
                                                    l.unshift(n);
                                                for (; s[r] === l[r]; ) r++;
                                                return r
                                                    ? a(s[r], l[r])
                                                    : s[r] === U
                                                        ? -1
                                                        : l[r] === U
                                                            ? 1
                                                            : 0;
                                            }),
                                      A)
                                    : A;
                            }),
                            (t.matches = function(e, n) {
                                return t(e, null, null, n);
                            }),
                            (t.matchesSelector = function(e, n) {
                                if (
                                    ((e.ownerDocument || e) !== A && O(e),
                                    (n = n.replace(le, "='$1']")),
                                    _.matchesSelector &&
                                        R &&
                                        !H[n + " "] &&
                                        (!j || !j.test(n)) &&
                                        (!D || !D.test(n)))
                                )
                                    try {
                                        var r = M.call(e, n);
                                        if (
                                            r ||
                                            _.disconnectedMatch ||
                                            (e.document &&
                                                11 !== e.document.nodeType)
                                        )
                                            return r;
                                    } catch (e) {}
                                return t(n, A, null, [e]).length > 0;
                            }),
                            (t.contains = function(e, t) {
                                return (
                                    (e.ownerDocument || e) !== A && O(e),
                                    L(e, t)
                                );
                            }),
                            (t.attr = function(e, t) {
                                (e.ownerDocument || e) !== A && O(e);
                                var n = w.attrHandle[t.toLowerCase()],
                                    r =
                                        n &&
                                        W.call(w.attrHandle, t.toLowerCase())
                                            ? n(e, t, !R)
                                            : void 0;
                                return void 0 !== r
                                    ? r
                                    : _.attributes || !R
                                        ? e.getAttribute(t)
                                        : (r = e.getAttributeNode(t)) &&
                                          r.specified
                                            ? r.value
                                            : null;
                            }),
                            (t.escape = function(e) {
                                return (e + "").replace(ye, _e);
                            }),
                            (t.error = function(e) {
                                throw new Error(
                                    "Syntax error, unrecognized expression: " +
                                        e
                                );
                            }),
                            (t.uniqueSort = function(e) {
                                var t,
                                    n = [],
                                    r = 0,
                                    i = 0;
                                if (
                                    ((P = !_.detectDuplicates),
                                    (I = !_.sortStable && e.slice(0)),
                                    e.sort(q),
                                    P)
                                ) {
                                    for (; (t = e[i++]); )
                                        t === e[i] && (r = n.push(i));
                                    for (; r--; ) e.splice(n[r], 1);
                                }
                                return (I = null), e;
                            }),
                            (x = t.getText = function(e) {
                                var t,
                                    n = "",
                                    r = 0,
                                    i = e.nodeType;
                                if (i) {
                                    if (1 === i || 9 === i || 11 === i) {
                                        if ("string" == typeof e.textContent)
                                            return e.textContent;
                                        for (
                                            e = e.firstChild;
                                            e;
                                            e = e.nextSibling
                                        )
                                            n += x(e);
                                    } else if (3 === i || 4 === i)
                                        return e.nodeValue;
                                } else for (; (t = e[r++]); ) n += x(t);
                                return n;
                            }),
                            (w = t.selectors = {
                                cacheLength: 50,
                                createPseudo: r,
                                match: de,
                                attrHandle: {},
                                find: {},
                                relative: {
                                    ">": { dir: "parentNode", first: !0 },
                                    " ": { dir: "parentNode" },
                                    "+": { dir: "previousSibling", first: !0 },
                                    "~": { dir: "previousSibling" }
                                },
                                preFilter: {
                                    ATTR: function(e) {
                                        return (
                                            (e[1] = e[1].replace(ve, be)),
                                            (e[3] = (
                                                e[3] ||
                                                e[4] ||
                                                e[5] ||
                                                ""
                                            ).replace(ve, be)),
                                            "~=" === e[2] &&
                                                (e[3] = " " + e[3] + " "),
                                            e.slice(0, 4)
                                        );
                                    },
                                    CHILD: function(e) {
                                        return (
                                            (e[1] = e[1].toLowerCase()),
                                            "nth" === e[1].slice(0, 3)
                                                ? (e[3] || t.error(e[0]),
                                                  (e[4] = +(e[4]
                                                      ? e[5] + (e[6] || 1)
                                                      : 2 *
                                                        ("even" === e[3] ||
                                                            "odd" === e[3]))),
                                                  (e[5] = +(
                                                      e[7] + e[8] ||
                                                      "odd" === e[3]
                                                  )))
                                                : e[3] && t.error(e[0]),
                                            e
                                        );
                                    },
                                    PSEUDO: function(e) {
                                        var t,
                                            n = !e[6] && e[2];
                                        return de.CHILD.test(e[0])
                                            ? null
                                            : (e[3]
                                                  ? (e[2] = e[4] || e[5] || "")
                                                  : n &&
                                                    ue.test(n) &&
                                                    (t = T(n, !0)) &&
                                                    (t =
                                                        n.indexOf(
                                                            ")",
                                                            n.length - t
                                                        ) - n.length) &&
                                                    ((e[0] = e[0].slice(0, t)),
                                                    (e[2] = n.slice(0, t))),
                                              e.slice(0, 3));
                                    }
                                },
                                filter: {
                                    TAG: function(e) {
                                        var t = e.replace(ve, be).toLowerCase();
                                        return "*" === e
                                            ? function() {
                                                  return !0;
                                              }
                                            : function(e) {
                                                  return (
                                                      e.nodeName &&
                                                      e.nodeName.toLowerCase() ===
                                                          t
                                                  );
                                              };
                                    },
                                    CLASS: function(e) {
                                        var t = V[e + " "];
                                        return (
                                            t ||
                                            ((t = new RegExp(
                                                "(^|" +
                                                    ee +
                                                    ")" +
                                                    e +
                                                    "(" +
                                                    ee +
                                                    "|$)"
                                            )) &&
                                                V(e, function(e) {
                                                    return t.test(
                                                        ("string" ==
                                                            typeof e.className &&
                                                            e.className) ||
                                                            (void 0 !==
                                                                e.getAttribute &&
                                                                e.getAttribute(
                                                                    "class"
                                                                )) ||
                                                            ""
                                                    );
                                                }))
                                        );
                                    },
                                    ATTR: function(e, n, r) {
                                        return function(i) {
                                            var o = t.attr(i, e);
                                            return null == o
                                                ? "!=" === n
                                                : !n ||
                                                      ((o += ""),
                                                      "=" === n
                                                          ? o === r
                                                          : "!=" === n
                                                              ? o !== r
                                                              : "^=" === n
                                                                  ? r &&
                                                                    0 ===
                                                                        o.indexOf(
                                                                            r
                                                                        )
                                                                  : "*=" === n
                                                                      ? r &&
                                                                        o.indexOf(
                                                                            r
                                                                        ) > -1
                                                                      : "$=" ===
                                                                        n
                                                                          ? r &&
                                                                            o.slice(
                                                                                -r.length
                                                                            ) ===
                                                                                r
                                                                          : "~=" ===
                                                                            n
                                                                              ? (
                                                                                    " " +
                                                                                    o.replace(
                                                                                        ie,
                                                                                        " "
                                                                                    ) +
                                                                                    " "
                                                                                ).indexOf(
                                                                                    r
                                                                                ) >
                                                                                -1
                                                                              : "|=" ===
                                                                                    n &&
                                                                                (o ===
                                                                                    r ||
                                                                                    o.slice(
                                                                                        0,
                                                                                        r.length +
                                                                                            1
                                                                                    ) ===
                                                                                        r +
                                                                                            "-"));
                                        };
                                    },
                                    CHILD: function(e, t, n, r, i) {
                                        var o = "nth" !== e.slice(0, 3),
                                            a = "last" !== e.slice(-4),
                                            s = "of-type" === t;
                                        return 1 === r && 0 === i
                                            ? function(e) {
                                                  return !!e.parentNode;
                                              }
                                            : function(t, n, l) {
                                                  var u,
                                                      c,
                                                      d,
                                                      f,
                                                      p,
                                                      h,
                                                      m =
                                                          o !== a
                                                              ? "nextSibling"
                                                              : "previousSibling",
                                                      g = t.parentNode,
                                                      v =
                                                          s &&
                                                          t.nodeName.toLowerCase(),
                                                      b = !l && !s,
                                                      y = !1;
                                                  if (g) {
                                                      if (o) {
                                                          for (; m; ) {
                                                              for (
                                                                  f = t;
                                                                  (f = f[m]);

                                                              )
                                                                  if (
                                                                      s
                                                                          ? f.nodeName.toLowerCase() ===
                                                                            v
                                                                          : 1 ===
                                                                            f.nodeType
                                                                  )
                                                                      return !1;
                                                              h = m =
                                                                  "only" ===
                                                                      e &&
                                                                  !h &&
                                                                  "nextSibling";
                                                          }
                                                          return !0;
                                                      }
                                                      if (
                                                          ((h = [
                                                              a
                                                                  ? g.firstChild
                                                                  : g.lastChild
                                                          ]),
                                                          a && b)
                                                      ) {
                                                          for (
                                                              f = g,
                                                                  d =
                                                                      f[F] ||
                                                                      (f[
                                                                          F
                                                                      ] = {}),
                                                                  c =
                                                                      d[
                                                                          f
                                                                              .uniqueID
                                                                      ] ||
                                                                      (d[
                                                                          f.uniqueID
                                                                      ] = {}),
                                                                  u =
                                                                      c[e] ||
                                                                      [],
                                                                  p =
                                                                      u[0] ===
                                                                          z &&
                                                                      u[1],
                                                                  y = p && u[2],
                                                                  f =
                                                                      p &&
                                                                      g
                                                                          .childNodes[
                                                                          p
                                                                      ];
                                                              (f =
                                                                  (++p &&
                                                                      f &&
                                                                      f[m]) ||
                                                                  (y = p = 0) ||
                                                                  h.pop());

                                                          )
                                                              if (
                                                                  1 ===
                                                                      f.nodeType &&
                                                                  ++y &&
                                                                  f === t
                                                              ) {
                                                                  c[e] = [
                                                                      z,
                                                                      p,
                                                                      y
                                                                  ];
                                                                  break;
                                                              }
                                                      } else if (
                                                          (b &&
                                                              ((f = t),
                                                              (d =
                                                                  f[F] ||
                                                                  (f[F] = {})),
                                                              (c =
                                                                  d[
                                                                      f.uniqueID
                                                                  ] ||
                                                                  (d[
                                                                      f.uniqueID
                                                                  ] = {})),
                                                              (u = c[e] || []),
                                                              (p =
                                                                  u[0] === z &&
                                                                  u[1]),
                                                              (y = p)),
                                                          !1 === y)
                                                      )
                                                          for (
                                                              ;
                                                              (f =
                                                                  (++p &&
                                                                      f &&
                                                                      f[m]) ||
                                                                  (y = p = 0) ||
                                                                  h.pop()) &&
                                                              ((s
                                                                  ? f.nodeName.toLowerCase() !==
                                                                    v
                                                                  : 1 !==
                                                                    f.nodeType) ||
                                                                  !++y ||
                                                                  (b &&
                                                                      ((d =
                                                                          f[
                                                                              F
                                                                          ] ||
                                                                          (f[
                                                                              F
                                                                          ] = {})),
                                                                      (c =
                                                                          d[
                                                                              f
                                                                                  .uniqueID
                                                                          ] ||
                                                                          (d[
                                                                              f.uniqueID
                                                                          ] = {})),
                                                                      (c[e] = [
                                                                          z,
                                                                          y
                                                                      ])),
                                                                  f !== t));

                                                          );
                                                      return (
                                                          (y -= i) === r ||
                                                          (y % r == 0 &&
                                                              y / r >= 0)
                                                      );
                                                  }
                                              };
                                    },
                                    PSEUDO: function(e, n) {
                                        var i,
                                            o =
                                                w.pseudos[e] ||
                                                w.setFilters[e.toLowerCase()] ||
                                                t.error(
                                                    "unsupported pseudo: " + e
                                                );
                                        return o[F]
                                            ? o(n)
                                            : o.length > 1
                                                ? ((i = [e, e, "", n]),
                                                  w.setFilters.hasOwnProperty(
                                                      e.toLowerCase()
                                                  )
                                                      ? r(function(e, t) {
                                                            for (
                                                                var r,
                                                                    i = o(e, n),
                                                                    a =
                                                                        i.length;
                                                                a--;

                                                            )
                                                                (r = Y(
                                                                    e,
                                                                    i[a]
                                                                )),
                                                                    (e[r] = !(t[
                                                                        r
                                                                    ] = i[a]));
                                                        })
                                                      : function(e) {
                                                            return o(e, 0, i);
                                                        })
                                                : o;
                                    }
                                },
                                pseudos: {
                                    not: r(function(e) {
                                        var t = [],
                                            n = [],
                                            i = S(e.replace(oe, "$1"));
                                        return i[F]
                                            ? r(function(e, t, n, r) {
                                                  for (
                                                      var o,
                                                          a = i(e, null, r, []),
                                                          s = e.length;
                                                      s--;

                                                  )
                                                      (o = a[s]) &&
                                                          (e[s] = !(t[s] = o));
                                              })
                                            : function(e, r, o) {
                                                  return (
                                                      (t[0] = e),
                                                      i(t, null, o, n),
                                                      (t[0] = null),
                                                      !n.pop()
                                                  );
                                              };
                                    }),
                                    has: r(function(e) {
                                        return function(n) {
                                            return t(e, n).length > 0;
                                        };
                                    }),
                                    contains: r(function(e) {
                                        return (
                                            (e = e.replace(ve, be)),
                                            function(t) {
                                                return (
                                                    (
                                                        t.textContent ||
                                                        t.innerText ||
                                                        x(t)
                                                    ).indexOf(e) > -1
                                                );
                                            }
                                        );
                                    }),
                                    lang: r(function(e) {
                                        return (
                                            ce.test(e || "") ||
                                                t.error(
                                                    "unsupported lang: " + e
                                                ),
                                            (e = e
                                                .replace(ve, be)
                                                .toLowerCase()),
                                            function(t) {
                                                var n;
                                                do {
                                                    if (
                                                        (n = R
                                                            ? t.lang
                                                            : t.getAttribute(
                                                                  "xml:lang"
                                                              ) ||
                                                              t.getAttribute(
                                                                  "lang"
                                                              ))
                                                    )
                                                        return (
                                                            (n = n.toLowerCase()) ===
                                                                e ||
                                                            0 ===
                                                                n.indexOf(
                                                                    e + "-"
                                                                )
                                                        );
                                                } while (
                                                    (t = t.parentNode) &&
                                                    1 === t.nodeType
                                                );
                                                return !1;
                                            }
                                        );
                                    }),
                                    target: function(t) {
                                        var n = e.location && e.location.hash;
                                        return n && n.slice(1) === t.id;
                                    },
                                    root: function(e) {
                                        return e === N;
                                    },
                                    focus: function(e) {
                                        return (
                                            e === A.activeElement &&
                                            (!A.hasFocus || A.hasFocus()) &&
                                            !!(e.type || e.href || ~e.tabIndex)
                                        );
                                    },
                                    enabled: s(!1),
                                    disabled: s(!0),
                                    checked: function(e) {
                                        var t = e.nodeName.toLowerCase();
                                        return (
                                            ("input" === t && !!e.checked) ||
                                            ("option" === t && !!e.selected)
                                        );
                                    },
                                    selected: function(e) {
                                        return (
                                            e.parentNode &&
                                                e.parentNode.selectedIndex,
                                            !0 === e.selected
                                        );
                                    },
                                    empty: function(e) {
                                        for (
                                            e = e.firstChild;
                                            e;
                                            e = e.nextSibling
                                        )
                                            if (e.nodeType < 6) return !1;
                                        return !0;
                                    },
                                    parent: function(e) {
                                        return !w.pseudos.empty(e);
                                    },
                                    header: function(e) {
                                        return pe.test(e.nodeName);
                                    },
                                    input: function(e) {
                                        return fe.test(e.nodeName);
                                    },
                                    button: function(e) {
                                        var t = e.nodeName.toLowerCase();
                                        return (
                                            ("input" === t &&
                                                "button" === e.type) ||
                                            "button" === t
                                        );
                                    },
                                    text: function(e) {
                                        var t;
                                        return (
                                            "input" ===
                                                e.nodeName.toLowerCase() &&
                                            "text" === e.type &&
                                            (null ==
                                                (t = e.getAttribute("type")) ||
                                                "text" === t.toLowerCase())
                                        );
                                    },
                                    first: l(function() {
                                        return [0];
                                    }),
                                    last: l(function(e, t) {
                                        return [t - 1];
                                    }),
                                    eq: l(function(e, t, n) {
                                        return [n < 0 ? n + t : n];
                                    }),
                                    even: l(function(e, t) {
                                        for (var n = 0; n < t; n += 2)
                                            e.push(n);
                                        return e;
                                    }),
                                    odd: l(function(e, t) {
                                        for (var n = 1; n < t; n += 2)
                                            e.push(n);
                                        return e;
                                    }),
                                    lt: l(function(e, t, n) {
                                        for (
                                            var r = n < 0 ? n + t : n;
                                            --r >= 0;

                                        )
                                            e.push(r);
                                        return e;
                                    }),
                                    gt: l(function(e, t, n) {
                                        for (
                                            var r = n < 0 ? n + t : n;
                                            ++r < t;

                                        )
                                            e.push(r);
                                        return e;
                                    })
                                }
                            }),
                            (w.pseudos.nth = w.pseudos.eq);
                        for (y in {
                            radio: !0,
                            checkbox: !0,
                            file: !0,
                            password: !0,
                            image: !0
                        })
                            w.pseudos[y] = (function(e) {
                                return function(t) {
                                    return (
                                        "input" === t.nodeName.toLowerCase() &&
                                        t.type === e
                                    );
                                };
                            })(y);
                        for (y in { submit: !0, reset: !0 })
                            w.pseudos[y] = (function(e) {
                                return function(t) {
                                    var n = t.nodeName.toLowerCase();
                                    return (
                                        ("input" === n || "button" === n) &&
                                        t.type === e
                                    );
                                };
                            })(y);
                        return (
                            (c.prototype = w.filters = w.pseudos),
                            (w.setFilters = new c()),
                            (T = t.tokenize = function(e, n) {
                                var r,
                                    i,
                                    o,
                                    a,
                                    s,
                                    l,
                                    u,
                                    c = $[e + " "];
                                if (c) return n ? 0 : c.slice(0);
                                for (s = e, l = [], u = w.preFilter; s; ) {
                                    (r && !(i = ae.exec(s))) ||
                                        (i && (s = s.slice(i[0].length) || s),
                                        l.push((o = []))),
                                        (r = !1),
                                        (i = se.exec(s)) &&
                                            ((r = i.shift()),
                                            o.push({
                                                value: r,
                                                type: i[0].replace(oe, " ")
                                            }),
                                            (s = s.slice(r.length)));
                                    for (a in w.filter)
                                        !(i = de[a].exec(s)) ||
                                            (u[a] && !(i = u[a](i))) ||
                                            ((r = i.shift()),
                                            o.push({
                                                value: r,
                                                type: a,
                                                matches: i
                                            }),
                                            (s = s.slice(r.length)));
                                    if (!r) break;
                                }
                                return n
                                    ? s.length
                                    : s
                                        ? t.error(e)
                                        : $(e, l).slice(0);
                            }),
                            (S = t.compile = function(e, t) {
                                var n,
                                    r = [],
                                    i = [],
                                    o = H[e + " "];
                                if (!o) {
                                    for (t || (t = T(e)), n = t.length; n--; )
                                        (o = v(t[n])),
                                            o[F] ? r.push(o) : i.push(o);
                                    (o = H(e, b(i, r))), (o.selector = e);
                                }
                                return o;
                            }),
                            (C = t.select = function(e, t, n, r) {
                                var i,
                                    o,
                                    a,
                                    s,
                                    l,
                                    c = "function" == typeof e && e,
                                    f = !r && T((e = c.selector || e));
                                if (((n = n || []), 1 === f.length)) {
                                    if (
                                        ((o = f[0] = f[0].slice(0)),
                                        o.length > 2 &&
                                            "ID" === (a = o[0]).type &&
                                            9 === t.nodeType &&
                                            R &&
                                            w.relative[o[1].type])
                                    ) {
                                        if (
                                            !(t = (w.find.ID(
                                                a.matches[0].replace(ve, be),
                                                t
                                            ) || [])[0])
                                        )
                                            return n;
                                        c && (t = t.parentNode),
                                            (e = e.slice(
                                                o.shift().value.length
                                            ));
                                    }
                                    for (
                                        i = de.needsContext.test(e)
                                            ? 0
                                            : o.length;
                                        i-- &&
                                        ((a = o[i]), !w.relative[(s = a.type)]);

                                    )
                                        if (
                                            (l = w.find[s]) &&
                                            (r = l(
                                                a.matches[0].replace(ve, be),
                                                (ge.test(o[0].type) &&
                                                    u(t.parentNode)) ||
                                                    t
                                            ))
                                        ) {
                                            if (
                                                (o.splice(i, 1),
                                                !(e = r.length && d(o)))
                                            )
                                                return J.apply(n, r), n;
                                            break;
                                        }
                                }
                                return (
                                    (c || S(e, f))(
                                        r,
                                        t,
                                        !R,
                                        n,
                                        !t ||
                                            (ge.test(e) && u(t.parentNode)) ||
                                            t
                                    ),
                                    n
                                );
                            }),
                            (_.sortStable =
                                F.split("")
                                    .sort(q)
                                    .join("") === F),
                            (_.detectDuplicates = !!P),
                            O(),
                            (_.sortDetached = i(function(e) {
                                return (
                                    1 &
                                    e.compareDocumentPosition(
                                        A.createElement("fieldset")
                                    )
                                );
                            })),
                            i(function(e) {
                                return (
                                    (e.innerHTML = "<a href='#'></a>"),
                                    "#" === e.firstChild.getAttribute("href")
                                );
                            }) ||
                                o("type|href|height|width", function(e, t, n) {
                                    if (!n)
                                        return e.getAttribute(
                                            t,
                                            "type" === t.toLowerCase() ? 1 : 2
                                        );
                                }),
                            (_.attributes &&
                                i(function(e) {
                                    return (
                                        (e.innerHTML = "<input/>"),
                                        e.firstChild.setAttribute("value", ""),
                                        "" ===
                                            e.firstChild.getAttribute("value")
                                    );
                                })) ||
                                o("value", function(e, t, n) {
                                    if (
                                        !n &&
                                        "input" === e.nodeName.toLowerCase()
                                    )
                                        return e.defaultValue;
                                }),
                            i(function(e) {
                                return null == e.getAttribute("disabled");
                            }) ||
                                o(Z, function(e, t, n) {
                                    var r;
                                    if (!n)
                                        return !0 === e[t]
                                            ? t.toLowerCase()
                                            : (r = e.getAttributeNode(t)) &&
                                              r.specified
                                                ? r.value
                                                : null;
                                }),
                            t
                        );
                    })(e);
                    (we.find = Ee),
                        (we.expr = Ee.selectors),
                        (we.expr[":"] = we.expr.pseudos),
                        (we.uniqueSort = we.unique = Ee.uniqueSort),
                        (we.text = Ee.getText),
                        (we.isXMLDoc = Ee.isXML),
                        (we.contains = Ee.contains),
                        (we.escapeSelector = Ee.escape);
                    var Te = function(e, t, n) {
                            for (
                                var r = [], i = void 0 !== n;
                                (e = e[t]) && 9 !== e.nodeType;

                            )
                                if (1 === e.nodeType) {
                                    if (i && we(e).is(n)) break;
                                    r.push(e);
                                }
                            return r;
                        },
                        Se = function(e, t) {
                            for (var n = []; e; e = e.nextSibling)
                                1 === e.nodeType && e !== t && n.push(e);
                            return n;
                        },
                        Ce = we.expr.match.needsContext,
                        ke = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
                    (we.filter = function(e, t, n) {
                        var r = t[0];
                        return (
                            n && (e = ":not(" + e + ")"),
                            1 === t.length && 1 === r.nodeType
                                ? we.find.matchesSelector(r, e)
                                    ? [r]
                                    : []
                                : we.find.matches(
                                      e,
                                      we.grep(t, function(e) {
                                          return 1 === e.nodeType;
                                      })
                                  )
                        );
                    }),
                        we.fn.extend({
                            find: function(e) {
                                var t,
                                    n,
                                    r = this.length,
                                    i = this;
                                if ("string" != typeof e)
                                    return this.pushStack(
                                        we(e).filter(function() {
                                            for (t = 0; t < r; t++)
                                                if (we.contains(i[t], this))
                                                    return !0;
                                        })
                                    );
                                for (n = this.pushStack([]), t = 0; t < r; t++)
                                    we.find(e, i[t], n);
                                return r > 1 ? we.uniqueSort(n) : n;
                            },
                            filter: function(e) {
                                return this.pushStack(a(this, e || [], !1));
                            },
                            not: function(e) {
                                return this.pushStack(a(this, e || [], !0));
                            },
                            is: function(e) {
                                return !!a(
                                    this,
                                    "string" == typeof e && Ce.test(e)
                                        ? we(e)
                                        : e || [],
                                    !1
                                ).length;
                            }
                        });
                    var Ie,
                        Pe = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
                    ((we.fn.init = function(e, t, n) {
                        var r, i;
                        if (!e) return this;
                        if (((n = n || Ie), "string" == typeof e)) {
                            if (
                                !(r =
                                    "<" === e[0] &&
                                    ">" === e[e.length - 1] &&
                                    e.length >= 3
                                        ? [null, e, null]
                                        : Pe.exec(e)) ||
                                (!r[1] && t)
                            )
                                return !t || t.jquery
                                    ? (t || n).find(e)
                                    : this.constructor(t).find(e);
                            if (r[1]) {
                                if (
                                    ((t = t instanceof we ? t[0] : t),
                                    we.merge(
                                        this,
                                        we.parseHTML(
                                            r[1],
                                            t && t.nodeType
                                                ? t.ownerDocument || t
                                                : ae,
                                            !0
                                        )
                                    ),
                                    ke.test(r[1]) && we.isPlainObject(t))
                                )
                                    for (r in t)
                                        be(this[r])
                                            ? this[r](t[r])
                                            : this.attr(r, t[r]);
                                return this;
                            }
                            return (
                                (i = ae.getElementById(r[2])),
                                i && ((this[0] = i), (this.length = 1)),
                                this
                            );
                        }
                        return e.nodeType
                            ? ((this[0] = e), (this.length = 1), this)
                            : be(e)
                                ? void 0 !== n.ready
                                    ? n.ready(e)
                                    : e(we)
                                : we.makeArray(e, this);
                    }).prototype = we.fn),
                        (Ie = we(ae));
                    var Oe = /^(?:parents|prev(?:Until|All))/,
                        Ae = { children: !0, contents: !0, next: !0, prev: !0 };
                    we.fn.extend({
                        has: function(e) {
                            var t = we(e, this),
                                n = t.length;
                            return this.filter(function() {
                                for (var e = 0; e < n; e++)
                                    if (we.contains(this, t[e])) return !0;
                            });
                        },
                        closest: function(e, t) {
                            var n,
                                r = 0,
                                i = this.length,
                                o = [],
                                a = "string" != typeof e && we(e);
                            if (!Ce.test(e))
                                for (; r < i; r++)
                                    for (
                                        n = this[r];
                                        n && n !== t;
                                        n = n.parentNode
                                    )
                                        if (
                                            n.nodeType < 11 &&
                                            (a
                                                ? a.index(n) > -1
                                                : 1 === n.nodeType &&
                                                  we.find.matchesSelector(n, e))
                                        ) {
                                            o.push(n);
                                            break;
                                        }
                            return this.pushStack(
                                o.length > 1 ? we.uniqueSort(o) : o
                            );
                        },
                        index: function(e) {
                            return e
                                ? "string" == typeof e
                                    ? de.call(we(e), this[0])
                                    : de.call(this, e.jquery ? e[0] : e)
                                : this[0] && this[0].parentNode
                                    ? this.first().prevAll().length
                                    : -1;
                        },
                        add: function(e, t) {
                            return this.pushStack(
                                we.uniqueSort(we.merge(this.get(), we(e, t)))
                            );
                        },
                        addBack: function(e) {
                            return this.add(
                                null == e
                                    ? this.prevObject
                                    : this.prevObject.filter(e)
                            );
                        }
                    }),
                        we.each(
                            {
                                parent: function(e) {
                                    var t = e.parentNode;
                                    return t && 11 !== t.nodeType ? t : null;
                                },
                                parents: function(e) {
                                    return Te(e, "parentNode");
                                },
                                parentsUntil: function(e, t, n) {
                                    return Te(e, "parentNode", n);
                                },
                                next: function(e) {
                                    return s(e, "nextSibling");
                                },
                                prev: function(e) {
                                    return s(e, "previousSibling");
                                },
                                nextAll: function(e) {
                                    return Te(e, "nextSibling");
                                },
                                prevAll: function(e) {
                                    return Te(e, "previousSibling");
                                },
                                nextUntil: function(e, t, n) {
                                    return Te(e, "nextSibling", n);
                                },
                                prevUntil: function(e, t, n) {
                                    return Te(e, "previousSibling", n);
                                },
                                siblings: function(e) {
                                    return Se(
                                        (e.parentNode || {}).firstChild,
                                        e
                                    );
                                },
                                children: function(e) {
                                    return Se(e.firstChild);
                                },
                                contents: function(e) {
                                    return o(e, "iframe")
                                        ? e.contentDocument
                                        : (o(e, "template") &&
                                              (e = e.content || e),
                                          we.merge([], e.childNodes));
                                }
                            },
                            function(e, t) {
                                we.fn[e] = function(n, r) {
                                    var i = we.map(this, t, n);
                                    return (
                                        "Until" !== e.slice(-5) && (r = n),
                                        r &&
                                            "string" == typeof r &&
                                            (i = we.filter(r, i)),
                                        this.length > 1 &&
                                            (Ae[e] || we.uniqueSort(i),
                                            Oe.test(e) && i.reverse()),
                                        this.pushStack(i)
                                    );
                                };
                            }
                        );
                    var Ne = /[^\x20\t\r\n\f]+/g;
                    (we.Callbacks = function(e) {
                        e = "string" == typeof e ? l(e) : we.extend({}, e);
                        var t,
                            n,
                            i,
                            o,
                            a = [],
                            s = [],
                            u = -1,
                            c = function() {
                                for (
                                    o = o || e.once, i = t = !0;
                                    s.length;
                                    u = -1
                                )
                                    for (n = s.shift(); ++u < a.length; )
                                        !1 === a[u].apply(n[0], n[1]) &&
                                            e.stopOnFalse &&
                                            ((u = a.length), (n = !1));
                                e.memory || (n = !1),
                                    (t = !1),
                                    o && (a = n ? [] : "");
                            },
                            d = {
                                add: function() {
                                    return (
                                        a &&
                                            (n &&
                                                !t &&
                                                ((u = a.length - 1), s.push(n)),
                                            (function t(n) {
                                                we.each(n, function(n, i) {
                                                    be(i)
                                                        ? (e.unique &&
                                                              d.has(i)) ||
                                                          a.push(i)
                                                        : i &&
                                                          i.length &&
                                                          "string" !== r(i) &&
                                                          t(i);
                                                });
                                            })(arguments),
                                            n && !t && c()),
                                        this
                                    );
                                },
                                remove: function() {
                                    return (
                                        we.each(arguments, function(e, t) {
                                            for (
                                                var n;
                                                (n = we.inArray(t, a, n)) > -1;

                                            )
                                                a.splice(n, 1), n <= u && u--;
                                        }),
                                        this
                                    );
                                },
                                has: function(e) {
                                    return e
                                        ? we.inArray(e, a) > -1
                                        : a.length > 0;
                                },
                                empty: function() {
                                    return a && (a = []), this;
                                },
                                disable: function() {
                                    return (o = s = []), (a = n = ""), this;
                                },
                                disabled: function() {
                                    return !a;
                                },
                                lock: function() {
                                    return (
                                        (o = s = []),
                                        n || t || (a = n = ""),
                                        this
                                    );
                                },
                                locked: function() {
                                    return !!o;
                                },
                                fireWith: function(e, n) {
                                    return (
                                        o ||
                                            ((n = n || []),
                                            (n = [e, n.slice ? n.slice() : n]),
                                            s.push(n),
                                            t || c()),
                                        this
                                    );
                                },
                                fire: function() {
                                    return d.fireWith(this, arguments), this;
                                },
                                fired: function() {
                                    return !!i;
                                }
                            };
                        return d;
                    }),
                        we.extend({
                            Deferred: function(t) {
                                var n = [
                                        [
                                            "notify",
                                            "progress",
                                            we.Callbacks("memory"),
                                            we.Callbacks("memory"),
                                            2
                                        ],
                                        [
                                            "resolve",
                                            "done",
                                            we.Callbacks("once memory"),
                                            we.Callbacks("once memory"),
                                            0,
                                            "resolved"
                                        ],
                                        [
                                            "reject",
                                            "fail",
                                            we.Callbacks("once memory"),
                                            we.Callbacks("once memory"),
                                            1,
                                            "rejected"
                                        ]
                                    ],
                                    r = "pending",
                                    i = {
                                        state: function() {
                                            return r;
                                        },
                                        always: function() {
                                            return (
                                                o
                                                    .done(arguments)
                                                    .fail(arguments),
                                                this
                                            );
                                        },
                                        catch: function(e) {
                                            return i.then(null, e);
                                        },
                                        pipe: function() {
                                            var e = arguments;
                                            return we
                                                .Deferred(function(t) {
                                                    we.each(n, function(n, r) {
                                                        var i =
                                                            be(e[r[4]]) &&
                                                            e[r[4]];
                                                        o[r[1]](function() {
                                                            var e =
                                                                i &&
                                                                i.apply(
                                                                    this,
                                                                    arguments
                                                                );
                                                            e && be(e.promise)
                                                                ? e
                                                                      .promise()
                                                                      .progress(
                                                                          t.notify
                                                                      )
                                                                      .done(
                                                                          t.resolve
                                                                      )
                                                                      .fail(
                                                                          t.reject
                                                                      )
                                                                : t[
                                                                      r[0] +
                                                                          "With"
                                                                  ](
                                                                      this,
                                                                      i
                                                                          ? [e]
                                                                          : arguments
                                                                  );
                                                        });
                                                    }),
                                                        (e = null);
                                                })
                                                .promise();
                                        },
                                        then: function(t, r, i) {
                                            function o(t, n, r, i) {
                                                return function() {
                                                    var s = this,
                                                        l = arguments,
                                                        d = function() {
                                                            var e, d;
                                                            if (!(t < a)) {
                                                                if (
                                                                    (e = r.apply(
                                                                        s,
                                                                        l
                                                                    )) ===
                                                                    n.promise()
                                                                )
                                                                    throw new TypeError(
                                                                        "Thenable self-resolution"
                                                                    );
                                                                (d =
                                                                    e &&
                                                                    ("object" ==
                                                                        typeof e ||
                                                                        "function" ==
                                                                            typeof e) &&
                                                                    e.then),
                                                                    be(d)
                                                                        ? i
                                                                            ? d.call(
                                                                                  e,
                                                                                  o(
                                                                                      a,
                                                                                      n,
                                                                                      u,
                                                                                      i
                                                                                  ),
                                                                                  o(
                                                                                      a,
                                                                                      n,
                                                                                      c,
                                                                                      i
                                                                                  )
                                                                              )
                                                                            : (a++,
                                                                              d.call(
                                                                                  e,
                                                                                  o(
                                                                                      a,
                                                                                      n,
                                                                                      u,
                                                                                      i
                                                                                  ),
                                                                                  o(
                                                                                      a,
                                                                                      n,
                                                                                      c,
                                                                                      i
                                                                                  ),
                                                                                  o(
                                                                                      a,
                                                                                      n,
                                                                                      u,
                                                                                      n.notifyWith
                                                                                  )
                                                                              ))
                                                                        : (r !==
                                                                              u &&
                                                                              ((s = void 0),
                                                                              (l = [
                                                                                  e
                                                                              ])),
                                                                          (i ||
                                                                              n.resolveWith)(
                                                                              s,
                                                                              l
                                                                          ));
                                                            }
                                                        },
                                                        f = i
                                                            ? d
                                                            : function() {
                                                                  try {
                                                                      d();
                                                                  } catch (e) {
                                                                      we
                                                                          .Deferred
                                                                          .exceptionHook &&
                                                                          we.Deferred.exceptionHook(
                                                                              e,
                                                                              f.stackTrace
                                                                          ),
                                                                          t +
                                                                              1 >=
                                                                              a &&
                                                                              (r !==
                                                                                  c &&
                                                                                  ((s = void 0),
                                                                                  (l = [
                                                                                      e
                                                                                  ])),
                                                                              n.rejectWith(
                                                                                  s,
                                                                                  l
                                                                              ));
                                                                  }
                                                              };
                                                    t
                                                        ? f()
                                                        : (we.Deferred
                                                              .getStackHook &&
                                                              (f.stackTrace = we.Deferred.getStackHook()),
                                                          e.setTimeout(f));
                                                };
                                            }
                                            var a = 0;
                                            return we
                                                .Deferred(function(e) {
                                                    n[0][3].add(
                                                        o(
                                                            0,
                                                            e,
                                                            be(i) ? i : u,
                                                            e.notifyWith
                                                        )
                                                    ),
                                                        n[1][3].add(
                                                            o(
                                                                0,
                                                                e,
                                                                be(t) ? t : u
                                                            )
                                                        ),
                                                        n[2][3].add(
                                                            o(
                                                                0,
                                                                e,
                                                                be(r) ? r : c
                                                            )
                                                        );
                                                })
                                                .promise();
                                        },
                                        promise: function(e) {
                                            return null != e
                                                ? we.extend(e, i)
                                                : i;
                                        }
                                    },
                                    o = {};
                                return (
                                    we.each(n, function(e, t) {
                                        var a = t[2],
                                            s = t[5];
                                        (i[t[1]] = a.add),
                                            s &&
                                                a.add(
                                                    function() {
                                                        r = s;
                                                    },
                                                    n[3 - e][2].disable,
                                                    n[3 - e][3].disable,
                                                    n[0][2].lock,
                                                    n[0][3].lock
                                                ),
                                            a.add(t[3].fire),
                                            (o[t[0]] = function() {
                                                return (
                                                    o[t[0] + "With"](
                                                        this === o
                                                            ? void 0
                                                            : this,
                                                        arguments
                                                    ),
                                                    this
                                                );
                                            }),
                                            (o[t[0] + "With"] = a.fireWith);
                                    }),
                                    i.promise(o),
                                    t && t.call(o, o),
                                    o
                                );
                            },
                            when: function(e) {
                                var t = arguments.length,
                                    n = t,
                                    r = Array(n),
                                    i = le.call(arguments),
                                    o = we.Deferred(),
                                    a = function(e) {
                                        return function(n) {
                                            (r[e] = this),
                                                (i[e] =
                                                    arguments.length > 1
                                                        ? le.call(arguments)
                                                        : n),
                                                --t || o.resolveWith(r, i);
                                        };
                                    };
                                if (
                                    t <= 1 &&
                                    (d(e, o.done(a(n)).resolve, o.reject, !t),
                                    "pending" === o.state() ||
                                        be(i[n] && i[n].then))
                                )
                                    return o.then();
                                for (; n--; ) d(i[n], a(n), o.reject);
                                return o.promise();
                            }
                        });
                    var Re = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
                    (we.Deferred.exceptionHook = function(t, n) {
                        e.console &&
                            e.console.warn &&
                            t &&
                            Re.test(t.name) &&
                            e.console.warn(
                                "jQuery.Deferred exception: " + t.message,
                                t.stack,
                                n
                            );
                    }),
                        (we.readyException = function(t) {
                            e.setTimeout(function() {
                                throw t;
                            });
                        });
                    var De = we.Deferred();
                    (we.fn.ready = function(e) {
                        return (
                            De.then(e).catch(function(e) {
                                we.readyException(e);
                            }),
                            this
                        );
                    }),
                        we.extend({
                            isReady: !1,
                            readyWait: 1,
                            ready: function(e) {
                                (!0 === e ? --we.readyWait : we.isReady) ||
                                    ((we.isReady = !0),
                                    (!0 !== e && --we.readyWait > 0) ||
                                        De.resolveWith(ae, [we]));
                            }
                        }),
                        (we.ready.then = De.then),
                        "complete" === ae.readyState ||
                        ("loading" !== ae.readyState &&
                            !ae.documentElement.doScroll)
                            ? e.setTimeout(we.ready)
                            : (ae.addEventListener("DOMContentLoaded", f),
                              e.addEventListener("load", f));
                    var je = function(e, t, n, i, o, a, s) {
                            var l = 0,
                                u = e.length,
                                c = null == n;
                            if ("object" === r(n)) {
                                o = !0;
                                for (l in n) je(e, t, l, n[l], !0, a, s);
                            } else if (
                                void 0 !== i &&
                                ((o = !0),
                                be(i) || (s = !0),
                                c &&
                                    (s
                                        ? (t.call(e, i), (t = null))
                                        : ((c = t),
                                          (t = function(e, t, n) {
                                              return c.call(we(e), n);
                                          }))),
                                t)
                            )
                                for (; l < u; l++)
                                    t(
                                        e[l],
                                        n,
                                        s ? i : i.call(e[l], l, t(e[l], n))
                                    );
                            return o ? e : c ? t.call(e) : u ? t(e[0], n) : a;
                        },
                        Me = /^-ms-/,
                        Le = /-([a-z])/g,
                        Fe = function(e) {
                            return (
                                1 === e.nodeType ||
                                9 === e.nodeType ||
                                !+e.nodeType
                            );
                        };
                    (m.uid = 1),
                        (m.prototype = {
                            cache: function(e) {
                                var t = e[this.expando];
                                return (
                                    t ||
                                        ((t = {}),
                                        Fe(e) &&
                                            (e.nodeType
                                                ? (e[this.expando] = t)
                                                : Object.defineProperty(
                                                      e,
                                                      this.expando,
                                                      {
                                                          value: t,
                                                          configurable: !0
                                                      }
                                                  ))),
                                    t
                                );
                            },
                            set: function(e, t, n) {
                                var r,
                                    i = this.cache(e);
                                if ("string" == typeof t) i[h(t)] = n;
                                else for (r in t) i[h(r)] = t[r];
                                return i;
                            },
                            get: function(e, t) {
                                return void 0 === t
                                    ? this.cache(e)
                                    : e[this.expando] && e[this.expando][h(t)];
                            },
                            access: function(e, t, n) {
                                return void 0 === t ||
                                    (t && "string" == typeof t && void 0 === n)
                                    ? this.get(e, t)
                                    : (this.set(e, t, n), void 0 !== n ? n : t);
                            },
                            remove: function(e, t) {
                                var n,
                                    r = e[this.expando];
                                if (void 0 !== r) {
                                    if (void 0 !== t) {
                                        Array.isArray(t)
                                            ? (t = t.map(h))
                                            : ((t = h(t)),
                                              (t =
                                                  t in r
                                                      ? [t]
                                                      : t.match(Ne) || [])),
                                            (n = t.length);
                                        for (; n--; ) delete r[t[n]];
                                    }
                                    (void 0 === t || we.isEmptyObject(r)) &&
                                        (e.nodeType
                                            ? (e[this.expando] = void 0)
                                            : delete e[this.expando]);
                                }
                            },
                            hasData: function(e) {
                                var t = e[this.expando];
                                return void 0 !== t && !we.isEmptyObject(t);
                            }
                        });
                    var Ue = new m(),
                        ze = new m(),
                        Be = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
                        Ve = /[A-Z]/g;
                    we.extend({
                        hasData: function(e) {
                            return ze.hasData(e) || Ue.hasData(e);
                        },
                        data: function(e, t, n) {
                            return ze.access(e, t, n);
                        },
                        removeData: function(e, t) {
                            ze.remove(e, t);
                        },
                        _data: function(e, t, n) {
                            return Ue.access(e, t, n);
                        },
                        _removeData: function(e, t) {
                            Ue.remove(e, t);
                        }
                    }),
                        we.fn.extend({
                            data: function(e, t) {
                                var n,
                                    r,
                                    i,
                                    o = this[0],
                                    a = o && o.attributes;
                                if (void 0 === e) {
                                    if (
                                        this.length &&
                                        ((i = ze.get(o)),
                                        1 === o.nodeType &&
                                            !Ue.get(o, "hasDataAttrs"))
                                    ) {
                                        for (n = a.length; n--; )
                                            a[n] &&
                                                ((r = a[n].name),
                                                0 === r.indexOf("data-") &&
                                                    ((r = h(r.slice(5))),
                                                    v(o, r, i[r])));
                                        Ue.set(o, "hasDataAttrs", !0);
                                    }
                                    return i;
                                }
                                return "object" == typeof e
                                    ? this.each(function() {
                                          ze.set(this, e);
                                      })
                                    : je(
                                          this,
                                          function(t) {
                                              var n;
                                              if (o && void 0 === t) {
                                                  if (
                                                      void 0 !==
                                                      (n = ze.get(o, e))
                                                  )
                                                      return n;
                                                  if (void 0 !== (n = v(o, e)))
                                                      return n;
                                              } else
                                                  this.each(function() {
                                                      ze.set(this, e, t);
                                                  });
                                          },
                                          null,
                                          t,
                                          arguments.length > 1,
                                          null,
                                          !0
                                      );
                            },
                            removeData: function(e) {
                                return this.each(function() {
                                    ze.remove(this, e);
                                });
                            }
                        }),
                        we.extend({
                            queue: function(e, t, n) {
                                var r;
                                if (e)
                                    return (
                                        (t = (t || "fx") + "queue"),
                                        (r = Ue.get(e, t)),
                                        n &&
                                            (!r || Array.isArray(n)
                                                ? (r = Ue.access(
                                                      e,
                                                      t,
                                                      we.makeArray(n)
                                                  ))
                                                : r.push(n)),
                                        r || []
                                    );
                            },
                            dequeue: function(e, t) {
                                t = t || "fx";
                                var n = we.queue(e, t),
                                    r = n.length,
                                    i = n.shift(),
                                    o = we._queueHooks(e, t),
                                    a = function() {
                                        we.dequeue(e, t);
                                    };
                                "inprogress" === i && ((i = n.shift()), r--),
                                    i &&
                                        ("fx" === t && n.unshift("inprogress"),
                                        delete o.stop,
                                        i.call(e, a, o)),
                                    !r && o && o.empty.fire();
                            },
                            _queueHooks: function(e, t) {
                                var n = t + "queueHooks";
                                return (
                                    Ue.get(e, n) ||
                                    Ue.access(e, n, {
                                        empty: we
                                            .Callbacks("once memory")
                                            .add(function() {
                                                Ue.remove(e, [t + "queue", n]);
                                            })
                                    })
                                );
                            }
                        }),
                        we.fn.extend({
                            queue: function(e, t) {
                                var n = 2;
                                return (
                                    "string" != typeof e &&
                                        ((t = e), (e = "fx"), n--),
                                    arguments.length < n
                                        ? we.queue(this[0], e)
                                        : void 0 === t
                                            ? this
                                            : this.each(function() {
                                                  var n = we.queue(this, e, t);
                                                  we._queueHooks(this, e),
                                                      "fx" === e &&
                                                          "inprogress" !==
                                                              n[0] &&
                                                          we.dequeue(this, e);
                                              })
                                );
                            },
                            dequeue: function(e) {
                                return this.each(function() {
                                    we.dequeue(this, e);
                                });
                            },
                            clearQueue: function(e) {
                                return this.queue(e || "fx", []);
                            },
                            promise: function(e, t) {
                                var n,
                                    r = 1,
                                    i = we.Deferred(),
                                    o = this,
                                    a = this.length,
                                    s = function() {
                                        --r || i.resolveWith(o, [o]);
                                    };
                                for (
                                    "string" != typeof e &&
                                        ((t = e), (e = void 0)),
                                        e = e || "fx";
                                    a--;

                                )
                                    (n = Ue.get(o[a], e + "queueHooks")) &&
                                        n.empty &&
                                        (r++, n.empty.add(s));
                                return s(), i.promise(t);
                            }
                        });
                    var $e = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
                        He = new RegExp(
                            "^(?:([+-])=|)(" + $e + ")([a-z%]*)$",
                            "i"
                        ),
                        qe = ["Top", "Right", "Bottom", "Left"],
                        We = function(e, t) {
                            return (
                                (e = t || e),
                                "none" === e.style.display ||
                                    ("" === e.style.display &&
                                        we.contains(e.ownerDocument, e) &&
                                        "none" === we.css(e, "display"))
                            );
                        },
                        Ge = function(e, t, n, r) {
                            var i,
                                o,
                                a = {};
                            for (o in t)
                                (a[o] = e.style[o]), (e.style[o] = t[o]);
                            i = n.apply(e, r || []);
                            for (o in t) e.style[o] = a[o];
                            return i;
                        },
                        Xe = {};
                    we.fn.extend({
                        show: function() {
                            return _(this, !0);
                        },
                        hide: function() {
                            return _(this);
                        },
                        toggle: function(e) {
                            return "boolean" == typeof e
                                ? e
                                    ? this.show()
                                    : this.hide()
                                : this.each(function() {
                                      We(this)
                                          ? we(this).show()
                                          : we(this).hide();
                                  });
                        }
                    });
                    var Ke = /^(?:checkbox|radio)$/i,
                        Je = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i,
                        Qe = /^$|^module$|\/(?:java|ecma)script/i,
                        Ye = {
                            option: [
                                1,
                                "<select multiple='multiple'>",
                                "</select>"
                            ],
                            thead: [1, "<table>", "</table>"],
                            col: [
                                2,
                                "<table><colgroup>",
                                "</colgroup></table>"
                            ],
                            tr: [2, "<table><tbody>", "</tbody></table>"],
                            td: [
                                3,
                                "<table><tbody><tr>",
                                "</tr></tbody></table>"
                            ],
                            _default: [0, "", ""]
                        };
                    (Ye.optgroup = Ye.option),
                        (Ye.tbody = Ye.tfoot = Ye.colgroup = Ye.caption =
                            Ye.thead),
                        (Ye.th = Ye.td);
                    var Ze = /<|&#?\w+;/;
                    !(function() {
                        var e = ae.createDocumentFragment(),
                            t = e.appendChild(ae.createElement("div")),
                            n = ae.createElement("input");
                        n.setAttribute("type", "radio"),
                            n.setAttribute("checked", "checked"),
                            n.setAttribute("name", "t"),
                            t.appendChild(n),
                            (ve.checkClone = t
                                .cloneNode(!0)
                                .cloneNode(!0).lastChild.checked),
                            (t.innerHTML = "<textarea>x</textarea>"),
                            (ve.noCloneChecked = !!t.cloneNode(!0).lastChild
                                .defaultValue);
                    })();
                    var et = ae.documentElement,
                        tt = /^key/,
                        nt = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
                        rt = /^([^.]*)(?:\.(.+)|)/;
                    (we.event = {
                        global: {},
                        add: function(e, t, n, r, i) {
                            var o,
                                a,
                                s,
                                l,
                                u,
                                c,
                                d,
                                f,
                                p,
                                h,
                                m,
                                g = Ue.get(e);
                            if (g)
                                for (
                                    n.handler &&
                                        ((o = n),
                                        (n = o.handler),
                                        (i = o.selector)),
                                        i && we.find.matchesSelector(et, i),
                                        n.guid || (n.guid = we.guid++),
                                        (l = g.events) || (l = g.events = {}),
                                        (a = g.handle) ||
                                            (a = g.handle = function(t) {
                                                return void 0 !== we &&
                                                    we.event.triggered !==
                                                        t.type
                                                    ? we.event.dispatch.apply(
                                                          e,
                                                          arguments
                                                      )
                                                    : void 0;
                                            }),
                                        t = (t || "").match(Ne) || [""],
                                        u = t.length;
                                    u--;

                                )
                                    (s = rt.exec(t[u]) || []),
                                        (p = m = s[1]),
                                        (h = (s[2] || "").split(".").sort()),
                                        p &&
                                            ((d = we.event.special[p] || {}),
                                            (p =
                                                (i
                                                    ? d.delegateType
                                                    : d.bindType) || p),
                                            (d = we.event.special[p] || {}),
                                            (c = we.extend(
                                                {
                                                    type: p,
                                                    origType: m,
                                                    data: r,
                                                    handler: n,
                                                    guid: n.guid,
                                                    selector: i,
                                                    needsContext:
                                                        i &&
                                                        we.expr.match.needsContext.test(
                                                            i
                                                        ),
                                                    namespace: h.join(".")
                                                },
                                                o
                                            )),
                                            (f = l[p]) ||
                                                ((f = l[p] = []),
                                                (f.delegateCount = 0),
                                                (d.setup &&
                                                    !1 !==
                                                        d.setup.call(
                                                            e,
                                                            r,
                                                            h,
                                                            a
                                                        )) ||
                                                    (e.addEventListener &&
                                                        e.addEventListener(
                                                            p,
                                                            a
                                                        ))),
                                            d.add &&
                                                (d.add.call(e, c),
                                                c.handler.guid ||
                                                    (c.handler.guid = n.guid)),
                                            i
                                                ? f.splice(
                                                      f.delegateCount++,
                                                      0,
                                                      c
                                                  )
                                                : f.push(c),
                                            (we.event.global[p] = !0));
                        },
                        remove: function(e, t, n, r, i) {
                            var o,
                                a,
                                s,
                                l,
                                u,
                                c,
                                d,
                                f,
                                p,
                                h,
                                m,
                                g = Ue.hasData(e) && Ue.get(e);
                            if (g && (l = g.events)) {
                                for (
                                    t = (t || "").match(Ne) || [""],
                                        u = t.length;
                                    u--;

                                )
                                    if (
                                        ((s = rt.exec(t[u]) || []),
                                        (p = m = s[1]),
                                        (h = (s[2] || "").split(".").sort()),
                                        p)
                                    ) {
                                        for (
                                            d = we.event.special[p] || {},
                                                p =
                                                    (r
                                                        ? d.delegateType
                                                        : d.bindType) || p,
                                                f = l[p] || [],
                                                s =
                                                    s[2] &&
                                                    new RegExp(
                                                        "(^|\\.)" +
                                                            h.join(
                                                                "\\.(?:.*\\.|)"
                                                            ) +
                                                            "(\\.|$)"
                                                    ),
                                                a = o = f.length;
                                            o--;

                                        )
                                            (c = f[o]),
                                                (!i && m !== c.origType) ||
                                                    (n && n.guid !== c.guid) ||
                                                    (s &&
                                                        !s.test(c.namespace)) ||
                                                    (r &&
                                                        r !== c.selector &&
                                                        ("**" !== r ||
                                                            !c.selector)) ||
                                                    (f.splice(o, 1),
                                                    c.selector &&
                                                        f.delegateCount--,
                                                    d.remove &&
                                                        d.remove.call(e, c));
                                        a &&
                                            !f.length &&
                                            ((d.teardown &&
                                                !1 !==
                                                    d.teardown.call(
                                                        e,
                                                        h,
                                                        g.handle
                                                    )) ||
                                                we.removeEvent(e, p, g.handle),
                                            delete l[p]);
                                    } else
                                        for (p in l)
                                            we.event.remove(
                                                e,
                                                p + t[u],
                                                n,
                                                r,
                                                !0
                                            );
                                we.isEmptyObject(l) &&
                                    Ue.remove(e, "handle events");
                            }
                        },
                        dispatch: function(e) {
                            var t,
                                n,
                                r,
                                i,
                                o,
                                a,
                                s = we.event.fix(e),
                                l = new Array(arguments.length),
                                u =
                                    (Ue.get(this, "events") || {})[s.type] ||
                                    [],
                                c = we.event.special[s.type] || {};
                            for (l[0] = s, t = 1; t < arguments.length; t++)
                                l[t] = arguments[t];
                            if (
                                ((s.delegateTarget = this),
                                !c.preDispatch ||
                                    !1 !== c.preDispatch.call(this, s))
                            ) {
                                for (
                                    a = we.event.handlers.call(this, s, u),
                                        t = 0;
                                    (i = a[t++]) && !s.isPropagationStopped();

                                )
                                    for (
                                        s.currentTarget = i.elem, n = 0;
                                        (o = i.handlers[n++]) &&
                                        !s.isImmediatePropagationStopped();

                                    )
                                        (s.rnamespace &&
                                            !s.rnamespace.test(o.namespace)) ||
                                            ((s.handleObj = o),
                                            (s.data = o.data),
                                            void 0 !==
                                                (r = (
                                                    (
                                                        we.event.special[
                                                            o.origType
                                                        ] || {}
                                                    ).handle || o.handler
                                                ).apply(i.elem, l)) &&
                                                !1 === (s.result = r) &&
                                                (s.preventDefault(),
                                                s.stopPropagation()));
                                return (
                                    c.postDispatch &&
                                        c.postDispatch.call(this, s),
                                    s.result
                                );
                            }
                        },
                        handlers: function(e, t) {
                            var n,
                                r,
                                i,
                                o,
                                a,
                                s = [],
                                l = t.delegateCount,
                                u = e.target;
                            if (
                                l &&
                                u.nodeType &&
                                !("click" === e.type && e.button >= 1)
                            )
                                for (; u !== this; u = u.parentNode || this)
                                    if (
                                        1 === u.nodeType &&
                                        ("click" !== e.type ||
                                            !0 !== u.disabled)
                                    ) {
                                        for (o = [], a = {}, n = 0; n < l; n++)
                                            (r = t[n]),
                                                (i = r.selector + " "),
                                                void 0 === a[i] &&
                                                    (a[i] = r.needsContext
                                                        ? we(i, this).index(u) >
                                                          -1
                                                        : we.find(
                                                              i,
                                                              this,
                                                              null,
                                                              [u]
                                                          ).length),
                                                a[i] && o.push(r);
                                        o.length &&
                                            s.push({ elem: u, handlers: o });
                                    }
                            return (
                                (u = this),
                                l < t.length &&
                                    s.push({ elem: u, handlers: t.slice(l) }),
                                s
                            );
                        },
                        addProp: function(e, t) {
                            Object.defineProperty(we.Event.prototype, e, {
                                enumerable: !0,
                                configurable: !0,
                                get: be(t)
                                    ? function() {
                                          if (this.originalEvent)
                                              return t(this.originalEvent);
                                      }
                                    : function() {
                                          if (this.originalEvent)
                                              return this.originalEvent[e];
                                      },
                                set: function(t) {
                                    Object.defineProperty(this, e, {
                                        enumerable: !0,
                                        configurable: !0,
                                        writable: !0,
                                        value: t
                                    });
                                }
                            });
                        },
                        fix: function(e) {
                            return e[we.expando] ? e : new we.Event(e);
                        },
                        special: {
                            load: { noBubble: !0 },
                            focus: {
                                trigger: function() {
                                    if (this !== C() && this.focus)
                                        return this.focus(), !1;
                                },
                                delegateType: "focusin"
                            },
                            blur: {
                                trigger: function() {
                                    if (this === C() && this.blur)
                                        return this.blur(), !1;
                                },
                                delegateType: "focusout"
                            },
                            click: {
                                trigger: function() {
                                    if (
                                        "checkbox" === this.type &&
                                        this.click &&
                                        o(this, "input")
                                    )
                                        return this.click(), !1;
                                },
                                _default: function(e) {
                                    return o(e.target, "a");
                                }
                            },
                            beforeunload: {
                                postDispatch: function(e) {
                                    void 0 !== e.result &&
                                        e.originalEvent &&
                                        (e.originalEvent.returnValue =
                                            e.result);
                                }
                            }
                        }
                    }),
                        (we.removeEvent = function(e, t, n) {
                            e.removeEventListener &&
                                e.removeEventListener(t, n);
                        }),
                        (we.Event = function(e, t) {
                            if (!(this instanceof we.Event))
                                return new we.Event(e, t);
                            e && e.type
                                ? ((this.originalEvent = e),
                                  (this.type = e.type),
                                  (this.isDefaultPrevented =
                                      e.defaultPrevented ||
                                      (void 0 === e.defaultPrevented &&
                                          !1 === e.returnValue)
                                          ? T
                                          : S),
                                  (this.target =
                                      e.target && 3 === e.target.nodeType
                                          ? e.target.parentNode
                                          : e.target),
                                  (this.currentTarget = e.currentTarget),
                                  (this.relatedTarget = e.relatedTarget))
                                : (this.type = e),
                                t && we.extend(this, t),
                                (this.timeStamp =
                                    (e && e.timeStamp) || Date.now()),
                                (this[we.expando] = !0);
                        }),
                        (we.Event.prototype = {
                            constructor: we.Event,
                            isDefaultPrevented: S,
                            isPropagationStopped: S,
                            isImmediatePropagationStopped: S,
                            isSimulated: !1,
                            preventDefault: function() {
                                var e = this.originalEvent;
                                (this.isDefaultPrevented = T),
                                    e &&
                                        !this.isSimulated &&
                                        e.preventDefault();
                            },
                            stopPropagation: function() {
                                var e = this.originalEvent;
                                (this.isPropagationStopped = T),
                                    e &&
                                        !this.isSimulated &&
                                        e.stopPropagation();
                            },
                            stopImmediatePropagation: function() {
                                var e = this.originalEvent;
                                (this.isImmediatePropagationStopped = T),
                                    e &&
                                        !this.isSimulated &&
                                        e.stopImmediatePropagation(),
                                    this.stopPropagation();
                            }
                        }),
                        we.each(
                            {
                                altKey: !0,
                                bubbles: !0,
                                cancelable: !0,
                                changedTouches: !0,
                                ctrlKey: !0,
                                detail: !0,
                                eventPhase: !0,
                                metaKey: !0,
                                pageX: !0,
                                pageY: !0,
                                shiftKey: !0,
                                view: !0,
                                char: !0,
                                charCode: !0,
                                key: !0,
                                keyCode: !0,
                                button: !0,
                                buttons: !0,
                                clientX: !0,
                                clientY: !0,
                                offsetX: !0,
                                offsetY: !0,
                                pointerId: !0,
                                pointerType: !0,
                                screenX: !0,
                                screenY: !0,
                                targetTouches: !0,
                                toElement: !0,
                                touches: !0,
                                which: function(e) {
                                    var t = e.button;
                                    return null == e.which && tt.test(e.type)
                                        ? null != e.charCode
                                            ? e.charCode
                                            : e.keyCode
                                        : !e.which &&
                                          void 0 !== t &&
                                          nt.test(e.type)
                                            ? 1 & t
                                                ? 1
                                                : 2 & t
                                                    ? 3
                                                    : 4 & t
                                                        ? 2
                                                        : 0
                                            : e.which;
                                }
                            },
                            we.event.addProp
                        ),
                        we.each(
                            {
                                mouseenter: "mouseover",
                                mouseleave: "mouseout",
                                pointerenter: "pointerover",
                                pointerleave: "pointerout"
                            },
                            function(e, t) {
                                we.event.special[e] = {
                                    delegateType: t,
                                    bindType: t,
                                    handle: function(e) {
                                        var n,
                                            r = this,
                                            i = e.relatedTarget,
                                            o = e.handleObj;
                                        return (
                                            (i &&
                                                (i === r ||
                                                    we.contains(r, i))) ||
                                                ((e.type = o.origType),
                                                (n = o.handler.apply(
                                                    this,
                                                    arguments
                                                )),
                                                (e.type = t)),
                                            n
                                        );
                                    }
                                };
                            }
                        ),
                        we.fn.extend({
                            on: function(e, t, n, r) {
                                return k(this, e, t, n, r);
                            },
                            one: function(e, t, n, r) {
                                return k(this, e, t, n, r, 1);
                            },
                            off: function(e, t, n) {
                                var r, i;
                                if (e && e.preventDefault && e.handleObj)
                                    return (
                                        (r = e.handleObj),
                                        we(e.delegateTarget).off(
                                            r.namespace
                                                ? r.origType + "." + r.namespace
                                                : r.origType,
                                            r.selector,
                                            r.handler
                                        ),
                                        this
                                    );
                                if ("object" == typeof e) {
                                    for (i in e) this.off(i, t, e[i]);
                                    return this;
                                }
                                return (
                                    (!1 !== t && "function" != typeof t) ||
                                        ((n = t), (t = void 0)),
                                    !1 === n && (n = S),
                                    this.each(function() {
                                        we.event.remove(this, e, n, t);
                                    })
                                );
                            }
                        });
                    var it = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
                        ot = /<script|<style|<link/i,
                        at = /checked\s*(?:[^=]|=\s*.checked.)/i,
                        st = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
                    we.extend({
                        htmlPrefilter: function(e) {
                            return e.replace(it, "<$1></$2>");
                        },
                        clone: function(e, t, n) {
                            var r,
                                i,
                                o,
                                a,
                                s = e.cloneNode(!0),
                                l = we.contains(e.ownerDocument, e);
                            if (
                                !(
                                    ve.noCloneChecked ||
                                    (1 !== e.nodeType && 11 !== e.nodeType) ||
                                    we.isXMLDoc(e)
                                )
                            )
                                for (
                                    a = w(s), o = w(e), r = 0, i = o.length;
                                    r < i;
                                    r++
                                )
                                    N(o[r], a[r]);
                            if (t)
                                if (n)
                                    for (
                                        o = o || w(e),
                                            a = a || w(s),
                                            r = 0,
                                            i = o.length;
                                        r < i;
                                        r++
                                    )
                                        A(o[r], a[r]);
                                else A(e, s);
                            return (
                                (a = w(s, "script")),
                                a.length > 0 && x(a, !l && w(e, "script")),
                                s
                            );
                        },
                        cleanData: function(e) {
                            for (
                                var t, n, r, i = we.event.special, o = 0;
                                void 0 !== (n = e[o]);
                                o++
                            )
                                if (Fe(n)) {
                                    if ((t = n[Ue.expando])) {
                                        if (t.events)
                                            for (r in t.events)
                                                i[r]
                                                    ? we.event.remove(n, r)
                                                    : we.removeEvent(
                                                          n,
                                                          r,
                                                          t.handle
                                                      );
                                        n[Ue.expando] = void 0;
                                    }
                                    n[ze.expando] && (n[ze.expando] = void 0);
                                }
                        }
                    }),
                        we.fn.extend({
                            detach: function(e) {
                                return D(this, e, !0);
                            },
                            remove: function(e) {
                                return D(this, e);
                            },
                            text: function(e) {
                                return je(
                                    this,
                                    function(e) {
                                        return void 0 === e
                                            ? we.text(this)
                                            : this.empty().each(function() {
                                                  (1 !== this.nodeType &&
                                                      11 !== this.nodeType &&
                                                      9 !== this.nodeType) ||
                                                      (this.textContent = e);
                                              });
                                    },
                                    null,
                                    e,
                                    arguments.length
                                );
                            },
                            append: function() {
                                return R(this, arguments, function(e) {
                                    if (
                                        1 === this.nodeType ||
                                        11 === this.nodeType ||
                                        9 === this.nodeType
                                    ) {
                                        I(this, e).appendChild(e);
                                    }
                                });
                            },
                            prepend: function() {
                                return R(this, arguments, function(e) {
                                    if (
                                        1 === this.nodeType ||
                                        11 === this.nodeType ||
                                        9 === this.nodeType
                                    ) {
                                        var t = I(this, e);
                                        t.insertBefore(e, t.firstChild);
                                    }
                                });
                            },
                            before: function() {
                                return R(this, arguments, function(e) {
                                    this.parentNode &&
                                        this.parentNode.insertBefore(e, this);
                                });
                            },
                            after: function() {
                                return R(this, arguments, function(e) {
                                    this.parentNode &&
                                        this.parentNode.insertBefore(
                                            e,
                                            this.nextSibling
                                        );
                                });
                            },
                            empty: function() {
                                for (var e, t = 0; null != (e = this[t]); t++)
                                    1 === e.nodeType &&
                                        (we.cleanData(w(e, !1)),
                                        (e.textContent = ""));
                                return this;
                            },
                            clone: function(e, t) {
                                return (
                                    (e = null != e && e),
                                    (t = null == t ? e : t),
                                    this.map(function() {
                                        return we.clone(this, e, t);
                                    })
                                );
                            },
                            html: function(e) {
                                return je(
                                    this,
                                    function(e) {
                                        var t = this[0] || {},
                                            n = 0,
                                            r = this.length;
                                        if (void 0 === e && 1 === t.nodeType)
                                            return t.innerHTML;
                                        if (
                                            "string" == typeof e &&
                                            !ot.test(e) &&
                                            !Ye[
                                                (Je.exec(e) || [
                                                    "",
                                                    ""
                                                ])[1].toLowerCase()
                                            ]
                                        ) {
                                            e = we.htmlPrefilter(e);
                                            try {
                                                for (; n < r; n++)
                                                    (t = this[n] || {}),
                                                        1 === t.nodeType &&
                                                            (we.cleanData(
                                                                w(t, !1)
                                                            ),
                                                            (t.innerHTML = e));
                                                t = 0;
                                            } catch (e) {}
                                        }
                                        t && this.empty().append(e);
                                    },
                                    null,
                                    e,
                                    arguments.length
                                );
                            },
                            replaceWith: function() {
                                var e = [];
                                return R(
                                    this,
                                    arguments,
                                    function(t) {
                                        var n = this.parentNode;
                                        we.inArray(this, e) < 0 &&
                                            (we.cleanData(w(this)),
                                            n && n.replaceChild(t, this));
                                    },
                                    e
                                );
                            }
                        }),
                        we.each(
                            {
                                appendTo: "append",
                                prependTo: "prepend",
                                insertBefore: "before",
                                insertAfter: "after",
                                replaceAll: "replaceWith"
                            },
                            function(e, t) {
                                we.fn[e] = function(e) {
                                    for (
                                        var n,
                                            r = [],
                                            i = we(e),
                                            o = i.length - 1,
                                            a = 0;
                                        a <= o;
                                        a++
                                    )
                                        (n = a === o ? this : this.clone(!0)),
                                            we(i[a])[t](n),
                                            ce.apply(r, n.get());
                                    return this.pushStack(r);
                                };
                            }
                        );
                    var lt = new RegExp("^(" + $e + ")(?!px)[a-z%]+$", "i"),
                        ut = function(t) {
                            var n = t.ownerDocument.defaultView;
                            return (
                                (n && n.opener) || (n = e),
                                n.getComputedStyle(t)
                            );
                        },
                        ct = new RegExp(qe.join("|"), "i");
                    !(function() {
                        function t() {
                            if (u) {
                                (l.style.cssText =
                                    "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0"),
                                    (u.style.cssText =
                                        "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%"),
                                    et.appendChild(l).appendChild(u);
                                var t = e.getComputedStyle(u);
                                (r = "1%" !== t.top),
                                    (s = 12 === n(t.marginLeft)),
                                    (u.style.right = "60%"),
                                    (a = 36 === n(t.right)),
                                    (i = 36 === n(t.width)),
                                    (u.style.position = "absolute"),
                                    (o = 36 === u.offsetWidth || "absolute"),
                                    et.removeChild(l),
                                    (u = null);
                            }
                        }
                        function n(e) {
                            return Math.round(parseFloat(e));
                        }
                        var r,
                            i,
                            o,
                            a,
                            s,
                            l = ae.createElement("div"),
                            u = ae.createElement("div");
                        u.style &&
                            ((u.style.backgroundClip = "content-box"),
                            (u.cloneNode(!0).style.backgroundClip = ""),
                            (ve.clearCloneStyle =
                                "content-box" === u.style.backgroundClip),
                            we.extend(ve, {
                                boxSizingReliable: function() {
                                    return t(), i;
                                },
                                pixelBoxStyles: function() {
                                    return t(), a;
                                },
                                pixelPosition: function() {
                                    return t(), r;
                                },
                                reliableMarginLeft: function() {
                                    return t(), s;
                                },
                                scrollboxSize: function() {
                                    return t(), o;
                                }
                            }));
                    })();
                    var dt = /^(none|table(?!-c[ea]).+)/,
                        ft = /^--/,
                        pt = {
                            position: "absolute",
                            visibility: "hidden",
                            display: "block"
                        },
                        ht = { letterSpacing: "0", fontWeight: "400" },
                        mt = ["Webkit", "Moz", "ms"],
                        gt = ae.createElement("div").style;
                    we.extend({
                        cssHooks: {
                            opacity: {
                                get: function(e, t) {
                                    if (t) {
                                        var n = j(e, "opacity");
                                        return "" === n ? "1" : n;
                                    }
                                }
                            }
                        },
                        cssNumber: {
                            animationIterationCount: !0,
                            columnCount: !0,
                            fillOpacity: !0,
                            flexGrow: !0,
                            flexShrink: !0,
                            fontWeight: !0,
                            lineHeight: !0,
                            opacity: !0,
                            order: !0,
                            orphans: !0,
                            widows: !0,
                            zIndex: !0,
                            zoom: !0
                        },
                        cssProps: {},
                        style: function(e, t, n, r) {
                            if (
                                e &&
                                3 !== e.nodeType &&
                                8 !== e.nodeType &&
                                e.style
                            ) {
                                var i,
                                    o,
                                    a,
                                    s = h(t),
                                    l = ft.test(t),
                                    u = e.style;
                                if (
                                    (l || (t = F(s)),
                                    (a = we.cssHooks[t] || we.cssHooks[s]),
                                    void 0 === n)
                                )
                                    return a &&
                                        "get" in a &&
                                        void 0 !== (i = a.get(e, !1, r))
                                        ? i
                                        : u[t];
                                (o = typeof n),
                                    "string" === o &&
                                        (i = He.exec(n)) &&
                                        i[1] &&
                                        ((n = b(e, t, i)), (o = "number")),
                                    null != n &&
                                        n === n &&
                                        ("number" === o &&
                                            (n +=
                                                (i && i[3]) ||
                                                (we.cssNumber[s] ? "" : "px")),
                                        ve.clearCloneStyle ||
                                            "" !== n ||
                                            0 !== t.indexOf("background") ||
                                            (u[t] = "inherit"),
                                        (a &&
                                            "set" in a &&
                                            void 0 === (n = a.set(e, n, r))) ||
                                            (l
                                                ? u.setProperty(t, n)
                                                : (u[t] = n)));
                            }
                        },
                        css: function(e, t, n, r) {
                            var i,
                                o,
                                a,
                                s = h(t);
                            return (
                                ft.test(t) || (t = F(s)),
                                (a = we.cssHooks[t] || we.cssHooks[s]),
                                a && "get" in a && (i = a.get(e, !0, n)),
                                void 0 === i && (i = j(e, t, r)),
                                "normal" === i && t in ht && (i = ht[t]),
                                "" === n || n
                                    ? ((o = parseFloat(i)),
                                      !0 === n || isFinite(o) ? o || 0 : i)
                                    : i
                            );
                        }
                    }),
                        we.each(["height", "width"], function(e, t) {
                            we.cssHooks[t] = {
                                get: function(e, n, r) {
                                    if (n)
                                        return !dt.test(we.css(e, "display")) ||
                                            (e.getClientRects().length &&
                                                e.getBoundingClientRect().width)
                                            ? B(e, t, r)
                                            : Ge(e, pt, function() {
                                                  return B(e, t, r);
                                              });
                                },
                                set: function(e, n, r) {
                                    var i,
                                        o = ut(e),
                                        a =
                                            "border-box" ===
                                            we.css(e, "boxSizing", !1, o),
                                        s = r && z(e, t, r, a, o);
                                    return (
                                        a &&
                                            ve.scrollboxSize() === o.position &&
                                            (s -= Math.ceil(
                                                e[
                                                    "offset" +
                                                        t[0].toUpperCase() +
                                                        t.slice(1)
                                                ] -
                                                    parseFloat(o[t]) -
                                                    z(e, t, "border", !1, o) -
                                                    0.5
                                            )),
                                        s &&
                                            (i = He.exec(n)) &&
                                            "px" !== (i[3] || "px") &&
                                            ((e.style[t] = n),
                                            (n = we.css(e, t))),
                                        U(e, n, s)
                                    );
                                }
                            };
                        }),
                        (we.cssHooks.marginLeft = M(
                            ve.reliableMarginLeft,
                            function(e, t) {
                                if (t)
                                    return (
                                        (parseFloat(j(e, "marginLeft")) ||
                                            e.getBoundingClientRect().left -
                                                Ge(
                                                    e,
                                                    { marginLeft: 0 },
                                                    function() {
                                                        return e.getBoundingClientRect()
                                                            .left;
                                                    }
                                                )) + "px"
                                    );
                            }
                        )),
                        we.each(
                            { margin: "", padding: "", border: "Width" },
                            function(e, t) {
                                (we.cssHooks[e + t] = {
                                    expand: function(n) {
                                        for (
                                            var r = 0,
                                                i = {},
                                                o =
                                                    "string" == typeof n
                                                        ? n.split(" ")
                                                        : [n];
                                            r < 4;
                                            r++
                                        )
                                            i[e + qe[r] + t] =
                                                o[r] || o[r - 2] || o[0];
                                        return i;
                                    }
                                }),
                                    "margin" !== e &&
                                        (we.cssHooks[e + t].set = U);
                            }
                        ),
                        we.fn.extend({
                            css: function(e, t) {
                                return je(
                                    this,
                                    function(e, t, n) {
                                        var r,
                                            i,
                                            o = {},
                                            a = 0;
                                        if (Array.isArray(t)) {
                                            for (
                                                r = ut(e), i = t.length;
                                                a < i;
                                                a++
                                            )
                                                o[t[a]] = we.css(
                                                    e,
                                                    t[a],
                                                    !1,
                                                    r
                                                );
                                            return o;
                                        }
                                        return void 0 !== n
                                            ? we.style(e, t, n)
                                            : we.css(e, t);
                                    },
                                    e,
                                    t,
                                    arguments.length > 1
                                );
                            }
                        }),
                        (we.Tween = V),
                        (V.prototype = {
                            constructor: V,
                            init: function(e, t, n, r, i, o) {
                                (this.elem = e),
                                    (this.prop = n),
                                    (this.easing = i || we.easing._default),
                                    (this.options = t),
                                    (this.start = this.now = this.cur()),
                                    (this.end = r),
                                    (this.unit =
                                        o || (we.cssNumber[n] ? "" : "px"));
                            },
                            cur: function() {
                                var e = V.propHooks[this.prop];
                                return e && e.get
                                    ? e.get(this)
                                    : V.propHooks._default.get(this);
                            },
                            run: function(e) {
                                var t,
                                    n = V.propHooks[this.prop];
                                return (
                                    this.options.duration
                                        ? (this.pos = t = we.easing[
                                              this.easing
                                          ](
                                              e,
                                              this.options.duration * e,
                                              0,
                                              1,
                                              this.options.duration
                                          ))
                                        : (this.pos = t = e),
                                    (this.now =
                                        (this.end - this.start) * t +
                                        this.start),
                                    this.options.step &&
                                        this.options.step.call(
                                            this.elem,
                                            this.now,
                                            this
                                        ),
                                    n && n.set
                                        ? n.set(this)
                                        : V.propHooks._default.set(this),
                                    this
                                );
                            }
                        }),
                        (V.prototype.init.prototype = V.prototype),
                        (V.propHooks = {
                            _default: {
                                get: function(e) {
                                    var t;
                                    return 1 !== e.elem.nodeType ||
                                        (null != e.elem[e.prop] &&
                                            null == e.elem.style[e.prop])
                                        ? e.elem[e.prop]
                                        : ((t = we.css(e.elem, e.prop, "")),
                                          t && "auto" !== t ? t : 0);
                                },
                                set: function(e) {
                                    we.fx.step[e.prop]
                                        ? we.fx.step[e.prop](e)
                                        : 1 !== e.elem.nodeType ||
                                          (null ==
                                              e.elem.style[
                                                  we.cssProps[e.prop]
                                              ] &&
                                              !we.cssHooks[e.prop])
                                            ? (e.elem[e.prop] = e.now)
                                            : we.style(
                                                  e.elem,
                                                  e.prop,
                                                  e.now + e.unit
                                              );
                                }
                            }
                        }),
                        (V.propHooks.scrollTop = V.propHooks.scrollLeft = {
                            set: function(e) {
                                e.elem.nodeType &&
                                    e.elem.parentNode &&
                                    (e.elem[e.prop] = e.now);
                            }
                        }),
                        (we.easing = {
                            linear: function(e) {
                                return e;
                            },
                            swing: function(e) {
                                return 0.5 - Math.cos(e * Math.PI) / 2;
                            },
                            _default: "swing"
                        }),
                        (we.fx = V.prototype.init),
                        (we.fx.step = {});
                    var vt,
                        bt,
                        yt = /^(?:toggle|show|hide)$/,
                        _t = /queueHooks$/;
                    (we.Animation = we.extend(K, {
                        tweeners: {
                            "*": [
                                function(e, t) {
                                    var n = this.createTween(e, t);
                                    return b(n.elem, e, He.exec(t), n), n;
                                }
                            ]
                        },
                        tweener: function(e, t) {
                            be(e) ? ((t = e), (e = ["*"])) : (e = e.match(Ne));
                            for (var n, r = 0, i = e.length; r < i; r++)
                                (n = e[r]),
                                    (K.tweeners[n] = K.tweeners[n] || []),
                                    K.tweeners[n].unshift(t);
                        },
                        prefilters: [G],
                        prefilter: function(e, t) {
                            t ? K.prefilters.unshift(e) : K.prefilters.push(e);
                        }
                    })),
                        (we.speed = function(e, t, n) {
                            var r =
                                e && "object" == typeof e
                                    ? we.extend({}, e)
                                    : {
                                          complete:
                                              n || (!n && t) || (be(e) && e),
                                          duration: e,
                                          easing: (n && t) || (t && !be(t) && t)
                                      };
                            return (
                                we.fx.off
                                    ? (r.duration = 0)
                                    : "number" != typeof r.duration &&
                                      (r.duration in we.fx.speeds
                                          ? (r.duration =
                                                we.fx.speeds[r.duration])
                                          : (r.duration =
                                                we.fx.speeds._default)),
                                (null != r.queue && !0 !== r.queue) ||
                                    (r.queue = "fx"),
                                (r.old = r.complete),
                                (r.complete = function() {
                                    be(r.old) && r.old.call(this),
                                        r.queue && we.dequeue(this, r.queue);
                                }),
                                r
                            );
                        }),
                        we.fn.extend({
                            fadeTo: function(e, t, n, r) {
                                return this.filter(We)
                                    .css("opacity", 0)
                                    .show()
                                    .end()
                                    .animate({ opacity: t }, e, n, r);
                            },
                            animate: function(e, t, n, r) {
                                var i = we.isEmptyObject(e),
                                    o = we.speed(t, n, r),
                                    a = function() {
                                        var t = K(this, we.extend({}, e), o);
                                        (i || Ue.get(this, "finish")) &&
                                            t.stop(!0);
                                    };
                                return (
                                    (a.finish = a),
                                    i || !1 === o.queue
                                        ? this.each(a)
                                        : this.queue(o.queue, a)
                                );
                            },
                            stop: function(e, t, n) {
                                var r = function(e) {
                                    var t = e.stop;
                                    delete e.stop, t(n);
                                };
                                return (
                                    "string" != typeof e &&
                                        ((n = t), (t = e), (e = void 0)),
                                    t && !1 !== e && this.queue(e || "fx", []),
                                    this.each(function() {
                                        var t = !0,
                                            i = null != e && e + "queueHooks",
                                            o = we.timers,
                                            a = Ue.get(this);
                                        if (i) a[i] && a[i].stop && r(a[i]);
                                        else
                                            for (i in a)
                                                a[i] &&
                                                    a[i].stop &&
                                                    _t.test(i) &&
                                                    r(a[i]);
                                        for (i = o.length; i--; )
                                            o[i].elem !== this ||
                                                (null != e &&
                                                    o[i].queue !== e) ||
                                                (o[i].anim.stop(n),
                                                (t = !1),
                                                o.splice(i, 1));
                                        (!t && n) || we.dequeue(this, e);
                                    })
                                );
                            },
                            finish: function(e) {
                                return (
                                    !1 !== e && (e = e || "fx"),
                                    this.each(function() {
                                        var t,
                                            n = Ue.get(this),
                                            r = n[e + "queue"],
                                            i = n[e + "queueHooks"],
                                            o = we.timers,
                                            a = r ? r.length : 0;
                                        for (
                                            n.finish = !0,
                                                we.queue(this, e, []),
                                                i &&
                                                    i.stop &&
                                                    i.stop.call(this, !0),
                                                t = o.length;
                                            t--;

                                        )
                                            o[t].elem === this &&
                                                o[t].queue === e &&
                                                (o[t].anim.stop(!0),
                                                o.splice(t, 1));
                                        for (t = 0; t < a; t++)
                                            r[t] &&
                                                r[t].finish &&
                                                r[t].finish.call(this);
                                        delete n.finish;
                                    })
                                );
                            }
                        }),
                        we.each(["toggle", "show", "hide"], function(e, t) {
                            var n = we.fn[t];
                            we.fn[t] = function(e, r, i) {
                                return null == e || "boolean" == typeof e
                                    ? n.apply(this, arguments)
                                    : this.animate(q(t, !0), e, r, i);
                            };
                        }),
                        we.each(
                            {
                                slideDown: q("show"),
                                slideUp: q("hide"),
                                slideToggle: q("toggle"),
                                fadeIn: { opacity: "show" },
                                fadeOut: { opacity: "hide" },
                                fadeToggle: { opacity: "toggle" }
                            },
                            function(e, t) {
                                we.fn[e] = function(e, n, r) {
                                    return this.animate(t, e, n, r);
                                };
                            }
                        ),
                        (we.timers = []),
                        (we.fx.tick = function() {
                            var e,
                                t = 0,
                                n = we.timers;
                            for (vt = Date.now(); t < n.length; t++)
                                (e = n[t])() || n[t] !== e || n.splice(t--, 1);
                            n.length || we.fx.stop(), (vt = void 0);
                        }),
                        (we.fx.timer = function(e) {
                            we.timers.push(e), we.fx.start();
                        }),
                        (we.fx.interval = 13),
                        (we.fx.start = function() {
                            bt || ((bt = !0), $());
                        }),
                        (we.fx.stop = function() {
                            bt = null;
                        }),
                        (we.fx.speeds = {
                            slow: 600,
                            fast: 200,
                            _default: 400
                        }),
                        (we.fn.delay = function(t, n) {
                            return (
                                (t = we.fx ? we.fx.speeds[t] || t : t),
                                (n = n || "fx"),
                                this.queue(n, function(n, r) {
                                    var i = e.setTimeout(n, t);
                                    r.stop = function() {
                                        e.clearTimeout(i);
                                    };
                                })
                            );
                        }),
                        (function() {
                            var e = ae.createElement("input"),
                                t = ae.createElement("select"),
                                n = t.appendChild(ae.createElement("option"));
                            (e.type = "checkbox"),
                                (ve.checkOn = "" !== e.value),
                                (ve.optSelected = n.selected),
                                (e = ae.createElement("input")),
                                (e.value = "t"),
                                (e.type = "radio"),
                                (ve.radioValue = "t" === e.value);
                        })();
                    var wt,
                        xt = we.expr.attrHandle;
                    we.fn.extend({
                        attr: function(e, t) {
                            return je(
                                this,
                                we.attr,
                                e,
                                t,
                                arguments.length > 1
                            );
                        },
                        removeAttr: function(e) {
                            return this.each(function() {
                                we.removeAttr(this, e);
                            });
                        }
                    }),
                        we.extend({
                            attr: function(e, t, n) {
                                var r,
                                    i,
                                    o = e.nodeType;
                                if (3 !== o && 8 !== o && 2 !== o)
                                    return void 0 === e.getAttribute
                                        ? we.prop(e, t, n)
                                        : ((1 === o && we.isXMLDoc(e)) ||
                                              (i =
                                                  we.attrHooks[
                                                      t.toLowerCase()
                                                  ] ||
                                                  (we.expr.match.bool.test(t)
                                                      ? wt
                                                      : void 0)),
                                          void 0 !== n
                                              ? null === n
                                                  ? void we.removeAttr(e, t)
                                                  : i &&
                                                    "set" in i &&
                                                    void 0 !==
                                                        (r = i.set(e, n, t))
                                                      ? r
                                                      : (e.setAttribute(
                                                            t,
                                                            n + ""
                                                        ),
                                                        n)
                                              : i &&
                                                "get" in i &&
                                                null !== (r = i.get(e, t))
                                                  ? r
                                                  : ((r = we.find.attr(e, t)),
                                                    null == r ? void 0 : r));
                            },
                            attrHooks: {
                                type: {
                                    set: function(e, t) {
                                        if (
                                            !ve.radioValue &&
                                            "radio" === t &&
                                            o(e, "input")
                                        ) {
                                            var n = e.value;
                                            return (
                                                e.setAttribute("type", t),
                                                n && (e.value = n),
                                                t
                                            );
                                        }
                                    }
                                }
                            },
                            removeAttr: function(e, t) {
                                var n,
                                    r = 0,
                                    i = t && t.match(Ne);
                                if (i && 1 === e.nodeType)
                                    for (; (n = i[r++]); ) e.removeAttribute(n);
                            }
                        }),
                        (wt = {
                            set: function(e, t, n) {
                                return (
                                    !1 === t
                                        ? we.removeAttr(e, n)
                                        : e.setAttribute(n, n),
                                    n
                                );
                            }
                        }),
                        we.each(
                            we.expr.match.bool.source.match(/\w+/g),
                            function(e, t) {
                                var n = xt[t] || we.find.attr;
                                xt[t] = function(e, t, r) {
                                    var i,
                                        o,
                                        a = t.toLowerCase();
                                    return (
                                        r ||
                                            ((o = xt[a]),
                                            (xt[a] = i),
                                            (i = null != n(e, t, r) ? a : null),
                                            (xt[a] = o)),
                                        i
                                    );
                                };
                            }
                        );
                    var Et = /^(?:input|select|textarea|button)$/i,
                        Tt = /^(?:a|area)$/i;
                    we.fn.extend({
                        prop: function(e, t) {
                            return je(
                                this,
                                we.prop,
                                e,
                                t,
                                arguments.length > 1
                            );
                        },
                        removeProp: function(e) {
                            return this.each(function() {
                                delete this[we.propFix[e] || e];
                            });
                        }
                    }),
                        we.extend({
                            prop: function(e, t, n) {
                                var r,
                                    i,
                                    o = e.nodeType;
                                if (3 !== o && 8 !== o && 2 !== o)
                                    return (
                                        (1 === o && we.isXMLDoc(e)) ||
                                            ((t = we.propFix[t] || t),
                                            (i = we.propHooks[t])),
                                        void 0 !== n
                                            ? i &&
                                              "set" in i &&
                                              void 0 !== (r = i.set(e, n, t))
                                                ? r
                                                : (e[t] = n)
                                            : i &&
                                              "get" in i &&
                                              null !== (r = i.get(e, t))
                                                ? r
                                                : e[t]
                                    );
                            },
                            propHooks: {
                                tabIndex: {
                                    get: function(e) {
                                        var t = we.find.attr(e, "tabindex");
                                        return t
                                            ? parseInt(t, 10)
                                            : Et.test(e.nodeName) ||
                                              (Tt.test(e.nodeName) && e.href)
                                                ? 0
                                                : -1;
                                    }
                                }
                            },
                            propFix: { for: "htmlFor", class: "className" }
                        }),
                        ve.optSelected ||
                            (we.propHooks.selected = {
                                get: function(e) {
                                    var t = e.parentNode;
                                    return (
                                        t &&
                                            t.parentNode &&
                                            t.parentNode.selectedIndex,
                                        null
                                    );
                                },
                                set: function(e) {
                                    var t = e.parentNode;
                                    t &&
                                        (t.selectedIndex,
                                        t.parentNode &&
                                            t.parentNode.selectedIndex);
                                }
                            }),
                        we.each(
                            [
                                "tabIndex",
                                "readOnly",
                                "maxLength",
                                "cellSpacing",
                                "cellPadding",
                                "rowSpan",
                                "colSpan",
                                "useMap",
                                "frameBorder",
                                "contentEditable"
                            ],
                            function() {
                                we.propFix[this.toLowerCase()] = this;
                            }
                        ),
                        we.fn.extend({
                            addClass: function(e) {
                                var t,
                                    n,
                                    r,
                                    i,
                                    o,
                                    a,
                                    s,
                                    l = 0;
                                if (be(e))
                                    return this.each(function(t) {
                                        we(this).addClass(
                                            e.call(this, t, Q(this))
                                        );
                                    });
                                if (((t = Y(e)), t.length))
                                    for (; (n = this[l++]); )
                                        if (
                                            ((i = Q(n)),
                                            (r =
                                                1 === n.nodeType &&
                                                " " + J(i) + " "))
                                        ) {
                                            for (a = 0; (o = t[a++]); )
                                                r.indexOf(" " + o + " ") < 0 &&
                                                    (r += o + " ");
                                            (s = J(r)),
                                                i !== s &&
                                                    n.setAttribute("class", s);
                                        }
                                return this;
                            },
                            removeClass: function(e) {
                                var t,
                                    n,
                                    r,
                                    i,
                                    o,
                                    a,
                                    s,
                                    l = 0;
                                if (be(e))
                                    return this.each(function(t) {
                                        we(this).removeClass(
                                            e.call(this, t, Q(this))
                                        );
                                    });
                                if (!arguments.length)
                                    return this.attr("class", "");
                                if (((t = Y(e)), t.length))
                                    for (; (n = this[l++]); )
                                        if (
                                            ((i = Q(n)),
                                            (r =
                                                1 === n.nodeType &&
                                                " " + J(i) + " "))
                                        ) {
                                            for (a = 0; (o = t[a++]); )
                                                for (
                                                    ;
                                                    r.indexOf(" " + o + " ") >
                                                    -1;

                                                )
                                                    r = r.replace(
                                                        " " + o + " ",
                                                        " "
                                                    );
                                            (s = J(r)),
                                                i !== s &&
                                                    n.setAttribute("class", s);
                                        }
                                return this;
                            },
                            toggleClass: function(e, t) {
                                var n = typeof e,
                                    r = "string" === n || Array.isArray(e);
                                return "boolean" == typeof t && r
                                    ? t
                                        ? this.addClass(e)
                                        : this.removeClass(e)
                                    : be(e)
                                        ? this.each(function(n) {
                                              we(this).toggleClass(
                                                  e.call(this, n, Q(this), t),
                                                  t
                                              );
                                          })
                                        : this.each(function() {
                                              var t, i, o, a;
                                              if (r)
                                                  for (
                                                      i = 0,
                                                          o = we(this),
                                                          a = Y(e);
                                                      (t = a[i++]);

                                                  )
                                                      o.hasClass(t)
                                                          ? o.removeClass(t)
                                                          : o.addClass(t);
                                              else
                                                  (void 0 !== e &&
                                                      "boolean" !== n) ||
                                                      ((t = Q(this)),
                                                      t &&
                                                          Ue.set(
                                                              this,
                                                              "__className__",
                                                              t
                                                          ),
                                                      this.setAttribute &&
                                                          this.setAttribute(
                                                              "class",
                                                              t || !1 === e
                                                                  ? ""
                                                                  : Ue.get(
                                                                        this,
                                                                        "__className__"
                                                                    ) || ""
                                                          ));
                                          });
                            },
                            hasClass: function(e) {
                                var t,
                                    n,
                                    r = 0;
                                for (t = " " + e + " "; (n = this[r++]); )
                                    if (
                                        1 === n.nodeType &&
                                        (" " + J(Q(n)) + " ").indexOf(t) > -1
                                    )
                                        return !0;
                                return !1;
                            }
                        });
                    var St = /\r/g;
                    we.fn.extend({
                        val: function(e) {
                            var t,
                                n,
                                r,
                                i = this[0];
                            {
                                if (arguments.length)
                                    return (
                                        (r = be(e)),
                                        this.each(function(n) {
                                            var i;
                                            1 === this.nodeType &&
                                                ((i = r
                                                    ? e.call(
                                                          this,
                                                          n,
                                                          we(this).val()
                                                      )
                                                    : e),
                                                null == i
                                                    ? (i = "")
                                                    : "number" == typeof i
                                                        ? (i += "")
                                                        : Array.isArray(i) &&
                                                          (i = we.map(
                                                              i,
                                                              function(e) {
                                                                  return null ==
                                                                      e
                                                                      ? ""
                                                                      : e + "";
                                                              }
                                                          )),
                                                ((t =
                                                    we.valHooks[this.type] ||
                                                    we.valHooks[
                                                        this.nodeName.toLowerCase()
                                                    ]) &&
                                                    "set" in t &&
                                                    void 0 !==
                                                        t.set(
                                                            this,
                                                            i,
                                                            "value"
                                                        )) ||
                                                    (this.value = i));
                                        })
                                    );
                                if (i)
                                    return (t =
                                        we.valHooks[i.type] ||
                                        we.valHooks[
                                            i.nodeName.toLowerCase()
                                        ]) &&
                                        "get" in t &&
                                        void 0 !== (n = t.get(i, "value"))
                                        ? n
                                        : ((n = i.value),
                                          "string" == typeof n
                                              ? n.replace(St, "")
                                              : null == n
                                                  ? ""
                                                  : n);
                            }
                        }
                    }),
                        we.extend({
                            valHooks: {
                                option: {
                                    get: function(e) {
                                        var t = we.find.attr(e, "value");
                                        return null != t ? t : J(we.text(e));
                                    }
                                },
                                select: {
                                    get: function(e) {
                                        var t,
                                            n,
                                            r,
                                            i = e.options,
                                            a = e.selectedIndex,
                                            s = "select-one" === e.type,
                                            l = s ? null : [],
                                            u = s ? a + 1 : i.length;
                                        for (
                                            r = a < 0 ? u : s ? a : 0;
                                            r < u;
                                            r++
                                        )
                                            if (
                                                ((n = i[r]),
                                                (n.selected || r === a) &&
                                                    !n.disabled &&
                                                    (!n.parentNode.disabled ||
                                                        !o(
                                                            n.parentNode,
                                                            "optgroup"
                                                        )))
                                            ) {
                                                if (((t = we(n).val()), s))
                                                    return t;
                                                l.push(t);
                                            }
                                        return l;
                                    },
                                    set: function(e, t) {
                                        for (
                                            var n,
                                                r,
                                                i = e.options,
                                                o = we.makeArray(t),
                                                a = i.length;
                                            a--;

                                        )
                                            (r = i[a]),
                                                (r.selected =
                                                    we.inArray(
                                                        we.valHooks.option.get(
                                                            r
                                                        ),
                                                        o
                                                    ) > -1) && (n = !0);
                                        return n || (e.selectedIndex = -1), o;
                                    }
                                }
                            }
                        }),
                        we.each(["radio", "checkbox"], function() {
                            (we.valHooks[this] = {
                                set: function(e, t) {
                                    if (Array.isArray(t))
                                        return (e.checked =
                                            we.inArray(we(e).val(), t) > -1);
                                }
                            }),
                                ve.checkOn ||
                                    (we.valHooks[this].get = function(e) {
                                        return null === e.getAttribute("value")
                                            ? "on"
                                            : e.value;
                                    });
                        }),
                        (ve.focusin = "onfocusin" in e);
                    var Ct = /^(?:focusinfocus|focusoutblur)$/,
                        kt = function(e) {
                            e.stopPropagation();
                        };
                    we.extend(we.event, {
                        trigger: function(t, n, r, i) {
                            var o,
                                a,
                                s,
                                l,
                                u,
                                c,
                                d,
                                f,
                                p = [r || ae],
                                h = he.call(t, "type") ? t.type : t,
                                m = he.call(t, "namespace")
                                    ? t.namespace.split(".")
                                    : [];
                            if (
                                ((a = f = s = r = r || ae),
                                3 !== r.nodeType &&
                                    8 !== r.nodeType &&
                                    !Ct.test(h + we.event.triggered) &&
                                    (h.indexOf(".") > -1 &&
                                        ((m = h.split(".")),
                                        (h = m.shift()),
                                        m.sort()),
                                    (u = h.indexOf(":") < 0 && "on" + h),
                                    (t = t[we.expando]
                                        ? t
                                        : new we.Event(
                                              h,
                                              "object" == typeof t && t
                                          )),
                                    (t.isTrigger = i ? 2 : 3),
                                    (t.namespace = m.join(".")),
                                    (t.rnamespace = t.namespace
                                        ? new RegExp(
                                              "(^|\\.)" +
                                                  m.join("\\.(?:.*\\.|)") +
                                                  "(\\.|$)"
                                          )
                                        : null),
                                    (t.result = void 0),
                                    t.target || (t.target = r),
                                    (n =
                                        null == n ? [t] : we.makeArray(n, [t])),
                                    (d = we.event.special[h] || {}),
                                    i ||
                                        !d.trigger ||
                                        !1 !== d.trigger.apply(r, n)))
                            ) {
                                if (!i && !d.noBubble && !ye(r)) {
                                    for (
                                        l = d.delegateType || h,
                                            Ct.test(l + h) ||
                                                (a = a.parentNode);
                                        a;
                                        a = a.parentNode
                                    )
                                        p.push(a), (s = a);
                                    s === (r.ownerDocument || ae) &&
                                        p.push(
                                            s.defaultView || s.parentWindow || e
                                        );
                                }
                                for (
                                    o = 0;
                                    (a = p[o++]) && !t.isPropagationStopped();

                                )
                                    (f = a),
                                        (t.type = o > 1 ? l : d.bindType || h),
                                        (c =
                                            (Ue.get(a, "events") || {})[
                                                t.type
                                            ] && Ue.get(a, "handle")),
                                        c && c.apply(a, n),
                                        (c = u && a[u]) &&
                                            c.apply &&
                                            Fe(a) &&
                                            ((t.result = c.apply(a, n)),
                                            !1 === t.result &&
                                                t.preventDefault());
                                return (
                                    (t.type = h),
                                    i ||
                                        t.isDefaultPrevented() ||
                                        (d._default &&
                                            !1 !==
                                                d._default.apply(p.pop(), n)) ||
                                        !Fe(r) ||
                                        (u &&
                                            be(r[h]) &&
                                            !ye(r) &&
                                            ((s = r[u]),
                                            s && (r[u] = null),
                                            (we.event.triggered = h),
                                            t.isPropagationStopped() &&
                                                f.addEventListener(h, kt),
                                            r[h](),
                                            t.isPropagationStopped() &&
                                                f.removeEventListener(h, kt),
                                            (we.event.triggered = void 0),
                                            s && (r[u] = s))),
                                    t.result
                                );
                            }
                        },
                        simulate: function(e, t, n) {
                            var r = we.extend(new we.Event(), n, {
                                type: e,
                                isSimulated: !0
                            });
                            we.event.trigger(r, null, t);
                        }
                    }),
                        we.fn.extend({
                            trigger: function(e, t) {
                                return this.each(function() {
                                    we.event.trigger(e, t, this);
                                });
                            },
                            triggerHandler: function(e, t) {
                                var n = this[0];
                                if (n) return we.event.trigger(e, t, n, !0);
                            }
                        }),
                        ve.focusin ||
                            we.each(
                                { focus: "focusin", blur: "focusout" },
                                function(e, t) {
                                    var n = function(e) {
                                        we.event.simulate(
                                            t,
                                            e.target,
                                            we.event.fix(e)
                                        );
                                    };
                                    we.event.special[t] = {
                                        setup: function() {
                                            var r = this.ownerDocument || this,
                                                i = Ue.access(r, t);
                                            i || r.addEventListener(e, n, !0),
                                                Ue.access(r, t, (i || 0) + 1);
                                        },
                                        teardown: function() {
                                            var r = this.ownerDocument || this,
                                                i = Ue.access(r, t) - 1;
                                            i
                                                ? Ue.access(r, t, i)
                                                : (r.removeEventListener(
                                                      e,
                                                      n,
                                                      !0
                                                  ),
                                                  Ue.remove(r, t));
                                        }
                                    };
                                }
                            );
                    var It = e.location,
                        Pt = Date.now(),
                        Ot = /\?/;
                    we.parseXML = function(t) {
                        var n;
                        if (!t || "string" != typeof t) return null;
                        try {
                            n = new e.DOMParser().parseFromString(
                                t,
                                "text/xml"
                            );
                        } catch (e) {
                            n = void 0;
                        }
                        return (
                            (n &&
                                !n.getElementsByTagName("parsererror")
                                    .length) ||
                                we.error("Invalid XML: " + t),
                            n
                        );
                    };
                    var At = /\[\]$/,
                        Nt = /\r?\n/g,
                        Rt = /^(?:submit|button|image|reset|file)$/i,
                        Dt = /^(?:input|select|textarea|keygen)/i;
                    (we.param = function(e, t) {
                        var n,
                            r = [],
                            i = function(e, t) {
                                var n = be(t) ? t() : t;
                                r[r.length] =
                                    encodeURIComponent(e) +
                                    "=" +
                                    encodeURIComponent(null == n ? "" : n);
                            };
                        if (
                            Array.isArray(e) ||
                            (e.jquery && !we.isPlainObject(e))
                        )
                            we.each(e, function() {
                                i(this.name, this.value);
                            });
                        else for (n in e) Z(n, e[n], t, i);
                        return r.join("&");
                    }),
                        we.fn.extend({
                            serialize: function() {
                                return we.param(this.serializeArray());
                            },
                            serializeArray: function() {
                                return this.map(function() {
                                    var e = we.prop(this, "elements");
                                    return e ? we.makeArray(e) : this;
                                })
                                    .filter(function() {
                                        var e = this.type;
                                        return (
                                            this.name &&
                                            !we(this).is(":disabled") &&
                                            Dt.test(this.nodeName) &&
                                            !Rt.test(e) &&
                                            (this.checked || !Ke.test(e))
                                        );
                                    })
                                    .map(function(e, t) {
                                        var n = we(this).val();
                                        return null == n
                                            ? null
                                            : Array.isArray(n)
                                                ? we.map(n, function(e) {
                                                      return {
                                                          name: t.name,
                                                          value: e.replace(
                                                              Nt,
                                                              "\r\n"
                                                          )
                                                      };
                                                  })
                                                : {
                                                      name: t.name,
                                                      value: n.replace(
                                                          Nt,
                                                          "\r\n"
                                                      )
                                                  };
                                    })
                                    .get();
                            }
                        });
                    var jt = /%20/g,
                        Mt = /#.*$/,
                        Lt = /([?&])_=[^&]*/,
                        Ft = /^(.*?):[ \t]*([^\r\n]*)$/gm,
                        Ut = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
                        zt = /^(?:GET|HEAD)$/,
                        Bt = /^\/\//,
                        Vt = {},
                        $t = {},
                        Ht = "*/".concat("*"),
                        qt = ae.createElement("a");
                    (qt.href = It.href),
                        we.extend({
                            active: 0,
                            lastModified: {},
                            etag: {},
                            ajaxSettings: {
                                url: It.href,
                                type: "GET",
                                isLocal: Ut.test(It.protocol),
                                global: !0,
                                processData: !0,
                                async: !0,
                                contentType:
                                    "application/x-www-form-urlencoded; charset=UTF-8",
                                accepts: {
                                    "*": Ht,
                                    text: "text/plain",
                                    html: "text/html",
                                    xml: "application/xml, text/xml",
                                    json: "application/json, text/javascript"
                                },
                                contents: {
                                    xml: /\bxml\b/,
                                    html: /\bhtml/,
                                    json: /\bjson\b/
                                },
                                responseFields: {
                                    xml: "responseXML",
                                    text: "responseText",
                                    json: "responseJSON"
                                },
                                converters: {
                                    "* text": String,
                                    "text html": !0,
                                    "text json": JSON.parse,
                                    "text xml": we.parseXML
                                },
                                flatOptions: { url: !0, context: !0 }
                            },
                            ajaxSetup: function(e, t) {
                                return t
                                    ? ne(ne(e, we.ajaxSettings), t)
                                    : ne(we.ajaxSettings, e);
                            },
                            ajaxPrefilter: ee(Vt),
                            ajaxTransport: ee($t),
                            ajax: function(t, n) {
                                function r(t, n, r, s) {
                                    var u,
                                        f,
                                        p,
                                        _,
                                        w,
                                        x = n;
                                    c ||
                                        ((c = !0),
                                        l && e.clearTimeout(l),
                                        (i = void 0),
                                        (a = s || ""),
                                        (E.readyState = t > 0 ? 4 : 0),
                                        (u =
                                            (t >= 200 && t < 300) || 304 === t),
                                        r && (_ = re(h, E, r)),
                                        (_ = ie(h, _, E, u)),
                                        u
                                            ? (h.ifModified &&
                                                  ((w = E.getResponseHeader(
                                                      "Last-Modified"
                                                  )),
                                                  w && (we.lastModified[o] = w),
                                                  (w = E.getResponseHeader(
                                                      "etag"
                                                  )) && (we.etag[o] = w)),
                                              204 === t || "HEAD" === h.type
                                                  ? (x = "nocontent")
                                                  : 304 === t
                                                      ? (x = "notmodified")
                                                      : ((x = _.state),
                                                        (f = _.data),
                                                        (p = _.error),
                                                        (u = !p)))
                                            : ((p = x),
                                              (!t && x) ||
                                                  ((x = "error"),
                                                  t < 0 && (t = 0))),
                                        (E.status = t),
                                        (E.statusText = (n || x) + ""),
                                        u
                                            ? v.resolveWith(m, [f, x, E])
                                            : v.rejectWith(m, [E, x, p]),
                                        E.statusCode(y),
                                        (y = void 0),
                                        d &&
                                            g.trigger(
                                                u ? "ajaxSuccess" : "ajaxError",
                                                [E, h, u ? f : p]
                                            ),
                                        b.fireWith(m, [E, x]),
                                        d &&
                                            (g.trigger("ajaxComplete", [E, h]),
                                            --we.active ||
                                                we.event.trigger("ajaxStop")));
                                }
                                "object" == typeof t && ((n = t), (t = void 0)),
                                    (n = n || {});
                                var i,
                                    o,
                                    a,
                                    s,
                                    l,
                                    u,
                                    c,
                                    d,
                                    f,
                                    p,
                                    h = we.ajaxSetup({}, n),
                                    m = h.context || h,
                                    g =
                                        h.context && (m.nodeType || m.jquery)
                                            ? we(m)
                                            : we.event,
                                    v = we.Deferred(),
                                    b = we.Callbacks("once memory"),
                                    y = h.statusCode || {},
                                    _ = {},
                                    w = {},
                                    x = "canceled",
                                    E = {
                                        readyState: 0,
                                        getResponseHeader: function(e) {
                                            var t;
                                            if (c) {
                                                if (!s)
                                                    for (
                                                        s = {};
                                                        (t = Ft.exec(a));

                                                    )
                                                        s[t[1].toLowerCase()] =
                                                            t[2];
                                                t = s[e.toLowerCase()];
                                            }
                                            return null == t ? null : t;
                                        },
                                        getAllResponseHeaders: function() {
                                            return c ? a : null;
                                        },
                                        setRequestHeader: function(e, t) {
                                            return (
                                                null == c &&
                                                    ((e = w[e.toLowerCase()] =
                                                        w[e.toLowerCase()] ||
                                                        e),
                                                    (_[e] = t)),
                                                this
                                            );
                                        },
                                        overrideMimeType: function(e) {
                                            return (
                                                null == c && (h.mimeType = e),
                                                this
                                            );
                                        },
                                        statusCode: function(e) {
                                            var t;
                                            if (e)
                                                if (c) E.always(e[E.status]);
                                                else
                                                    for (t in e)
                                                        y[t] = [y[t], e[t]];
                                            return this;
                                        },
                                        abort: function(e) {
                                            var t = e || x;
                                            return (
                                                i && i.abort(t), r(0, t), this
                                            );
                                        }
                                    };
                                if (
                                    (v.promise(E),
                                    (h.url = (
                                        (t || h.url || It.href) + ""
                                    ).replace(Bt, It.protocol + "//")),
                                    (h.type =
                                        n.method ||
                                        n.type ||
                                        h.method ||
                                        h.type),
                                    (h.dataTypes = (h.dataType || "*")
                                        .toLowerCase()
                                        .match(Ne) || [""]),
                                    null == h.crossDomain)
                                ) {
                                    u = ae.createElement("a");
                                    try {
                                        (u.href = h.url),
                                            (u.href = u.href),
                                            (h.crossDomain =
                                                qt.protocol + "//" + qt.host !=
                                                u.protocol + "//" + u.host);
                                    } catch (e) {
                                        h.crossDomain = !0;
                                    }
                                }
                                if (
                                    (h.data &&
                                        h.processData &&
                                        "string" != typeof h.data &&
                                        (h.data = we.param(
                                            h.data,
                                            h.traditional
                                        )),
                                    te(Vt, h, n, E),
                                    c)
                                )
                                    return E;
                                (d = we.event && h.global),
                                    d &&
                                        0 == we.active++ &&
                                        we.event.trigger("ajaxStart"),
                                    (h.type = h.type.toUpperCase()),
                                    (h.hasContent = !zt.test(h.type)),
                                    (o = h.url.replace(Mt, "")),
                                    h.hasContent
                                        ? h.data &&
                                          h.processData &&
                                          0 ===
                                              (h.contentType || "").indexOf(
                                                  "application/x-www-form-urlencoded"
                                              ) &&
                                          (h.data = h.data.replace(jt, "+"))
                                        : ((p = h.url.slice(o.length)),
                                          h.data &&
                                              (h.processData ||
                                                  "string" == typeof h.data) &&
                                              ((o +=
                                                  (Ot.test(o) ? "&" : "?") +
                                                  h.data),
                                              delete h.data),
                                          !1 === h.cache &&
                                              ((o = o.replace(Lt, "$1")),
                                              (p =
                                                  (Ot.test(o) ? "&" : "?") +
                                                  "_=" +
                                                  Pt++ +
                                                  p)),
                                          (h.url = o + p)),
                                    h.ifModified &&
                                        (we.lastModified[o] &&
                                            E.setRequestHeader(
                                                "If-Modified-Since",
                                                we.lastModified[o]
                                            ),
                                        we.etag[o] &&
                                            E.setRequestHeader(
                                                "If-None-Match",
                                                we.etag[o]
                                            )),
                                    ((h.data &&
                                        h.hasContent &&
                                        !1 !== h.contentType) ||
                                        n.contentType) &&
                                        E.setRequestHeader(
                                            "Content-Type",
                                            h.contentType
                                        ),
                                    E.setRequestHeader(
                                        "Accept",
                                        h.dataTypes[0] &&
                                        h.accepts[h.dataTypes[0]]
                                            ? h.accepts[h.dataTypes[0]] +
                                              ("*" !== h.dataTypes[0]
                                                  ? ", " + Ht + "; q=0.01"
                                                  : "")
                                            : h.accepts["*"]
                                    );
                                for (f in h.headers)
                                    E.setRequestHeader(f, h.headers[f]);
                                if (
                                    h.beforeSend &&
                                    (!1 === h.beforeSend.call(m, E, h) || c)
                                )
                                    return E.abort();
                                if (
                                    ((x = "abort"),
                                    b.add(h.complete),
                                    E.done(h.success),
                                    E.fail(h.error),
                                    (i = te($t, h, n, E)))
                                ) {
                                    if (
                                        ((E.readyState = 1),
                                        d && g.trigger("ajaxSend", [E, h]),
                                        c)
                                    )
                                        return E;
                                    h.async &&
                                        h.timeout > 0 &&
                                        (l = e.setTimeout(function() {
                                            E.abort("timeout");
                                        }, h.timeout));
                                    try {
                                        (c = !1), i.send(_, r);
                                    } catch (e) {
                                        if (c) throw e;
                                        r(-1, e);
                                    }
                                } else r(-1, "No Transport");
                                return E;
                            },
                            getJSON: function(e, t, n) {
                                return we.get(e, t, n, "json");
                            },
                            getScript: function(e, t) {
                                return we.get(e, void 0, t, "script");
                            }
                        }),
                        we.each(["get", "post"], function(e, t) {
                            we[t] = function(e, n, r, i) {
                                return (
                                    be(n) &&
                                        ((i = i || r), (r = n), (n = void 0)),
                                    we.ajax(
                                        we.extend(
                                            {
                                                url: e,
                                                type: t,
                                                dataType: i,
                                                data: n,
                                                success: r
                                            },
                                            we.isPlainObject(e) && e
                                        )
                                    )
                                );
                            };
                        }),
                        (we._evalUrl = function(e) {
                            return we.ajax({
                                url: e,
                                type: "GET",
                                dataType: "script",
                                cache: !0,
                                async: !1,
                                global: !1,
                                throws: !0
                            });
                        }),
                        we.fn.extend({
                            wrapAll: function(e) {
                                var t;
                                return (
                                    this[0] &&
                                        (be(e) && (e = e.call(this[0])),
                                        (t = we(e, this[0].ownerDocument)
                                            .eq(0)
                                            .clone(!0)),
                                        this[0].parentNode &&
                                            t.insertBefore(this[0]),
                                        t
                                            .map(function() {
                                                for (
                                                    var e = this;
                                                    e.firstElementChild;

                                                )
                                                    e = e.firstElementChild;
                                                return e;
                                            })
                                            .append(this)),
                                    this
                                );
                            },
                            wrapInner: function(e) {
                                return be(e)
                                    ? this.each(function(t) {
                                          we(this).wrapInner(e.call(this, t));
                                      })
                                    : this.each(function() {
                                          var t = we(this),
                                              n = t.contents();
                                          n.length ? n.wrapAll(e) : t.append(e);
                                      });
                            },
                            wrap: function(e) {
                                var t = be(e);
                                return this.each(function(n) {
                                    we(this).wrapAll(t ? e.call(this, n) : e);
                                });
                            },
                            unwrap: function(e) {
                                return (
                                    this.parent(e)
                                        .not("body")
                                        .each(function() {
                                            we(this).replaceWith(
                                                this.childNodes
                                            );
                                        }),
                                    this
                                );
                            }
                        }),
                        (we.expr.pseudos.hidden = function(e) {
                            return !we.expr.pseudos.visible(e);
                        }),
                        (we.expr.pseudos.visible = function(e) {
                            return !!(
                                e.offsetWidth ||
                                e.offsetHeight ||
                                e.getClientRects().length
                            );
                        }),
                        (we.ajaxSettings.xhr = function() {
                            try {
                                return new e.XMLHttpRequest();
                            } catch (e) {}
                        });
                    var Wt = { 0: 200, 1223: 204 },
                        Gt = we.ajaxSettings.xhr();
                    (ve.cors = !!Gt && "withCredentials" in Gt),
                        (ve.ajax = Gt = !!Gt),
                        we.ajaxTransport(function(t) {
                            var n, r;
                            if (ve.cors || (Gt && !t.crossDomain))
                                return {
                                    send: function(i, o) {
                                        var a,
                                            s = t.xhr();
                                        if (
                                            (s.open(
                                                t.type,
                                                t.url,
                                                t.async,
                                                t.username,
                                                t.password
                                            ),
                                            t.xhrFields)
                                        )
                                            for (a in t.xhrFields)
                                                s[a] = t.xhrFields[a];
                                        t.mimeType &&
                                            s.overrideMimeType &&
                                            s.overrideMimeType(t.mimeType),
                                            t.crossDomain ||
                                                i["X-Requested-With"] ||
                                                (i["X-Requested-With"] =
                                                    "XMLHttpRequest");
                                        for (a in i)
                                            s.setRequestHeader(a, i[a]);
                                        (n = function(e) {
                                            return function() {
                                                n &&
                                                    ((n = r = s.onload = s.onerror = s.onabort = s.ontimeout = s.onreadystatechange = null),
                                                    "abort" === e
                                                        ? s.abort()
                                                        : "error" === e
                                                            ? "number" !=
                                                              typeof s.status
                                                                ? o(0, "error")
                                                                : o(
                                                                      s.status,
                                                                      s.statusText
                                                                  )
                                                            : o(
                                                                  Wt[
                                                                      s.status
                                                                  ] || s.status,
                                                                  s.statusText,
                                                                  "text" !==
                                                                      (s.responseType ||
                                                                          "text") ||
                                                                  "string" !=
                                                                      typeof s.responseText
                                                                      ? {
                                                                            binary:
                                                                                s.response
                                                                        }
                                                                      : {
                                                                            text:
                                                                                s.responseText
                                                                        },
                                                                  s.getAllResponseHeaders()
                                                              ));
                                            };
                                        }),
                                            (s.onload = n()),
                                            (r = s.onerror = s.ontimeout = n(
                                                "error"
                                            )),
                                            void 0 !== s.onabort
                                                ? (s.onabort = r)
                                                : (s.onreadystatechange = function() {
                                                      4 === s.readyState &&
                                                          e.setTimeout(
                                                              function() {
                                                                  n && r();
                                                              }
                                                          );
                                                  }),
                                            (n = n("abort"));
                                        try {
                                            s.send(
                                                (t.hasContent && t.data) || null
                                            );
                                        } catch (e) {
                                            if (n) throw e;
                                        }
                                    },
                                    abort: function() {
                                        n && n();
                                    }
                                };
                        }),
                        we.ajaxPrefilter(function(e) {
                            e.crossDomain && (e.contents.script = !1);
                        }),
                        we.ajaxSetup({
                            accepts: {
                                script:
                                    "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                            },
                            contents: { script: /\b(?:java|ecma)script\b/ },
                            converters: {
                                "text script": function(e) {
                                    return we.globalEval(e), e;
                                }
                            }
                        }),
                        we.ajaxPrefilter("script", function(e) {
                            void 0 === e.cache && (e.cache = !1),
                                e.crossDomain && (e.type = "GET");
                        }),
                        we.ajaxTransport("script", function(e) {
                            if (e.crossDomain) {
                                var t, n;
                                return {
                                    send: function(r, i) {
                                        (t = we("<script>")
                                            .prop({
                                                charset: e.scriptCharset,
                                                src: e.url
                                            })
                                            .on(
                                                "load error",
                                                (n = function(e) {
                                                    t.remove(),
                                                        (n = null),
                                                        e &&
                                                            i(
                                                                "error" ===
                                                                e.type
                                                                    ? 404
                                                                    : 200,
                                                                e.type
                                                            );
                                                })
                                            )),
                                            ae.head.appendChild(t[0]);
                                    },
                                    abort: function() {
                                        n && n();
                                    }
                                };
                            }
                        });
                    var Xt = [],
                        Kt = /(=)\?(?=&|$)|\?\?/;
                    we.ajaxSetup({
                        jsonp: "callback",
                        jsonpCallback: function() {
                            var e = Xt.pop() || we.expando + "_" + Pt++;
                            return (this[e] = !0), e;
                        }
                    }),
                        we.ajaxPrefilter("json jsonp", function(t, n, r) {
                            var i,
                                o,
                                a,
                                s =
                                    !1 !== t.jsonp &&
                                    (Kt.test(t.url)
                                        ? "url"
                                        : "string" == typeof t.data &&
                                          0 ===
                                              (t.contentType || "").indexOf(
                                                  "application/x-www-form-urlencoded"
                                              ) &&
                                          Kt.test(t.data) &&
                                          "data");
                            if (s || "jsonp" === t.dataTypes[0])
                                return (
                                    (i = t.jsonpCallback = be(t.jsonpCallback)
                                        ? t.jsonpCallback()
                                        : t.jsonpCallback),
                                    s
                                        ? (t[s] = t[s].replace(Kt, "$1" + i))
                                        : !1 !== t.jsonp &&
                                          (t.url +=
                                              (Ot.test(t.url) ? "&" : "?") +
                                              t.jsonp +
                                              "=" +
                                              i),
                                    (t.converters["script json"] = function() {
                                        return (
                                            a ||
                                                we.error(i + " was not called"),
                                            a[0]
                                        );
                                    }),
                                    (t.dataTypes[0] = "json"),
                                    (o = e[i]),
                                    (e[i] = function() {
                                        a = arguments;
                                    }),
                                    r.always(function() {
                                        void 0 === o
                                            ? we(e).removeProp(i)
                                            : (e[i] = o),
                                            t[i] &&
                                                ((t.jsonpCallback =
                                                    n.jsonpCallback),
                                                Xt.push(i)),
                                            a && be(o) && o(a[0]),
                                            (a = o = void 0);
                                    }),
                                    "script"
                                );
                        }),
                        (ve.createHTMLDocument = (function() {
                            var e = ae.implementation.createHTMLDocument("")
                                .body;
                            return (
                                (e.innerHTML = "<form></form><form></form>"),
                                2 === e.childNodes.length
                            );
                        })()),
                        (we.parseHTML = function(e, t, n) {
                            if ("string" != typeof e) return [];
                            "boolean" == typeof t && ((n = t), (t = !1));
                            var r, i, o;
                            return (
                                t ||
                                    (ve.createHTMLDocument
                                        ? ((t = ae.implementation.createHTMLDocument(
                                              ""
                                          )),
                                          (r = t.createElement("base")),
                                          (r.href = ae.location.href),
                                          t.head.appendChild(r))
                                        : (t = ae)),
                                (i = ke.exec(e)),
                                (o = !n && []),
                                i
                                    ? [t.createElement(i[1])]
                                    : ((i = E([e], t, o)),
                                      o && o.length && we(o).remove(),
                                      we.merge([], i.childNodes))
                            );
                        }),
                        (we.fn.load = function(e, t, n) {
                            var r,
                                i,
                                o,
                                a = this,
                                s = e.indexOf(" ");
                            return (
                                s > -1 &&
                                    ((r = J(e.slice(s))), (e = e.slice(0, s))),
                                be(t)
                                    ? ((n = t), (t = void 0))
                                    : t && "object" == typeof t && (i = "POST"),
                                a.length > 0 &&
                                    we
                                        .ajax({
                                            url: e,
                                            type: i || "GET",
                                            dataType: "html",
                                            data: t
                                        })
                                        .done(function(e) {
                                            (o = arguments),
                                                a.html(
                                                    r
                                                        ? we("<div>")
                                                              .append(
                                                                  we.parseHTML(
                                                                      e
                                                                  )
                                                              )
                                                              .find(r)
                                                        : e
                                                );
                                        })
                                        .always(
                                            n &&
                                                function(e, t) {
                                                    a.each(function() {
                                                        n.apply(
                                                            this,
                                                            o || [
                                                                e.responseText,
                                                                t,
                                                                e
                                                            ]
                                                        );
                                                    });
                                                }
                                        ),
                                this
                            );
                        }),
                        we.each(
                            [
                                "ajaxStart",
                                "ajaxStop",
                                "ajaxComplete",
                                "ajaxError",
                                "ajaxSuccess",
                                "ajaxSend"
                            ],
                            function(e, t) {
                                we.fn[t] = function(e) {
                                    return this.on(t, e);
                                };
                            }
                        ),
                        (we.expr.pseudos.animated = function(e) {
                            return we.grep(we.timers, function(t) {
                                return e === t.elem;
                            }).length;
                        }),
                        (we.offset = {
                            setOffset: function(e, t, n) {
                                var r,
                                    i,
                                    o,
                                    a,
                                    s,
                                    l,
                                    u,
                                    c = we.css(e, "position"),
                                    d = we(e),
                                    f = {};
                                "static" === c &&
                                    (e.style.position = "relative"),
                                    (s = d.offset()),
                                    (o = we.css(e, "top")),
                                    (l = we.css(e, "left")),
                                    (u =
                                        ("absolute" === c || "fixed" === c) &&
                                        (o + l).indexOf("auto") > -1),
                                    u
                                        ? ((r = d.position()),
                                          (a = r.top),
                                          (i = r.left))
                                        : ((a = parseFloat(o) || 0),
                                          (i = parseFloat(l) || 0)),
                                    be(t) &&
                                        (t = t.call(e, n, we.extend({}, s))),
                                    null != t.top &&
                                        (f.top = t.top - s.top + a),
                                    null != t.left &&
                                        (f.left = t.left - s.left + i),
                                    "using" in t
                                        ? t.using.call(e, f)
                                        : d.css(f);
                            }
                        }),
                        we.fn.extend({
                            offset: function(e) {
                                if (arguments.length)
                                    return void 0 === e
                                        ? this
                                        : this.each(function(t) {
                                              we.offset.setOffset(this, e, t);
                                          });
                                var t,
                                    n,
                                    r = this[0];
                                if (r)
                                    return r.getClientRects().length
                                        ? ((t = r.getBoundingClientRect()),
                                          (n = r.ownerDocument.defaultView),
                                          {
                                              top: t.top + n.pageYOffset,
                                              left: t.left + n.pageXOffset
                                          })
                                        : { top: 0, left: 0 };
                            },
                            position: function() {
                                if (this[0]) {
                                    var e,
                                        t,
                                        n,
                                        r = this[0],
                                        i = { top: 0, left: 0 };
                                    if ("fixed" === we.css(r, "position"))
                                        t = r.getBoundingClientRect();
                                    else {
                                        for (
                                            t = this.offset(),
                                                n = r.ownerDocument,
                                                e =
                                                    r.offsetParent ||
                                                    n.documentElement;
                                            e &&
                                            (e === n.body ||
                                                e === n.documentElement) &&
                                            "static" === we.css(e, "position");

                                        )
                                            e = e.parentNode;
                                        e &&
                                            e !== r &&
                                            1 === e.nodeType &&
                                            ((i = we(e).offset()),
                                            (i.top += we.css(
                                                e,
                                                "borderTopWidth",
                                                !0
                                            )),
                                            (i.left += we.css(
                                                e,
                                                "borderLeftWidth",
                                                !0
                                            )));
                                    }
                                    return {
                                        top:
                                            t.top -
                                            i.top -
                                            we.css(r, "marginTop", !0),
                                        left:
                                            t.left -
                                            i.left -
                                            we.css(r, "marginLeft", !0)
                                    };
                                }
                            },
                            offsetParent: function() {
                                return this.map(function() {
                                    for (
                                        var e = this.offsetParent;
                                        e && "static" === we.css(e, "position");

                                    )
                                        e = e.offsetParent;
                                    return e || et;
                                });
                            }
                        }),
                        we.each(
                            {
                                scrollLeft: "pageXOffset",
                                scrollTop: "pageYOffset"
                            },
                            function(e, t) {
                                var n = "pageYOffset" === t;
                                we.fn[e] = function(r) {
                                    return je(
                                        this,
                                        function(e, r, i) {
                                            var o;
                                            if (
                                                (ye(e)
                                                    ? (o = e)
                                                    : 9 === e.nodeType &&
                                                      (o = e.defaultView),
                                                void 0 === i)
                                            )
                                                return o ? o[t] : e[r];
                                            o
                                                ? o.scrollTo(
                                                      n ? o.pageXOffset : i,
                                                      n ? i : o.pageYOffset
                                                  )
                                                : (e[r] = i);
                                        },
                                        e,
                                        r,
                                        arguments.length
                                    );
                                };
                            }
                        ),
                        we.each(["top", "left"], function(e, t) {
                            we.cssHooks[t] = M(ve.pixelPosition, function(
                                e,
                                n
                            ) {
                                if (n)
                                    return (
                                        (n = j(e, t)),
                                        lt.test(n)
                                            ? we(e).position()[t] + "px"
                                            : n
                                    );
                            });
                        }),
                        we.each({ Height: "height", Width: "width" }, function(
                            e,
                            t
                        ) {
                            we.each(
                                {
                                    padding: "inner" + e,
                                    content: t,
                                    "": "outer" + e
                                },
                                function(n, r) {
                                    we.fn[r] = function(i, o) {
                                        var a =
                                                arguments.length &&
                                                (n || "boolean" != typeof i),
                                            s =
                                                n ||
                                                (!0 === i || !0 === o
                                                    ? "margin"
                                                    : "border");
                                        return je(
                                            this,
                                            function(t, n, i) {
                                                var o;
                                                return ye(t)
                                                    ? 0 === r.indexOf("outer")
                                                        ? t["inner" + e]
                                                        : t.document
                                                              .documentElement[
                                                              "client" + e
                                                          ]
                                                    : 9 === t.nodeType
                                                        ? ((o =
                                                              t.documentElement),
                                                          Math.max(
                                                              t.body[
                                                                  "scroll" + e
                                                              ],
                                                              o["scroll" + e],
                                                              t.body[
                                                                  "offset" + e
                                                              ],
                                                              o["offset" + e],
                                                              o["client" + e]
                                                          ))
                                                        : void 0 === i
                                                            ? we.css(t, n, s)
                                                            : we.style(
                                                                  t,
                                                                  n,
                                                                  i,
                                                                  s
                                                              );
                                            },
                                            t,
                                            a ? i : void 0,
                                            a
                                        );
                                    };
                                }
                            );
                        }),
                        we.each(
                            "blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(
                                " "
                            ),
                            function(e, t) {
                                we.fn[t] = function(e, n) {
                                    return arguments.length > 0
                                        ? this.on(t, null, e, n)
                                        : this.trigger(t);
                                };
                            }
                        ),
                        we.fn.extend({
                            hover: function(e, t) {
                                return this.mouseenter(e).mouseleave(t || e);
                            }
                        }),
                        we.fn.extend({
                            bind: function(e, t, n) {
                                return this.on(e, null, t, n);
                            },
                            unbind: function(e, t) {
                                return this.off(e, null, t);
                            },
                            delegate: function(e, t, n, r) {
                                return this.on(t, e, n, r);
                            },
                            undelegate: function(e, t, n) {
                                return 1 === arguments.length
                                    ? this.off(e, "**")
                                    : this.off(t, e || "**", n);
                            }
                        }),
                        (we.proxy = function(e, t) {
                            var n, r, i;
                            if (
                                ("string" == typeof t &&
                                    ((n = e[t]), (t = e), (e = n)),
                                be(e))
                            )
                                return (
                                    (r = le.call(arguments, 2)),
                                    (i = function() {
                                        return e.apply(
                                            t || this,
                                            r.concat(le.call(arguments))
                                        );
                                    }),
                                    (i.guid = e.guid = e.guid || we.guid++),
                                    i
                                );
                        }),
                        (we.holdReady = function(e) {
                            e ? we.readyWait++ : we.ready(!0);
                        }),
                        (we.isArray = Array.isArray),
                        (we.parseJSON = JSON.parse),
                        (we.nodeName = o),
                        (we.isFunction = be),
                        (we.isWindow = ye),
                        (we.camelCase = h),
                        (we.type = r),
                        (we.now = Date.now),
                        (we.isNumeric = function(e) {
                            var t = we.type(e);
                            return (
                                ("number" === t || "string" === t) &&
                                !isNaN(e - parseFloat(e))
                            );
                        });
                    var Jt = e.jQuery,
                        Qt = e.$;
                    return (
                        (we.noConflict = function(t) {
                            return (
                                e.$ === we && (e.$ = Qt),
                                t && e.jQuery === we && (e.jQuery = Jt),
                                we
                            );
                        }),
                        t || (e.jQuery = e.$ = we),
                        we
                    );
                });
            }),
            it =
                "function" == typeof Symbol &&
                "symbol" == typeof Symbol.iterator
                    ? function(e) {
                          return typeof e;
                      }
                    : function(e) {
                          return e &&
                              "function" == typeof Symbol &&
                              e.constructor === Symbol &&
                              e !== Symbol.prototype
                              ? "symbol"
                              : typeof e;
                      },
            ot = function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function");
            },
            at = function(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError(
                        "Super expression must either be null or a function, not " +
                            typeof t
                    );
                (e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                })),
                    t &&
                        (Object.setPrototypeOf
                            ? Object.setPrototypeOf(e, t)
                            : (e.__proto__ = t));
            },
            st = function(e, t) {
                if (!e)
                    throw new ReferenceError(
                        "this hasn't been initialised - super() hasn't been called"
                    );
                return !t || ("object" != typeof t && "function" != typeof t)
                    ? e
                    : t;
            },
            lt = (function() {
                function e(e, t) {
                    var n = [],
                        r = !0,
                        i = !1,
                        o = void 0;
                    try {
                        for (
                            var a, s = e[Symbol.iterator]();
                            !(r = (a = s.next()).done) &&
                            (n.push(a.value), !t || n.length !== t);
                            r = !0
                        );
                    } catch (e) {
                        (i = !0), (o = e);
                    } finally {
                        try {
                            !r && s.return && s.return();
                        } finally {
                            if (i) throw o;
                        }
                    }
                    return n;
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError(
                        "Invalid attempt to destructure non-iterable instance"
                    );
                };
            })(),
            ut = function(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, n = Array(e.length); t < e.length; t++)
                        n[t] = e[t];
                    return n;
                }
                return Array.from(e);
            },
            ct = (function(e) {
                function t(e, n) {
                    ot(this, t);
                    var r = st(
                        this,
                        (t.__proto__ || Object.getPrototypeOf(t)).call(this, n)
                    );
                    return (r.node = e), r;
                }
                return at(t, e), t;
            })(Error),
            dt = (function(e) {
                function t(e, n, r) {
                    ot(this, t);
                    var i = st(
                        this,
                        (t.__proto__ || Object.getPrototypeOf(t)).call(this, r)
                    );
                    return (i.targetIndex = e), (i.maxIndex = n), i;
                }
                return at(t, e), t;
            })(Error),
            ft = (function(e) {
                function t(e, n, r) {
                    ot(this, t);
                    var i = st(
                        this,
                        (t.__proto__ || Object.getPrototypeOf(t)).call(this, r)
                    );
                    return (i.terminusType = e), (i.terminusCondition = n), i;
                }
                return at(t, e), t;
            })(Error),
            pt = (function(e) {
                function t(e, n, r) {
                    ot(this, t);
                    var i = st(
                        this,
                        (t.__proto__ || Object.getPrototypeOf(t)).call(this, r)
                    );
                    return (
                        (i.expectedAssertion = e),
                        (i.targetElementAssertion = n),
                        i
                    );
                }
                return at(t, e), t;
            })(Error),
            ht =
                "object" == typeof global &&
                global &&
                global.Object === Object &&
                global,
            mt =
                "object" == typeof self &&
                self &&
                self.Object === Object &&
                self,
            gt = ht || mt || Function("return this")(),
            vt = gt.Symbol,
            bt = Object.prototype,
            yt = bt.hasOwnProperty,
            _t = bt.toString,
            wt = vt ? vt.toStringTag : void 0,
            xt = Object.prototype,
            Et = xt.toString,
            Tt = "[object Null]",
            St = "[object Undefined]",
            Ct = vt ? vt.toStringTag : void 0,
            kt = "[object AsyncFunction]",
            It = "[object Function]",
            Pt = "[object GeneratorFunction]",
            Ot = "[object Proxy]",
            At = gt["__core-js_shared__"],
            Nt = (function() {
                var e = /[^.]+$/.exec(
                    (At && At.keys && At.keys.IE_PROTO) || ""
                );
                return e ? "Symbol(src)_1." + e : "";
            })(),
            Rt = Function.prototype,
            Dt = Rt.toString,
            jt = /[\\^$.*+?()[\]{}|]/g,
            Mt = /^\[object .+?Constructor\]$/,
            Lt = Function.prototype,
            Ft = Object.prototype,
            Ut = Lt.toString,
            zt = Ft.hasOwnProperty,
            Bt = RegExp(
                "^" +
                    Ut.call(zt)
                        .replace(jt, "\\$&")
                        .replace(
                            /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                            "$1.*?"
                        ) +
                    "$"
            ),
            Vt = d(Object, "create"),
            $t = "__lodash_hash_undefined__",
            Ht = Object.prototype,
            qt = Ht.hasOwnProperty,
            Wt = Object.prototype,
            Gt = Wt.hasOwnProperty,
            Xt = "__lodash_hash_undefined__";
        (v.prototype.clear = f),
            (v.prototype.delete = p),
            (v.prototype.get = h),
            (v.prototype.has = m),
            (v.prototype.set = g);
        var Kt = Array.prototype,
            Jt = Kt.splice;
        (S.prototype.clear = b),
            (S.prototype.delete = w),
            (S.prototype.get = x),
            (S.prototype.has = E),
            (S.prototype.set = T);
        var Qt = d(gt, "Map");
        (R.prototype.clear = C),
            (R.prototype.delete = P),
            (R.prototype.get = O),
            (R.prototype.has = A),
            (R.prototype.set = N);
        var Yt = "__lodash_hash_undefined__";
        (M.prototype.add = M.prototype.push = D), (M.prototype.has = j);
        var Zt = Math.min,
            en = Math.max,
            tn = (function() {
                try {
                    var e = d(Object, "defineProperty");
                    return e({}, "", {}), e;
                } catch (e) {}
            })(),
            nn = tn
                ? function(e, t) {
                      return tn(e, "toString", {
                          configurable: !0,
                          enumerable: !1,
                          value: K(t),
                          writable: !0
                      });
                  }
                : W,
            rn = 800,
            on = 16,
            an = Date.now,
            sn = (function(e) {
                var t = 0,
                    n = 0;
                return function() {
                    var r = an(),
                        i = on - (r - n);
                    if (((n = r), i > 0)) {
                        if (++t >= rn) return arguments[0];
                    } else t = 0;
                    return e.apply(void 0, arguments);
                };
            })(nn),
            ln = 9007199254740991,
            un = (function(e, t) {
                return sn(X(e, t, W), e + "");
            })(function(e) {
                var n = t(e, ee);
                return n.length && n[0] === e[0] ? q(n) : [];
            }),
            cn = Object.freeze({
                matchesLocalNameOrElement: te,
                applyBlacklist: ie,
                retrieveItemRefHref: oe
            }),
            dn = Object.freeze({
                injectCFIMarkerIntoText: le,
                followIndexStep: ce,
                getNextNode: ce,
                followIndirectionStep: de,
                textTermination: fe,
                targetIdMatchesIdAssertion: pe,
                applyBlacklist: ie
            });
        !(function(e, t) {
            function n() {
                this.constructor = e;
            }
            (n.prototype = t.prototype), (e.prototype = new n());
        })(he, Error),
            (he.buildMessage = function(e, t) {
                function n(e) {
                    return e
                        .charCodeAt(0)
                        .toString(16)
                        .toUpperCase();
                }
                function r(e) {
                    return e
                        .replace(/\\/g, "\\\\")
                        .replace(/"/g, '\\"')
                        .replace(/\0/g, "\\0")
                        .replace(/\t/g, "\\t")
                        .replace(/\n/g, "\\n")
                        .replace(/\r/g, "\\r")
                        .replace(/[\x00-\x0F]/g, function(e) {
                            return "\\x0" + n(e);
                        })
                        .replace(/[\x10-\x1F\x7F-\x9F]/g, function(e) {
                            return "\\x" + n(e);
                        });
                }
                function i(e) {
                    return e
                        .replace(/\\/g, "\\\\")
                        .replace(/\]/g, "\\]")
                        .replace(/\^/g, "\\^")
                        .replace(/-/g, "\\-")
                        .replace(/\0/g, "\\0")
                        .replace(/\t/g, "\\t")
                        .replace(/\n/g, "\\n")
                        .replace(/\r/g, "\\r")
                        .replace(/[\x00-\x0F]/g, function(e) {
                            return "\\x0" + n(e);
                        })
                        .replace(/[\x10-\x1F\x7F-\x9F]/g, function(e) {
                            return "\\x" + n(e);
                        });
                }
                function o(e) {
                    return a[e.type](e);
                }
                var a = {
                    literal: function(e) {
                        return '"' + r(e.text) + '"';
                    },
                    class: function(e) {
                        var t,
                            n = "";
                        for (t = 0; t < e.parts.length; t++)
                            n +=
                                e.parts[t] instanceof Array
                                    ? i(e.parts[t][0]) + "-" + i(e.parts[t][1])
                                    : i(e.parts[t]);
                        return "[" + (e.inverted ? "^" : "") + n + "]";
                    },
                    any: function(e) {
                        return "any character";
                    },
                    end: function(e) {
                        return "end of input";
                    },
                    other: function(e) {
                        return e.description;
                    }
                };
                return (
                    "Expected " +
                    (function(e) {
                        var t,
                            n,
                            r = new Array(e.length);
                        for (t = 0; t < e.length; t++) r[t] = o(e[t]);
                        if ((r.sort(), r.length > 0)) {
                            for (t = 1, n = 1; t < r.length; t++)
                                r[t - 1] !== r[t] && ((r[n] = r[t]), n++);
                            r.length = n;
                        }
                        switch (r.length) {
                            case 1:
                                return r[0];
                            case 2:
                                return r[0] + " or " + r[1];
                            default:
                                return (
                                    r.slice(0, -1).join(", ") +
                                    ", or " +
                                    r[r.length - 1]
                                );
                        }
                    })(e) +
                    " but " +
                    (function(e) {
                        return e ? '"' + r(e) + '"' : "end of input";
                    })(t) +
                    " found."
                );
            });
        var fn = { SyntaxError: he, parse: me },
            pn = fn.SyntaxError,
            hn = fn.parse,
            mn = Object.freeze({ SyntaxError: pn, parse: hn }),
            gn = Object.freeze({
                interpretIndexStepNode: we,
                interpretIndirectionStepNode: xe,
                interpretTextTerminusNode: Se,
                getContentDocHref: Ce,
                compareCFIs: ke,
                injectElement: Ie,
                injectRangeElements: Pe,
                getTargetElement: Oe,
                getRangeTargetElements: Ae,
                getTargetElementWithPartialCFI: Ne,
                getTextTerminusInfoWithPartialCFI: Re,
                getTextTerminusInfo: De,
                isRangeCfi: je,
                hasTextTerminus: Me
            }),
            vn = Object.freeze({
                validateStartElement: Ue,
                createCFITextNodeStep: qe,
                createCFIElementSteps: We,
                generateDocumentRangeComponent: Ge,
                generateRangeComponent: Xe,
                generateCharOffsetRangeComponent: Ke,
                generateElementRangeComponent: Je,
                generateCharacterOffsetCFIComponent: Qe,
                generateElementCFIComponent: Ye,
                generatePackageDocumentCFIComponent: Ze,
                generatePackageDocumentCFIComponentWithSpineIndex: et,
                generateCompleteCFI: tt
            });
        (e.CFIInstructions = dn),
            (e.Instructions = dn),
            (e.Interpreter = gn),
            (e.Generator = vn),
            (e.Parser = mn),
            (e.Util = cn),
            (e.injectCFIMarkerIntoText = le),
            (e.followIndexStep = ce),
            (e.getNextNode = ce),
            (e.followIndirectionStep = de),
            (e.textTermination = fe),
            (e.targetIdMatchesIdAssertion = pe),
            (e.applyBlacklist = ie),
            (e.interpretIndexStepNode = we),
            (e.interpretIndirectionStepNode = xe),
            (e.interpretTextTerminusNode = Se),
            (e.getContentDocHref = Ce),
            (e.compareCFIs = ke),
            (e.injectElement = Ie),
            (e.injectRangeElements = Pe),
            (e.getTargetElement = Oe),
            (e.getRangeTargetElements = Ae),
            (e.getTargetElementWithPartialCFI = Ne),
            (e.getTextTerminusInfoWithPartialCFI = Re),
            (e.getTextTerminusInfo = De),
            (e.isRangeCfi = je),
            (e.hasTextTerminus = Me),
            (e.validateStartElement = Ue),
            (e.createCFITextNodeStep = qe),
            (e.createCFIElementSteps = We),
            (e.generateDocumentRangeComponent = Ge),
            (e.generateRangeComponent = Xe),
            (e.generateCharOffsetRangeComponent = Ke),
            (e.generateElementRangeComponent = Je),
            (e.generateCharacterOffsetCFIComponent = Qe),
            (e.generateElementCFIComponent = Ye),
            (e.generatePackageDocumentCFIComponent = Ze),
            (e.generatePackageDocumentCFIComponentWithSpineIndex = et),
            (e.generateCompleteCFI = tt),
            (e.NodeTypeError = ct),
            (e.OutOfRangeError = dt),
            (e.TerminusError = ft),
            (e.CFIAssertionError = pt),
            Object.defineProperty(e, "__esModule", { value: !0 });
    }),
    (function() {
        var e =
                ("object" == typeof self && self.self === self && self) ||
                ("object" == typeof global &&
                    global.global === global &&
                    global) ||
                this ||
                {},
            t = e._,
            n = Array.prototype,
            r = Object.prototype,
            i = "undefined" != typeof Symbol ? Symbol.prototype : null,
            o = n.push,
            a = n.slice,
            s = r.toString,
            l = r.hasOwnProperty,
            u = Array.isArray,
            c = Object.keys,
            d = Object.create,
            f = function() {},
            p = function(e) {
                return e instanceof p
                    ? e
                    : this instanceof p
                        ? void (this._wrapped = e)
                        : new p(e);
            };
        "undefined" == typeof exports || exports.nodeType
            ? (e._ = p)
            : ("undefined" != typeof module &&
                  !module.nodeType &&
                  module.exports &&
                  (exports = module.exports = p),
              (exports._ = p)),
            (p.VERSION = "1.9.1");
        var h,
            m = function(e, t, n) {
                if (void 0 === t) return e;
                switch (null == n ? 3 : n) {
                    case 1:
                        return function(n) {
                            return e.call(t, n);
                        };
                    case 3:
                        return function(n, r, i) {
                            return e.call(t, n, r, i);
                        };
                    case 4:
                        return function(n, r, i, o) {
                            return e.call(t, n, r, i, o);
                        };
                }
                return function() {
                    return e.apply(t, arguments);
                };
            },
            g = function(e, t, n) {
                return p.iteratee !== h
                    ? p.iteratee(e, t)
                    : null == e
                        ? p.identity
                        : p.isFunction(e)
                            ? m(e, t, n)
                            : p.isObject(e) && !p.isArray(e)
                                ? p.matcher(e)
                                : p.property(e);
            };
        p.iteratee = h = function(e, t) {
            return g(e, t, 1 / 0);
        };
        var v = function(e, t) {
                return (
                    (t = null == t ? e.length - 1 : +t),
                    function() {
                        for (
                            var n = Math.max(arguments.length - t, 0),
                                r = Array(n),
                                i = 0;
                            i < n;
                            i++
                        )
                            r[i] = arguments[i + t];
                        switch (t) {
                            case 0:
                                return e.call(this, r);
                            case 1:
                                return e.call(this, arguments[0], r);
                            case 2:
                                return e.call(
                                    this,
                                    arguments[0],
                                    arguments[1],
                                    r
                                );
                        }
                        var o = Array(t + 1);
                        for (i = 0; i < t; i++) o[i] = arguments[i];
                        return (o[t] = r), e.apply(this, o);
                    }
                );
            },
            b = function(e) {
                if (!p.isObject(e)) return {};
                if (d) return d(e);
                f.prototype = e;
                var t = new f();
                return (f.prototype = null), t;
            },
            y = function(e) {
                return function(t) {
                    return null == t ? void 0 : t[e];
                };
            },
            _ = function(e, t) {
                return null != e && l.call(e, t);
            },
            w = function(e, t) {
                for (var n = t.length, r = 0; r < n; r++) {
                    if (null == e) return;
                    e = e[t[r]];
                }
                return n ? e : void 0;
            },
            x = Math.pow(2, 53) - 1,
            E = y("length"),
            T = function(e) {
                var t = E(e);
                return "number" == typeof t && t >= 0 && t <= x;
            };
        (p.each = p.forEach = function(e, t, n) {
            t = m(t, n);
            var r, i;
            if (T(e)) for (r = 0, i = e.length; r < i; r++) t(e[r], r, e);
            else {
                var o = p.keys(e);
                for (r = 0, i = o.length; r < i; r++) t(e[o[r]], o[r], e);
            }
            return e;
        }),
            (p.map = p.collect = function(e, t, n) {
                t = g(t, n);
                for (
                    var r = !T(e) && p.keys(e),
                        i = (r || e).length,
                        o = Array(i),
                        a = 0;
                    a < i;
                    a++
                ) {
                    var s = r ? r[a] : a;
                    o[a] = t(e[s], s, e);
                }
                return o;
            });
        var S = function(e) {
            var t = function(t, n, r, i) {
                var o = !T(t) && p.keys(t),
                    a = (o || t).length,
                    s = e > 0 ? 0 : a - 1;
                for (
                    i || ((r = t[o ? o[s] : s]), (s += e));
                    s >= 0 && s < a;
                    s += e
                ) {
                    var l = o ? o[s] : s;
                    r = n(r, t[l], l, t);
                }
                return r;
            };
            return function(e, n, r, i) {
                var o = arguments.length >= 3;
                return t(e, m(n, i, 4), r, o);
            };
        };
        (p.reduce = p.foldl = p.inject = S(1)),
            (p.reduceRight = p.foldr = S(-1)),
            (p.find = p.detect = function(e, t, n) {
                var r = T(e) ? p.findIndex : p.findKey,
                    i = r(e, t, n);
                if (void 0 !== i && -1 !== i) return e[i];
            }),
            (p.filter = p.select = function(e, t, n) {
                var r = [];
                return (
                    (t = g(t, n)),
                    p.each(e, function(e, n, i) {
                        t(e, n, i) && r.push(e);
                    }),
                    r
                );
            }),
            (p.reject = function(e, t, n) {
                return p.filter(e, p.negate(g(t)), n);
            }),
            (p.every = p.all = function(e, t, n) {
                t = g(t, n);
                for (
                    var r = !T(e) && p.keys(e), i = (r || e).length, o = 0;
                    o < i;
                    o++
                ) {
                    var a = r ? r[o] : o;
                    if (!t(e[a], a, e)) return !1;
                }
                return !0;
            }),
            (p.some = p.any = function(e, t, n) {
                t = g(t, n);
                for (
                    var r = !T(e) && p.keys(e), i = (r || e).length, o = 0;
                    o < i;
                    o++
                ) {
                    var a = r ? r[o] : o;
                    if (t(e[a], a, e)) return !0;
                }
                return !1;
            }),
            (p.contains = p.includes = p.include = function(e, t, n, r) {
                return (
                    T(e) || (e = p.values(e)),
                    ("number" != typeof n || r) && (n = 0),
                    p.indexOf(e, t, n) >= 0
                );
            }),
            (p.invoke = v(function(e, t, n) {
                var r, i;
                return (
                    p.isFunction(t)
                        ? (i = t)
                        : p.isArray(t) &&
                          ((r = t.slice(0, -1)), (t = t[t.length - 1])),
                    p.map(e, function(e) {
                        var o = i;
                        if (!o) {
                            if ((r && r.length && (e = w(e, r)), null == e))
                                return;
                            o = e[t];
                        }
                        return null == o ? o : o.apply(e, n);
                    })
                );
            })),
            (p.pluck = function(e, t) {
                return p.map(e, p.property(t));
            }),
            (p.where = function(e, t) {
                return p.filter(e, p.matcher(t));
            }),
            (p.findWhere = function(e, t) {
                return p.find(e, p.matcher(t));
            }),
            (p.max = function(e, t, n) {
                var r,
                    i,
                    o = -1 / 0,
                    a = -1 / 0;
                if (
                    null == t ||
                    ("number" == typeof t &&
                        "object" != typeof e[0] &&
                        null != e)
                ) {
                    e = T(e) ? e : p.values(e);
                    for (var s = 0, l = e.length; s < l; s++)
                        null != (r = e[s]) && r > o && (o = r);
                } else
                    (t = g(t, n)),
                        p.each(e, function(e, n, r) {
                            ((i = t(e, n, r)) > a ||
                                (i === -1 / 0 && o === -1 / 0)) &&
                                ((o = e), (a = i));
                        });
                return o;
            }),
            (p.min = function(e, t, n) {
                var r,
                    i,
                    o = 1 / 0,
                    a = 1 / 0;
                if (
                    null == t ||
                    ("number" == typeof t &&
                        "object" != typeof e[0] &&
                        null != e)
                ) {
                    e = T(e) ? e : p.values(e);
                    for (var s = 0, l = e.length; s < l; s++)
                        null != (r = e[s]) && r < o && (o = r);
                } else
                    (t = g(t, n)),
                        p.each(e, function(e, n, r) {
                            ((i = t(e, n, r)) < a ||
                                (i === 1 / 0 && o === 1 / 0)) &&
                                ((o = e), (a = i));
                        });
                return o;
            }),
            (p.shuffle = function(e) {
                return p.sample(e, 1 / 0);
            }),
            (p.sample = function(e, t, n) {
                if (null == t || n)
                    return T(e) || (e = p.values(e)), e[p.random(e.length - 1)];
                var r = T(e) ? p.clone(e) : p.values(e),
                    i = E(r);
                t = Math.max(Math.min(t, i), 0);
                for (var o = i - 1, a = 0; a < t; a++) {
                    var s = p.random(a, o),
                        l = r[a];
                    (r[a] = r[s]), (r[s] = l);
                }
                return r.slice(0, t);
            }),
            (p.sortBy = function(e, t, n) {
                var r = 0;
                return (
                    (t = g(t, n)),
                    p.pluck(
                        p
                            .map(e, function(e, n, i) {
                                return {
                                    value: e,
                                    index: r++,
                                    criteria: t(e, n, i)
                                };
                            })
                            .sort(function(e, t) {
                                var n = e.criteria,
                                    r = t.criteria;
                                if (n !== r) {
                                    if (n > r || void 0 === n) return 1;
                                    if (n < r || void 0 === r) return -1;
                                }
                                return e.index - t.index;
                            }),
                        "value"
                    )
                );
            });
        var C = function(e, t) {
            return function(n, r, i) {
                var o = t ? [[], []] : {};
                return (
                    (r = g(r, i)),
                    p.each(n, function(t, i) {
                        var a = r(t, i, n);
                        e(o, t, a);
                    }),
                    o
                );
            };
        };
        (p.groupBy = C(function(e, t, n) {
            _(e, n) ? e[n].push(t) : (e[n] = [t]);
        })),
            (p.indexBy = C(function(e, t, n) {
                e[n] = t;
            })),
            (p.countBy = C(function(e, t, n) {
                _(e, n) ? e[n]++ : (e[n] = 1);
            }));
        var k = /[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;
        (p.toArray = function(e) {
            return e
                ? p.isArray(e)
                    ? a.call(e)
                    : p.isString(e)
                        ? e.match(k)
                        : T(e)
                            ? p.map(e, p.identity)
                            : p.values(e)
                : [];
        }),
            (p.size = function(e) {
                return null == e ? 0 : T(e) ? e.length : p.keys(e).length;
            }),
            (p.partition = C(function(e, t, n) {
                e[n ? 0 : 1].push(t);
            }, !0)),
            (p.first = p.head = p.take = function(e, t, n) {
                return null == e || e.length < 1
                    ? null == t
                        ? void 0
                        : []
                    : null == t || n
                        ? e[0]
                        : p.initial(e, e.length - t);
            }),
            (p.initial = function(e, t, n) {
                return a.call(
                    e,
                    0,
                    Math.max(0, e.length - (null == t || n ? 1 : t))
                );
            }),
            (p.last = function(e, t, n) {
                return null == e || e.length < 1
                    ? null == t
                        ? void 0
                        : []
                    : null == t || n
                        ? e[e.length - 1]
                        : p.rest(e, Math.max(0, e.length - t));
            }),
            (p.rest = p.tail = p.drop = function(e, t, n) {
                return a.call(e, null == t || n ? 1 : t);
            }),
            (p.compact = function(e) {
                return p.filter(e, Boolean);
            });
        var I = function(e, t, n, r) {
            r = r || [];
            for (var i = r.length, o = 0, a = E(e); o < a; o++) {
                var s = e[o];
                if (T(s) && (p.isArray(s) || p.isArguments(s)))
                    if (t)
                        for (var l = 0, u = s.length; l < u; ) r[i++] = s[l++];
                    else I(s, t, n, r), (i = r.length);
                else n || (r[i++] = s);
            }
            return r;
        };
        (p.flatten = function(e, t) {
            return I(e, t, !1);
        }),
            (p.without = v(function(e, t) {
                return p.difference(e, t);
            })),
            (p.uniq = p.unique = function(e, t, n, r) {
                p.isBoolean(t) || ((r = n), (n = t), (t = !1)),
                    null != n && (n = g(n, r));
                for (var i = [], o = [], a = 0, s = E(e); a < s; a++) {
                    var l = e[a],
                        u = n ? n(l, a, e) : l;
                    t && !n
                        ? ((a && o === u) || i.push(l), (o = u))
                        : n
                            ? p.contains(o, u) || (o.push(u), i.push(l))
                            : p.contains(i, l) || i.push(l);
                }
                return i;
            }),
            (p.union = v(function(e) {
                return p.uniq(I(e, !0, !0));
            })),
            (p.intersection = function(e) {
                for (
                    var t = [], n = arguments.length, r = 0, i = E(e);
                    r < i;
                    r++
                ) {
                    var o = e[r];
                    if (!p.contains(t, o)) {
                        var a;
                        for (a = 1; a < n && p.contains(arguments[a], o); a++);
                        a === n && t.push(o);
                    }
                }
                return t;
            }),
            (p.difference = v(function(e, t) {
                return (
                    (t = I(t, !0, !0)),
                    p.filter(e, function(e) {
                        return !p.contains(t, e);
                    })
                );
            })),
            (p.unzip = function(e) {
                for (
                    var t = (e && p.max(e, E).length) || 0, n = Array(t), r = 0;
                    r < t;
                    r++
                )
                    n[r] = p.pluck(e, r);
                return n;
            }),
            (p.zip = v(p.unzip)),
            (p.object = function(e, t) {
                for (var n = {}, r = 0, i = E(e); r < i; r++)
                    t ? (n[e[r]] = t[r]) : (n[e[r][0]] = e[r][1]);
                return n;
            });
        var P = function(e) {
            return function(t, n, r) {
                n = g(n, r);
                for (
                    var i = E(t), o = e > 0 ? 0 : i - 1;
                    o >= 0 && o < i;
                    o += e
                )
                    if (n(t[o], o, t)) return o;
                return -1;
            };
        };
        (p.findIndex = P(1)),
            (p.findLastIndex = P(-1)),
            (p.sortedIndex = function(e, t, n, r) {
                n = g(n, r, 1);
                for (var i = n(t), o = 0, a = E(e); o < a; ) {
                    var s = Math.floor((o + a) / 2);
                    n(e[s]) < i ? (o = s + 1) : (a = s);
                }
                return o;
            });
        var O = function(e, t, n) {
            return function(r, i, o) {
                var s = 0,
                    l = E(r);
                if ("number" == typeof o)
                    e > 0
                        ? (s = o >= 0 ? o : Math.max(o + l, s))
                        : (l = o >= 0 ? Math.min(o + 1, l) : o + l + 1);
                else if (n && o && l) return (o = n(r, i)), r[o] === i ? o : -1;
                if (i !== i)
                    return (
                        (o = t(a.call(r, s, l), p.isNaN)), o >= 0 ? o + s : -1
                    );
                for (o = e > 0 ? s : l - 1; o >= 0 && o < l; o += e)
                    if (r[o] === i) return o;
                return -1;
            };
        };
        (p.indexOf = O(1, p.findIndex, p.sortedIndex)),
            (p.lastIndexOf = O(-1, p.findLastIndex)),
            (p.range = function(e, t, n) {
                null == t && ((t = e || 0), (e = 0)), n || (n = t < e ? -1 : 1);
                for (
                    var r = Math.max(Math.ceil((t - e) / n), 0),
                        i = Array(r),
                        o = 0;
                    o < r;
                    o++, e += n
                )
                    i[o] = e;
                return i;
            }),
            (p.chunk = function(e, t) {
                if (null == t || t < 1) return [];
                for (var n = [], r = 0, i = e.length; r < i; )
                    n.push(a.call(e, r, (r += t)));
                return n;
            });
        var A = function(e, t, n, r, i) {
            if (!(r instanceof t)) return e.apply(n, i);
            var o = b(e.prototype),
                a = e.apply(o, i);
            return p.isObject(a) ? a : o;
        };
        (p.bind = v(function(e, t, n) {
            if (!p.isFunction(e))
                throw new TypeError("Bind must be called on a function");
            var r = v(function(i) {
                return A(e, r, t, this, n.concat(i));
            });
            return r;
        })),
            (p.partial = v(function(e, t) {
                var n = p.partial.placeholder,
                    r = function() {
                        for (
                            var i = 0, o = t.length, a = Array(o), s = 0;
                            s < o;
                            s++
                        )
                            a[s] = t[s] === n ? arguments[i++] : t[s];
                        for (; i < arguments.length; ) a.push(arguments[i++]);
                        return A(e, r, this, this, a);
                    };
                return r;
            })),
            (p.partial.placeholder = p),
            (p.bindAll = v(function(e, t) {
                t = I(t, !1, !1);
                var n = t.length;
                if (n < 1)
                    throw new Error("bindAll must be passed function names");
                for (; n--; ) {
                    var r = t[n];
                    e[r] = p.bind(e[r], e);
                }
            })),
            (p.memoize = function(e, t) {
                var n = function(r) {
                    var i = n.cache,
                        o = "" + (t ? t.apply(this, arguments) : r);
                    return _(i, o) || (i[o] = e.apply(this, arguments)), i[o];
                };
                return (n.cache = {}), n;
            }),
            (p.delay = v(function(e, t, n) {
                return setTimeout(function() {
                    return e.apply(null, n);
                }, t);
            })),
            (p.defer = p.partial(p.delay, p, 1)),
            (p.throttle = function(e, t, n) {
                var r,
                    i,
                    o,
                    a,
                    s = 0;
                n || (n = {});
                var l = function() {
                        (s = !1 === n.leading ? 0 : p.now()),
                            (r = null),
                            (a = e.apply(i, o)),
                            r || (i = o = null);
                    },
                    u = function() {
                        var u = p.now();
                        s || !1 !== n.leading || (s = u);
                        var c = t - (u - s);
                        return (
                            (i = this),
                            (o = arguments),
                            c <= 0 || c > t
                                ? (r && (clearTimeout(r), (r = null)),
                                  (s = u),
                                  (a = e.apply(i, o)),
                                  r || (i = o = null))
                                : r ||
                                  !1 === n.trailing ||
                                  (r = setTimeout(l, c)),
                            a
                        );
                    };
                return (
                    (u.cancel = function() {
                        clearTimeout(r), (s = 0), (r = i = o = null);
                    }),
                    u
                );
            }),
            (p.debounce = function(e, t, n) {
                var r,
                    i,
                    o = function(t, n) {
                        (r = null), n && (i = e.apply(t, n));
                    },
                    a = v(function(a) {
                        if ((r && clearTimeout(r), n)) {
                            var s = !r;
                            (r = setTimeout(o, t)), s && (i = e.apply(this, a));
                        } else r = p.delay(o, t, this, a);
                        return i;
                    });
                return (
                    (a.cancel = function() {
                        clearTimeout(r), (r = null);
                    }),
                    a
                );
            }),
            (p.wrap = function(e, t) {
                return p.partial(t, e);
            }),
            (p.negate = function(e) {
                return function() {
                    return !e.apply(this, arguments);
                };
            }),
            (p.compose = function() {
                var e = arguments,
                    t = e.length - 1;
                return function() {
                    for (var n = t, r = e[t].apply(this, arguments); n--; )
                        r = e[n].call(this, r);
                    return r;
                };
            }),
            (p.after = function(e, t) {
                return function() {
                    if (--e < 1) return t.apply(this, arguments);
                };
            }),
            (p.before = function(e, t) {
                var n;
                return function() {
                    return (
                        --e > 0 && (n = t.apply(this, arguments)),
                        e <= 1 && (t = null),
                        n
                    );
                };
            }),
            (p.once = p.partial(p.before, 2)),
            (p.restArguments = v);
        var N = !{ toString: null }.propertyIsEnumerable("toString"),
            R = [
                "valueOf",
                "isPrototypeOf",
                "toString",
                "propertyIsEnumerable",
                "hasOwnProperty",
                "toLocaleString"
            ],
            D = function(e, t) {
                var n = R.length,
                    i = e.constructor,
                    o = (p.isFunction(i) && i.prototype) || r,
                    a = "constructor";
                for (_(e, a) && !p.contains(t, a) && t.push(a); n--; )
                    (a = R[n]) in e &&
                        e[a] !== o[a] &&
                        !p.contains(t, a) &&
                        t.push(a);
            };
        (p.keys = function(e) {
            if (!p.isObject(e)) return [];
            if (c) return c(e);
            var t = [];
            for (var n in e) _(e, n) && t.push(n);
            return N && D(e, t), t;
        }),
            (p.allKeys = function(e) {
                if (!p.isObject(e)) return [];
                var t = [];
                for (var n in e) t.push(n);
                return N && D(e, t), t;
            }),
            (p.values = function(e) {
                for (
                    var t = p.keys(e), n = t.length, r = Array(n), i = 0;
                    i < n;
                    i++
                )
                    r[i] = e[t[i]];
                return r;
            }),
            (p.mapObject = function(e, t, n) {
                t = g(t, n);
                for (
                    var r = p.keys(e), i = r.length, o = {}, a = 0;
                    a < i;
                    a++
                ) {
                    var s = r[a];
                    o[s] = t(e[s], s, e);
                }
                return o;
            }),
            (p.pairs = function(e) {
                for (
                    var t = p.keys(e), n = t.length, r = Array(n), i = 0;
                    i < n;
                    i++
                )
                    r[i] = [t[i], e[t[i]]];
                return r;
            }),
            (p.invert = function(e) {
                for (var t = {}, n = p.keys(e), r = 0, i = n.length; r < i; r++)
                    t[e[n[r]]] = n[r];
                return t;
            }),
            (p.functions = p.methods = function(e) {
                var t = [];
                for (var n in e) p.isFunction(e[n]) && t.push(n);
                return t.sort();
            });
        var j = function(e, t) {
            return function(n) {
                var r = arguments.length;
                if ((t && (n = Object(n)), r < 2 || null == n)) return n;
                for (var i = 1; i < r; i++)
                    for (
                        var o = arguments[i], a = e(o), s = a.length, l = 0;
                        l < s;
                        l++
                    ) {
                        var u = a[l];
                        (t && void 0 !== n[u]) || (n[u] = o[u]);
                    }
                return n;
            };
        };
        (p.extend = j(p.allKeys)),
            (p.extendOwn = p.assign = j(p.keys)),
            (p.findKey = function(e, t, n) {
                t = g(t, n);
                for (var r, i = p.keys(e), o = 0, a = i.length; o < a; o++)
                    if (((r = i[o]), t(e[r], r, e))) return r;
            });
        var M = function(e, t, n) {
            return t in n;
        };
        (p.pick = v(function(e, t) {
            var n = {},
                r = t[0];
            if (null == e) return n;
            p.isFunction(r)
                ? (t.length > 1 && (r = m(r, t[1])), (t = p.allKeys(e)))
                : ((r = M), (t = I(t, !1, !1)), (e = Object(e)));
            for (var i = 0, o = t.length; i < o; i++) {
                var a = t[i],
                    s = e[a];
                r(s, a, e) && (n[a] = s);
            }
            return n;
        })),
            (p.omit = v(function(e, t) {
                var n,
                    r = t[0];
                return (
                    p.isFunction(r)
                        ? ((r = p.negate(r)), t.length > 1 && (n = t[1]))
                        : ((t = p.map(I(t, !1, !1), String)),
                          (r = function(e, n) {
                              return !p.contains(t, n);
                          })),
                    p.pick(e, r, n)
                );
            })),
            (p.defaults = j(p.allKeys, !0)),
            (p.create = function(e, t) {
                var n = b(e);
                return t && p.extendOwn(n, t), n;
            }),
            (p.clone = function(e) {
                return p.isObject(e)
                    ? p.isArray(e)
                        ? e.slice()
                        : p.extend({}, e)
                    : e;
            }),
            (p.tap = function(e, t) {
                return t(e), e;
            }),
            (p.isMatch = function(e, t) {
                var n = p.keys(t),
                    r = n.length;
                if (null == e) return !r;
                for (var i = Object(e), o = 0; o < r; o++) {
                    var a = n[o];
                    if (t[a] !== i[a] || !(a in i)) return !1;
                }
                return !0;
            });
        var L, F;
        (L = function(e, t, n, r) {
            if (e === t) return 0 !== e || 1 / e == 1 / t;
            if (null == e || null == t) return !1;
            if (e !== e) return t !== t;
            var i = typeof e;
            return (
                ("function" === i || "object" === i || "object" == typeof t) &&
                F(e, t, n, r)
            );
        }),
            (F = function(e, t, n, r) {
                e instanceof p && (e = e._wrapped),
                    t instanceof p && (t = t._wrapped);
                var o = s.call(e);
                if (o !== s.call(t)) return !1;
                switch (o) {
                    case "[object RegExp]":
                    case "[object String]":
                        return "" + e == "" + t;
                    case "[object Number]":
                        return +e != +e
                            ? +t != +t
                            : 0 == +e
                                ? 1 / +e == 1 / t
                                : +e == +t;
                    case "[object Date]":
                    case "[object Boolean]":
                        return +e == +t;
                    case "[object Symbol]":
                        return i.valueOf.call(e) === i.valueOf.call(t);
                }
                var a = "[object Array]" === o;
                if (!a) {
                    if ("object" != typeof e || "object" != typeof t) return !1;
                    var l = e.constructor,
                        u = t.constructor;
                    if (
                        l !== u &&
                        !(
                            p.isFunction(l) &&
                            l instanceof l &&
                            p.isFunction(u) &&
                            u instanceof u
                        ) &&
                        "constructor" in e &&
                        "constructor" in t
                    )
                        return !1;
                }
                (n = n || []), (r = r || []);
                for (var c = n.length; c--; ) if (n[c] === e) return r[c] === t;
                if ((n.push(e), r.push(t), a)) {
                    if ((c = e.length) !== t.length) return !1;
                    for (; c--; ) if (!L(e[c], t[c], n, r)) return !1;
                } else {
                    var d,
                        f = p.keys(e);
                    if (((c = f.length), p.keys(t).length !== c)) return !1;
                    for (; c--; )
                        if (((d = f[c]), !_(t, d) || !L(e[d], t[d], n, r)))
                            return !1;
                }
                return n.pop(), r.pop(), !0;
            }),
            (p.isEqual = function(e, t) {
                return L(e, t);
            }),
            (p.isEmpty = function(e) {
                return (
                    null == e ||
                    (T(e) && (p.isArray(e) || p.isString(e) || p.isArguments(e))
                        ? 0 === e.length
                        : 0 === p.keys(e).length)
                );
            }),
            (p.isElement = function(e) {
                return !(!e || 1 !== e.nodeType);
            }),
            (p.isArray =
                u ||
                function(e) {
                    return "[object Array]" === s.call(e);
                }),
            (p.isObject = function(e) {
                var t = typeof e;
                return "function" === t || ("object" === t && !!e);
            }),
            p.each(
                [
                    "Arguments",
                    "Function",
                    "String",
                    "Number",
                    "Date",
                    "RegExp",
                    "Error",
                    "Symbol",
                    "Map",
                    "WeakMap",
                    "Set",
                    "WeakSet"
                ],
                function(e) {
                    p["is" + e] = function(t) {
                        return s.call(t) === "[object " + e + "]";
                    };
                }
            ),
            p.isArguments(arguments) ||
                (p.isArguments = function(e) {
                    return _(e, "callee");
                });
        var U = e.document && e.document.childNodes;
        "function" != typeof /./ &&
            "object" != typeof Int8Array &&
            "function" != typeof U &&
            (p.isFunction = function(e) {
                return "function" == typeof e || !1;
            }),
            (p.isFinite = function(e) {
                return !p.isSymbol(e) && isFinite(e) && !isNaN(parseFloat(e));
            }),
            (p.isNaN = function(e) {
                return p.isNumber(e) && isNaN(e);
            }),
            (p.isBoolean = function(e) {
                return !0 === e || !1 === e || "[object Boolean]" === s.call(e);
            }),
            (p.isNull = function(e) {
                return null === e;
            }),
            (p.isUndefined = function(e) {
                return void 0 === e;
            }),
            (p.has = function(e, t) {
                if (!p.isArray(t)) return _(e, t);
                for (var n = t.length, r = 0; r < n; r++) {
                    var i = t[r];
                    if (null == e || !l.call(e, i)) return !1;
                    e = e[i];
                }
                return !!n;
            }),
            (p.noConflict = function() {
                return (e._ = t), this;
            }),
            (p.identity = function(e) {
                return e;
            }),
            (p.constant = function(e) {
                return function() {
                    return e;
                };
            }),
            (p.noop = function() {}),
            (p.property = function(e) {
                return p.isArray(e)
                    ? function(t) {
                          return w(t, e);
                      }
                    : y(e);
            }),
            (p.propertyOf = function(e) {
                return null == e
                    ? function() {}
                    : function(t) {
                          return p.isArray(t) ? w(e, t) : e[t];
                      };
            }),
            (p.matcher = p.matches = function(e) {
                return (
                    (e = p.extendOwn({}, e)),
                    function(t) {
                        return p.isMatch(t, e);
                    }
                );
            }),
            (p.times = function(e, t, n) {
                var r = Array(Math.max(0, e));
                t = m(t, n, 1);
                for (var i = 0; i < e; i++) r[i] = t(i);
                return r;
            }),
            (p.random = function(e, t) {
                return (
                    null == t && ((t = e), (e = 0)),
                    e + Math.floor(Math.random() * (t - e + 1))
                );
            }),
            (p.now =
                Date.now ||
                function() {
                    return new Date().getTime();
                });
        var z = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;",
                "`": "&#x60;"
            },
            B = p.invert(z),
            V = function(e) {
                var t = function(t) {
                        return e[t];
                    },
                    n = "(?:" + p.keys(e).join("|") + ")",
                    r = RegExp(n),
                    i = RegExp(n, "g");
                return function(e) {
                    return (
                        (e = null == e ? "" : "" + e),
                        r.test(e) ? e.replace(i, t) : e
                    );
                };
            };
        (p.escape = V(z)),
            (p.unescape = V(B)),
            (p.result = function(e, t, n) {
                p.isArray(t) || (t = [t]);
                var r = t.length;
                if (!r) return p.isFunction(n) ? n.call(e) : n;
                for (var i = 0; i < r; i++) {
                    var o = null == e ? void 0 : e[t[i]];
                    void 0 === o && ((o = n), (i = r)),
                        (e = p.isFunction(o) ? o.call(e) : o);
                }
                return e;
            });
        var $ = 0;
        (p.uniqueId = function(e) {
            var t = ++$ + "";
            return e ? e + t : t;
        }),
            (p.templateSettings = {
                evaluate: /<%([\s\S]+?)%>/g,
                interpolate: /<%=([\s\S]+?)%>/g,
                escape: /<%-([\s\S]+?)%>/g
            });
        var H = /(.)^/,
            q = {
                "'": "'",
                "\\": "\\",
                "\r": "r",
                "\n": "n",
                "\u2028": "u2028",
                "\u2029": "u2029"
            },
            W = /\\|'|\r|\n|\u2028|\u2029/g,
            G = function(e) {
                return "\\" + q[e];
            };
        (p.template = function(e, t, n) {
            !t && n && (t = n), (t = p.defaults({}, t, p.templateSettings));
            var r = RegExp(
                    [
                        (t.escape || H).source,
                        (t.interpolate || H).source,
                        (t.evaluate || H).source
                    ].join("|") + "|$",
                    "g"
                ),
                i = 0,
                o = "__p+='";
            e.replace(r, function(t, n, r, a, s) {
                return (
                    (o += e.slice(i, s).replace(W, G)),
                    (i = s + t.length),
                    n
                        ? (o +=
                              "'+\n((__t=(" +
                              n +
                              "))==null?'':_.escape(__t))+\n'")
                        : r
                            ? (o += "'+\n((__t=(" + r + "))==null?'':__t)+\n'")
                            : a && (o += "';\n" + a + "\n__p+='"),
                    t
                );
            }),
                (o += "';\n"),
                t.variable || (o = "with(obj||{}){\n" + o + "}\n"),
                (o =
                    "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" +
                    o +
                    "return __p;\n");
            var a;
            try {
                a = new Function(t.variable || "obj", "_", o);
            } catch (e) {
                throw ((e.source = o), e);
            }
            var s = function(e) {
                return a.call(this, e, p);
            };
            return (
                (s.source =
                    "function(" + (t.variable || "obj") + "){\n" + o + "}"),
                s
            );
        }),
            (p.chain = function(e) {
                var t = p(e);
                return (t._chain = !0), t;
            });
        var X = function(e, t) {
            return e._chain ? p(t).chain() : t;
        };
        (p.mixin = function(e) {
            return (
                p.each(p.functions(e), function(t) {
                    var n = (p[t] = e[t]);
                    p.prototype[t] = function() {
                        var e = [this._wrapped];
                        return o.apply(e, arguments), X(this, n.apply(p, e));
                    };
                }),
                p
            );
        }),
            p.mixin(p),
            p.each(
                [
                    "pop",
                    "push",
                    "reverse",
                    "shift",
                    "sort",
                    "splice",
                    "unshift"
                ],
                function(e) {
                    var t = n[e];
                    p.prototype[e] = function() {
                        var n = this._wrapped;
                        return (
                            t.apply(n, arguments),
                            ("shift" !== e && "splice" !== e) ||
                                0 !== n.length ||
                                delete n[0],
                            X(this, n)
                        );
                    };
                }
            ),
            p.each(["concat", "join", "slice"], function(e) {
                var t = n[e];
                p.prototype[e] = function() {
                    return X(this, t.apply(this._wrapped, arguments));
                };
            }),
            (p.prototype.value = function() {
                return this._wrapped;
            }),
            (p.prototype.valueOf = p.prototype.toJSON = p.prototype.value),
            (p.prototype.toString = function() {
                return String(this._wrapped);
            }),
            "function" == typeof define &&
                define.amd &&
                define("underscore", [], function() {
                    return p;
                });
    })(),
    define("readium_js_plugins", [
        "jquery",
        "underscore",
        "eventEmitter"
    ], function(e, t, n) {
        function r(e, t) {
            (this.reader = e), (this.plugin = t);
        }
        function i(e) {
            this.create = function(t) {
                return { host: e, instance: new r(e, t) };
            };
        }
        function o(e, t, n) {
            (this.name = e),
                (this.dependencies = t),
                (this.initialized = !1),
                (this.supported = !1),
                (this.initializer = n);
        }
        var a = {},
            s = function() {
                (this.initialize = function(e) {
                    var n = new i(e);
                    if (e.plugins)
                        throw new Error("Already initialized on reader!");
                    (e.plugins = {}),
                        t.each(a, function(e) {
                            e.init(n);
                        });
                }),
                    (this.getLoadedPlugins = function() {
                        return a;
                    }),
                    (this.register = function(t, r, i) {
                        if (a[t])
                            throw new Error(
                                "Duplicate registration for plugin with name: " +
                                    t
                            );
                        var s;
                        "function" == typeof r ? (i = r) : (s = r),
                            (a[t] = new o(t, s, function(t, r) {
                                if (!t.initialized || !r.host.plugins[t.name]) {
                                    t.initialized = !0;
                                    try {
                                        var o = {};
                                        e.extend(o, new n()),
                                            i.call(o, r.instance),
                                            (t.supported = !0),
                                            (r.host.plugins[t.name] = o);
                                    } catch (e) {
                                        t.fail(e);
                                    }
                                }
                            }));
                    });
            };
        return (
            (o.prototype = {
                init: function(e) {
                    for (
                        var t,
                            n,
                            r = this.dependencies || [],
                            i = 0,
                            s = r.length;
                        i < s;
                        ++i
                    ) {
                        if (((n = r[i]), !((t = a[n]) && t instanceof o)))
                            throw new Error(
                                "required Plugin '" + n + "' not found"
                            );
                        if ((t.init(e), !t.supported))
                            throw new Error(
                                "required Plugin '" + n + "' not supported"
                            );
                    }
                    this.initializer(this, e.create(this));
                },
                fail: function(e) {
                    throw ((this.initialized = !0),
                    (this.supported = !1),
                    new Error(
                        "Plugin '" + this.name + "' failed to load: " + e
                    ));
                },
                warn: function(e) {
                    console.warn("Plugin " + this.name + ": " + e);
                },
                deprecationNotice: function(e, t) {
                    console.warn(
                        "DEPRECATED: " +
                            e +
                            " in Plugin " +
                            this.name +
                            "is deprecated. Please use " +
                            t +
                            " instead"
                    );
                },
                createError: function(e) {
                    return new Error("Error in " + this.name + " Plugin: " + e);
                }
            }),
            new s()
        );
    }),
    define("readium_shared_js/globalsSetup", [
        "./globals",
        "jquery",
        "console_shim",
        "es6-shim",
        "eventEmitter",
        "URIjs",
        "readium_cfi_js",
        "readium_js_plugins"
    ], function(e, t, n, r, i, o, a, s) {
        if (
            (console.log("Globals..."),
            Array.prototype.includes ||
                Object.defineProperty(Array.prototype, "includes", {
                    value: function(e, t) {
                        if (null == this)
                            throw new TypeError(
                                '"this" is null or not defined'
                            );
                        var n = Object(this),
                            r = n.length >>> 0;
                        if (0 === r) return !1;
                        for (
                            var i = 0 | t,
                                o = Math.max(i >= 0 ? i : r - Math.abs(i), 0);
                            o < r;

                        ) {
                            if (
                                (function(e, t) {
                                    return (
                                        e === t ||
                                        ("number" == typeof e &&
                                            "number" == typeof t &&
                                            isNaN(e) &&
                                            isNaN(t))
                                    );
                                })(n[o], e)
                            )
                                return !0;
                            o++;
                        }
                        return !1;
                    }
                }),
            window.ReadiumSDK
                ? (console.log("ReadiumSDK extend."),
                  t.extend(e, window.ReadiumSDK))
                : console.log("ReadiumSDK set."),
            (window.ReadiumSDK = e),
            (i.prototype.trigger = i.prototype.emit),
            (window.EventEmitter = i),
            (window.URI = o),
            "URL" in window == !1)
        ) {
            if ("webkitURL" in window == !1)
                throw Error("Browser does not support window.URL");
            window.URL = window.webkitURL;
        }
        if (
            ((e.Plugins = s),
            e.on(e.Events.READER_INITIALIZED, function(t) {
                e.logEvent("READER_INITIALIZED", "ON", "globalsSetup.js");
                try {
                    s.initialize(t);
                } catch (e) {
                    console.error("Plugins failed to initialize:", e);
                }
                _.defer(function() {
                    e.logEvent("PLUGINS_LOADED", "EMIT", "globalsSetup.js"),
                        e.emit(e.Events.PLUGINS_LOADED, t);
                });
            }),
            window._RJS_isBrowser)
        ) {
            var l = window._RJS_pluginsList;
            console.log(
                "Plugins included: ",
                l.map(function(e) {
                    return e.replace("readium_plugin_", "");
                })
            ),
                require(l);
        } else
            setTimeout(function() {
                var e = Object.keys(s.getLoadedPlugins());
                console.log("Plugins included: ", e);
            }, 0);
    }),
    define("readium_shared_js", ["readium_shared_js/globalsSetup"], function(
        e
    ) {
        return e;
    }),
    define("readium_shared_js/models/bookmark_data", [], function() {
        var e = function(e, t) {
            var n = this;
            (this.idref = e),
                (this.contentCFI = t),
                (this.toString = function() {
                    return JSON.stringify(n);
                });
        };
        return (
            (e.fromString = function(t) {
                var n = JSON.parse(t);
                return new e(n.idref, n.contentCFI);
            }),
            e
        );
    }),
    define("readium_shared_js/models/current_pages_info", [], function() {
        return function(e, t) {
            (this.isRightToLeft = e.isRightToLeft()),
                (this.isFixedLayout = t),
                (this.spineItemCount = e.items.length),
                (this.openPages = []),
                (this.addOpenPage = function(e, t, n, r) {
                    this.openPages.push({
                        spineItemPageIndex: e,
                        spineItemPageCount: t,
                        idref: n,
                        spineItemIndex: r
                    }),
                        this.sort();
                }),
                (this.canGoLeft = function() {
                    return this.isRightToLeft
                        ? this.canGoNext()
                        : this.canGoPrev();
                }),
                (this.canGoRight = function() {
                    return this.isRightToLeft
                        ? this.canGoPrev()
                        : this.canGoNext();
                }),
                (this.canGoNext = function() {
                    if (0 == this.openPages.length) return !1;
                    var t = this.openPages[this.openPages.length - 1];
                    return (
                        t.spineItemIndex < e.last().index ||
                        t.spineItemPageIndex < t.spineItemPageCount - 1
                    );
                }),
                (this.canGoPrev = function() {
                    if (0 == this.openPages.length) return !1;
                    var t = this.openPages[0];
                    return (
                        e.first().index < t.spineItemIndex ||
                        0 < t.spineItemPageIndex
                    );
                }),
                (this.sort = function() {
                    this.openPages.sort(function(e, t) {
                        return e.spineItemIndex != t.spineItemIndex
                            ? e.spineItemIndex - t.spineItemIndex
                            : e.spineItemPageIndex - t.spineItemPageIndex;
                    });
                });
        };
    }),
    define("readium_shared_js/models/fixed_page_spread", [], function() {
        var e = function(t, n) {
            function r() {
                (s.leftItem = void 0),
                    (s.rightItem = void 0),
                    (s.centerItem = void 0);
            }
            function i(t, n) {
                n == e.POSITION_LEFT
                    ? (s.leftItem = t)
                    : n == e.POSITION_RIGHT
                        ? (s.rightItem = t)
                        : (n != e.POSITION_CENTER &&
                              console.error("Unrecognized position value"),
                          (s.centerItem = t));
            }
            function o(t) {
                return l
                    ? t.isLeftPage()
                        ? e.POSITION_LEFT
                        : t.isRightPage()
                            ? e.POSITION_RIGHT
                            : e.POSITION_CENTER
                    : e.POSITION_CENTER;
            }
            function a(e) {
                return e.isLeftPage()
                    ? s.spine.isRightToLeft()
                        ? s.spine.prevItem(e)
                        : s.spine.nextItem(e)
                    : e.isRightPage()
                        ? s.spine.isRightToLeft()
                            ? s.spine.nextItem(e)
                            : s.spine.prevItem(e)
                        : void 0;
            }
            var s = this;
            (this.spine = t),
                (this.leftItem = void 0),
                (this.rightItem = void 0),
                (this.centerItem = void 0);
            var l = n;
            (this.setSyntheticSpread = function(e) {
                l = e;
            }),
                (this.isSyntheticSpread = function() {
                    return l;
                }),
                (this.openFirst = function() {
                    0 == this.spine.items.length
                        ? r()
                        : this.openItem(this.spine.first());
                }),
                (this.openLast = function() {
                    0 == this.spine.items.length
                        ? r()
                        : this.openItem(this.spine.last());
                }),
                (this.openItem = function(t) {
                    r();
                    var n = o(t);
                    if (
                        (i(t, n),
                        n != e.POSITION_CENTER &&
                            this.spine.isValidLinearItem(t.index))
                    ) {
                        var s = a(t);
                        if (s) {
                            var l = o(s);
                            l != n &&
                                l != e.POSITION_CENTER &&
                                !s.isReflowable() &&
                                s.isRenditionSpreadAllowed() &&
                                i(s, l);
                        }
                    }
                }),
                (this.openNext = function() {
                    var e = this.validItems();
                    if (0 == e.length) this.openFirst();
                    else {
                        var t = this.spine.nextItem(e[e.length - 1]);
                        t && this.openItem(t);
                    }
                }),
                (this.openPrev = function() {
                    var e = this.validItems();
                    if (0 == e.length) this.openLast();
                    else {
                        var t = this.spine.prevItem(e[0]);
                        t && this.openItem(t);
                    }
                }),
                (this.validItems = function() {
                    var e = [];
                    return (
                        this.leftItem && e.push(this.leftItem),
                        this.rightItem && e.push(this.rightItem),
                        this.centerItem && e.push(this.centerItem),
                        e.sort(function(e, t) {
                            return e.index - t.index;
                        }),
                        e
                    );
                });
        };
        return (
            (e.POSITION_LEFT = "left"),
            (e.POSITION_RIGHT = "right"),
            (e.POSITION_CENTER = "center"),
            e
        );
    }),
    (function(e) {
        "function" == typeof define && define.amd
            ? define("jquerySizes", ["jquery"], e)
            : "object" == typeof module && module.exports
                ? (module.exports = function(t, n) {
                      return (
                          void 0 === n &&
                              (n =
                                  "undefined" != typeof window
                                      ? require("jquery")
                                      : require("jquery")(t)),
                          e(n),
                          n
                      );
                  })
                : e(jQuery);
    })(function(e) {
        "use strict";
        var t = function(e) {
            return parseInt(e, 10) || 0;
        };
        e.each(["min", "max"], function(n, r) {
            e.fn[r + "Size"] = function(e) {
                var n, i;
                return e
                    ? (void 0 !== e.width && this.css(r + "-width", e.width),
                      void 0 !== e.height && this.css(r + "-height", e.height),
                      this)
                    : ((n = this.css(r + "-width")),
                      (i = this.css(r + "-height")),
                      {
                          width:
                              ("max" === r &&
                                  (void 0 === n ||
                                      "none" === n ||
                                      -1 === t(n)) &&
                                  Number.MAX_VALUE) ||
                              t(n),
                          height:
                              ("max" === r &&
                                  (void 0 === i ||
                                      "none" === i ||
                                      -1 === t(i)) &&
                                  Number.MAX_VALUE) ||
                              t(i)
                      });
            };
        }),
            (e.fn.isVisible = function() {
                return this.is(":visible");
            }),
            e.each(["border", "margin", "padding"], function(n, r) {
                e.fn[r] = function(e) {
                    return e
                        ? (void 0 !== e.top &&
                              this.css(
                                  r + "-top" + ("border" === r ? "-width" : ""),
                                  e.top
                              ),
                          void 0 !== e.bottom &&
                              this.css(
                                  r +
                                      "-bottom" +
                                      ("border" === r ? "-width" : ""),
                                  e.bottom
                              ),
                          void 0 !== e.left &&
                              this.css(
                                  r +
                                      "-left" +
                                      ("border" === r ? "-width" : ""),
                                  e.left
                              ),
                          void 0 !== e.right &&
                              this.css(
                                  r +
                                      "-right" +
                                      ("border" === r ? "-width" : ""),
                                  e.right
                              ),
                          this)
                        : {
                              top: t(
                                  this.css(
                                      r +
                                          "-top" +
                                          ("border" === r ? "-width" : "")
                                  )
                              ),
                              bottom: t(
                                  this.css(
                                      r +
                                          "-bottom" +
                                          ("border" === r ? "-width" : "")
                                  )
                              ),
                              left: t(
                                  this.css(
                                      r +
                                          "-left" +
                                          ("border" === r ? "-width" : "")
                                  )
                              ),
                              right: t(
                                  this.css(
                                      r +
                                          "-right" +
                                          ("border" === r ? "-width" : "")
                                  )
                              )
                          };
                };
            });
    }),
    define("readium_shared_js/models/spine_item", [], function() {
        var e = function(t, n, r) {
            function i() {
                a.page_spread &&
                    a.page_spread != e.SPREAD_LEFT &&
                    a.page_spread != e.SPREAD_RIGHT &&
                    a.page_spread != e.SPREAD_CENTER &&
                    console.error(
                        a.page_spread + " is not a recognized spread type"
                    );
            }
            function o(e, t) {
                return a[e]
                    ? a[e] === t
                    : !!a.spine.package[e] && a.spine.package[e] === t;
            }
            var a = this;
            (this.idref = t.idref),
                (this.href = t.href),
                (this.cfi = t.cfi),
                (this.linear = t.linear ? t.linear.toLowerCase() : t.linear),
                (this.page_spread = t.page_spread),
                (this.rendition_viewport = t.rendition_viewport),
                (this.rendition_spread = t.rendition_spread),
                (this.rendition_orientation = t.rendition_orientation),
                (this.rendition_layout = t.rendition_layout),
                (this.rendition_flow = t.rendition_flow),
                (this.media_overlay_id = t.media_overlay_id),
                (this.media_type = t.media_type),
                (this.index = n),
                (this.spine = r),
                i(),
                (this.setSpread = function(e) {
                    (this.page_spread = e), i();
                }),
                (this.isRenditionSpreadAllowed = function() {
                    var t = a.getRenditionSpread();
                    return !t || t != e.RENDITION_SPREAD_NONE;
                }),
                (this.isLeftPage = function() {
                    return a.page_spread == e.SPREAD_LEFT;
                }),
                (this.isRightPage = function() {
                    return a.page_spread == e.SPREAD_RIGHT;
                }),
                (this.isCenterPage = function() {
                    return a.page_spread == e.SPREAD_CENTER;
                }),
                (this.isReflowable = function() {
                    return !a.isFixedLayout();
                }),
                (this.isFixedLayout = function() {
                    if (a.getRenditionLayout()) {
                        if (a.rendition_layout) {
                            if (
                                a.rendition_layout ===
                                e.RENDITION_LAYOUT_PREPAGINATED
                            )
                                return !0;
                            if (
                                a.rendition_layout ===
                                e.RENDITION_LAYOUT_REFLOWABLE
                            )
                                return !1;
                        }
                        return a.spine.package.isFixedLayout();
                    }
                    return a.media_type.indexOf("image/") >= 0;
                }),
                (this.getRenditionFlow = function() {
                    return a.rendition_flow
                        ? a.rendition_flow
                        : a.spine.package.rendition_flow;
                }),
                (this.getRenditionViewport = function() {
                    return a.rendition_viewport
                        ? a.rendition_viewport
                        : a.spine.package.rendition_viewport;
                }),
                (this.getRenditionSpread = function() {
                    return a.rendition_spread
                        ? a.rendition_spread
                        : a.spine.package.rendition_spread;
                }),
                (this.getRenditionOrientation = function() {
                    return a.rendition_orientation
                        ? a.rendition_orientation
                        : a.spine.package.rendition_orientation;
                }),
                (this.getRenditionLayout = function() {
                    return a.rendition_layout
                        ? a.rendition_layout
                        : a.spine.package.rendition_layout;
                }),
                (this.isFlowScrolledContinuous = function() {
                    return o(
                        "rendition_flow",
                        e.RENDITION_FLOW_SCROLLED_CONTINUOUS
                    );
                }),
                (this.isFlowScrolledDoc = function() {
                    return o("rendition_flow", e.RENDITION_FLOW_SCROLLED_DOC);
                });
        };
        return (
            (e.RENDITION_LAYOUT_REFLOWABLE = "reflowable"),
            (e.RENDITION_LAYOUT_PREPAGINATED = "pre-paginated"),
            (e.RENDITION_ORIENTATION_LANDSCAPE = "landscape"),
            (e.RENDITION_ORIENTATION_PORTRAIT = "portrait"),
            (e.RENDITION_ORIENTATION_AUTO = "auto"),
            (e.SPREAD_LEFT = "page-spread-left"),
            (e.SPREAD_RIGHT = "page-spread-right"),
            (e.SPREAD_CENTER = "page-spread-center"),
            (e.RENDITION_SPREAD_NONE = "none"),
            (e.RENDITION_SPREAD_LANDSCAPE = "landscape"),
            (e.RENDITION_SPREAD_PORTRAIT = "portrait"),
            (e.RENDITION_SPREAD_BOTH = "both"),
            (e.RENDITION_SPREAD_AUTO = "auto"),
            (e.RENDITION_FLOW_PAGINATED = "paginated"),
            (e.RENDITION_FLOW_SCROLLED_CONTINUOUS = "scrolled-continuous"),
            (e.RENDITION_FLOW_SCROLLED_DOC = "scrolled-doc"),
            (e.RENDITION_FLOW_AUTO = "auto"),
            (e.alternateSpread = function(t) {
                return t === e.SPREAD_LEFT
                    ? e.SPREAD_RIGHT
                    : t === e.SPREAD_RIGHT
                        ? e.SPREAD_LEFT
                        : t;
            }),
            e
        );
    }),
    define("readium_shared_js/helpers", [
        "./globals",
        "underscore",
        "jquery",
        "jquerySizes",
        "./models/spine_item",
        "URIjs"
    ], function(e, t, n, r, i, o) {
        !(function() {
            "use strict";
            if (window.performance) {
                if (window.performance.now) return;
                for (
                    var e = ["webkitNow", "mozNow", "msNow", "oNow"], t = 0;
                    t < e.length;
                    t++
                )
                    if (e[t] in window.performance)
                        return void (window.performance.now =
                            window.performance[e[t]]);
            } else window.performance = {};
            if (Date.now)
                return void (window.performance.now = function() {
                    return Date.now();
                });
            window.performance.now = function() {
                return +new Date();
            };
        })();
        var a = {};
        return (
            (a.getEbookUrlFilePath = function(e) {
                return window.Blob && window.File
                    ? e instanceof File
                        ? e.name
                        : e instanceof Blob
                            ? "readium-ebook.epub"
                            : e
                    : e;
            }),
            (a.getURLQueryParams = function(e) {
                var t = {},
                    n = e || window.location.search;
                if (n && n.length) {
                    n = n.substring(1);
                    for (var r = n.split("&"), i = 0; i < r.length; i++) {
                        var o = r[i].split("=");
                        o.length > 1 && (t[o[0]] = decodeURIComponent(o[1]));
                    }
                }
                return t;
            }),
            (a.buildUrlQueryParameters = function(e, n) {
                var r = new o(e || window.location),
                    i = r.search(),
                    s = r.hash(),
                    l = r
                        .search("")
                        .hash("")
                        .toString(),
                    u = "";
                for (var c in n)
                    if (n.hasOwnProperty(c) && n[c]) {
                        var d = n[c];
                        t.isString(d) && (d = d.trim()),
                            d &&
                                ((d = d.verbatim
                                    ? d.value
                                    : encodeURIComponent(d)),
                                console.debug(
                                    "URL QUERY PARAM OVERRIDE: " + c + " = " + d
                                ),
                                (u += c + "=" + d),
                                (u += "&"));
                    }
                var f = a.getURLQueryParams(i);
                for (var p in f)
                    if (f.hasOwnProperty(p) && f[p] && !n[p]) {
                        var h = f[p].trim();
                        h &&
                            (console.debug(
                                "URL QUERY PARAM PRESERVED: " + p + " = " + h
                            ),
                            (u += p + "=" + encodeURIComponent(h)),
                            (u += "&"));
                    }
                return (u = u.slice(0, -1)), l + "?" + u + s;
            }),
            (a.Rect = function(e, t, n, r) {
                (this.left = e),
                    (this.top = t),
                    (this.width = n),
                    (this.height = r),
                    (this.right = function() {
                        return this.left + this.width;
                    }),
                    (this.bottom = function() {
                        return this.top + this.height;
                    }),
                    (this.isOverlap = function(e, t) {
                        return (
                            void 0 == t && (t = 0),
                            !(
                                e.right() < this.left + t ||
                                e.left > this.right() - t ||
                                e.bottom() < this.top + t ||
                                e.top > this.bottom() - t
                            )
                        );
                    });
            }),
            (a.Rect.fromElement = function(e) {
                var n;
                (n = t.isArray(e) || e instanceof jQuery ? e[0] : e),
                    3 === n.nodeType && (n = e.parent()[0]);
                for (
                    var r = n.offsetLeft,
                        i = n.offsetTop,
                        o = n.offsetWidth,
                        s = n.offsetHeight;
                    (n = n.offsetParent);

                )
                    (r += n.offsetLeft), (i += n.offsetTop);
                return new a.Rect(r, i, o, s);
            }),
            (a.UpdateHtmlFontAttributes = function(e, r, i, o) {
                var a = n("head", e),
                    s = n("#readium_font_family_link", a);
                var l = 0,
                    u = function() {
                        if (0 != l) {
                            var t = n("style#readium-fontFamily", a);
                            if ((t && t[0] && a[0].removeChild(t[0]), 1 == l)) {
                                var s = e[0].ownerDocument.createElement(
                                    "style"
                                );
                                s.setAttribute("id", "readium-fontFamily"),
                                    s.appendChild(
                                        e[0].ownerDocument.createTextNode(
                                            'html * { font-family: "' +
                                                i.fontFamily +
                                                '" !important; }'
                                        )
                                    ),
                                    a[0].appendChild(s);
                            }
                        }
                        var u = r / 100,
                            c = e[0].ownerDocument.defaultView;
                        if (!c)
                            return void console.log(
                                "NIL $epubHtml[0].ownerDocument.defaultView"
                            );
                        for (
                            var d = n(
                                    "p, div, span, h1, h2, h3, h4, h5, h6, li, blockquote, td, pre, dt, dd, code, a",
                                    e
                                ),
                                f = 0;
                            f < d.length;
                            f++
                        ) {
                            var p = d[f],
                                h = p.getAttribute("data-original-font-size");
                            if (h) break;
                            var s = c.getComputedStyle(p),
                                m = parseInt(s.fontSize);
                            p.setAttribute("data-original-font-size", m);
                            var g = parseInt(s.lineHeight);
                            g && p.setAttribute("data-original-line-height", g);
                        }
                        for (var f = 0; f < d.length; f++) {
                            var p = d[f],
                                h = p.getAttribute("data-original-font-size"),
                                m = h ? Number(h) : 0;
                            m && n(p).css("font-size", m * u + "px");
                            var v = p.getAttribute("data-original-line-height"),
                                g = v ? Number(v) : 0;
                            g && n(p).css("line-height", g * u + "px");
                        }
                        e.css("font-size", r + "%");
                        o();
                    },
                    c = t.once(u);
                if (i.fontFamily && i.url) {
                    var d = s.length ? s.attr("data-fontfamily") : void 0;
                    s.length
                        ? d != i.fontFamily
                            ? ((l = 1),
                              s.attr({
                                  "data-fontfamily": i.fontFamily,
                                  href: i.url
                              }))
                            : (l = 0)
                        : ((l = 1),
                          setTimeout(function() {
                              (s = n("<link/>", {
                                  id: "readium_font_family_link",
                                  "data-fontfamily": i.fontFamily,
                                  rel: "stylesheet",
                                  type: "text/css"
                              })),
                                  a.append(s),
                                  s.attr({ href: i.url });
                          }, 0));
                } else (l = 2), s.length && s.remove();
                1 == l
                    ? setTimeout(function() {
                          c();
                      }, 100)
                    : c();
            }),
            (a.ResolveContentRef = function(e, t) {
                if (!t) return e;
                var n = t.split("/");
                n.pop();
                for (var r = e.split("/"); n.length > 0 && ".." === r[0]; )
                    n.pop(), r.splice(0, 1);
                return n.concat(r).join("/");
            }),
            (a.EndsWith = function(e, t) {
                return -1 !== e.indexOf(t, e.length - t.length);
            }),
            (a.BeginsWith = function(e, t) {
                return 0 === e.indexOf(t);
            }),
            (a.RemoveFromString = function(e, t) {
                var n = e.indexOf(t);
                return -1 == n
                    ? e
                    : e.substring(0, n) + e.substring(n + t.length);
            }),
            (a.Margins = function(e, t, n) {
                (this.margin = e),
                    (this.border = t),
                    (this.padding = n),
                    (this.left =
                        this.margin.left +
                        this.border.left +
                        this.padding.left),
                    (this.right =
                        this.margin.right +
                        this.border.right +
                        this.padding.right),
                    (this.top =
                        this.margin.top + this.border.top + this.padding.top),
                    (this.bottom =
                        this.margin.bottom +
                        this.border.bottom +
                        this.padding.bottom),
                    (this.width = function() {
                        return this.left + this.right;
                    }),
                    (this.height = function() {
                        return this.top + this.bottom;
                    });
            }),
            (a.triggerLayout = function(e) {
                var t = e[0].contentDocument;
                if (t) {
                    var n = void 0;
                    try {
                        if (
                            !(n =
                                t.styleSheets && t.styleSheets.length
                                    ? t.styleSheets[0]
                                    : void 0)
                        ) {
                            var r = t.createElement("style");
                            t.head.appendChild(r),
                                r.appendChild(t.createTextNode("")),
                                (n = r.sheet);
                        }
                        if (n) {
                            var i =
                                "body:first-child::before {content:'READIUM';color: red;font-weight: bold;}";
                            n.cssRules
                                ? n.insertRule(i, n.cssRules.length)
                                : n.insertRule(i, 0);
                        }
                    } catch (e) {
                        console.error(e);
                    }
                    try {
                        var o = t.createElementNS(
                            "http://www.w3.org/1999/xhtml",
                            "style"
                        );
                        o.appendChild(t.createTextNode("*{}")),
                            t.body.appendChild(o),
                            t.body.removeChild(o),
                            n &&
                                (n.cssRules
                                    ? n.deleteRule(n.cssRules.length - 1)
                                    : n.deleteRule(0));
                    } catch (e) {
                        console.error(e);
                    }
                    if (t.body) {
                        t.body.offsetTop;
                    }
                }
            }),
            (a.deduceSyntheticSpread = function(t, n, r) {
                if (!t || 0 == t.length) return 0;
                var o = n ? n.getRenditionSpread() : void 0;
                if (o === i.RENDITION_SPREAD_NONE) return !1;
                if ("double" == r.syntheticSpread) return !0;
                if ("single" == r.syntheticSpread) return !1;
                if (!n) return 0;
                if (o === i.RENDITION_SPREAD_BOTH) return !0;
                var s = a.getOrientation(t);
                if (o === i.RENDITION_SPREAD_LANDSCAPE)
                    return s === e.Views.ORIENTATION_LANDSCAPE;
                if (o === i.RENDITION_SPREAD_PORTRAIT)
                    return s === e.Views.ORIENTATION_PORTRAIT;
                if (!o || o === i.RENDITION_SPREAD_AUTO) {
                    return s === e.Views.ORIENTATION_LANDSCAPE ? 1 : 0;
                }
                return (
                    console.warn(
                        "Helpers.deduceSyntheticSpread: spread properties?!"
                    ),
                    0
                );
            }),
            (a.Margins.fromElement = function(e) {
                return new this(e.margin(), e.border(), e.padding());
            }),
            (a.Margins.empty = function() {
                return new this(
                    { left: 0, right: 0, top: 0, bottom: 0 },
                    { left: 0, right: 0, top: 0, bottom: 0 },
                    { left: 0, right: 0, top: 0, bottom: 0 }
                );
            }),
            (a.loadTemplate = function(e, t) {
                return a.loadTemplate.cache[e];
            }),
            (a.loadTemplate.cache = {
                fixed_book_frame:
                    '<div id="fixed-book-frame" class="clearfix book-frame fixed-book-frame"></div>',
                single_page_frame:
                    '<div><div id="scaler"><iframe enable-annotation="enable-annotation" allowfullscreen="allowfullscreen" scrolling="no" class="iframe-fixed"></iframe></div></div>',
                scrolled_book_frame:
                    '<div id="reflowable-book-frame" class="clearfix book-frame reflowable-book-frame"><div id="scrolled-content-frame"></div></div>',
                reflowable_book_frame:
                    '<div id="reflowable-book-frame" class="clearfix book-frame reflowable-book-frame"></div>',
                reflowable_book_page_frame:
                    '<div id="reflowable-content-frame" class="reflowable-content-frame"><iframe enable-annotation="enable-annotation" allowfullscreen="allowfullscreen" scrolling="no" id="epubContentIframe"></iframe></div>'
            }),
            (a.setStyles = function(e, t) {
                var r = e.length;
                if (r) {
                    for (
                        var i = "",
                            o = [],
                            a = !(!t || !t.createTextNode),
                            s = 0;
                        s < r;
                        s++
                    ) {
                        var l = e[s];
                        if (a) {
                            if (
                                l.selector &&
                                "" != l.selector &&
                                "html" != l.selector &&
                                "body" != l.selector &&
                                "*" != l.selector
                            ) {
                                var u = "";
                                for (var c in l.declarations)
                                    if (l.declarations.hasOwnProperty(c)) {
                                        var d = c.replace(/[A-Z]/g, function(
                                            e
                                        ) {
                                            return "-" + e.toLowerCase();
                                        });
                                        u +=
                                            d +
                                            ": " +
                                            l.declarations[c] +
                                            " !important; ";
                                    }
                                o.push({ selector: l.selector, cssProps: u });
                            } else
                                for (var c in l.declarations)
                                    if (l.declarations.hasOwnProperty(c)) {
                                        var d = c.replace(/[A-Z]/g, function(
                                            e
                                        ) {
                                            return "-" + e.toLowerCase();
                                        });
                                        i +=
                                            d +
                                            ": " +
                                            l.declarations[c] +
                                            " !important; ";
                                    }
                        } else
                            l.selector
                                ? n(l.selector, t).css(l.declarations)
                                : t.css(l.declarations);
                    }
                    if (a) {
                        var f = t,
                            p = n("style#readium-bookStyles", f.head);
                        p && p[0] && f.head.removeChild(p[0]);
                        var h = "";
                        if (
                            (i.length > 0 &&
                                (h +=
                                    " body, body::after, body::before, body *, body *::after, body *::before { " +
                                    i +
                                    " } "),
                            o.length > 0)
                        )
                            for (var s = 0; s < o.length; s++) {
                                var m = o[s];
                                h +=
                                    " " +
                                    m.selector +
                                    " { " +
                                    m.cssProps +
                                    " } ";
                            }
                        if (h.length > 0) {
                            var g = f.createElement("style");
                            g.setAttribute("id", "readium-bookStyles"),
                                g.appendChild(f.createTextNode(h)),
                                f.head.appendChild(g);
                        }
                    }
                }
            }),
            (a.isIframeAlive = function(e) {
                var t = void 0,
                    n = void 0;
                try {
                    (t = e.contentWindow), (n = e.contentDocument);
                } catch (e) {
                    return console.error(e), !1;
                }
                return t && n;
            }),
            (a.getOrientation = function(t) {
                var n = t.width(),
                    r = t.height();
                if (n && r)
                    return n >= r
                        ? e.Views.ORIENTATION_LANDSCAPE
                        : e.Views.ORIENTATION_PORTRAIT;
            }),
            (a.isRenditionSpreadPermittedForItem = function(t, n) {
                var r = t.getRenditionSpread();
                return (
                    !r ||
                    r == i.RENDITION_SPREAD_BOTH ||
                    r == i.RENDITION_SPREAD_AUTO ||
                    (r == i.RENDITION_SPREAD_LANDSCAPE &&
                        n == e.Views.ORIENTATION_LANDSCAPE) ||
                    (r == i.RENDITION_SPREAD_PORTRAIT &&
                        n == e.Views.ORIENTATION_PORTRAIT)
                );
            }),
            (a.CSSTransition = function(e, n) {
                var r = {};
                t.each(["", "-webkit-", "-moz-", "-ms-"], function(e) {
                    r[e + "transition"] = e + n;
                }),
                    e.css(r);
            }),
            (a.CSSTransformString = function(e) {
                var t,
                    n,
                    r,
                    i = !!e.enable3D,
                    o = e.origin;
                if (e.left || e.top) {
                    var a = e.left || 0,
                        s = e.top || 0;
                    t = i
                        ? "translate3D(" + a + "px, " + s + "px, 0)"
                        : "translate(" + a + "px, " + s + "px)";
                }
                if (
                    (e.scale &&
                        (n = i
                            ? "scale3D(" + e.scale + ", " + e.scale + ", 0)"
                            : "scale(" + e.scale + ")"),
                    e.angle &&
                        (r = i
                            ? "rotate3D(0,0," + e.angle + "deg)"
                            : "rotate(" + e.angle + "deg)"),
                    !(t || n || r))
                )
                    return {};
                var l = t && n ? t + " " + n : t || n;
                r && (l = l + " " + r);
                var u = {};
                return (
                    (u.transform = l),
                    (u["transform-origin"] = o || (i ? "0 0 0" : "0 0")),
                    u
                );
            }),
            (a.extendedThrottle = function(e, t, n, r, i, o) {
                r || (r = 250), i || (i = r);
                var a,
                    s,
                    l = !0;
                return function() {
                    var u = o || this,
                        c = (Date.now && Date.now()) || new Date().getTime(),
                        d = arguments;
                    (a && c < a + r) ||
                        ((a = c),
                        l ? (e.apply(u, d), (l = !1)) : t.apply(u, d)),
                        clearTimeout(s),
                        (s = setTimeout(function() {
                            (a = c), (l = !0), n.apply(u, d);
                        }, i));
                };
            }),
            (a.escapeJQuerySelector = function(e) {
                if (e) {
                    return e.replace(
                        /([;&,\.\+\*\~\?':"\!\^#$%@\[\]\(\)<=>\|\/\\{}`])/g,
                        "\\$1"
                    );
                }
            }),
            (a.polyfillCaretRangeFromPoint = function(e) {
                if (!e.caretRangeFromPoint)
                    if (e.caretPositionFromPoint)
                        e.caretRangeFromPoint = function(t, n) {
                            var r = e.createRange(),
                                i = e.caretPositionFromPoint(t, n);
                            return i
                                ? (i.offsetNode &&
                                      (r.setStart(i.offsetNode, i.offset),
                                      r.setEnd(i.offsetNode, i.offset)),
                                  r)
                                : null;
                        };
                    else if (
                        (e.body || e.createElement("body")).createTextRange
                    ) {
                        var t = {
                            convertToDOMRange: function(e, t) {
                                var n = function(e, n, r) {
                                        var i = t.createElement("a"),
                                            o = n.duplicate();
                                        o.collapse(r);
                                        var a = o.parentElement();
                                        do {
                                            a.insertBefore(
                                                i,
                                                i.previousSibling
                                            ),
                                                o.moveToElementText(i);
                                        } while (
                                            o.compareEndPoints(
                                                r
                                                    ? "StartToStart"
                                                    : "StartToEnd",
                                                n
                                            ) > 0 &&
                                            i.previousSibling
                                        );
                                        -1 ==
                                            o.compareEndPoints(
                                                r
                                                    ? "StartToStart"
                                                    : "StartToEnd",
                                                n
                                            ) && i.nextSibling
                                            ? (o.setEndPoint(
                                                  r ? "EndToStart" : "EndToEnd",
                                                  n
                                              ),
                                              e[r ? "setStart" : "setEnd"](
                                                  i.nextSibling,
                                                  o.text.length
                                              ))
                                            : e[
                                                  r
                                                      ? "setStartBefore"
                                                      : "setEndBefore"
                                              ](i),
                                            i.parentNode.removeChild(i);
                                    },
                                    r = t.createRange();
                                return n(r, e, !0), n(r, e, !1), r;
                            }
                        };
                        e.caretRangeFromPoint = function(n, r) {
                            for (
                                var i = e.body.createTextRange(), o = 40;
                                o;
                                o -= 4
                            )
                                try {
                                    return (
                                        i.moveToPoint(n, o + r - 40),
                                        t.convertToDOMRange(i, e)
                                    );
                                } catch (e) {}
                            try {
                                var a = e.elementFromPoint(n - 1, r - 1),
                                    s = e.createRange();
                                return s.setStartAfter(a), s;
                            } catch (e) {
                                return null;
                            }
                        };
                    }
            }),
            a
        );
    }),
    define("readium_shared_js/views/cfi_navigation_logic", [
        "jquery",
        "underscore",
        "../helpers",
        "readium_cfi_js"
    ], function(e, t, n, r) {
        return function(i) {
            function o() {
                return ie.getRootDocument().createRange();
            }
            function a(e) {
                var t = o();
                return t.selectNodeContents(e), t;
            }
            function s(e) {
                var t = o();
                return t.selectNode(e), k(t.getBoundingClientRect(), 0, 0);
            }
            function l(e) {
                var t = o();
                return (
                    t.selectNodeContents(e), k(t.getBoundingClientRect(), 0, 0)
                );
            }
            function u(e, t, n, r) {
                var i = o();
                return (
                    i.setStart(e, t || 0),
                    n.nodeType === Node.ELEMENT_NODE
                        ? i.setEnd(n, r || n.childNodes.length)
                        : n.nodeType === Node.TEXT_NODE && i.setEnd(n, r || 0),
                    i.collapsed
                        ? k(i.getClientRects()[0], 0, 0)
                        : k(i.getBoundingClientRect(), 0, 0)
                );
            }
            function c(e, n) {
                return (
                    (n = n || b()),
                    t.map(e.getClientRects(), function(e) {
                        return k(e, n.left, n.top);
                    })
                );
            }
            function d() {
                return i.frameDimensionsGetter
                    ? i.frameDimensionsGetter()
                    : (console.error(
                          "CfiNavigationLogic: No frame dimensions specified!"
                      ),
                      null);
            }
            function f(e, t, r) {
                return (
                    (r = r || ie.getRootDocument()),
                    n.polyfillCaretRangeFromPoint(r),
                    r.caretRangeFromPoint(e, t)
                );
            }
            function p() {
                return !!i.paginationInfo;
            }
            function h() {
                return i.paginationInfo && !!i.paginationInfo.rightToLeft;
            }
            function m() {
                return (
                    i.paginationInfo && !!i.paginationInfo.isVerticalWritingMode
                );
            }
            function g(e, t, n) {
                return (
                    (n = n || d()),
                    !!e &&
                        ((0 != e.left ||
                            0 != e.right ||
                            0 != e.top ||
                            0 != e.bottom) &&
                            (p() && !m()
                                ? (e.left >= 0 && e.left < n.width) ||
                                  (!t && e.left < 0 && e.right > 0)
                                : (e.top >= 0 && e.top < n.height) ||
                                  (!t && e.top < 0 && e.bottom > 0)))
                );
            }
            function v() {
                return !i.paginationInfo || m()
                    ? i.$iframe.width()
                    : i.paginationInfo.columnWidth + i.paginationInfo.columnGap;
            }
            function b() {
                return i.visibleContentOffsetsGetter
                    ? i.visibleContentOffsetsGetter()
                    : m() && i.paginationOffsetsGetter
                        ? i.paginationOffsetsGetter()
                        : { top: 0, left: 0 };
            }
            function y() {
                return i.paginationOffsetsGetter
                    ? i.paginationOffsetsGetter()
                    : { top: 0, left: 0 };
            }
            function _(e, t, n, r) {
                (n = n || b()), (r = r || d());
                var i = S(e, n);
                if (0 === i.length) return null;
                var o = 0;
                if (1 === i.length) {
                    var a = i[0];
                    p() && (a.bottom > r.height || a.top < 0) && P(a, !0, r),
                        g(a, !1, r) &&
                            (o =
                                t && a.top < 0
                                    ? Math.floor(
                                          (100 * (a.height + a.top)) / a.height
                                      )
                                    : t && a.bottom > r.height
                                        ? Math.floor(
                                              (100 * (r.height - a.top)) /
                                                  a.height
                                          )
                                        : t && a.left < 0 && a.right > 0
                                            ? Math.floor(
                                                  (100 * a.right) / a.width
                                              )
                                            : t && a.left < 0 && a.right > 0
                                                ? Math.floor(
                                                      (100 * a.right) / a.width
                                                  )
                                                : 100);
                } else
                    for (var s = 0, l = i.length; s < l; ++s)
                        if (g(i[s], !1, r)) {
                            o = t ? T(i, s) : 100;
                            break;
                        }
                return o;
            }
            function w(e) {
                var t = b(),
                    n = S(e, t);
                return 0 === n.length ? null : x(n);
            }
            function x(e, n, r) {
                var o = h(),
                    a = m();
                (r = r || v()), (n = n || d());
                var s = t.first(e);
                1 === e.length && P(s, !1, n, r, o, a);
                var l;
                if (a) {
                    var u = s.top;
                    l = Math.floor(u / n.height);
                } else {
                    var c = s.left;
                    o &&
                        (c =
                            r *
                                (i.paginationInfo
                                    ? i.paginationInfo.visibleColumnCount
                                    : 1) -
                            c),
                        (l = Math.floor(c / r));
                }
                return l;
            }
            function E(e, t, n) {
                return (
                    (t = t || b()), (n = n || d()), x([k(e, t.left, t.top)], n)
                );
            }
            function T(e, n) {
                var r = 0,
                    i = 0;
                return (
                    e.length > 1
                        ? t.each(e, function(e, t) {
                              (r += e.height), t >= n && (i += e.height);
                          })
                        : ((r = e[0].height),
                          (i = e[0].height - Math.max(0, -e[0].top))),
                    i === r ? 100 : Math.floor((100 * i) / r)
                );
            }
            function S(e, t) {
                t = t || {};
                var n,
                    r = t.left || 0,
                    i = t.top || 0,
                    a = e[0].nodeType === Node.TEXT_NODE;
                if (a) {
                    var s = o();
                    s.selectNode(e[0]), (n = s.getClientRects());
                } else n = e[0].getClientRects();
                for (var l = [], u = 0, c = n.length; u < c; ++u)
                    (n[u].height > 0 || 1 === n.length) &&
                        l.push(k(n[u], r, i));
                return l;
            }
            function C(e, t) {
                t = t || {};
                var n,
                    r = t.left || 0,
                    i = t.top || 0,
                    a = e[0].nodeType === Node.TEXT_NODE;
                if (a) {
                    var s = o();
                    s.selectNode(e[0]), (n = s.getBoundingClientRect());
                } else n = e[0].getBoundingClientRect();
                return k(n, r, i);
            }
            function k(e, t, n) {
                var r = {
                    left: e.left,
                    right: e.right,
                    top: e.top,
                    bottom: e.bottom,
                    width: e.right - e.left,
                    height: e.bottom - e.top
                };
                return (t = t || 0), (n = n || 0), I(r, t, n), r;
            }
            function I(e, t, n) {
                (e.left += t), (e.right += t), (e.top += n), (e.bottom += n);
            }
            function P(e, t, n, r, i, o) {
                if (
                    ((n = n || d()),
                    (r = r || v()),
                    (i = i || h()),
                    !(o = o || m()))
                ) {
                    for (i && (r *= -1); e.top < 0; ) I(e, -r, n.height);
                    if (t)
                        for (; e.bottom >= n.height && !g(e, !1, n); )
                            I(e, r, -n.height);
                }
            }
            function O(e, t) {
                var n = t / 100;
                return Math.round((e.endOffset - e.startOffset) * n);
            }
            function A(e, t) {
                if (e.endOffset - e.startOffset == 1) return [e];
                var n = O(e, t),
                    r = e.startContainer,
                    i = e.cloneRange();
                i.setStart(r, e.startOffset), i.setEnd(r, e.startOffset + n);
                var o = e.cloneRange();
                return (
                    o.setStart(r, e.startOffset + n),
                    o.setEnd(r, e.endOffset),
                    [i, o]
                );
            }
            function N(e, t, n, r) {
                n = n || b();
                var i = a(e),
                    o = c(i, n),
                    s = R(o, t([0, 1]));
                return M(A(i, s), n, t([0, 1]), s, function(e) {
                    return (m() ? e.height : e.width) && g(e, !1, r);
                });
            }
            function R(e, n) {
                var r = 0,
                    i = t.filter(e, function(e) {
                        return (m() ? e.height : e.width) && g(e, !1, d());
                    }),
                    o = j(i),
                    a = s - o,
                    s = j(e);
                return o === s
                    ? n
                        ? 55
                        : 45
                    : ((r = (o / s) * 100), a > o ? r + 5 : r - 5);
            }
            function D(e) {
                var n = e.sort(function(e, t) {
                        return e.top < t.top;
                    }),
                    r = [];
                t.each(n, function(e) {
                    var t = e.top;
                    if (r[t]) {
                        var n = r[t];
                        n.push(e.height), (r[t] = n);
                    } else r[t] = [e.height];
                });
            }
            function j(e) {
                var n = D(e),
                    r = 0;
                return (
                    t.each(n, function(e) {
                        r += Math.max.apply(null, e);
                    }),
                    r
                );
            }
            function M(e, t, n, r, i) {
                for (var o = 0, a = e; 1 !== a.length; ) {
                    o++;
                    a = L(c(a[n], t), i) ? A(a[n], r) : A(a[n ? 0 : 1], r);
                }
                oe &&
                    (console.debug(
                        "getVisibleTextRangeOffsets:getTextRangeOffset:runCount",
                        o
                    ),
                    window.top._DEBUG_visibleTextRangeOffsetsRuns.push(o));
                var s = a[0];
                return s && s.collapse(!n), s;
            }
            function L(e, n) {
                return !!t.filter(e, n).length;
            }
            function F(e, t, n, r) {
                if (!e) return null;
                var i = e.element,
                    o = e.textNode;
                if (o && K(o)) {
                    var a = N(o, t, n, r);
                    return a
                        ? B(a)
                        : (oe &&
                              console.warn(
                                  "findVisibleLeafNodeCfi: failed to find text range offset"
                              ),
                          null);
                }
                return ie.getCfiForElement(i);
            }
            function U(e, n) {
                return F(ie.findLastVisibleElement(e, n), t.last, e, n);
            }
            function z(e, n) {
                return F(ie.findFirstVisibleElement(e, n), t.first, e, n);
            }
            function B(e) {
                return e.collapsed &&
                    e.startContainer.nodeType === Node.TEXT_NODE
                    ? r.generateCharacterOffsetCFIComponent(
                          e.startContainer,
                          e.startOffset,
                          ["cfi-marker"],
                          [],
                          ["MathJax_Message", "MathJax_SVG_Hidden"]
                      )
                    : e.collapsed
                        ? ie.getCfiForElement(e.startContainer)
                        : r.generateRangeComponent(
                              e.startContainer,
                              e.startOffset,
                              e.endContainer,
                              e.endOffset,
                              ie.getClassBlacklist(),
                              ie.getElementBlacklist(),
                              ie.getIdBlacklist()
                          );
            }
            function V(e) {
                return "epubcfi(/99!" + e + ")";
            }
            function $(e) {
                return r.Interpreter.isRangeCfi(V(e));
            }
            function H(e) {
                return r.Interpreter.hasTextTerminus(V(e));
            }
            function q(e, t, n, i) {
                var o = ie.getRootDocument(),
                    a = V(e);
                try {
                    var s = r.getTargetElement(a, o, t, n, i);
                } catch (e) {}
                return s && 0 != s.length
                    ? s
                    : void console.log("Can't find element for CFI: " + e);
            }
            function W(t) {
                var n = ie.getLeafNodeElements(e(ie.getBodyElement())),
                    r = t(n),
                    i = t([!0, !1]),
                    a = o();
                return a.selectNodeContents(r[0]), a.collapse(i), B(a);
            }
            function G(e) {
                var n = e.className;
                n && void 0 !== n.animVal
                    ? (n = n.animVal)
                    : n && void 0 !== n.baseVal && (n = n.baseVal);
                var r = n ? n.split(" ") : [],
                    i = e.id,
                    o = ie.getClassBlacklist();
                return (
                    !(1 !== r.length || !t.contains(o, r[0])) ||
                    (!(!r.length || !t.intersection(o, r).length) ||
                        (!!(
                            i &&
                            i.length &&
                            t.contains(ie.getIdBlacklist(), i)
                        ) ||
                            !!t.contains(
                                ie.getElementBlacklist(),
                                e.tagName.toLowerCase()
                            )))
                );
            }
            function X(e) {
                return !!e && e.nodeType === Node.ELEMENT_NODE;
            }
            function K(e) {
                return !!e && (e.nodeType === Node.TEXT_NODE && J(e.nodeValue));
            }
            function J(e) {
                return !!e.trim().length;
            }
            function Q() {
                var e = this,
                    n = { leafNodeElements: !0, visibleLeafNodes: !1 };
                t.each(n, function(t, n) {
                    e[n] = new Map();
                }),
                    (this._invalidate = function() {
                        t.each(n, function(t, n) {
                            t || (e[n] = new Map());
                        });
                    });
            }
            function Y() {
                for (
                    var e = "0123456789ABCDEF".split(""), t = "#", n = 0;
                    n < 6;
                    n++
                )
                    t += e[Math.round(15 * Math.random())];
                return t;
            }
            function Z(t, n, r) {
                var i = Y();
                t instanceof Array || (t = [t]);
                for (var o = 0; o != t.length; o++) {
                    var a = t[o],
                        s = r.createElement("div");
                    (s.style.position = "absolute"),
                        e(s).css("z-index", "1000"),
                        e(s).css("pointer-events", "none"),
                        e(s).css("opacity", "0.4"),
                        (s.style.border = "1px solid white"),
                        n || i
                            ? i && !n
                                ? (s.style.background = i)
                                : (!0 === n && (n = "red"),
                                  (s.style.border = "1px dashed " + n),
                                  (s.style.background = "yellow"))
                            : (s.style.background = "purple"),
                        (s.style.margin = s.style.padding = "0"),
                        (s.style.top = a.top + "px"),
                        (s.style.left = a.left + "px"),
                        (s.style.width = a.width - 2 + "px"),
                        (s.style.height = a.height - 2 + "px"),
                        r.documentElement.appendChild(s),
                        le.push(e(s));
                }
            }
            function ee(e) {
                var t = y();
                Z(
                    {
                        left: e.left + t.left,
                        top: e.top + t.top,
                        width: e.width,
                        height: e.height
                    },
                    !0,
                    ie.getRootDocument()
                );
            }
            function te(e) {
                var t = u(
                    e.startContainer,
                    e.startOffset,
                    e.endContainer,
                    e.endOffset
                );
                return ee(t), t;
            }
            function ne(e) {
                ee(s(e));
            }
            function re() {
                t.each(le, function(e) {
                    e.remove();
                }),
                    (le = []);
            }
            var ie = this;
            i = i || {};
            var oe = ReadiumSDK.DEBUG_MODE;
            oe &&
                (window.top._DEBUG_visibleTextRangeOffsetsRuns =
                    window.top._DEBUG_visibleTextRangeOffsetsRuns || []),
                (this.getRootElement = function() {
                    return i.$iframe
                        ? i.$iframe[0].contentDocument.documentElement
                        : null;
                }),
                (this.getBodyElement = function() {
                    var e = this.getRootDocument();
                    return e && e.body ? e.body : this.getRootElement();
                }),
                (this.getClassBlacklist = function() {
                    return i.classBlacklist || [];
                }),
                (this.getIdBlacklist = function() {
                    return i.idBlacklist || [];
                }),
                (this.getElementBlacklist = function() {
                    return i.elementBlacklist || [];
                }),
                (this.getRootDocument = function() {
                    return i.$iframe ? i.$iframe[0].contentDocument : null;
                }),
                (this.getCfiForElement = function(e) {
                    var t = r.Generator.generateElementCFIComponent(
                        e,
                        this.getClassBlacklist(),
                        this.getElementBlacklist(),
                        this.getIdBlacklist()
                    );
                    return "!" == t[0] && (t = t.substring(1)), t;
                }),
                (this.getVisibleCfiFromPoint = function(e, t, n) {
                    var r = ie.getRootDocument(),
                        i = f(e, t, r),
                        a = r.elementFromPoint(e, t),
                        s = !a || a === r.documentElement;
                    if (n) {
                        if (!a || s) return null;
                        var u = l(a);
                        if (!g(u, !1)) return null;
                        if (
                            e < u.left ||
                            e > u.right ||
                            t < u.top ||
                            t > u.bottom
                        )
                            return null;
                    }
                    if (!i) {
                        if (s)
                            return (
                                console.error(
                                    "Could not generate CFI no visible element on page"
                                ),
                                null
                            );
                        (i = o()), i.selectNode(a);
                    }
                    var c,
                        d,
                        p,
                        h = i,
                        m = h.startContainer;
                    if (m.nodeType === Node.TEXT_NODE) {
                        if (n && m.parentNode !== a) return null;
                        1 === m.length && 1 === h.startOffset
                            ? ((d = 0), (p = 1))
                            : h.startOffset === m.length
                                ? ((d = h.startOffset - 1), (p = h.startOffset))
                                : ((d = h.startOffset),
                                  (p = h.startOffset + 1));
                        var v = {
                            startContainer: m,
                            endContainer: m,
                            startOffset: d,
                            endOffset: p,
                            commonAncestorContainer: h.commonAncestorContainer
                        };
                        oe && te(v), (c = B(v));
                    } else if (m.nodeType === Node.ELEMENT_NODE) {
                        if (
                            ((m =
                                h.startContainer.childNodes[h.startOffset] ||
                                h.startContainer.childNodes[0] ||
                                h.startContainer),
                            n && m !== a)
                        )
                            return null;
                        c =
                            m.nodeType !== Node.ELEMENT_NODE
                                ? B(h)
                                : ie.getCfiForElement(m);
                    } else {
                        if (n && m !== a) return null;
                        c = ie.getCfiForElement(a);
                    }
                    return c && -1 !== c.indexOf("NaN")
                        ? void console.log("Did not generate a valid CFI:" + c)
                        : c;
                }),
                (this.getRangeCfiFromPoints = function(e, t, n, r) {
                    var i = ie.getRootDocument(),
                        a = f(e, t, i),
                        s = f(n, r, i),
                        l = o();
                    return (
                        l.setStart(a.startContainer, a.startOffset),
                        l.setEnd(s.startContainer, s.startOffset),
                        a.startContainer === a.endContainer &&
                            a.startContainer.nodeType === Node.TEXT_NODE &&
                            s.startContainer.length > s.startOffset + 1 &&
                            l.setEnd(s.startContainer, s.startOffset + 1),
                        B(l)
                    );
                }),
                (this.getFirstVisibleCfi = function(e, t) {
                    return z(e, t);
                }),
                (this.getLastVisibleCfi = function(e, t) {
                    return U(e, t);
                }),
                (this.getDomRangeFromRangeCfi = function(e, t, n) {
                    var r = o();
                    if (t) {
                        if (ie.isRangeCfi(e)) {
                            var i = ie.getNodeRangeInfoFromCfi(e);
                            r.setStart(i.startInfo.node, i.startInfo.offset);
                        } else {
                            var a = ie.getElementByCfi(
                                e,
                                this.getClassBlacklist(),
                                this.getElementBlacklist(),
                                this.getIdBlacklist()
                            )[0];
                            r.setStart(a, 0);
                        }
                        if (ie.isRangeCfi(t)) {
                            var s = ie.getNodeRangeInfoFromCfi(t);
                            n
                                ? r.setEnd(s.endInfo.node, s.endInfo.offset)
                                : r.setEnd(
                                      s.startInfo.node,
                                      s.startInfo.offset
                                  );
                        } else {
                            var l = ie.getElementByCfi(
                                t,
                                this.getClassBlacklist(),
                                this.getElementBlacklist(),
                                this.getIdBlacklist()
                            )[0];
                            r.setEnd(l, l.childNodes.length);
                        }
                    } else if (ie.isRangeCfi(e)) {
                        var u = ie.getNodeRangeInfoFromCfi(e);
                        r.setStart(u.startInfo.node, u.startInfo.offset),
                            r.setEnd(u.endInfo.node, u.endInfo.offset);
                    } else {
                        var c = ie.getElementByCfi(
                            e,
                            this.getClassBlacklist(),
                            this.getElementBlacklist(),
                            this.getIdBlacklist()
                        )[0];
                        r.selectNode(c);
                    }
                    return r;
                }),
                (this.getRangeCfiFromDomRange = function(e) {
                    return B(e);
                }),
                (this.isRangeCfi = function(e) {
                    return $(e) || H(e);
                }),
                (this.getPageIndexDeltaForCfi = function(e, t, n, r) {
                    if (this.isRangeCfi(e)) {
                        return E(this.getNodeRangeInfoFromCfi(e).clientRect);
                    }
                    var i = q(e, t, n, r);
                    return i ? this.getPageIndexDeltaForElement(i) : -1;
                }),
                (this.getElementFromPoint = function(e, t) {
                    return ie.getRootDocument().elementFromPoint(e, t);
                }),
                (this.getNodeRangeInfoFromCfi = function(e) {
                    var t = ie.getRootDocument(),
                        n = V(e);
                    if ($(e)) {
                        try {
                            var i = r.Interpreter.getRangeTargetElements(
                                n,
                                t,
                                this.getClassBlacklist(),
                                this.getElementBlacklist(),
                                this.getIdBlacklist()
                            );
                            oe && console.log(i);
                        } catch (e) {}
                        if (!i)
                            return void console.log(
                                "Can't find nodes for range CFI: " + e
                            );
                        var o = { node: i.startElement, offset: i.startOffset },
                            a = { node: i.endElement, offset: i.endOffset },
                            s =
                                o && a
                                    ? u(o.node, o.offset, a.node, a.offset)
                                    : null;
                        return (
                            oe && (console.log(s), Z(s, "purple", t)),
                            { startInfo: o, endInfo: a, clientRect: s }
                        );
                    }
                    if (H(e)) {
                        try {
                            var l = r.Interpreter.getTextTerminusInfo(
                                n,
                                t,
                                this.getClassBlacklist(),
                                this.getElementBlacklist(),
                                this.getIdBlacklist()
                            );
                            oe && console.log(l);
                        } catch (e) {}
                        if (!l)
                            return void console.log(
                                "Can't find node for text term CFI: " + e
                            );
                        var c = { node: l.textNode, offset: l.textOffset },
                            d = u(c.node, c.offset, c.node, c.offset);
                        return (
                            oe && (console.log(d), Z(d, "purple", t)),
                            { startInfo: c, endInfo: c, clientRect: d }
                        );
                    }
                    return {
                        startInfo: null,
                        endInfo: null,
                        clientRect: C(
                            ie.getElementByCfi(
                                e,
                                this.getClassBlacklist(),
                                this.getElementBlacklist(),
                                this.getIdBlacklist()
                            ),
                            b()
                        )
                    };
                }),
                (this.isNodeFromRangeCfiVisible = function(e) {
                    var t = this.getNodeRangeInfoFromCfi(e);
                    return t ? g(t.clientRect, !1) : void 0;
                }),
                (this.getNearestCfiFromElement = function(n) {
                    var r,
                        i,
                        o,
                        a = t.filter(n.parentNode.childNodes, function(e) {
                            return e === n || K(e);
                        }),
                        s = a.indexOf(n),
                        l = a[s - 1];
                    if (
                        (l || ((l = a[s + 1]), (r = !0)),
                        l ||
                            (l = t.last(
                                this.getLeafNodeElements(
                                    e(n.previousElementSibling)
                                )
                            )) ||
                            ((r = !0),
                            (l = t.first(
                                this.getLeafNodeElements(
                                    e(n.nextElementSibling)
                                )
                            ))),
                        K(l)
                            ? ((i = l), (o = !0))
                            : (i = X(l)
                                  ? l
                                  : X(n.previousElementSibling)
                                      ? n.previousElementSibling
                                      : X(n.nextElementSibling)
                                          ? n.nextElementSibling
                                          : n.parentNode),
                        o)
                    ) {
                        var u = i.ownerDocument.createRange();
                        return (
                            u.selectNodeContents(i),
                            u.collapse(r),
                            this.getRangeCfiFromDomRange(u)
                        );
                    }
                    return this.getCfiForElement(i);
                }),
                (this.getElementByCfi = function(e, t, n, r) {
                    return q(e, t, n, r);
                }),
                (this.getPageIndexDeltaForElement = function(e) {
                    var t = w(e);
                    if (null === t) {
                        return w(
                            this.getElementByCfi(
                                this.getNearestCfiFromElement(e[0])
                            )
                        );
                    }
                    return t;
                }),
                (this.getElementById = function(t) {
                    var n = this.getRootDocument(),
                        r = e(n.getElementById(t));
                    if (0 != r.length) return r;
                }),
                (this.getPageIndexDeltaForElementId = function(e) {
                    var t = this.getElementById(e);
                    return t ? this.getPageIndexDeltaForElement(t) : -1;
                }),
                (this.getFirstVisibleMediaOverlayElement = function(t) {
                    function n(r) {
                        if (r && r.length)
                            for (var a = 0, s = r.length; a < s; a++) {
                                var l = r[a];
                                if (l) {
                                    var u = e(l);
                                    if (u.data("mediaOverlayData")) {
                                        var c = i.getElementVisibility(u, t);
                                        if (c && (o || (o = l), 100 == c))
                                            return l;
                                    } else {
                                        var d = n(l.children);
                                        if (d) return d;
                                    }
                                }
                            }
                    }
                    var r = e(this.getBodyElement());
                    if (r && r.length && r[0]) {
                        var i = this,
                            o = void 0,
                            a = n([r[0]]);
                        return a || (a = o), a;
                    }
                }),
                (this.getElementVisibility = function(e, t) {
                    return _(e, !0, t);
                }),
                (this.isElementVisible = this.getElementVisibility),
                (this.getVisibleElementsWithFilter = function(t, n) {
                    var r = this.getElementsWithFilter(
                        e(this.getBodyElement()),
                        n
                    );
                    return this.getVisibleElements(r, t);
                }),
                (this.getAllElementsWithFilter = function(t) {
                    return this.getElementsWithFilter(
                        e(this.getBodyElement()),
                        t
                    );
                }),
                (this.getAllVisibleElementsWithSelector = function(t, n) {
                    var r = e(t, this.getRootElement()),
                        i = [];
                    return (
                        e.each(r, function() {
                            i.push(e(this));
                        }),
                        this.getVisibleElements(i, n)
                    );
                }),
                (this.getVisibleElements = function(e, n, r) {
                    var i = [];
                    return (
                        t.each(e, function(e) {
                            var t = e[0].nodeType === Node.TEXT_NODE,
                                o = t ? e.parent() : e,
                                a = _(e, !0, n, r);
                            a &&
                                i.push({
                                    element: o[0],
                                    textNode: t ? e[0] : null,
                                    percentVisible: a
                                });
                        }),
                        i
                    );
                }),
                (this.getVisibleLeafNodes = function(t, n) {
                    if (se) {
                        var r =
                                (i.paginationInfo || {}).currentSpreadIndex ||
                                0,
                            o = ae.visibleLeafNodes.get(r);
                        if (o) return o;
                    }
                    var a = this.getLeafNodeElements(e(this.getBodyElement())),
                        s = this.getVisibleElements(a, t, n);
                    return se && ae.visibleLeafNodes.set(r, s), s;
                }),
                (this.getStartCfi = function() {
                    return W(t.first);
                }),
                (this.getEndCfi = function() {
                    return W(t.last);
                }),
                (this.getElementsWithFilter = function(t, n) {
                    function r(t) {
                        if (void 0 != t)
                            for (var o = 0, a = t.length; o < a; o++) {
                                var s = e(t[o]);
                                n(s) ? i.push(s) : r(s[0].children);
                            }
                    }
                    var i = [];
                    return r([t[0]]), i;
                }),
                (this.getLeafNodeElements = function(t) {
                    if (se) {
                        var n = ae.leafNodeElements.get(t);
                        if (n) return n;
                    }
                    for (
                        var r,
                            i = document.createNodeIterator(
                                t[0],
                                NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT,
                                function() {
                                    return NodeFilter.FILTER_ACCEPT;
                                },
                                !1
                            ),
                            o = [];
                        (r = i.nextNode());

                    ) {
                        if (
                            (r.nodeType === Node.ELEMENT_NODE &&
                                !r.childElementCount &&
                                !J(r.textContent)) ||
                            K(r)
                        ) {
                            G(
                                r.nodeType === Node.TEXT_NODE ? r.parentNode : r
                            ) || o.push(e(r));
                        }
                    }
                    return se && ae.leafNodeElements.set(t, o), o;
                }),
                (this.getElements = function(t) {
                    return t
                        ? e(t, this.getRootElement())
                        : e(this.getRootElement()).children();
                }),
                (this.getElement = function(e) {
                    var t = this.getElements(e);
                    if (t.length > 0) return t;
                });
            var ae = new Q(),
                se = !1;
            this.invalidateCache = function() {
                ae._invalidate();
            };
            var le = [];
            (ReadiumSDK._DEBUG_CfiNavigationLogic = {
                clearDebugOverlays: re,
                drawDebugOverlayFromRect: ee,
                drawDebugOverlayFromDomRange: te,
                drawDebugOverlayFromNode: ne,
                debugVisibleCfis: function() {
                    console.log(
                        JSON.stringify(
                            ReadiumSDK.reader.getPaginationInfo().openPages
                        )
                    );
                    var e = ReadiumSDK.reader.getFirstVisibleCfi(),
                        t = ReadiumSDK.reader.getDomRangeFromRangeCfi(e);
                    console.log(e, t, te(t));
                    var n = ReadiumSDK.reader.getLastVisibleCfi(),
                        r = ReadiumSDK.reader.getDomRangeFromRangeCfi(n);
                    console.log(n, r, te(r));
                },
                visibleTextRangeOffsetsRunsAvg: function() {
                    var e = window.top._DEBUG_visibleTextRangeOffsetsRuns;
                    return (
                        e.reduce(function(e, t) {
                            return e + t;
                        }) / e.length
                    );
                }
            }),
                (this.findFirstVisibleElement = function(t, n) {
                    var r = this.getBodyElement();
                    if (!r) return null;
                    for (
                        var i,
                            o,
                            a = 0,
                            s = document.createTreeWalker(
                                r,
                                NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT,
                                function(r) {
                                    return r.nodeType === Node.ELEMENT_NODE &&
                                        G(r)
                                        ? NodeFilter.FILTER_REJECT
                                        : (r.nodeType !== Node.TEXT_NODE ||
                                              K(r)) &&
                                          _(e(r), !0, t, n)
                                            ? NodeFilter.FILTER_ACCEPT
                                            : NodeFilter.FILTER_REJECT;
                                },
                                !1
                            );
                        s.nextNode();

                    ) {
                        var l = s.currentNode;
                        if (l.nodeType === Node.TEXT_NODE) {
                            (i = l.parentNode), (o = l), (a = 100);
                            break;
                        }
                        for (
                            var u = !1, c = !1, d = l.childNodes.length - 1;
                            d >= 0;
                            d--
                        ) {
                            var f = l.childNodes[d];
                            if (f.nodeType === Node.ELEMENT_NODE) {
                                u = !0;
                                break;
                            }
                            f.nodeType === Node.TEXT_NODE && (c = !0);
                        }
                        if (!u && c)
                            for (var d = l.childNodes.length - 1; d >= 0; d--) {
                                var f = l.childNodes[d];
                                if (f.nodeType === Node.TEXT_NODE && K(f)) {
                                    var p = _(e(f), !0, t, n);
                                    if (p) {
                                        (i = l), (o = f), (a = p);
                                        break;
                                    }
                                }
                            }
                        else if (!u) {
                            (i = l), (a = 100), (o = null);
                            break;
                        }
                    }
                    return i
                        ? { element: i, textNode: o, percentVisible: a }
                        : null;
                }),
                (this.findLastVisibleElement = function(t, n) {
                    var r = this.getBodyElement();
                    if (!r) return null;
                    for (
                        var i,
                            o,
                            a = 0,
                            s = document.createTreeWalker(
                                r,
                                NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT,
                                function(r) {
                                    return r.nodeType === Node.ELEMENT_NODE &&
                                        G(r)
                                        ? NodeFilter.FILTER_REJECT
                                        : (r.nodeType !== Node.TEXT_NODE ||
                                              K(r)) &&
                                          _(e(r), !0, t, n)
                                            ? NodeFilter.FILTER_ACCEPT
                                            : NodeFilter.FILTER_REJECT;
                                },
                                !1
                            );
                        s.lastChild();

                    );
                    do {
                        var l = s.currentNode;
                        if (l.nodeType === Node.TEXT_NODE) {
                            (i = l.parentNode), (o = l), (a = 100);
                            break;
                        }
                        for (
                            var u = !1, c = !1, d = l.childNodes.length - 1;
                            d >= 0;
                            d--
                        ) {
                            var f = l.childNodes[d];
                            if (f.nodeType === Node.ELEMENT_NODE) {
                                u = !0;
                                break;
                            }
                            f.nodeType === Node.TEXT_NODE && (c = !0);
                        }
                        if (!u && c)
                            for (var d = l.childNodes.length - 1; d >= 0; d--) {
                                var f = l.childNodes[d];
                                if (f.nodeType === Node.TEXT_NODE && K(f)) {
                                    var p = _(e(f), !0, t, n);
                                    if (p) {
                                        (i = l), (o = f), (a = p);
                                        break;
                                    }
                                }
                            }
                        else if (!u) {
                            (i = l), (a = 100), (o = null);
                            break;
                        }
                    } while (s.previousNode());
                    return i
                        ? { element: i, textNode: o, percentVisible: a }
                        : null;
                });
        };
    }),
    define("readium_shared_js/models/viewer_settings", [], function() {
        return function(e) {
            function t(e) {
                for (
                    var t = [], n = e.split(/[\s,;]+/), r = 0;
                    r < n.length;
                    r++
                ) {
                    var i = n[r].trim();
                    "" !== i && t.push(i);
                }
                return t;
            }
            function n(e, t, n) {
                void 0 !== t[e] && (r[e] = n ? n(t[e]) : t[e]);
            }
            var r = this;
            (this.syntheticSpread = "auto"),
                (this.fontSelection = 0),
                (this.fontSize = 100),
                (this.columnGap = 20),
                (this.columnMaxWidth = 700),
                (this.columnMinWidth = 400),
                (this.mediaOverlaysPreservePlaybackWhenScroll = !1),
                (this.mediaOverlaysSkipSkippables = !1),
                (this.mediaOverlaysEscapeEscapables = !0),
                (this.mediaOverlaysSkippables = []),
                (this.mediaOverlaysEscapables = []),
                (this.mediaOverlaysEnableClick = !0),
                (this.mediaOverlaysRate = 1),
                (this.mediaOverlaysVolume = 100),
                (this.mediaOverlaysSynchronizationGranularity = ""),
                (this.mediaOverlaysAutomaticPageTurn = !0),
                (this.enableGPUHardwareAccelerationCSS3D = !1),
                (this.pageTransition = -1),
                (this.scroll = "auto"),
                (this.update = function(e) {
                    n("columnGap", e),
                        n("columnMaxWidth", e),
                        n("columnMinWidth", e),
                        n("fontSize", e),
                        n("fontSelection", e),
                        n("mediaOverlaysPreservePlaybackWhenScroll", e),
                        n("mediaOverlaysSkipSkippables", e),
                        n("mediaOverlaysEscapeEscapables", e),
                        n("mediaOverlaysSkippables", e, t),
                        n("mediaOverlaysEscapables", e, t),
                        n("mediaOverlaysEnableClick", e),
                        n("mediaOverlaysRate", e),
                        n("mediaOverlaysVolume", e),
                        n("mediaOverlaysSynchronizationGranularity", e),
                        n("mediaOverlaysAutomaticPageTurn", e),
                        n("scroll", e),
                        n("syntheticSpread", e),
                        n("pageTransition", e),
                        n("enableGPUHardwareAccelerationCSS3D", e);
                }),
                this.update(e);
        };
    }),
    (function(e, t) {
        "function" == typeof define && define.amd
            ? define("ResizeSensor", t)
            : "object" == typeof exports
                ? (module.exports = t())
                : (e.ResizeSensor = t());
    })("undefined" != typeof window ? window : this, function() {
        function e(e, t) {
            var n = Object.prototype.toString.call(e),
                r =
                    "[object Array]" === n ||
                    "[object NodeList]" === n ||
                    "[object HTMLCollection]" === n ||
                    "[object Object]" === n ||
                    ("undefined" != typeof jQuery && e instanceof jQuery) ||
                    ("undefined" != typeof Elements && e instanceof Elements),
                i = 0,
                o = e.length;
            if (r) for (; i < o; i++) t(e[i]);
            else t(e);
        }
        function t(e) {
            if (!e.getBoundingClientRect)
                return { width: e.offsetWidth, height: e.offsetHeight };
            var t = e.getBoundingClientRect();
            return { width: Math.round(t.width), height: Math.round(t.height) };
        }
        if ("undefined" == typeof window) return null;
        var n =
                window.requestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                function(e) {
                    return window.setTimeout(e, 20);
                },
            r = function(i, o) {
                function a() {
                    var e = [];
                    this.add = function(t) {
                        e.push(t);
                    };
                    var t, n;
                    (this.call = function(r) {
                        for (t = 0, n = e.length; t < n; t++)
                            e[t].call(this, r);
                    }),
                        (this.remove = function(r) {
                            var i = [];
                            for (t = 0, n = e.length; t < n; t++)
                                e[t] !== r && i.push(e[t]);
                            e = i;
                        }),
                        (this.length = function() {
                            return e.length;
                        });
                }
                function s(e, r) {
                    if (e) {
                        if (e.resizedAttached)
                            return void e.resizedAttached.add(r);
                        (e.resizedAttached = new a()),
                            e.resizedAttached.add(r),
                            (e.resizeSensor = document.createElement("div")),
                            (e.resizeSensor.dir = "ltr"),
                            (e.resizeSensor.className = "resize-sensor");
                        var i =
                                "position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%",
                            o =
                                "position: absolute; left: 0; top: 0; transition: 0s;";
                        (e.resizeSensor.style.cssText = i),
                            (e.resizeSensor.innerHTML =
                                '<div class="resize-sensor-expand" style="' +
                                i +
                                '"><div style="' +
                                o +
                                '" class="resize-sensor-inner"></div></div><div class="resize-sensor-shrink" style="' +
                                i +
                                '"><div style="' +
                                o +
                                ' width: 200%; height: 200%" class="resize-sensor-inner"></div></div>'),
                            e.appendChild(e.resizeSensor);
                        var s = window.getComputedStyle(e),
                            l = s ? s.getPropertyValue("position") : null;
                        "absolute" !== l &&
                            "relative" !== l &&
                            "fixed" !== l &&
                            (e.style.position = "relative");
                        var u,
                            c,
                            d,
                            f = e.resizeSensor.childNodes[0],
                            p = f.childNodes[0],
                            h = e.resizeSensor.childNodes[1],
                            m = t(e),
                            g = m.width,
                            v = m.height,
                            b = !0,
                            y = function() {
                                (p.style.width = "100000px"),
                                    (p.style.height = "100000px"),
                                    (f.scrollLeft = 1e5),
                                    (f.scrollTop = 1e5),
                                    (h.scrollLeft = 1e5),
                                    (h.scrollTop = 1e5);
                            },
                            _ = function() {
                                if (b) {
                                    if (!f.scrollTop && !f.scrollLeft)
                                        return (
                                            y(),
                                            void (
                                                d ||
                                                (d = n(function() {
                                                    (d = 0), _();
                                                }))
                                            )
                                        );
                                    b = !1;
                                }
                                y();
                            };
                        e.resizeSensor.resetSensor = _;
                        var w = function() {
                                (c = 0),
                                    u &&
                                        ((g = m.width),
                                        (v = m.height),
                                        e.resizedAttached &&
                                            e.resizedAttached.call(m));
                            },
                            x = function() {
                                (m = t(e)),
                                    (u = m.width !== g || m.height !== v),
                                    u && !c && (c = n(w)),
                                    _();
                            },
                            E = function(e, t, n) {
                                e.attachEvent
                                    ? e.attachEvent("on" + t, n)
                                    : e.addEventListener(t, n);
                            };
                        E(f, "scroll", x), E(h, "scroll", x), n(_);
                    }
                }
                var l;
                "undefined" != typeof ResizeObserver
                    ? ((l = new ResizeObserver(function(t) {
                          e(t, function(e) {
                              o.call(this, {
                                  width: e.contentRect.width,
                                  height: e.contentRect.height
                              });
                          });
                      })),
                      void 0 !== i &&
                          e(i, function(e) {
                              l.observe(e);
                          }))
                    : e(i, function(e) {
                          s(e, o);
                      }),
                    (this.detach = function(t) {
                        "undefined" != typeof ResizeObserver
                            ? e(i, function(e) {
                                  l.unobserve(e);
                              })
                            : r.detach(i, t);
                    }),
                    (this.reset = function() {
                        i.resizeSensor.resetSensor();
                    });
            };
        return (
            (r.reset = function(t, n) {
                e(t, function(e) {
                    e.resizeSensor.resetSensor();
                });
            }),
            (r.detach = function(t, n) {
                e(t, function(e) {
                    e &&
                        ((e.resizedAttached &&
                            "function" == typeof n &&
                            (e.resizedAttached.remove(n),
                            e.resizedAttached.length())) ||
                            (e.resizeSensor &&
                                (e.contains(e.resizeSensor) &&
                                    e.removeChild(e.resizeSensor),
                                delete e.resizeSensor,
                                delete e.resizedAttached)));
                });
            }),
            r
        );
    }),
    define("readium_shared_js/views/one_page_view", [
        "../globals",
        "jquery",
        "underscore",
        "eventEmitter",
        "./cfi_navigation_logic",
        "../helpers",
        "../models/viewer_settings",
        "../models/bookmark_data",
        "ResizeSensor"
    ], function(e, t, n, r, i, o, a, s, l) {
        var u = function(c, d, f, p) {
            function h(e) {
                if (e) {
                    j = !0;
                    var n = k[0].contentDocument;
                    (T = t("html", n)),
                        T && 0 != T.length
                            ? ((S = t("body", T)), U || S.css("margin", "0"))
                            : ((T = t("svg", n)), (S = void 0)),
                        U && O.applyBookStyles(),
                        b(),
                        m(),
                        F.onIFrameLoad();
                }
            }
            function m() {
                if (S && U) {
                    var n = S[0];
                    if (n.resizeSensor) return;
                    (M.width = t(n).width()),
                        (M.height = t(n).height()),
                        (n.resizeSensor = new l(n, function() {
                            var r = {
                                width: t(n).width(),
                                height: t(n).height()
                            };
                            if (
                                (console.debug(
                                    "OnePageView content resized ...",
                                    r.width,
                                    r.height,
                                    I.idref
                                ),
                                r.width != M.width || r.height != M.height)
                            ) {
                                (M.width = r.width),
                                    (M.height = r.height),
                                    console.debug("... updating pagination.");
                                var i = A.package.resolveRelativeUrl(I.href);
                                e.logEvent(
                                    "OnePageView.Events.CONTENT_SIZE_CHANGED",
                                    "EMIT",
                                    "one_page_view.js [ " +
                                        I.href +
                                        " -- " +
                                        i +
                                        " ]"
                                ),
                                    O.emit(u.Events.CONTENT_SIZE_CHANGED, k, I);
                            } else console.debug("... ignored (identical dimensions).");
                        }));
                }
            }
            function g() {
                if (U && T && B) {
                    var e = B.fontSelection,
                        t =
                            !p.fonts ||
                            !p.fonts.length ||
                            e <= 0 ||
                            e - 1 >= p.fonts.length,
                        n = t ? {} : p.fonts[e - 1];
                    o.UpdateHtmlFontAttributes(T, B.fontSize, n, function() {});
                }
            }
            function v() {
                if (!k || !k.length) return 0;
                if (o.isIframeAlive(k[0])) {
                    var e = k[0].contentWindow,
                        t = k[0].contentDocument;
                    return Math.round(
                        parseFloat(e.getComputedStyle(t.documentElement).height)
                    );
                }
                if (T) {
                    console.error("getContentDocHeight ??");
                    return T.height();
                }
                return 0;
            }
            function b() {
                if (((z.width = 0), (z.height = 0), !U)) {
                    var e = void 0,
                        n = void 0,
                        r = void 0,
                        i = k[0].contentDocument,
                        o = t("meta[name=viewport]", i).attr("content");
                    if (
                        (o || (o = t("meta[name=viewbox]", i).attr("content")),
                        o && (e = _(o)),
                        !e &&
                            i &&
                            i.documentElement &&
                            i.documentElement.nodeName &&
                            "svg" == i.documentElement.nodeName.toLowerCase())
                    ) {
                        var a = void 0,
                            s = void 0,
                            l = i.documentElement.getAttribute("width"),
                            u = l && l.length >= 1 && "%" == l[l.length - 1];
                        if (l)
                            try {
                                a = parseInt(l, 10);
                            } catch (e) {}
                        a && u && ((n = a), (a = void 0));
                        var c = i.documentElement.getAttribute("height"),
                            d = c && c.length >= 1 && "%" == c[c.length - 1];
                        if (c)
                            try {
                                s = parseInt(c, 10);
                            } catch (e) {}
                        s && d && ((r = s), (s = void 0)),
                            a && s && (e = { width: a, height: s });
                    }
                    if (
                        (!e &&
                            I &&
                            (o = I.getRenditionViewport()) &&
                            (e = _(o)) &&
                            console.log(
                                "Viewport: using rendition:viewport dimensions"
                            ),
                        !e)
                    ) {
                        var f = t(i).find("img");
                        if (f.length > 0) {
                            e = { width: f.width(), height: f.height() };
                            (I &&
                                I.media_type &&
                                I.media_type.length &&
                                0 == I.media_type.indexOf("image/")) ||
                                console.warn("Viewport: using img dimensions!");
                        } else if (((f = t(i).find("image")), f.length > 0)) {
                            var a = void 0,
                                s = void 0,
                                l = f[0].getAttribute("width");
                            if (l)
                                try {
                                    a = parseInt(l, 10);
                                } catch (e) {}
                            var c = f[0].getAttribute("height");
                            if (c)
                                try {
                                    s = parseInt(c, 10);
                                } catch (e) {}
                            a &&
                                s &&
                                ((e = { width: a, height: s }),
                                !0,
                                console.warn(
                                    "Viewport: using image dimensions!"
                                ));
                        }
                    }
                    if (!e) {
                        (a = D.width()), (s = D.height());
                        t("iframe.iframe-fixed", D).length > 1 && (a *= 0.5),
                            n && (a *= n / 100),
                            r && (s *= r / 100),
                            (e = { width: a, height: s }),
                            !0,
                            console.warn(
                                "Viewport: using browser / e-reader viewport dimensions!"
                            );
                    }
                    e && ((z.width = e.width), (z.height = e.height));
                }
            }
            function y(t) {
                t &&
                    (e.logEvent(
                        "CONTENT_DOCUMENT_UNLOADED",
                        "EMIT",
                        "one_page_view.js [ " + t.href + " ]"
                    ),
                    O.emit(e.Events.CONTENT_DOCUMENT_UNLOADED, k, t));
            }
            function _(e) {
                for (
                    var t = e.replace(/\s/g, "").split(","), n = {}, r = 0;
                    r < t.length;
                    r++
                ) {
                    var i = t[r].split("=");
                    2 == i.length && (n[i[0]] = i[1]);
                }
                var o = Number.NaN,
                    a = Number.NaN;
                if (
                    (n.width && (o = parseInt(n.width)),
                    n.height && (a = parseInt(n.height)),
                    !isNaN(o) && !isNaN(a))
                )
                    return { width: o, height: a };
            }
            function w() {
                return { top: -C.parent().scrollTop(), left: 0 };
            }
            function x() {
                if (p.needsFixedLayoutScalerWorkAround()) {
                    var e = C.parent()[0];
                    return { width: e.clientWidth, height: e.clientHeight };
                }
                return { width: z.width, height: z.height };
            }
            function E(e) {
                return I ? new s(I.idref, e) : null;
            }
            t.extend(this, new r());
            var T,
                S,
                C,
                k,
                I,
                P,
                O = this,
                A = c.spine,
                N = c.iframeLoader,
                R = c.bookStyles,
                D = c.$viewport,
                j = !1,
                M = { width: void 0, height: void 0 },
                L = function(e) {
                    var t = function(e, t) {
                            (this.begin = e), (this.end = t);
                        },
                        n = new t(
                            function(e, t, n, r, i, o, a) {
                                r.css("opacity", "0");
                            },
                            function(e, t, n, r, i, a, s) {
                                r.css("transform", "none"),
                                    o.CSSTransition(
                                        r,
                                        "opacity 150ms ease-out"
                                    ),
                                    r.css("opacity", "1");
                            }
                        ),
                        r = new t(
                            function(e, t, n, r, i, a, s) {
                                r.css("opacity", "0");
                                var l = Math.ceil(i * e),
                                    u = 0.8 * l * (2 === s ? 1 : -1),
                                    c = o.CSSTransformString({
                                        left: Math.round(u),
                                        origin: "50% 50% 0",
                                        enable3D: f
                                    });
                                r.css(c);
                            },
                            function(e, t, n, r, i, a, s) {
                                r.css("opacity", "1"),
                                    o.CSSTransition(
                                        r,
                                        "transform 150ms ease-out"
                                    ),
                                    r.css("transform", "none");
                            }
                        ),
                        i = new t(
                            function(e, t, n, r, i, a, s) {
                                r.css("opacity", "0");
                                var l = Math.ceil(i * e),
                                    u = 1.7 * l * (2 === s ? 1 : -1),
                                    c = o.CSSTransformString({
                                        left: Math.round(u),
                                        angle: 30 * (2 === s ? -1 : 1),
                                        origin: "50% 50% 0",
                                        enable3D: f
                                    });
                                r.css(c);
                            },
                            function(e, t, n, r, i, a, s) {
                                r.css("opacity", "1"),
                                    o.CSSTransition(
                                        r,
                                        "transform 300ms ease-in-out"
                                    ),
                                    r.css("transform", "none");
                            }
                        ),
                        s = new t(
                            function(e, t, n, r, i, a, s) {
                                r.css("opacity", "0");
                                for (
                                    var l = !1, u = !1, c = 0;
                                    c < d.length;
                                    c++
                                ) {
                                    var p = d[c].toLowerCase();
                                    if (p.indexOf("left") >= 0) {
                                        l = !0;
                                        break;
                                    }
                                    if (p.indexOf("right") >= 0) {
                                        !0;
                                        break;
                                    }
                                    if (p.indexOf("center") >= 0) {
                                        u = !0;
                                        break;
                                    }
                                }
                                var h = Math.ceil(i * e),
                                    m =
                                        0.5 *
                                        h *
                                        (l || (u && 1 === s) ? 1 : -1),
                                    g = o.CSSTransformString({
                                        scale: 0.2,
                                        left: Math.round(m),
                                        angle:
                                            30 * (l || (u && 1 === s) ? 1 : -1),
                                        origin: "50% 50% 0",
                                        enable3D: f
                                    });
                                r.css(g);
                            },
                            function(e, t, n, r, i, a, s) {
                                r.css("opacity", "1"),
                                    o.CSSTransition(
                                        r,
                                        "transform 400ms ease-out"
                                    ),
                                    r.css("transform", "none");
                            }
                        ),
                        l = [];
                    l.push(n), l.push(r), l.push(i), l.push(s);
                    var u = e.disablePageTransitions || !1;
                    u = !0;
                    var c = -1,
                        f = new a({}).enableGPUHardwareAccelerationCSS3D,
                        p = void 0;
                    (this.updateOptions = function(e) {
                        p = e;
                        var t = p;
                        (t &&
                            void 0 !== t.enableGPUHardwareAccelerationCSS3D) ||
                            (t = new a({})),
                            t.enableGPUHardwareAccelerationCSS3D && (f = !0),
                            null !== e.pageTransition &&
                                void 0 !== e.pageTransition &&
                                (c = e.pageTransition);
                    }),
                        this.updateOptions(e);
                    var h = 0,
                        m = !1,
                        g = !1;
                    (this.updatePageSwitchDir = function(e, t) {
                        g || ((h = e), (m = t));
                    }),
                        (this.onIFrameLoad = function() {
                            g = !0;
                        }),
                        (this.transformContentImmediate_BEGIN = function(
                            e,
                            t,
                            n,
                            r
                        ) {
                            var i = m || g;
                            if (
                                ((g = !1),
                                !u &&
                                    -1 !== c &&
                                    (o.CSSTransition(e, "all 0 ease 0"), i))
                            ) {
                                var a = c >= 0 && c < l.length ? l[c] : void 0;
                                0 !== h && a
                                    ? a.begin(
                                          t,
                                          n,
                                          r,
                                          e,
                                          O.meta_width(),
                                          O.meta_height(),
                                          h
                                      )
                                    : e.css("opacity", "0");
                            }
                        }),
                        (this.transformContentImmediate_END = function(
                            e,
                            t,
                            n,
                            r
                        ) {
                            if (u || -1 === c)
                                return void e.css("transform", "none");
                            setTimeout(function() {
                                var i = c >= 0 && c < l.length ? l[c] : void 0;
                                0 !== h && i
                                    ? i.end(
                                          t,
                                          n,
                                          r,
                                          e,
                                          O.meta_width(),
                                          O.meta_height(),
                                          h
                                      )
                                    : (e.css("transform", "none"),
                                      o.CSSTransition(
                                          e,
                                          "opacity 250ms linear"
                                      ),
                                      e.css("opacity", "1"));
                            }, 10);
                        });
                },
                F = new L(c),
                U = f || !1,
                z = { width: 0, height: 0 };
            (this.element = function() {
                return C;
            }),
                (this.meta_height = function() {
                    return z.height;
                }),
                (this.meta_width = function() {
                    return z.width;
                }),
                (this.isDisplaying = function() {
                    return j;
                }),
                (this.render = function() {
                    var e = o.loadTemplate("single_page_frame", {});
                    (C = t(e)),
                        (P = t("#scaler", C)),
                        o.CSSTransition(C, "all 0 ease 0"),
                        C.css("transform", "none");
                    var n = p.viewerSettings();
                    (n && void 0 !== n.enableGPUHardwareAccelerationCSS3D) ||
                        (n = new a({})),
                        n.enableGPUHardwareAccelerationCSS3D &&
                            C.css("transform", "translateZ(0)"),
                        C.css("height", "100%"),
                        C.css("width", "100%");
                    for (var r = 0, i = d.length; r < i; r++) C.addClass(d[r]);
                    return (k = t("iframe", C)), this;
                }),
                (this.decorateIframe = function() {
                    k &&
                        k.length &&
                        (k.css("border-bottom", "1px dashed silver"),
                        k.css("border-top", "1px dashed silver"));
                }),
                (this.remove = function() {
                    this.clear(),
                        (I = void 0),
                        C && C[0] && C.remove(),
                        (C = void 0),
                        (P = void 0),
                        (k = void 0);
                }),
                (this.clear = function() {
                    (j = !1), k && k[0] && (k[0].src = "");
                }),
                (this.currentSpineItem = function() {
                    return I;
                });
            var B = void 0;
            (this.setViewSettings = function(e, t) {
                (B = e),
                    U && !t && O.applyBookStyles(),
                    b(),
                    F.updateOptions(e);
            }),
                (this.applyBookStyles = function() {
                    U && T && (o.setStyles(R.getStyles(), T), g());
                }),
                (this.scaleToWidth = function(e) {
                    if (!(U || z.width <= 0)) {
                        var t = e / z.width;
                        O.transformContentImmediate(t, 0, 0);
                    }
                }),
                (this.resizeIFrameToContent = function() {
                    var e = v();
                    O.setHeight(e), O.showIFrame();
                }),
                (this.setHeight = function(e) {
                    P.css("height", e + "px"), C.css("height", e + "px");
                });
            (this.showIFrame = function() {
                k.css("visibility", "visible"), k.css("transform", "none");
                var e = B;
                (e && void 0 !== e.enableGPUHardwareAccelerationCSS3D) ||
                    (e = new a({})),
                    e.enableGPUHardwareAccelerationCSS3D &&
                        (!0, k.css("transform", "translateZ(0)"));
            }),
                (this.hideIFrame = function() {
                    k.css("visibility", "hidden");
                    var e = !1,
                        t = B;
                    (t && void 0 !== t.enableGPUHardwareAccelerationCSS3D) ||
                        (t = new a({})),
                        t.enableGPUHardwareAccelerationCSS3D && (e = !0);
                    var n = o.CSSTransformString({
                        left: "10000",
                        top: "10000",
                        enable3D: e
                    });
                    k.css(n);
                }),
                (this.updatePageSwitchDir = function(e, t) {
                    F.updatePageSwitchDir(e, t);
                }),
                (this.transformContentImmediate = function(e, t, n) {
                    if (!U) {
                        var r = Math.ceil(z.width * e),
                            i = Math.floor(z.height * e);
                        if (
                            (F.transformContentImmediate_BEGIN(C, e, t, n),
                            C.css("left", t + "px"),
                            C.css("top", n + "px"),
                            C.css("width", r + "px"),
                            C.css("height", i + "px"),
                            T)
                        ) {
                            var s = !1,
                                l = B;
                            if (
                                ((l &&
                                    void 0 !==
                                        l.enableGPUHardwareAccelerationCSS3D) ||
                                    (l = new a({})),
                                l.enableGPUHardwareAccelerationCSS3D &&
                                    (s = !0),
                                S && p.needsFixedLayoutScalerWorkAround())
                            ) {
                                var u = o.CSSTransformString({
                                    scale: e,
                                    enable3D: s
                                });
                                (u["min-width"] = z.width),
                                    (u["min-height"] = z.height),
                                    T.css(u),
                                    S &&
                                        S.length &&
                                        S.css({
                                            width: z.width,
                                            height: z.height
                                        });
                                var c = o.CSSTransformString({
                                    scale: 1,
                                    enable3D: s
                                });
                                (c.width = z.width * e),
                                    (c.height = z.height * e),
                                    P.css(c);
                            } else {
                                var d = o.CSSTransformString({
                                    scale: e,
                                    enable3D: s
                                });
                                (d.width = z.width),
                                    (d.height = z.height),
                                    P.css(d);
                            }
                            T.css("opacity", "0.999"),
                                O.showIFrame(),
                                setTimeout(function() {
                                    T.css("opacity", "1");
                                }, 0),
                                F.transformContentImmediate_END(C, e, t, n);
                        }
                    }
                }),
                (this.getCalculatedPageHeight = function() {
                    return C.height();
                }),
                (this.transformContent = n.bind(
                    n.debounce(this.transformContentImmediate, 50),
                    O
                )),
                (this.onUnload = function() {
                    y(I);
                }),
                (this.loadSpineItem = function(t, n, r) {
                    if (I != t) {
                        var i = I;
                        I = t;
                        var a = A.package.resolveRelativeUrl(t.href);
                        O.hideIFrame(),
                            y(i),
                            e.logEvent(
                                "OnePageView.Events.SPINE_ITEM_OPEN_START",
                                "EMIT",
                                "one_page_view.js [ " +
                                    t.href +
                                    " -- " +
                                    a +
                                    " ]"
                            ),
                            O.emit(u.Events.SPINE_ITEM_OPEN_START, k, I),
                            N.loadIframe(
                                k[0],
                                a,
                                function(e) {
                                    if (e && n) {
                                        var i = function() {
                                            n(e, k, I, !0, r);
                                        };
                                        o.isIframeAlive(k[0])
                                            ? (h(e), i())
                                            : (console.error(
                                                  "onIFrameLoad !! doc && win + TIMEOUT"
                                              ),
                                              console.debug(t.href),
                                              h(e),
                                              setTimeout(i, 500));
                                    } else h(e);
                                },
                                O,
                                { spineItem: I }
                            );
                    } else n && n(!0, k, I, !1, r);
                }),
                (this.getNavigator = function() {
                    return new i({
                        $iframe: k,
                        frameDimensionsGetter: x,
                        visibleContentOffsetsGetter: w,
                        classBlacklist: [
                            "cfi-marker",
                            "mo-cfi-highlight",
                            "resize-sensor",
                            "resize-sensor-expand",
                            "resize-sensor-shrink",
                            "resize-sensor-inner",
                            "js-hypothesis-config",
                            "js-hypothesis-embed"
                        ],
                        elementBlacklist: ["hypothesis-adder"],
                        idBlacklist: ["MathJax_Message", "MathJax_SVG_Hidden"]
                    });
                }),
                (this.getElementByCfi = function(e, t, n, r, i) {
                    return e != I.idref
                        ? void console.error("spine item is not loaded")
                        : O.getNavigator().getElementByCfi(t, n, r, i);
                }),
                (this.getElementById = function(e, t) {
                    return e != I.idref
                        ? void console.error("spine item is not loaded")
                        : O.getNavigator().getElementById(t);
                }),
                (this.getElement = function(e, t) {
                    return e != I.idref
                        ? void console.error("spine item is not loaded")
                        : O.getNavigator().getElement(t);
                }),
                (this.getFirstVisibleMediaOverlayElement = function() {
                    return O.getNavigator().getFirstVisibleMediaOverlayElement();
                }),
                (this.offset = function() {
                    if (k) return k.offset();
                }),
                (this.getVisibleElementsWithFilter = function(e) {
                    return O.getNavigator().getVisibleElementsWithFilter(
                        null,
                        e
                    );
                }),
                (this.getVisibleElements = function(e) {
                    return O.getNavigator().getAllVisibleElementsWithSelector(
                        e
                    );
                }),
                (this.getAllElementsWithFilter = function(e, t) {
                    return O.getNavigator().getAllElementsWithFilter(e, t);
                }),
                (this.getElements = function(e, t) {
                    return e != I.idref
                        ? void console.error("spine item is not loaded")
                        : O.getNavigator().getElements(t);
                }),
                (this.getNodeRangeInfoFromCfi = function(e, t) {
                    return e != I.idref
                        ? void console.warn("spine item is not loaded")
                        : O.getNavigator().getNodeRangeInfoFromCfi(t);
                }),
                (this.getLoadedContentFrames = function() {
                    return [{ spineItem: I, $iframe: k }];
                }),
                (this.getFirstVisibleCfi = function(e, t) {
                    return E(O.getNavigator().getFirstVisibleCfi(e, t));
                }),
                (this.getLastVisibleCfi = function(e, t) {
                    return E(O.getNavigator().getLastVisibleCfi(e, t));
                }),
                (this.getDomRangeFromRangeCfi = function(e, t, n) {
                    return O.getNavigator().getDomRangeFromRangeCfi(e, t, n);
                }),
                (this.getRangeCfiFromDomRange = function(e) {
                    return E(O.getNavigator().getRangeCfiFromDomRange(e));
                }),
                (this.getVisibleCfiFromPoint = function(e, t, n) {
                    return E(O.getNavigator().getVisibleCfiFromPoint(e, t, n));
                }),
                (this.getRangeCfiFromPoints = function(e, t, n, r) {
                    return E(
                        O.getNavigator().getRangeCfiFromPoints(e, t, n, r)
                    );
                }),
                (this.getCfiForElement = function(e) {
                    return E(O.getNavigator().getCfiForElement(e));
                }),
                (this.getElementFromPoint = function(e, t) {
                    return O.getNavigator().getElementFromPoint(e, t);
                }),
                (this.getStartCfi = function() {
                    return E(O.getNavigator().getStartCfi());
                }),
                (this.getEndCfi = function() {
                    return E(O.getNavigator().getEndCfi());
                }),
                (this.getNearestCfiFromElement = function(e) {
                    return E(O.getNavigator().getNearestCfiFromElement(e));
                });
        };
        return (
            (u.Events = {
                SPINE_ITEM_OPEN_START: "SpineItemOpenStart",
                CONTENT_SIZE_CHANGED: "ContentSizeChanged"
            }),
            u
        );
    }),
    define("readium_shared_js/models/page_open_request", [], function() {
        return function(e, t) {
            (this.spineItem = e),
                (this.spineItemPageIndex = void 0),
                (this.elementId = void 0),
                (this.elementCfi = void 0),
                (this.firstVisibleCfi = void 0),
                (this.lastVisibleCfi = void 0),
                (this.firstPage = !1),
                (this.lastPage = !1),
                (this.initiator = t),
                (this.reset = function() {
                    (this.spineItemPageIndex = void 0),
                        (this.elementId = void 0),
                        (this.elementCfi = void 0),
                        (this.firstPage = !1),
                        (this.lastPage = !1);
                }),
                (this.setFirstPage = function() {
                    this.reset(), (this.firstPage = !0);
                }),
                (this.setLastPage = function() {
                    this.reset(), (this.lastPage = !0);
                }),
                (this.setPageIndex = function(e) {
                    this.reset(), (this.spineItemPageIndex = e);
                }),
                (this.setElementId = function(e) {
                    this.reset(), (this.elementId = e);
                }),
                (this.setElementCfi = function(e) {
                    this.reset(), (this.elementCfi = e);
                }),
                (this.setFirstAndLastVisibleCfi = function(e, t) {
                    this.reset(),
                        (this.firstVisibleCfi = e),
                        (this.lastVisibleCfi = t);
                });
        };
    }),
    define("readium_shared_js/views/fixed_view", [
        "../globals",
        "jquery",
        "underscore",
        "eventEmitter",
        "../models/bookmark_data",
        "../models/current_pages_info",
        "../models/fixed_page_spread",
        "./one_page_view",
        "../models/page_open_request",
        "../helpers"
    ], function(e, t, n, r, i, o, a, s, l, u) {
        return function(n, c) {
            function d(t) {
                var r = new s(n, [t], !1, c);
                return (
                    r.on(s.Events.SPINE_ITEM_OPEN_START, function(t, n) {
                        e.logEvent(
                            "OnePageView.Events.SPINE_ITEM_OPEN_START",
                            "ON",
                            "fixed_view.js [ " + n.href + " ]"
                        ),
                            e.logEvent(
                                "CONTENT_DOCUMENT_LOAD_START",
                                "EMIT",
                                "fixed_view.js [ " + n.href + " ]"
                            ),
                            k.emit(e.Events.CONTENT_DOCUMENT_LOAD_START, t, n);
                    }),
                    r.on(e.Events.CONTENT_DOCUMENT_UNLOADED, function(t, n) {
                        e.logEvent(
                            "CONTENT_DOCUMENT_UNLOADED",
                            "ON",
                            "fixed_view.js [ " + n.href + " ]"
                        ),
                            e.logEvent(
                                "CONTENT_DOCUMENT_UNLOADED",
                                "EMIT",
                                "fixed_view.js [ " + n.href + " ]"
                            ),
                            k.emit(e.Events.CONTENT_DOCUMENT_UNLOADED, t, n);
                    }),
                    r
                );
            }
            function f() {
                return U.validItems()[0];
            }
            function p(e, n) {
                if (z) return void (B = { initiator: e, paginationRequest: n });
                z = !0;
                var r = { isElementAdded: !1 },
                    i = h([
                        { pageView: R, spineItem: U.leftItem, context: r },
                        { pageView: D, spineItem: U.rightItem, context: r },
                        { pageView: j, spineItem: U.centerItem, context: r }
                    ]);
                t.when.apply(t, i).done(function() {
                    if (((z = !1), B)) {
                        var t = B.initiator,
                            i = B.paginationRequest;
                        (B = void 0), p(t, i);
                    } else r.isElementAdded && (u.setStyles(O.getStyles(), S.parent()), w()), n ? m(e, n.spineItem, n.elementId) : m(e);
                });
            }
            function h(e) {
                for (var t = [], n = 0; n < e.length; n++) {
                    var r = x(e[n].pageView, e[n].spineItem, e[n].context);
                    t.push(r);
                }
                return t;
            }
            function m(t, n, r) {
                _(),
                    b(),
                    window.setTimeout(function() {
                        e.logEvent(
                            "InternalEvents.CURRENT_VIEW_PAGINATION_CHANGED",
                            "EMIT",
                            "fixed_view.js"
                        ),
                            k.emit(
                                e.InternalEvents
                                    .CURRENT_VIEW_PAGINATION_CHANGED,
                                {
                                    paginationInfo: k.getPaginationInfo(),
                                    initiator: t,
                                    spineItem: n,
                                    elementId: r
                                }
                            );
                    }, 60);
            }
            function g(e, t) {
                var n = new a(P, t);
                return (
                    n.openItem(e),
                    U.leftItem != n.leftItem ||
                        U.rightItem != n.rightItem ||
                        U.centerItem != n.centerItem
                );
            }
            function v() {
                if (!F || !L) return !1;
                var e = I.width(),
                    t = I.height();
                return e && t;
            }
            function b(t) {
                if ((V(0, !1), v())) {
                    var n = I.width(),
                        r = I.height(),
                        i = R.isDisplaying()
                            ? u.Margins.fromElement(R.element())
                            : u.Margins.empty(),
                        o = D.isDisplaying()
                            ? u.Margins.fromElement(D.element())
                            : u.Margins.empty(),
                        a = j.isDisplaying()
                            ? u.Margins.fromElement(j.element())
                            : u.Margins.empty(),
                        s = y(i, o, a),
                        l = { width: n - L.width(), height: r - L.height() },
                        c = {
                            width: l.width - s.width(),
                            height: l.height - s.height()
                        };
                    if (!(l.width <= 0 || l.height <= 0)) {
                        var d = c.width / F.width,
                            f = c.height / F.height;
                        I.css("overflow", "auto");
                        var p;
                        "fit-width" == A.style
                            ? (p = d)
                            : "fit-height" == A.style
                                ? (p = f)
                                : "user" == A.style
                                    ? (p = A.scale)
                                    : ((p = Math.min(d, f)),
                                      I.css("overflow", "hidden")),
                            (C = p);
                        var h = { width: F.width * p, height: F.height * p },
                            m = {
                                width: h.width + s.width(),
                                height: h.height + s.height()
                            },
                            g = {
                                width: m.width + L.width(),
                                height: m.height + L.height()
                            },
                            b = Math.floor((n - g.width) / 2),
                            _ = Math.floor((r - g.height) / 2);
                        b < 0 && (b = 0),
                            _ < 0 && (_ = 0),
                            S.css("left", b + "px"),
                            S.css("top", _ + "px"),
                            S.css("width", m.width + "px"),
                            S.css("height", m.height + "px");
                        var w = L.padding.left,
                            x = L.padding.top,
                            E = t
                                ? "transformContentImmediate"
                                : "transformContent";
                        R.isDisplaying() && R[E](p, w, x),
                            D.isDisplaying() &&
                                ((w += F.separatorPosition * p),
                                R.isDisplaying() && (w += i.left),
                                D[E](p, w, x)),
                            j.isDisplaying() && j[E](p, w, x),
                            e.logEvent(
                                "FXL_VIEW_RESIZED",
                                "EMIT",
                                "fixed_view.js"
                            ),
                            k.emit(e.Events.FXL_VIEW_RESIZED);
                    }
                }
            }
            function y(e, t, n) {
                var r = {
                        left: Math.max(
                            e.margin.left,
                            t.margin.left,
                            n.margin.left
                        ),
                        right: Math.max(
                            e.margin.right,
                            t.margin.right,
                            n.margin.right
                        ),
                        top: Math.max(e.margin.top, t.margin.top, n.margin.top),
                        bottom: Math.max(
                            e.margin.bottom,
                            t.margin.bottom,
                            n.margin.bottom
                        )
                    },
                    i = {
                        left: Math.max(
                            e.border.left,
                            t.border.left,
                            n.border.left
                        ),
                        right: Math.max(
                            e.border.right,
                            t.border.right,
                            n.border.right
                        ),
                        top: Math.max(e.border.top, t.border.top, n.border.top),
                        bottom: Math.max(
                            e.border.bottom,
                            t.border.bottom,
                            n.border.bottom
                        )
                    },
                    o = {
                        left: Math.max(
                            e.padding.left,
                            t.padding.left,
                            n.padding.left
                        ),
                        right: Math.max(
                            e.padding.right,
                            t.padding.right,
                            n.padding.right
                        ),
                        top: Math.max(
                            e.padding.top,
                            t.padding.top,
                            n.padding.top
                        ),
                        bottom: Math.max(
                            e.padding.bottom,
                            t.padding.bottom,
                            n.padding.bottom
                        )
                    };
                return new u.Margins(r, i, o);
            }
            function _() {
                (F = {}),
                    j.isDisplaying()
                        ? ((F.width = j.meta_width()),
                          (F.height = j.meta_height()),
                          (F.separatorPosition = 0))
                        : R.isDisplaying() && D.isDisplaying()
                            ? R.meta_height() == D.meta_height()
                                ? ((F.width = R.meta_width() + D.meta_width()),
                                  (F.height = R.meta_height()),
                                  (F.separatorPosition = R.meta_width()))
                                : ((F.width =
                                      R.meta_width() +
                                      D.meta_width() *
                                          (R.meta_height() / D.meta_height())),
                                  (F.height = R.meta_height()),
                                  (F.separatorPosition = R.meta_width()))
                            : R.isDisplaying()
                                ? ((F.width = 2 * R.meta_width()),
                                  (F.height = R.meta_height()),
                                  (F.separatorPosition = R.meta_width()))
                                : D.isDisplaying()
                                    ? ((F.width = 2 * D.meta_width()),
                                      (F.height = D.meta_height()),
                                      (F.separatorPosition = D.meta_width()))
                                    : (F = void 0);
            }
            function w() {
                L = u.Margins.fromElement(S);
            }
            function x(n, r, i) {
                var o = t.Deferred();
                return (
                    r
                        ? (n.remove(),
                          S.append(n.render().element()),
                          (i.isElementAdded = !0),
                          n.loadSpineItem(
                              r,
                              function(t, r, i, a, s) {
                                  t &&
                                      a &&
                                      ((n.meta_height() && n.meta_width()) ||
                                          console.error(
                                              "Invalid document " +
                                                  i.href +
                                                  ": viewport is not specified!"
                                          ),
                                      e.logEvent(
                                          "CONTENT_DOCUMENT_LOADED",
                                          "EMIT",
                                          "fixed_view.js [ " + i.href + " ]"
                                      ),
                                      k.emit(
                                          e.Events.CONTENT_DOCUMENT_LOADED,
                                          r,
                                          i
                                      )),
                                      o.resolve();
                              },
                              i
                          ))
                        : (n.isDisplaying() && n.remove(), o.resolve()),
                    o.promise()
                );
            }
            function E() {
                var e = [];
                e = P.isLeftToRight() ? [R, j, D] : [D, j, R];
                for (var t = [], n = 0, r = e.length; n < r; n++)
                    e[n].isDisplaying() && t.push(e[n]);
                return t;
            }
            function T(e, t) {
                for (var n = E(), r = 0, i = n.length; r < i; r++) {
                    var o = n[r];
                    if (o.currentSpineItem().idref == e) return t(o);
                }
                console.error("spine item is not loaded");
            }
            t.extend(this, new r());
            var S,
                C,
                k = this,
                I = t(n.$viewport),
                P = n.spine,
                O = n.userStyles,
                A = (n.bookStyles, n.zoom || { style: "default" }),
                N = (n.iframeLoader, void 0),
                R = d("fixed-page-frame-left"),
                D = d("fixed-page-frame-right"),
                j = d("fixed-page-frame-center"),
                M = [];
            M.push(R), M.push(D), M.push(j);
            var L,
                F,
                U = new a(P, !1),
                z = !1,
                B = !1;
            (this.isReflowable = function() {
                return !1;
            }),
                (this.setZoom = function(e) {
                    (A = e), b(!1);
                }),
                (this.render = function() {
                    var e = u.loadTemplate("fixed_book_frame", {});
                    return (
                        (S = t(e)),
                        u.CSSTransition(S, "all 0 ease 0"),
                        S.css("overflow", "hidden"),
                        I.append(S),
                        k.applyStyles(),
                        this
                    );
                }),
                (this.remove = function() {
                    S.remove();
                }),
                (this.setViewSettings = function(e, t) {
                    (N = e),
                        U.setSyntheticSpread(
                            1 == u.deduceSyntheticSpread(I, f(), N)
                        );
                    for (var n = E(), r = 0, i = n.length; r < i; r++)
                        n[r].setViewSettings(e, t);
                });
            var V = function(e, t) {
                R && R.updatePageSwitchDir(e, t),
                    D && D.updatePageSwitchDir(e, t),
                    j && j.updatePageSwitchDir(e, t);
            };
            (this.applyStyles = function() {
                u.setStyles(O.getStyles(), S.parent()), w(), _(), b();
            }),
                (this.applyBookStyles = function() {
                    for (var e = E(), t = 0, n = e.length; t < n; t++)
                        e[t].applyBookStyles();
                }),
                (this.onViewportResize = function() {
                    var e = f();
                    if (e) {
                        var t = 1 == u.deduceSyntheticSpread(I, e, N);
                        if (g(e, t)) {
                            U.setSyntheticSpread(t);
                            var n = new l(e, k);
                            k.openPage(n);
                        } else b(!0);
                    }
                }),
                (this.getViewScale = function() {
                    return C;
                }),
                (this.openPage = function(e, t) {
                    if (e.spineItem) {
                        var n = U.leftItem,
                            r = U.rightItem,
                            i = U.centerItem,
                            o = 1 == u.deduceSyntheticSpread(I, e.spineItem, N);
                        U.setSyntheticSpread(o), U.openItem(e.spineItem);
                        var a =
                            n !== U.leftItem ||
                            r !== U.rightItem ||
                            i !== U.centerItem;
                        (null !== t && void 0 !== t) || (t = 0),
                            V(
                                0 === t
                                    ? 0
                                    : U.spine.isRightToLeft()
                                        ? 1 === t
                                            ? 2
                                            : 1
                                        : t,
                                a
                            ),
                            p(e.initiator, e);
                    }
                }),
                (this.openPagePrev = function(e) {
                    U.openPrev(),
                        V(U.spine.isRightToLeft() ? 2 : 1, !0),
                        p(e, void 0);
                }),
                (this.openPageNext = function(e) {
                    U.openNext(),
                        V(U.spine.isRightToLeft() ? 1 : 2, !0),
                        p(e, void 0);
                }),
                (this.getPaginationInfo = function() {
                    for (
                        var e = new o(P, !0),
                            t = [U.leftItem, U.rightItem, U.centerItem],
                            n = 0;
                        n < t.length;
                        n++
                    ) {
                        var r = t[n];
                        r && e.addOpenPage(0, 1, r.idref, r.index);
                    }
                    return e;
                }),
                (this.bookmarkCurrentPage = function() {
                    var e = E(),
                        t = this.getLoadedSpineItems();
                    return e.length > 0
                        ? e[0].getFirstVisibleCfi()
                        : t.length > 0
                            ? new i(this.getLoadedSpineItems()[0].idref, null)
                            : void 0;
                }),
                (this.getLoadedSpineItems = function() {
                    return U.validItems();
                }),
                (this.getElement = function(e, t) {
                    return T(e, function(n) {
                        return n.getElement(e, t);
                    });
                }),
                (this.getElementById = function(e, t) {
                    return T(e, function(n) {
                        return n.getElementById(e, t);
                    });
                }),
                (this.getElementByCfi = function(e, t, n, r, i) {
                    return T(e, function(o) {
                        return o.getElementByCfi(e, t, n, r, i);
                    });
                }),
                (this.getFirstVisibleMediaOverlayElement = function() {
                    for (var e = E(), t = 0, n = e.length; t < n; t++) {
                        var r = e[t].getFirstVisibleMediaOverlayElement();
                        if (r) return r;
                    }
                }),
                (this.insureElementVisibility = function(e, t, n) {}),
                (this.getElements = function(e, t) {
                    return T(e, function(n) {
                        return n.getElements(e, t);
                    });
                }),
                (this.isElementVisible = function(e) {
                    return !0;
                }),
                (this.getVisibleElementsWithFilter = function(e, t) {
                    for (var n = [], r = E(), i = 0, o = r.length; i < o; i++)
                        n.push(r[i].getAllElementsWithFilter(e, t));
                    return n;
                }),
                (this.getVisibleElements = function(e, t) {
                    for (var n = [], r = E(), i = 0, o = r.length; i < o; i++)
                        t
                            ? n.push({
                                  elements: r[i].getElements(
                                      r[i].currentSpineItem().idref,
                                      e
                                  ),
                                  spineItem: r[i].currentSpineItem()
                              })
                            : n.push(
                                  r[i].getElements(
                                      r[i].currentSpineItem().idref,
                                      e
                                  )
                              );
                    return n;
                }),
                (this.isElementVisible = function(e) {
                    return !0;
                }),
                (this.isVisibleSpineItemElementCfi = function(e, t) {
                    return T(e, function(e) {
                        return !0;
                    });
                }),
                (this.getNodeRangeInfoFromCfi = function(e, t) {
                    return T(e, function(n) {
                        return n.getNodeRangeInfoFromCfi(e, t);
                    });
                }),
                (this.getFirstVisibleCfi = function() {
                    var e = E();
                    if (e.length > 0) return e[0].getFirstVisibleCfi();
                }),
                (this.getLastVisibleCfi = function() {
                    var e = E();
                    if (e.length > 0)
                        return e[e.length - 1].getLastVisibleCfi();
                }),
                (this.getDomRangesFromRangeCfi = function(e, t, n) {
                    var r = E();
                    if (t && e.idref !== t.idref) {
                        for (var i = [], o = 0, a = r.length; o < a; o++) {
                            var s = r[o];
                            if (s.currentSpineItem().idref === e.idref) {
                                var l = s.getLastVisibleCfi();
                                i.push(
                                    s.getDomRangeFromRangeCfi(
                                        e.contentCFI,
                                        l.contentCFI,
                                        n
                                    )
                                );
                            } else if (s.currentSpineItem().idref === t.idref) {
                                var u = s.getFirstVisibleCfi();
                                i.push(
                                    s.getDomRangeFromRangeCfi(
                                        u.contentCFI,
                                        t.contentCFI,
                                        n
                                    )
                                );
                            }
                        }
                        return i;
                    }
                    return [this.getDomRangeFromRangeCfi(e, t, n)];
                }),
                (this.getDomRangeFromRangeCfi = function(e, t, n) {
                    var r = E();
                    if (t && e.idref !== t.idref)
                        return void console.error(
                            "getDomRangeFromRangeCfi: both CFIs must be scoped under the same spineitem idref"
                        );
                    for (var i = 0, o = r.length; i < o; i++) {
                        var a = r[i];
                        if (a.currentSpineItem().idref === e.idref)
                            return a.getDomRangeFromRangeCfi(
                                e.contentCFI,
                                t ? t.contentCFI : null,
                                n
                            );
                    }
                }),
                (this.getRangeCfiFromDomRange = function(e) {
                    for (var t = E(), n = 0, r = t.length; n < r; n++) {
                        var i = t[n];
                        if (
                            i.getLoadedContentFrames()[0].$iframe[0]
                                .contentDocument ===
                            e.startContainer.ownerDocument
                        )
                            return i.getRangeCfiFromDomRange(e);
                    }
                }),
                (this.getVisibleCfiFromPoint = function(e, t, n, r) {
                    if (!r)
                        throw new Error(
                            "getVisibleCfiFromPoint: Spine item idref must be specified for this fixed layout view."
                        );
                    return T(r, function(r) {
                        return r.getVisibleCfiFromPoint(e, t, n);
                    });
                }),
                (this.getRangeCfiFromPoints = function(e, t, n, r, i) {
                    if (!i)
                        throw new Error(
                            "getRangeCfiFromPoints: Spine item idref must be specified for this fixed layout view."
                        );
                    return T(i, function(i) {
                        return i.getRangeCfiFromPoints(e, t, n, r);
                    });
                }),
                (this.getCfiForElement = function(e) {
                    for (var t = E(), n = 0, r = t.length; n < r; n++) {
                        var i = t[n];
                        if (
                            i.getLoadedContentFrames()[0].$iframe[0]
                                .contentDocument === e.ownerDocument
                        )
                            return i.getCfiForElement(e);
                    }
                }),
                (this.getElementFromPoint = function(e, t, n) {
                    if (!n)
                        throw new Error(
                            "getElementFromPoint: Spine item idref must be specified for this fixed layout view."
                        );
                    return T(n, function(n) {
                        return n.getElementFromPoint(e, t);
                    });
                }),
                (this.getStartCfi = function() {
                    return E()[0].getStartCfi();
                }),
                (this.getEndCfi = function() {
                    return E()[0].getEndCfi();
                }),
                (this.getNearestCfiFromElement = function(e) {
                    for (var t = E(), n = 0, r = t.length; n < r; n++) {
                        var i = t[n];
                        if (
                            i.getLoadedContentFrames()[0].$iframe[0]
                                .contentDocument === e.ownerDocument
                        )
                            return i.getNearestCfiFromElement(e);
                    }
                });
        };
    }),
    define("readium_shared_js/views/iframe_loader", [
        "jquery",
        "underscore",
        "URIjs"
    ], function(e, t, n) {
        return function() {
            var r = this,
                i = {};
            (this.addIFrameEventListener = function(e, t, n) {
                void 0 == i[e] && (i[e] = []),
                    i[e].push({ callback: t, context: n });
            }),
                (this.updateIframeEvents = function(n) {
                    t.each(i, function(t, r) {
                        e(n.contentWindow).off(r);
                        for (var i = 0, o = t.length; i < o; i++)
                            e(n.contentWindow).on(
                                r,
                                t[i].callback,
                                t[i].context
                            );
                    });
                }),
                (this.loadIframe = function(e, t, i, o, a) {
                    e.baseURI ||
                        ("undefined" != typeof location &&
                            (e.baseURI = location.href + ""),
                        console.error("!iframe.baseURI => " + e.baseURI)),
                        console.log("EPUB doc iframe src:"),
                        console.log(t),
                        console.log("EPUB doc iframe base URI:"),
                        console.log(e.baseURI),
                        e.setAttribute("data-baseUri", e.baseURI),
                        e.setAttribute("data-src", t);
                    var s = new n(t)
                        .absoluteTo(e.baseURI)
                        .search("")
                        .hash("")
                        .toString();
                    r._loadIframeWithUri(e, a, s, function() {
                        i.call(o, !0, a);
                    });
                }),
                (this._loadIframeWithUri = function(n, i, o, a) {
                    (n.onload = function() {
                        var i = n.contentDocument || n.contentWindow.document;
                        e("svg", i).on("load", function() {
                            console.log("SVG loaded");
                        }),
                            r.updateIframeEvents(n);
                        var o = n.contentWindow.MathJax;
                        if (o) {
                            console.log(
                                "MathJax VERSION: " +
                                    o.cdnVersion +
                                    " // " +
                                    o.fileversion +
                                    " // " +
                                    o.version
                            );
                            var s = !0;
                            o.Hub.Browser.isFirefox && (s = !1),
                                o.Hub.Browser.isChrome && (s = !1),
                                window.navigator.userAgent.indexOf("Edge") >
                                    0 && (s = !1),
                                o.Hub.Config({
                                    showMathMenu: !1,
                                    messageStyle: "none",
                                    showProcessingMessages: !0,
                                    SVG: { useFontCache: s }
                                });
                            var l = t.once(a);
                            try {
                                o.Hub.Queue(l);
                            } catch (e) {
                                console.error("MathJax fail!"), a();
                            }
                        } else a();
                    }),
                        n.setAttribute("src", o);
                });
        };
    }),
    define("readium_shared_js/views/internal_links_support", [
        "jquery",
        "../helpers",
        "readium_cfi_js",
        "URIjs"
    ], function(e, t, n, r) {
        return function(i) {
            function o(e) {
                var t = e.indexOf("("),
                    n = e.indexOf("!"),
                    r = e.indexOf(")");
                if (-1 != n)
                    return (
                        -1 == r && (r = e.length),
                        {
                            spineItemCfi: e.substring(t + 1, n),
                            elementCfi: e.substring(n + 1, r)
                        }
                    );
            }
            function a(e, t) {
                var n = i.package().resolveRelativeUrl(t.href);
                return e.absoluteTo(n);
            }
            function s(e, r) {
                var s = a(e, r);
                if (!s)
                    return void console.error("Unable to resolve " + e.href());
                var u = e.fragment(),
                    c = s.toString();
                (c = t.RemoveFromString(c, "#" + u)),
                    l(c, function(e) {
                        if (e) {
                            var t = new window.DOMParser(),
                                r = t.parseFromString(e, "text/xml"),
                                a = o(u);
                            if (!a)
                                return void console.warn(
                                    "Unable to split cfi:" + u
                                );
                            var s = n.Interpreter.getContentDocHref(
                                "epubcfi(" + a.spineItemCfi + ")",
                                r
                            );
                            if (s) {
                                var l = i.spine().getItemByHref(s);
                                l
                                    ? i.openSpineItemElementCfi(
                                          l.idref,
                                          a.elementCfi,
                                          d
                                      )
                                    : console.warn(
                                          "Unable to find spineItem with href=" +
                                              s
                                      );
                            } else
                                console.warn(
                                    "Unable to find document ref from " +
                                        u +
                                        " cfi"
                                );
                        }
                    });
            }
            function l(t, n) {
                e.ajax({
                    isLocal: 0 !== t.indexOf("http"),
                    url: t,
                    dataType: "text",
                    async: !0,
                    success: function(e) {
                        n(e);
                    },
                    error: function(e, r, i) {
                        console.error("Error when AJAX fetching " + t),
                            console.error(r),
                            console.error(i),
                            n();
                    }
                });
            }
            function u(e) {
                var n = e.filename();
                return n && t.EndsWith(n, ".opf");
            }
            function c(e, t) {
                var n,
                    o = e.filename();
                if (o) {
                    var a = new r(e, t.href),
                        s = decodeURIComponent(a.pathname()),
                        l = i.spine().getItemByHref(s);
                    if (!l)
                        return void console.error(
                            "spine item with href=" + s + " not found"
                        );
                    n = l.idref;
                } else n = t.idref;
                var u = e.fragment();
                i.openSpineItemElementId(n, u, d);
            }
            var d = this;
            this.processLinkElements = function(t, n) {
                var i = t[0].contentDocument;
                e("a", i).click(function(e) {
                    var t;
                    t = e.currentTarget.attributes["xlink:href"]
                        ? e.currentTarget.attributes["xlink:href"].value
                        : e.currentTarget.attributes.href.value;
                    var i = !1,
                        o = new r(t);
                    o.is("relative")
                        ? u(o)
                            ? (s(o, n), (i = !0))
                            : (c(o, n), (i = !0))
                        : (window.open(t, "_blank"), (i = !0)),
                        i && (e.preventDefault(), e.stopPropagation());
                });
            };
        };
    }),
    define("readium_shared_js/models/smil_iterator", [
        "jquery",
        "../helpers"
    ], function(e, t) {
        return function(n) {
            function r(e, t, n) {
                for (
                    var i = e, o = t.children.length;
                    i >= 0 && i < o;
                    i += n ? -1 : 1
                ) {
                    var a = t.children[i];
                    if ("par" == a.nodeType) return a;
                    if ((a = r(n ? a.children.length - 1 : 0, a, n))) return a;
                }
                if (t.parent) return r(t.index + (n ? -1 : 1), t.parent, n);
            }
            (this.smil = n),
                (this.currentPar = void 0),
                (this.reset = function() {
                    this.currentPar = r(0, this.smil, !1);
                }),
                (this.findTextId = function(n) {
                    if (!this.currentPar)
                        return void console.debug(
                            "Par iterator is out of range"
                        );
                    if (!n) return !1;
                    for (; this.currentPar; ) {
                        if (this.currentPar.element) {
                            if (n === this.currentPar.text.srcFragmentId)
                                return !0;
                            for (
                                var r = this.currentPar.element.parentNode;
                                r;

                            ) {
                                if (r.id && r.id == n) return !0;
                                r = r.parentNode;
                            }
                            var i = e(
                                "#" + t.escapeJQuerySelector(n),
                                this.currentPar.element
                            );
                            if (i && i.length && i[0]) return !0;
                        }
                        this.next();
                    }
                    return !1;
                }),
                (this.next = function() {
                    if (!this.currentPar)
                        return void console.debug(
                            "Par iterator is out of range"
                        );
                    this.currentPar = r(
                        this.currentPar.index + 1,
                        this.currentPar.parent,
                        !1
                    );
                }),
                (this.previous = function() {
                    if (!this.currentPar)
                        return void console.debug(
                            "Par iterator is out of range"
                        );
                    this.currentPar = r(
                        this.currentPar.index - 1,
                        this.currentPar.parent,
                        !0
                    );
                }),
                (this.isLast = function() {
                    return this.currentPar
                        ? !r(
                              this.currentPar.index + 1,
                              this.currentPar.parent,
                              !1
                          )
                        : void console.debug("Par iterator is out of range");
                }),
                (this.goToPar = function(e) {
                    for (; this.currentPar && this.currentPar != e; )
                        this.next();
                }),
                this.reset();
        };
    }),
    define("readium_shared_js/views/media_overlay_data_injector", [
        "jquery",
        "underscore",
        "../helpers",
        "../models/smil_iterator",
        "readium_cfi_js"
    ], function(e, t, n, r, i) {
        return function(o, a) {
            this.attachMediaOverlayData = function(s, l, u) {
                var c = s[0].contentDocument.documentElement;
                if (l.media_overlay_id || 0 !== o.smil_models.length) {
                    var d = e("body", c);
                    if (0 == d.length) console.error("! BODY ???");
                    else {
                        if (d.data("mediaOverlayClick"))
                            console.error("[WARN] already mediaOverlayClick");
                        else {
                            d.data("mediaOverlayClick", { ping: "pong" });
                            var f = function(t) {
                                    var n = e(this)[0];
                                    if (!(n = t.target))
                                        return a.touchInit(), !0;
                                    var r = void 0,
                                        i = n,
                                        o = !1;
                                    for (
                                        "a" === i.nodeName.toLowerCase() &&
                                        (o = !0);
                                        !(r = e(i).data("mediaOverlayData")) &&
                                        ("a" === i.nodeName.toLowerCase() &&
                                            (o = !0),
                                        (i = i.parentNode));

                                    );
                                    if (r && (r.par || r.pars)) {
                                        if (!u.mediaOverlaysEnableClick)
                                            return (
                                                console.log(
                                                    "MO CLICK DISABLED"
                                                ),
                                                a.touchInit(),
                                                !0
                                            );
                                        if (o)
                                            return (
                                                console.log("MO CLICKED LINK"),
                                                a.touchInit(),
                                                !0
                                            );
                                        var s = r.par ? r.par : r.pars[0];
                                        return i &&
                                            i != n &&
                                            "body" ===
                                                i.nodeName.toLowerCase() &&
                                            s &&
                                            !s.getSmil().id
                                            ? (a.touchInit(), !0)
                                            : (a.playUserPar(s), !0);
                                    }
                                    var l = e(n).attr("ibooks:readaloud");
                                    if (
                                        (l || (l = e(n).attr("epub:readaloud")),
                                        l)
                                    ) {
                                        console.debug(
                                            "MO readaloud attr: " + l
                                        );
                                        var c = a.isPlaying();
                                        if (
                                            ("start" === l && !c) ||
                                            ("stop" === l && c) ||
                                            "startstop" === l
                                        )
                                            return a.toggleMediaOverlay(), !0;
                                    }
                                    return a.touchInit(), !0;
                                },
                                p = t.debounce(f, 200);
                            "ontouchstart" in document.documentElement &&
                                d[0].addEventListener("touchstart", p, !1),
                                d[0].addEventListener("mousedown", p, !1);
                        }
                    }
                    var h = o.getSmilBySpineItem(l);
                    if (!h)
                        return void console.error(
                            "NO SMIL?? " +
                                l.idref +
                                " /// " +
                                l.media_overlay_id
                        );
                    var m = function(e) {
                        if (e) {
                            if (
                                e.nodeType &&
                                "seq" === e.nodeType &&
                                e.textref
                            ) {
                                var t = e.textref.split("#"),
                                    r = t[0],
                                    i = 2 === t.length ? t[1] : "";
                                if (r && i) {
                                    n.ResolveContentRef(r, h.href) === l.href &&
                                        ((e.element = s[0].contentDocument.getElementById(
                                            i
                                        )),
                                        e.element ||
                                            console.error(
                                                "seq.textref !element? " +
                                                    e.textref
                                            ));
                                }
                            }
                            if (e.children && e.children.length)
                                for (var o = 0; o < e.children.length; o++) {
                                    var a = e.children[o];
                                    m(a);
                                }
                        }
                    };
                    m(h);
                    for (var g = new r(h); g.currentPar; ) {
                        (g.currentPar.element = void 0),
                            (g.currentPar.cfi = void 0);
                        if (
                            n.ResolveContentRef(
                                g.currentPar.text.srcFile,
                                g.smil.href
                            ) === l.href
                        ) {
                            var v =
                                    !g.currentPar.text.srcFragmentId ||
                                    0 == g.currentPar.text.srcFragmentId.length,
                                b =
                                    0 ==
                                    g.currentPar.text.srcFragmentId.indexOf(
                                        "epubcfi"
                                    )
                                        ? void 0
                                        : g.currentPar.text.srcFragmentId,
                                y = void 0,
                                _ = !1;
                            if (v || b)
                                y = v
                                    ? d
                                    : e(s[0].contentDocument.getElementById(b));
                            else if (
                                0 ===
                                g.currentPar.text.srcFragmentId.indexOf(
                                    "epubcfi"
                                )
                            ) {
                                var w = g.currentPar.text.srcFragmentId.substr(
                                    "epubcfi".length + 1,
                                    g.currentPar.text.srcFragmentId.length -
                                        "epubcfi".length -
                                        2
                                );
                                0 === w.indexOf("/99!") &&
                                    (w = w.substr(
                                        "/99!".length,
                                        w.length - "/99!".length
                                    ));
                                var x = w.split(",");
                                if (x && 3 === x.length)
                                    try {
                                        var E = x[0] + x[1],
                                            T = "epubcfi(" + E + ")",
                                            S = i.getTextTerminusInfoWithPartialCFI(
                                                T,
                                                s[0].contentDocument,
                                                [
                                                    "cfi-marker",
                                                    "mo-cfi-highlight"
                                                ],
                                                [],
                                                ["MathJax_Message"]
                                            ),
                                            C = x[0] + x[2],
                                            k = "epubcfi(" + C + ")",
                                            I = (i.getTextTerminusInfoWithPartialCFI(
                                                k,
                                                s[0].contentDocument,
                                                [
                                                    "cfi-marker",
                                                    "mo-cfi-highlight"
                                                ],
                                                [],
                                                ["MathJax_Message"]
                                            ),
                                            S.textNode.parentNode);
                                        (g.currentPar.cfi = {
                                            smilTextSrcCfi:
                                                g.currentPar.text.srcFragmentId,
                                            partialRangeCfi: w,
                                            partialStartCfi: E,
                                            partialEndCfi: C,
                                            cfiTextParent: I
                                        }),
                                            (_ = !0),
                                            (y = e(I));
                                        var P = y.data("mediaOverlayData");
                                        if (P) {
                                            P.par &&
                                                (console.error(
                                                    "[WARN] non-CFI MO DATA already exists!"
                                                ),
                                                (P.par = void 0));
                                            var O = !1;
                                            if (P.pars)
                                                for (
                                                    var A = 0;
                                                    A < P.pars.length;
                                                    A++
                                                ) {
                                                    var N = P.pars[A];
                                                    N === g.currentPar &&
                                                        ((O = !0),
                                                        console.error(
                                                            "[WARN] mediaOverlayData CFI PAR already registered!"
                                                        ));
                                                }
                                            else P.pars = [];
                                            O || P.pars.push(g.currentPar);
                                        } else
                                            (P = { pars: [g.currentPar] }),
                                                y.data("mediaOverlayData", P);
                                    } catch (e) {
                                        console.error(e);
                                    }
                                else
                                    try {
                                        var R = "epubcfi(" + w + ")";
                                        y = i.getTargetElementWithPartialCFI(
                                            R,
                                            s[0].contentDocument,
                                            ["cfi-marker", "mo-cfi-highlight"],
                                            [],
                                            ["MathJax_Message"]
                                        );
                                    } catch (e) {
                                        console.error(e);
                                    }
                            } else
                                console.error(
                                    "SMIL text@src CFI fragment identifier scheme not supported: " +
                                        g.currentPar.text.srcFragmentId
                                );
                            if (y && y.length > 0) {
                                if (!_) {
                                    g.currentPar.element &&
                                        g.currentPar.element !== y[0] &&
                                        console.error(
                                            "DIFFERENT ELEMENTS??! " +
                                                g.currentPar.text
                                                    .srcFragmentId +
                                                " /// " +
                                                g.currentPar.element.id
                                        );
                                    var D = y[0].nodeName
                                        ? y[0].nodeName.toLowerCase()
                                        : void 0;
                                    ("audio" !== D && "video" !== D) ||
                                        y.attr("preload", "auto"),
                                        (g.currentPar.element = y[0]);
                                    var P = y.data("mediaOverlayData");
                                    P &&
                                        (console.error(
                                            "[WARN] MO DATA already exists."
                                        ),
                                        P.par &&
                                            P.par !== g.currentPar &&
                                            console.error("DIFFERENT PARS??!")),
                                        y.data("mediaOverlayData", {
                                            par: g.currentPar
                                        });
                                }
                            } else
                                console.error(
                                    "!! CANNOT FIND ELEMENT: " +
                                        g.currentPar.text.srcFragmentId +
                                        " == " +
                                        g.currentPar.text.srcFile +
                                        " /// " +
                                        l.href
                                );
                        }
                        g.next();
                    }
                }
            };
        };
    }),
    define("readium_shared_js/views/audio_player", ["jquery"], function(e) {
        return function(t, n, r, i, o) {
            function a() {
                t({ isPlaying: !0 }), i();
            }
            function s() {
                o(), t({ isPlaying: !1 });
            }
            function l() {
                if (b.moSeeking)
                    return void (
                        v &&
                        console.debug("onEnded() skipped (still seeking...)")
                    );
                c(), r(), t({ isPlaying: !1 });
            }
            function u() {
                S ||
                    (S = setInterval(function() {
                        if (b.moSeeking)
                            return void (++T > 1e3 && ((T = 0), c()));
                        var e = void 0;
                        try {
                            e = b.currentTime;
                        } catch (e) {
                            console.error(e.message);
                        }
                        e && n(e, 1);
                    }, 20));
            }
            function c() {
                S && clearInterval(S), (S = void 0);
            }
            function d(e) {
                v && console.debug("onReadyToSeek #" + e.data.playId),
                    p(e.data.seekBegin, e.data.playId, !0);
            }
            function f(t) {
                e(b).off(A, f),
                    g
                        ? (v &&
                              console.debug(
                                  "onReadyToSeek ANDROID ... waiting a bit ... #" +
                                      t.data.playId
                              ),
                          P(),
                          setTimeout(function() {
                              d(t);
                          }, 1e3))
                        : d(t);
            }
            function p(t, n, r) {
                if (
                    (v && console.debug("playSeekCurrentTime() #" + n),
                    0 == t && (t = 0.01),
                    Math.abs(t - b.currentTime) < 0.3)
                )
                    return (
                        v && console.debug("playSeekCurrentTime() CONTINUE"),
                        (b.moSeeking = void 0),
                        void y.play()
                    );
                var i = r ? R : D;
                v && console.debug("playSeekCurrentTime() NEED SEEK, EV: " + i),
                    y.pause(),
                    e(b).on(
                        i,
                        { newCurrentTime: t, playId: n, isNewSrc: r },
                        h
                    );
                try {
                    b.currentTime = t;
                } catch (e) {
                    console.error(e.message),
                        setTimeout(function() {
                            try {
                                b.currentTime = t;
                            } catch (e) {
                                console.error(e.message);
                            }
                        }, 5);
                }
            }
            function h(t) {
                var n = t.data.isNewSrc ? R : D,
                    r = void 0 == t.data.seekRetries;
                (r || t.data.seekRetries == N) && e(b).off(n, h),
                    v &&
                        console.debug(
                            "onSeeked() #" +
                                t.data.playId +
                                " FIRST? " +
                                r +
                                " EV: " +
                                n
                        );
                var i = b.currentTime,
                    o = Math.abs(t.data.newCurrentTime - i);
                if ((r || t.data.seekRetries >= 0) && o >= 1)
                    v &&
                        console.debug(
                            "onSeeked() time diff: " +
                                t.data.newCurrentTime +
                                " vs. " +
                                i +
                                " (" +
                                o +
                                ")"
                        ),
                        r && ((t.data.seekRetries = N), (t.data.isNewSrc = !1)),
                        t.data.seekRetries--,
                        v &&
                            console.debug(
                                "onSeeked() FAIL => retry again (timeout)"
                            ),
                        setTimeout(function() {
                            h(t);
                        }, g ? 1e3 : 200),
                        setTimeout(function() {
                            b.pause();
                            try {
                                b.currentTime = t.data.newCurrentTime;
                            } catch (e) {
                                console.error(e.message),
                                    setTimeout(function() {
                                        try {
                                            b.currentTime =
                                                t.data.newCurrentTime;
                                        } catch (e) {
                                            console.error(e.message);
                                        }
                                    }, 4);
                            }
                        }, 5);
                else {
                    if (
                        (v &&
                            (console.debug("onSeeked() STATE:"),
                            console.debug(r),
                            console.debug(t.data.seekRetries),
                            console.debug(o)),
                        o >= 1)
                    ) {
                        v &&
                            console.debug(
                                "onSeeked() ABORT, TRY AGAIN FROM SCRATCH!"
                            );
                        var a = w,
                            s = _,
                            l = t.data.newCurrentTime;
                        return (
                            y.reset(),
                            void setTimeout(function() {
                                y.playFile(a, s, l);
                            }, 10)
                        );
                    }
                    v && console.debug("onSeeked() OKAY => play!"),
                        (t.data.seekRetries = void 0),
                        y.play(),
                        (b.moSeeking = void 0);
                }
            }
            var m = !!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),
                g = navigator.userAgent.toLowerCase().indexOf("android") > -1,
                v = !1,
                b = new Audio();
            v &&
                (b.addEventListener("load", function() {
                    console.debug("0) load");
                }),
                b.addEventListener("loadstart", function() {
                    console.debug("1) loadstart");
                }),
                b.addEventListener("durationchange", function() {
                    console.debug("2) durationchange");
                }),
                b.addEventListener("loadedmetadata", function() {
                    console.debug("3) loadedmetadata");
                }),
                b.addEventListener("loadeddata", function() {
                    console.debug("4) loadeddata");
                }),
                b.addEventListener("progress", function() {
                    console.debug("5) progress");
                }),
                b.addEventListener("canplay", function() {
                    console.debug("6) canplay");
                }),
                b.addEventListener("canplaythrough", function() {
                    console.debug("7) canplaythrough");
                }),
                b.addEventListener("play", function() {
                    console.debug("8) play");
                }),
                b.addEventListener("pause", function() {
                    console.debug("9) pause");
                }),
                b.addEventListener("ended", function() {
                    console.debug("10) ended");
                }),
                b.addEventListener("seeked", function() {
                    console.debug("X) seeked");
                }),
                b.addEventListener("timeupdate", function() {
                    console.debug("Y) timeupdate");
                }),
                b.addEventListener("seeking", function() {
                    console.debug("Z) seeking");
                }));
            var y = this,
                _ = void 0,
                w = void 0;
            this.currentSmilSrc = function() {
                return w;
            };
            var x = 1;
            (this.setRate = function(e) {
                (x = e),
                    x < 0.5 && (x = 0.5),
                    x > 4 && (x = 4),
                    (b.playbackRate = x);
            }),
                y.setRate(x),
                (this.getRate = function() {
                    return x;
                });
            var E = 1;
            (this.setVolume = function(e) {
                (E = e), E < 0 && (E = 0), E > 1 && (E = 1), (b.volume = E);
            }),
                y.setVolume(E),
                (this.getVolume = function() {
                    return E;
                }),
                (this.play = function() {
                    return (
                        v && console.error("this.play()"),
                        !!_ && (u(), y.setVolume(E), y.setRate(x), b.play(), !0)
                    );
                }),
                (this.pause = function() {
                    v && console.error("this.pause()"), c(), b.pause();
                }),
                b.addEventListener("play", a, !1),
                b.addEventListener("pause", s, !1),
                b.addEventListener("ended", l, !1);
            var T = 0,
                S = void 0;
            (this.isPlaying = function() {
                return void 0 !== S;
            }),
                (this.reset = function() {
                    v && console.error("this.reset()"),
                        this.pause(),
                        (b.moSeeking = void 0),
                        (w = void 0),
                        (_ = void 0),
                        setTimeout(function() {
                            b.setAttribute("src", "");
                        }, 1);
                }),
                b.addEventListener("loadstart", function() {
                    C = !0;
                });
            var C = !1;
            this.touchInit = function() {
                return (
                    !!m &&
                    (!C &&
                        ((C = !0),
                        b.setAttribute("src", "touch/init/html5/audio.mp3"),
                        b.load(),
                        !0))
                );
            };
            var k = 0,
                I = 0;
            this.playFile = function(t, n, r) {
                ++k > 99999 && (k = 0);
                var i = k;
                return b.moSeeking
                    ? ++I > N
                        ? void (I = 0)
                        : (v &&
                              console.debug(
                                  "this.playFile(" +
                                      n +
                                      ") @" +
                                      r +
                                      " (POSTPONE, SEEKING...)"
                              ),
                          void setTimeout(function() {
                              y.playFile(t, n, r);
                          }, 20))
                    : ((b.moSeeking = {}),
                      v &&
                          console.debug(
                              "this.playFile(" + n + ") @" + r + " #" + i
                          ),
                      _ && _ === n
                          ? (v && console.debug("this.playFile() SAME SRC"),
                            this.pause(),
                            (w = t),
                            (_ = n),
                            void p(r, i, !1))
                          : (v &&
                                (console.debug("this.playFile() NEW SRC"),
                                console.debug("_currentEpubSrc: " + _),
                                console.debug("epubSrc: " + n)),
                            this.reset(),
                            (b.moSeeking = {}),
                            (w = t),
                            (_ = n),
                            g || b.addEventListener("play", O, !1),
                            e(b).on(A, { seekBegin: r, playId: i }, f),
                            void setTimeout(function() {
                                b.setAttribute("src", _), b.load(), g || P();
                            }, 1)));
            };
            var P = function() {
                    v && console.debug("playToForcePreload");
                    var e = E;
                    (E = 0), y.play(), (E = e);
                },
                O = function() {
                    b.removeEventListener("play", O, !1),
                        v && console.debug("onPlayToForcePreload"),
                        b.pause();
                },
                A = g ? "canplaythrough" : "canplay",
                N = 10,
                R = m ? "canplaythrough" : "seeked",
                D = m ? "timeupdate" : "seeked";
        };
    }),
    define("readium_shared_js/views/media_overlay_element_highlighter", [
        "jquery",
        "readium_cfi_js"
    ], function(e, t) {
        return function(t) {
            function n(t, n, i) {
                if (u)
                    try {
                        if (u[0].ownerDocument === t[0].ownerDocument) return;
                    } catch (e) {}
                ($head = e("head", t[0].ownerDocument.documentElement)),
                    (u = e("<style type='text/css'> </style>")),
                    u.append("." + r + " {");
                var o =
                        "background-color: yellow !important; color: black !important; border-radius: 0.4em;",
                    a = i;
                if (a) {
                    var s = !1;
                    for (var l in a.declarations)
                        a.declarations.hasOwnProperty(l) &&
                            ((s = !0),
                            u.append(l + ": " + a.declarations[l] + "; "));
                    s || n || u.append(o);
                } else n || u.append(o);
                u.append("}"), u.appendTo($head);
            }
            this.includeParWhenAdjustingToSeqSyncGranularity = !0;
            var r = "mo-active-default",
                i = void 0;
            this.isElementHighlighted = function(e) {
                return i && e === i;
            };
            var o = void 0;
            this.isCfiHighlighted = function(e) {
                return o && e === o;
            };
            var a = "",
                s = "",
                l = t,
                u = void 0;
            (this.reDo = function() {
                u && u.remove(), (u = void 0);
                var e = i,
                    t = o,
                    n = a,
                    r = s;
                i
                    ? (this.reset(), this.highlightElement(e, n, r))
                    : o && (this.reset(), this.highlightCfi(t, n, r));
            }),
                (this.highlightElement = function(t, u, c) {
                    if (t && t !== i) {
                        this.reset(), (i = t), (o = void 0), (a = u), (s = c);
                        var d = this.adjustParToSeqSyncGranularity(i),
                            f = d.element;
                        s &&
                            "" !== s &&
                            e(f.ownerDocument.documentElement).addClass(s);
                        var p = e(f),
                            h = a && "" !== a,
                            m = l.userStyles().findStyle("." + r);
                        n(p, h, m),
                            m || !h
                                ? (h && p.addClass(a), p.addClass(r))
                                : p.addClass(a),
                            (this.includeParWhenAdjustingToSeqSyncGranularity ||
                                i !== d) &&
                                e(i.element).addClass("mo-sub-sync");
                    }
                }),
                (this.highlightCfi = function(t, u, c) {
                    if (t && t !== o) {
                        this.reset(), (i = void 0), (o = t), (a = u), (s = c);
                        var d = e(o.cfi.cfiTextParent),
                            f = a && "" !== a,
                            p = l.userStyles().findStyle("." + r);
                        n(d, f, p);
                        if (l.plugins.highlights)
                            try {
                                var h = t.getSmil().spineItemId;
                                l.plugins.highlights.addHighlight(
                                    h,
                                    t.cfi.partialRangeCfi,
                                    "MO_SPEAK",
                                    "highlight",
                                    void 0
                                );
                            } catch (e) {
                                console.error(e);
                            }
                        else if (l.plugins.annotations)
                            try {
                                var h = t.getSmil().spineItemId;
                                l.plugins.annotations.addHighlight(
                                    h,
                                    t.cfi.partialRangeCfi,
                                    "MO_SPEAK",
                                    "highlight",
                                    void 0
                                );
                            } catch (e) {
                                console.error(e);
                            }
                    }
                }),
                (this.reset = function() {
                    if (o) {
                        var t = o.cfi.cfiTextParent.ownerDocument;
                        if (l.plugins.highlights)
                            try {
                                l.plugins.highlights.removeHighlight(
                                    "MO_SPEAK"
                                );
                                for (
                                    var n = void 0;
                                    null !==
                                    (n = t.getElementById("start-MO_SPEAK"));

                                )
                                    console.log("toRemove START"),
                                        console.log(n),
                                        n.parentNode.removeChild(n);
                                for (
                                    ;
                                    null !==
                                    (n = t.getElementById("end-MO_SPEAK"));

                                )
                                    console.log("toRemove END"),
                                        console.log(n),
                                        n.parentNode.removeChild(n);
                            } catch (e) {
                                console.error(e);
                            }
                        else if (l.plugins.annotations)
                            try {
                                l.plugins.annotations.removeHighlight(
                                    "MO_SPEAK"
                                );
                                for (
                                    var n = void 0;
                                    null !==
                                    (n = t.getElementById("start-MO_SPEAK"));

                                )
                                    console.log("toRemove START"),
                                        console.log(n),
                                        n.parentNode.removeChild(n);
                                for (
                                    ;
                                    null !==
                                    (n = t.getElementById("end-MO_SPEAK"));

                                )
                                    console.log("toRemove END"),
                                        console.log(n),
                                        n.parentNode.removeChild(n);
                            } catch (e) {
                                console.error(e);
                            }
                        o = void 0;
                    }
                    if (i) {
                        var u = this.adjustParToSeqSyncGranularity(i),
                            c = u.element;
                        (this.includeParWhenAdjustingToSeqSyncGranularity ||
                            i !== u) &&
                            e(i.element).removeClass("mo-sub-sync"),
                            s &&
                                "" !== s &&
                                e(c.ownerDocument.documentElement).removeClass(
                                    s
                                ),
                            a && "" !== a && e(c).removeClass(a),
                            e(c).removeClass(r),
                            (i = void 0);
                    }
                    (a = ""), (s = "");
                }),
                (this.adjustParToSeqSyncGranularity = function(e) {
                    if (e) {
                        var t = l.viewerSettings()
                            .mediaOverlaysSynchronizationGranularity;
                        if (t && t.length > 0) {
                            if (
                                !(
                                    e.element ||
                                    (e.cfi ? e.cfi.cfiTextParent : void 0)
                                )
                            )
                                return (
                                    console.error(
                                        "adjustParToSeqSyncGranularity !element ???"
                                    ),
                                    e
                                );
                            var n = e.getFirstSeqAncestorWithEpubType(
                                t,
                                this.includeParWhenAdjustingToSeqSyncGranularity
                            );
                            if (n && n.element) return n;
                        }
                        return e;
                    }
                });
        };
    }),
    define("readium_shared_js/views/scroll_view", [
        "../globals",
        "jquery",
        "underscore",
        "eventEmitter",
        "../models/bookmark_data",
        "../models/current_pages_info",
        "../helpers",
        "./one_page_view",
        "../models/page_open_request",
        "../models/viewer_settings"
    ], function(e, t, n, r, i, o, a, s, l, u) {
        return function(c, d, f) {
            function p(e, t) {
                if (pe) return void e();
                var n = P();
                if (!n) return void e();
                var r = H(0),
                    i = V(n);
                if (r.top - i.bottom > se) {
                    var o = M();
                    T(n),
                        b(o - (i.bottom - i.top), void 0),
                        t("updateLoadedViewsTop 1"),
                        p(e, t);
                } else
                    r.top - i.top < se
                        ? _(n, function(n) {
                              n ? (t("updateLoadedViewsTop 2"), p(e, t)) : e();
                          })
                        : e();
            }
            function h(e, t) {
                if (pe) return void e();
                var n = O();
                if (!n) return void e();
                var r = H(0),
                    i = V(n);
                i.top - r.bottom > se
                    ? (T(n), t("updateLoadedViewsBottom 1"), h(e, t))
                    : i.bottom - r.bottom < se
                        ? x(n, function(n) {
                              t("updateLoadedViewsBottom 2"), n ? h(e, t) : e();
                          })
                        : e();
            }
            function m(e) {
                if (d) {
                    var t = void 0;
                    if (Z && e) {
                        var n = e.offset();
                        n && (t = n.top);
                    }
                    var r = function(n) {
                        if (Z) {
                            if (!t) return;
                            var r = void 0,
                                i = e.offset();
                            if ((i && (r = i.top), !r)) return;
                            var o = r - t;
                            Math.abs(o) > 1 &&
                                console.debug(
                                    "@@@@@@@@@@@@@@@ SCROLL ADJUST (" +
                                        n +
                                        ") " +
                                        o +
                                        " -- " +
                                        e.currentSpineItem().href
                                );
                        }
                    };
                    (he = !0),
                        h(function() {
                            p(function() {
                                setTimeout(function() {
                                    he = !1;
                                }, le + 100);
                            }, r);
                        }, r);
                }
            }
            function g(e) {
                f.viewerSettings().mediaOverlaysPreservePlaybackWhenScroll ||
                    (!ve &&
                        f.isMediaOverlayAvailable() &&
                        (ve = f.isPlayingMediaOverlay()) &&
                        f.pauseMediaOverlay());
            }
            function v(e) {
                if (!he && !me && !ge) {
                    ue.resetCurrentPosition(),
                        m(),
                        j(ue),
                        n.defer(function() {
                            re || ue.saveCurrentPosition();
                        });
                    f.viewerSettings()
                        .mediaOverlaysPreservePlaybackWhenScroll ||
                        (ve &&
                            setTimeout(function() {
                                f.playMediaOverlay(), (ve = !1);
                            }, 100));
                }
            }
            function b(e, t) {
                (ie[0].scrollTop = e),
                    t && j(t.initiator, t.spineItem, t.elementId);
            }
            function y(e) {
                var t = M(),
                    n = V(e);
                w(e);
                var r = V(e),
                    i = r.bottom - r.top,
                    o = n.bottom - n.top,
                    a = i - o;
                Math.abs(a) > 0 &&
                    (Z &&
                        console.debug(
                            "IMMEDIATE SCROLL ADJUST: " +
                                e.currentSpineItem().href +
                                " == " +
                                a
                        ),
                    b(t + a));
            }
            function _(e, t) {
                var n = de.prevItem(e.currentSpineItem(), !0);
                if (!n) return void t(!1);
                var r = C(n, !0),
                    i = O();
                r.element().insertAfter(i.element()),
                    r.loadSpineItem(n, function(i, o, a, s, l) {
                        if (i) {
                            w(r);
                            var u = V(r);
                            T(r);
                            var c = M(),
                                d = C(n),
                                f = u.bottom - u.top;
                            d.setHeight(f),
                                d.element().insertBefore(e.element()),
                                (c += f),
                                b(c, void 0),
                                d.loadSpineItem(n, function(e, r, i, o, a) {
                                    e
                                        ? (y(d), A(d, e, r, i, o, a), t(e))
                                        : (console.error(
                                              "Unable to open 2 " + n.href
                                          ),
                                          T(d),
                                          t(!1));
                                });
                        } else
                            console.error("Unable to open 1 " + n.href),
                                T(r),
                                t(!1);
                    });
            }
            function w(e) {
                e.currentSpineItem().isFixedLayout()
                    ? e.scaleToWidth(ie.width())
                    : e.resizeIFrameToContent();
            }
            function x(e, t) {
                var n = de.nextItem(e.currentSpineItem(), !0);
                if (!n) return void t(!1);
                var r = (M(), C(n));
                r.element().insertAfter(e.element()),
                    r.loadSpineItem(n, function(e, i, o, a, s) {
                        e
                            ? (w(r), A(r, e, i, o, a, s), t(e))
                            : (console.error("Unable to load " + n.href),
                              t(!1));
                    });
            }
            function E() {
                var e = [];
                I(function(t) {
                    e.push(t);
                }, !1);
                for (var t = 0, n = e.length; t < n; t++) T(e[t]);
            }
            function T(e) {
                e.onUnload(), e.element().remove();
            }
            function S(e) {
                ie.css("left", e.left),
                    ie.css("top", e.top),
                    ie.css("right", e.right),
                    ie.css("bottom", e.bottom);
            }
            function C(t, r) {
                function i() {
                    w(a), j(ue), m(), re && !ne && ue.restoreCurrentPosition();
                }
                c.disablePageTransitions = !0;
                var o = !0;
                t.isFixedLayout() && (o = !1);
                var a = new s(c, ["content-doc-frame"], o, f);
                a.on(s.Events.SPINE_ITEM_OPEN_START, function(t, n) {
                    e.logEvent(
                        "OnePageView.Events.SPINE_ITEM_OPEN_START",
                        "ON",
                        "scroll_view.js [ " + n.href + " ]"
                    ),
                        e.logEvent(
                            "CONTENT_DOCUMENT_LOAD_START",
                            "EMIT",
                            "scroll_view.js [ " + n.href + " ]"
                        ),
                        ue.emit(e.Events.CONTENT_DOCUMENT_LOAD_START, t, n);
                }),
                    a.on(e.Events.CONTENT_DOCUMENT_UNLOADED, function(t, n) {
                        e.logEvent(
                            "CONTENT_DOCUMENT_UNLOADED",
                            "ON",
                            "scroll_view.js [ " + n.href + " ]"
                        ),
                            ue.emit(e.Events.CONTENT_DOCUMENT_UNLOADED, t, n);
                    });
                var l = n.debounce(i, 100);
                a.on(s.Events.CONTENT_SIZE_CHANGED, function(t, n) {
                    e.logEvent(
                        "OnePageView.Events.CONTENT_SIZE_CHANGED",
                        "ON",
                        "scroll_view.js [ " + n.href + " ]"
                    ),
                        l();
                }),
                    a.render();
                return (
                    be && a.setViewSettings(be, !0),
                    r || a.element().data("pageView", a),
                    d && a.decorateIframe(),
                    a
                );
            }
            function k(e, t) {
                var n = void 0;
                return (
                    I(function(t) {
                        return t.currentSpineItem() != e || ((n = t), !1);
                    }, t),
                    n
                );
            }
            function I(e, t) {
                for (
                    var n = ie.children(),
                        r = n.length,
                        i = t
                            ? function(e) {
                                  return e - 1;
                              }
                            : function(e) {
                                  return e + 1;
                              },
                        o = t
                            ? function(e) {
                                  return e >= 0;
                              }
                            : function(e) {
                                  return e < r;
                              },
                        a = t ? r - 1 : 0,
                        s = a;
                    o(s);
                    s = i(s)
                ) {
                    var l = n.eq(s),
                        u = l.data("pageView");
                    if (u && !1 === e(u)) return;
                }
            }
            function P() {
                var e = void 0;
                return (
                    I(function(t) {
                        return (e = t), !1;
                    }, !1),
                    e
                );
            }
            function O() {
                var e = void 0;
                return (
                    I(function(t) {
                        return (e = t), !1;
                    }, !0),
                    e
                );
            }
            function A(t, n, r, i, o, a) {
                n &&
                    o &&
                    (e.logEvent(
                        "CONTENT_DOCUMENT_LOADED",
                        "EMIT",
                        "scroll_view.js [ " + i.href + " ]"
                    ),
                    ue.emit(e.Events.CONTENT_DOCUMENT_LOADED, r, i));
            }
            function N(e, t) {
                E();
                var n = (M(), C(e));
                ie.append(n.element()),
                    n.loadSpineItem(e, function(e, r, i, o, a) {
                        e
                            ? (w(n), A(n, e, r, i, o, a))
                            : (console.error("Unable to load " + i.href),
                              T(n),
                              (n = void 0)),
                            t(n);
                    });
            }
            function R(e, t) {
                var n,
                    r,
                    i,
                    o,
                    a = 0;
                if (void 0 !== t.scrollTop) a = t.scrollTop;
                else if (void 0 !== t.spineItemPageIndex) {
                    var s;
                    (n = D()),
                        (s =
                            t.spineItemPageIndex < 0
                                ? 0
                                : t.spineItemPageIndex >= n
                                    ? n - 1
                                    : t.spineItemPageIndex),
                        (a = s * F());
                } else if (e && t.elementId) {
                    if (
                        ((o = V(e)),
                        (i = e.getNavigator()),
                        !(r = i.getElementById(t.elementId)) || !r.length)
                    )
                        return void console.warn(
                            "Element id=" + t.elementId + " not found!"
                        );
                    if (G(e, r, 60))
                        return void j(t.initiator, t.spineItem, t.elementId);
                    var l = K(e, r);
                    a = l.top + o.top;
                } else if (e && t.elementCfi) {
                    (o = V(e)), (i = e.getNavigator());
                    var u = i.getDomRangeFromRangeCfi(t.elementCfi);
                    if (!u)
                        return void console.warn(
                            "Range for cfi=" + t.elementCfi + " not found!"
                        );
                    var c = J(e, u);
                    if (X(c, 60))
                        return void j(t.initiator, t.spineItem, t.elementId);
                    a = c.top;
                } else if (t.firstPage) a = 0;
                else if (t.lastPage) {
                    if (0 === (n = D())) return;
                    a = U() - F() - 5;
                } else e ? ((o = V(e)), (a = o.top)) : (a = 0);
                M() != a
                    ? ((me = !0),
                      b(a, t),
                      setTimeout(function() {
                          me = !1;
                      }, le + 100))
                    : j(t.initiator, t.spineItem, t.elementId);
            }
            function D() {
                return Math.ceil(U() / F());
            }
            function j(t, n, r) {
                e.logEvent(
                    "InternalEvents.CURRENT_VIEW_PAGINATION_CHANGED",
                    "EMIT",
                    "scroll_view.js"
                ),
                    ue.emit(e.InternalEvents.CURRENT_VIEW_PAGINATION_CHANGED, {
                        paginationInfo: ue.getPaginationInfo(),
                        initiator: t,
                        spineItem: n,
                        elementId: r
                    });
            }
            function M() {
                return ie[0].scrollTop;
            }
            function L() {
                return U() - (M() + F());
            }
            function F() {
                return ie.height();
            }
            function U() {
                return ie[0].scrollHeight;
            }
            function z() {
                var e = [],
                    t = H(-ae);
                return (
                    I(function(n) {
                        if (B(n, t)) e.push(n);
                        else if (e.length > 0) return !1;
                        return !0;
                    }, !1),
                    e
                );
            }
            function B(e, t) {
                return W(q(V(e), t)) > 0;
            }
            function V(e) {
                var t = { top: 0, bottom: 0 },
                    n = e.element(),
                    r = n.position();
                if (ee) {
                    var i = n.offsetParent();
                    (r.top -= i.scrollTop()), (r.left -= i.scrollLeft());
                }
                return (
                    (t.top = r.top + M()),
                    (t.bottom = t.top + e.getCalculatedPageHeight()),
                    t
                );
            }
            function $(e) {
                var t,
                    n = H(),
                    r = void 0,
                    i = { top: 0, bottom: 0 },
                    o = !1;
                return (
                    I(function(a) {
                        if (
                            ((t = V(a)),
                            (i.top = Math.max(t.top, n.top) - t.top),
                            (i.bottom = Math.min(t.bottom, n.bottom) - t.top),
                            W(i) > 0)
                        ) {
                            if (((o = !0), (r = e(a, i)))) return !1;
                        } else if (o) return !1;
                        return !0;
                    }, !1),
                    r
                );
            }
            function H(e) {
                0 === e || e || (e = 0);
                var t = { top: M() - e, bottom: M() + F() + e };
                return (
                    t.top < 0 && (t.top = 0),
                    t.bottom > U() && (t.bottom = U()),
                    t
                );
            }
            function q(e, t) {
                return {
                    top: Math.max(e.top, t.top),
                    bottom: Math.min(e.bottom, t.bottom)
                };
            }
            function W(e) {
                return e.bottom < e.top ? 0 : e.bottom - e.top;
            }
            function G(e, t, n) {
                return X(K(e, t), n);
            }
            function X(e, t) {
                var n = H(),
                    r = Math.min(W(n), W(e));
                return 0 === r && (r = 5), (W(q(n, e)) / r) * 100 >= t;
            }
            function K(e, t) {
                var n = V(e),
                    r = { top: 0, bottom: 0 };
                return (
                    (r.top = t.offset().top + n.top),
                    (r.bottom = r.top + t.height()),
                    r
                );
            }
            function J(e, t) {
                var n = V(e),
                    r = { top: 0, bottom: 0 },
                    i = t.getBoundingClientRect();
                return (
                    (r.top = i.top + n.top), (r.bottom = r.top + i.height), r
                );
            }
            function Q(e) {
                var t,
                    n,
                    r = z(),
                    i = e(r),
                    o = i.element().position().top;
                t = { top: Math.min(0, o), left: 0 };
                var a = Math.min(i.element().height(), F());
                return (
                    o >= 0 && (a -= o),
                    (n = { width: i.element().width(), height: a }),
                    e([i.getFirstVisibleCfi, i.getLastVisibleCfi])(t, n)
                );
            }
            function Y(e, t) {
                return new i(e.idref, t);
            }
            var Z = !1,
                ee = !1;
            try {
                var te = t.fn.jquery.split(".");
                2 == parseInt(te[0]) &&
                    2 == parseInt(te[1]) &&
                    0 == parseInt(te[2]) &&
                    (ee = !0);
            } catch (e) {
                console.error(e);
            }
            t.extend(this, new r());
            var ne,
                re,
                ie,
                oe,
                ae = 5,
                se = 2e3,
                le = 300,
                ue = this,
                ce = t(c.$viewport),
                de = c.spine,
                fe = c.userStyles,
                pe = !1,
                he = !1,
                me = !1,
                ge = !1;
            (this.isContinuousScroll = function() {
                return d;
            }),
                (this.render = function() {
                    var e = a.loadTemplate("scrolled_book_frame", {});
                    (oe = t(e)),
                        ce.append(oe),
                        (ie = t("#scrolled-content-frame", oe)),
                        ie.css("overflow", ""),
                        ie.css("overflow-y", "auto"),
                        ie.css("overflow-x", "hidden"),
                        ie.css("-webkit-overflow-scrolling", "touch"),
                        ie.css("width", "100%"),
                        ie.css("height", "100%"),
                        ie.css("position", "relative");
                    var r = f.viewerSettings();
                    (r && void 0 !== r.enableGPUHardwareAccelerationCSS3D) ||
                        (r = new u({})),
                        r.enableGPUHardwareAccelerationCSS3D &&
                            ie.css("transform", "translateZ(0)"),
                        ue.applyStyles();
                    var i = n.debounce(v, le);
                    return (
                        ie.on("scroll", function(e) {
                            i(e), g();
                        }),
                        ue
                    );
                });
            var ve = !1;
            (this.remove = function() {
                oe.remove();
            }),
                (this.onViewportResize = function() {}),
                (this.resetCurrentPosition = function() {
                    re = void 0;
                }),
                (this.saveCurrentPosition = function() {
                    if (!ne) {
                        var e = ue.getFirstVisibleCfi(),
                            t = de.getItemById(e.idref);
                        t &&
                            ((re = new l(t, ue)),
                            re.setElementCfi(e.contentCFI));
                    }
                }),
                (this.restoreCurrentPosition = function() {
                    re && this.openPageInternal(re);
                });
            var be = void 0;
            (this.setViewSettings = function(e, t) {
                (be = e),
                    I(function(n) {
                        n.setViewSettings(e, t);
                    }, !1);
            }),
                (this.applyStyles = function() {
                    a.setStyles(fe.getStyles(), oe.parent()),
                        S(a.Margins.fromElement(oe).padding);
                }),
                (this.applyBookStyles = function() {
                    I(function(e) {
                        e.applyBookStyles();
                    }, !1);
                }),
                (this.openPageInternal = function(e) {
                    pe = !0;
                    var t = function(e, t) {
                        (ne = void 0), R(e, t), (pe = !1), m(e);
                    };
                    if (e.spineItem) {
                        var n = k(e.spineItem);
                        n
                            ? t(n, e)
                            : ((ne = e),
                              (ge = !0),
                              N(e.spineItem, function(n) {
                                  setTimeout(function() {
                                      ge = !1;
                                  }, le + 100),
                                      n && ne
                                          ? n.currentSpineItem() ===
                                            ne.spineItem
                                              ? t(n, ne)
                                              : ue.openPage(ne)
                                          : j(
                                                e.initiator,
                                                e.spineItem,
                                                e.elementId
                                            );
                              }));
                    } else t(void 0, e);
                }),
                (this.openPage = function(e) {
                    this.resetCurrentPosition(),
                        (re = e),
                        this.openPageInternal(e);
                }),
                (this.openPageNext = function(e) {
                    var t;
                    L() > 0 &&
                        ((t = new l(void 0, e)),
                        (t.scrollTop = M() + Math.min(L(), F() - ae)),
                        R(void 0, t));
                }),
                (this.openPagePrev = function(e) {
                    var t;
                    M() > 0 &&
                        ((t = new l(void 0, e)),
                        (t.scrollTop = M() - (F() - ae)),
                        t.scrollTop < 0 && (t.scrollTop = 0),
                        R(void 0, t));
                }),
                (this.getPaginationInfo = function() {
                    for (
                        var e,
                            t,
                            n,
                            r,
                            i,
                            a,
                            s,
                            l,
                            u = H(),
                            c = u.bottom - u.top,
                            d = new o(de, !1),
                            f = z(),
                            p = 0,
                            h = f.length;
                        p < h;
                        p++
                    )
                        (n = f[p]),
                            (e = n.currentSpineItem()),
                            (r = V(n)),
                            (i = Math.max(u.top - r.top, 0)),
                            (a = Math.max(r.bottom - u.bottom, 0)),
                            (s = Math.ceil(i / c)),
                            (l = Math.ceil(a / c)),
                            (t = s + l + 1),
                            d.addOpenPage(s, t, e.idref, e.index);
                    return d;
                }),
                (this.bookmarkCurrentPage = function() {
                    return ue.getFirstVisibleCfi();
                }),
                (this.getLoadedSpineItems = function() {
                    var e = [];
                    return (
                        I(function(t) {
                            e.push(t.currentSpineItem());
                        }, !1),
                        e
                    );
                }),
                (this.getElement = function(e, t) {
                    var n = void 0;
                    return (
                        I(function(r) {
                            return (
                                r.currentSpineItem().idref != e ||
                                ((n = r.getNavigator().getElement(t)), !1)
                            );
                        }, !1),
                        n
                    );
                }),
                (this.getElementById = function(e, t) {
                    var n = void 0;
                    return (
                        I(function(r) {
                            return (
                                r.currentSpineItem().idref != e ||
                                ((n = r.getNavigator().getElementById(t)), !1)
                            );
                        }, !1),
                        n || void console.error("spine item is not loaded")
                    );
                }),
                (this.getElementByCfi = function(e, t, n, r, i) {
                    var o = void 0;
                    return (
                        I(function(a) {
                            return (
                                a.currentSpineItem().idref != e ||
                                ((o = a
                                    .getNavigator()
                                    .getElementByCfi(t, n, r, i)),
                                !1)
                            );
                        }, !1),
                        o || void console.error("spine item is not loaded")
                    );
                }),
                (this.getFirstVisibleMediaOverlayElement = function() {
                    return $(function(e, t) {
                        return e
                            .getNavigator()
                            .getFirstVisibleMediaOverlayElement(t);
                    });
                }),
                (this.insureElementVisibility = function(e, n, r) {
                    var i = void 0;
                    if (
                        (I(function(t) {
                            return (
                                t.currentSpineItem().idref !== e ||
                                ((i = t), !1)
                            );
                        }, !1),
                        !i)
                    )
                        return void console.warn(
                            "Page for element " + n + " not found"
                        );
                    var o = t(n),
                        a = K(i, o);
                    if (!X(a, 60)) {
                        var s = de.getItemById(e),
                            u = new l(s, r);
                        (u.scrollTop = a.top), ue.openPage(u);
                    }
                }),
                (this.getVisibleElements = function(e, t) {
                    var r = [];
                    return (
                        I(function(i) {
                            t
                                ? r.push({
                                      elements: i.getVisibleElements(e),
                                      spineItem: i.currentSpineItem()
                                  })
                                : (r = n.flatten(
                                      [r, i.getVisibleElements(e)],
                                      !0
                                  ));
                        }),
                        r
                    );
                }),
                (this.getVisibleElementsWithFilter = function(e) {
                    console.warn(
                        "getVisibleElementsWithFilter: Not implemented yet for scroll_view"
                    );
                }),
                (this.isElementVisible = function(e) {
                    console.warn(
                        "isElementVisible: Not implemented yet for scroll_view"
                    );
                }),
                (this.getElements = function(e, t) {
                    var n = k(e);
                    if (n) return n.getElements(e, t);
                }),
                (this.isNodeFromRangeCfiVisible = function(e, t) {
                    var n = k(spineIdRef);
                    if (n) return n.isNodeFromRangeCfiVisible(spineIdRef, t);
                }),
                (this.isVisibleSpineItemElementCfi = function(e, t) {
                    var n = k(e);
                    if (n) return n.isVisibleSpineItemElementCfi(e, t);
                }),
                (this.getNodeRangeInfoFromCfi = function(e, t) {
                    var n = k(e);
                    if (n) return n.isVisibleSpineItemElementCfi(e, t);
                }),
                (this.getFirstVisibleCfi = function() {
                    return Q(n.first);
                }),
                (this.getLastVisibleCfi = function() {
                    return Q(n.last);
                }),
                (this.getDomRangeFromRangeCfi = function(e, t, n) {
                    return t && e.idref !== t.idref
                        ? void console.error(
                              "getDomRangeFromRangeCfi: both CFIs must be scoped under the same spineitem idref"
                          )
                        : ((e = e || {}),
                          (t = t || {}),
                          $(function(r) {
                              if (r.currentSpineItem().idref === e.idref)
                                  return r.getDomRangeFromRangeCfi(
                                      e.contentCFI,
                                      t.contentCFI,
                                      n
                                  );
                          }));
                }),
                (this.getRangeCfiFromDomRange = function(e) {
                    return $(function(t) {
                        return t.getRangeCfiFromDomRange(e);
                    });
                }),
                (this.getVisibleCfiFromPoint = function(e, t, n) {
                    return $(function(r) {
                        return Y(
                            r.currentSpineItem(),
                            r.getVisibleCfiFromPoint(e, t, n)
                        );
                    });
                }),
                (this.getRangeCfiFromPoints = function(e, t, n, r) {
                    return $(function(i) {
                        return Y(
                            i.currentSpineItem(),
                            i.getRangeCfiFromPoints(e, t, n, r)
                        );
                    });
                }),
                (this.getCfiForElement = function(e) {
                    return $(function(t) {
                        return Y(
                            t.currentSpineItem(),
                            t.getCfiForElement(e).contentCFI
                        );
                    });
                }),
                (this.getElementFromPoint = function(e, t) {
                    return $(function(n) {
                        return n.getElementFromPoint(e, t);
                    });
                }),
                (this.getStartCfi = function() {
                    return $(function(e) {
                        return e.getStartCfi();
                    });
                }),
                (this.getEndCfi = function() {
                    return $(function(e) {
                        return e.getEndCfi();
                    });
                }),
                (this.getNearestCfiFromElement = function(e) {
                    return $(function(t) {
                        return t.getNearestCfiFromElement(e);
                    });
                });
        };
    }),
    define("readium_shared_js/views/media_overlay_player", [
        "../globals",
        "jquery",
        "../helpers",
        "./audio_player",
        "./media_overlay_element_highlighter",
        "../models/smil_iterator",
        "readium_cfi_js",
        "./scroll_view"
    ], function(e, t, n, r, i, o, a, s) {
        return function(l, u) {
            function c(e) {
                var t = e.getSmil();
                if (
                    (_ && _.smil == t ? _.reset() : (_ = new o(t)),
                    _.goToPar(e),
                    !_.currentPar)
                )
                    return void console.error(
                        "playPar !_smilIterator.currentPar"
                    );
                f();
            }
            function d() {
                A.resetBlankPage(),
                    (M = setTimeout(function() {
                        if (M) {
                            if ((A.resetBlankPage(), !_ || !_.currentPar))
                                return void A.reset();
                            (F = 0), h(_.currentPar.audio.clipEnd + 0.1, 2);
                        }
                    }, 2e3)),
                    u({ isPlaying: !0 });
            }
            function f() {
                if (((q = !1), !_ || !_.currentPar))
                    return void console.error(
                        "playCurrentPar !_smilIterator || !_smilIterator.currentPar ???"
                    );
                if (!_.smil.id)
                    return (
                        w.reset(),
                        A.resetTTS(),
                        A.resetEmbedded(),
                        void setTimeout(function() {
                            d();
                        }, 100)
                    );
                if (_.currentPar.audio.src) {
                    A.resetTTS(), A.resetEmbedded(), A.resetBlankPage();
                    var e =
                        _.currentPar.audio.clipEnd -
                        _.currentPar.audio.clipBegin;
                    (e <= 0 || j > e) &&
                        (console.error(
                            "### MO XXX PAR OFFSET: " + j + " / " + e
                        ),
                        (j = 0));
                    var r = n.ResolveContentRef(
                            _.currentPar.audio.src,
                            _.smil.href
                        ),
                        i = P.resolveRelativeUrlMO(r),
                        o = _.currentPar.audio.clipBegin + j;
                    w.playFile(_.currentPar.audio.src, i, o);
                } else {
                    (j = 0), w.reset();
                    var s = _.currentPar.element;
                    if (s) {
                        F = 0;
                        var l = s.nodeName ? s.nodeName.toLowerCase() : void 0;
                        "audio" === l || "video" === l
                            ? (A.resetTTS(),
                              A.resetBlankPage(),
                              I && A.resetEmbedded(),
                              (I = s),
                              I.pause(),
                              (I.currentTime = 0),
                              I.play(),
                              t(I).on("ended", A.onEmbeddedEnd),
                              (k = !0),
                              setTimeout(function() {
                                  u({ isPlaying: !0 });
                              }, 80))
                            : (A.resetEmbedded(),
                              A.resetBlankPage(),
                              (E = s.textContent),
                              E && "" != E ? V(E) : (E = void 0));
                    }
                    var c = _.currentPar.cfi;
                    if (c) {
                        (F = 0),
                            A.resetEmbedded(),
                            A.resetBlankPage(),
                            N.reset();
                        var f = c.cfiTextParent.ownerDocument,
                            p = "epubcfi(" + c.partialStartCfi + ")",
                            h = (a.getTextTerminusInfoWithPartialCFI(
                                p,
                                f,
                                ["cfi-marker", "mo-cfi-highlight"],
                                [],
                                ["MathJax_Message"]
                            ),
                            "epubcfi(" + c.partialEndCfi + ")");
                        a.getTextTerminusInfoWithPartialCFI(
                            h,
                            f,
                            ["cfi-marker", "mo-cfi-highlight"],
                            [],
                            ["MathJax_Message"]
                        );
                        (E = void 0), E && "" != E ? V(E) : (E = void 0);
                    }
                }
                (j = 0), y();
            }
            function p(e) {
                A.pause();
                var t = e
                    ? P.media_overlay.getNextSmil(_.smil)
                    : P.media_overlay.getPreviousSmil(_.smil);
                if (t) {
                    if (((_ = new o(t)), _.currentPar)) {
                        if (!e) for (; !_.isLast(); ) _.next();
                        l.openContentUrl(_.currentPar.text.src, _.smil.href, A);
                    }
                } else console.log("No more SMIL"), A.reset();
            }
            function h(e, t, n) {
                if (((F = e), (L = !1), _ && _.currentPar)) {
                    var r = _.currentPar,
                        i = _.currentPar.audio;
                    if (!(e > U && e <= i.clipEnd)) {
                        L = !0;
                        var o = w.isPlaying();
                        o &&
                            6 === t &&
                            console.debug(
                                "from userNav _audioPlayer.isPlaying() ???"
                            );
                        var a = e > i.clipEnd,
                            s = !G && 6 !== t && a,
                            l =
                                _ && _.smil && _.smil.spineItemId
                                    ? _.smil.spineItemId
                                    : D && D.spineItem && D.spineItem.idref
                                        ? D.spineItem.idref
                                        : void 0;
                        if (
                            s &&
                            l &&
                            D &&
                            D.paginationInfo &&
                            D.paginationInfo.openPages &&
                            D.paginationInfo.openPages.length > 1
                        ) {
                            l === D.paginationInfo.openPages[0].idref &&
                                (s = !1);
                        }
                        if ((a ? _.next() : _.previous(), !_.currentPar))
                            return void (s ? ((W = !0), A.reset()) : p(a));
                        if (!_.currentPar.audio) return void A.pause();
                        if (O.mediaOverlaysSkipSkippables) {
                            for (var u = !1, c = _.currentPar; c; ) {
                                if (
                                    c.isSkippable &&
                                    c.isSkippable(O.mediaOverlaysSkippables)
                                ) {
                                    u = !0;
                                    break;
                                }
                                c = c.parent;
                            }
                            if (u) {
                                console.log("MO SKIP: " + c.epubtype),
                                    A.pause();
                                return void h(
                                    a
                                        ? _.currentPar.audio.clipEnd + 0.1
                                        : U - 1,
                                    t,
                                    !0
                                );
                            }
                        }
                        if (
                            !o &&
                            (_.currentPar.element ||
                                (_.currentPar.cfi &&
                                    _.currentPar.cfi.cfiTextParent))
                        ) {
                            var d = N.adjustParToSeqSyncGranularity(
                                _.currentPar
                            );
                            if (d && d !== _.currentPar) {
                                var m = N.adjustParToSeqSyncGranularity(r);
                                if (m && (m === d || !a)) {
                                    if (m === d) {
                                        do {
                                            a ? _.next() : _.previous();
                                        } while (
                                            _.currentPar &&
                                            _.currentPar.hasAncestor(m)
                                        );
                                        if (!_.currentPar)
                                            return void (s
                                                ? ((W = !0), A.reset())
                                                : p(a));
                                    }
                                    if (!a) {
                                        var g = N.adjustParToSeqSyncGranularity(
                                            _.currentPar
                                        );
                                        if (g && g !== _.currentPar) {
                                            var v = _.currentPar,
                                                b = void 0;
                                            do {
                                                (b = _.currentPar),
                                                    _.previous();
                                            } while (
                                                _.currentPar &&
                                                _.currentPar.hasAncestor(g)
                                            );
                                            _.currentPar
                                                ? (_.next(),
                                                  _.currentPar.hasAncestor(g) ||
                                                      console.error(
                                                          "adjustParToSeqSyncGranularity !_smilIterator.currentPar.hasAncestor(landed) ???"
                                                      ))
                                                : (_.reset(),
                                                  _.currentPar !== b &&
                                                      console.error(
                                                          "adjustParToSeqSyncGranularity _smilIterator.currentPar !=== innerPar???"
                                                      )),
                                                _.currentPar ||
                                                    (console.error(
                                                        "adjustParToSeqSyncGranularity !_smilIterator.currentPar ?????"
                                                    ),
                                                    _.goToPar(v));
                                        }
                                    }
                                }
                            }
                        }
                        if (
                            w.isPlaying() &&
                            _.currentPar.audio.src &&
                            _.currentPar.audio.src == w.currentSmilSrc() &&
                            e >= _.currentPar.audio.clipBegin &&
                            e <= _.currentPar.audio.clipEnd
                        )
                            return void y();
                        f();
                    }
                }
            }
            function m(e) {
                if (!B || B[0].ownerDocument !== e[0].ownerDocument) {
                    ($head = t("head", e[0].ownerDocument.documentElement)),
                        (B = t("<style type='text/css'> </style>").appendTo(
                            $head
                        )),
                        B.append(
                            ".tts_on{background-color:red;color:white;} .tts_off{}"
                        );
                }
            }
            function g() {
                v();
                var e = function() {
                    if (_ && _.currentPar) {
                        var e = _.smil;
                        if (e.mo) {
                            var t = F - _.currentPar.audio.clipBegin;
                            if (!(t <= 0)) {
                                for (
                                    var n = e.mo.smil_models.indexOf(e),
                                        r = new o(e),
                                        i = -1;
                                    r.currentPar &&
                                    (i++, r.currentPar != _.currentPar);

                                )
                                    r.next();
                                u({
                                    playPosition: t,
                                    smilIndex: n,
                                    parIndex: i
                                });
                            }
                        }
                    }
                };
                setTimeout(e, 500), (H = setInterval(e, 1500));
            }
            function v() {
                (F = 0), void 0 !== H && clearInterval(H), (H = void 0);
            }
            function b() {
                return (
                    v(),
                    L
                        ? void (L = !1)
                        : _ && _.currentPar
                            ? void h(_.currentPar.audio.clipEnd + 0.1, 5)
                            : void A.reset()
                );
            }
            function y() {
                if (_ && _.currentPar) {
                    if (
                        _.currentPar.text.srcFragmentId &&
                        _.currentPar.text.srcFragmentId.length > 0
                    ) {
                        if (_.currentPar.element)
                            return void (
                                N.isElementHighlighted(_.currentPar) ||
                                (N.highlightElement(
                                    _.currentPar,
                                    P.media_overlay.activeClass,
                                    P.media_overlay.playbackActiveClass
                                ),
                                q ||
                                    l.insureElementVisibility(
                                        _.currentPar.getSmil().spineItemId,
                                        _.currentPar.element,
                                        A
                                    ))
                            );
                        if (_.currentPar.cfi)
                            return void (
                                N.isCfiHighlighted(_.currentPar) ||
                                (N.highlightCfi(
                                    _.currentPar,
                                    P.media_overlay.activeClass,
                                    P.media_overlay.playbackActiveClass
                                ),
                                q ||
                                    l.insureElementVisibility(
                                        _.currentPar.getSmil().spineItemId,
                                        _.currentPar.cfi.cfiTextParent,
                                        A
                                    ))
                            );
                    }
                    if (!_.currentPar.element) {
                        var e = _.currentPar.text.src,
                            t = _.smil.href;
                        (_ = void 0), l.openContentUrl(e, t, A);
                    }
                }
            }
            var _ = void 0,
                w = new r(u, h, b, g, v),
                x = !1,
                E = void 0,
                T =
                    void 0 !== window.speechSynthesis &&
                    null != speechSynthesis,
                S = void 0,
                C = !1,
                k = !1,
                I = void 0;
            this.isPlaying = function() {
                return w.isPlaying() || x || k || M;
            };
            var P = l.package(),
                O = l.viewerSettings(),
                A = this,
                N = new i(l);
            l.on(e.Events.READER_VIEW_DESTROYED, function() {
                e.logEvent(
                    "READER_VIEW_DESTROYED",
                    "ON",
                    "media_overlay_player.js"
                ),
                    A.reset();
            }),
                (this.applyStyles = function() {
                    N.reDo();
                }),
                (this.onSettingsApplied = function() {
                    w.setRate(O.mediaOverlaysRate),
                        w.setVolume(O.mediaOverlaysVolume / 100);
                }),
                A.onSettingsApplied(),
                l.on(
                    e.Events.SETTINGS_APPLIED,
                    function() {
                        e.logEvent(
                            "SETTINGS_APPLIED",
                            "ON",
                            "media_overlay_player.js"
                        ),
                            this.onSettingsApplied();
                    },
                    this
                );
            var R = !1;
            this.onDocLoadStart = function() {
                A.isPlaying() && ((R = !0), A.pause());
            };
            var D = void 0;
            this.onPageChanged = function(e) {
                D = e;
                var n = W;
                W = !1;
                var r = R;
                if (((R = !1), !e)) return void A.reset();
                var i = void 0;
                if (e.elementId || e.initiator == A) {
                    for (
                        var o = l.getLoadedSpineItems(),
                            a = l.spine().isRightToLeft(),
                            s = a ? o.length - 1 : 0;
                        (a && s >= 0) || (!a && s < o.length);
                        s += a ? -1 : 1
                    ) {
                        var u = o[s];
                        if (!e.spineItem || e.spineItem == u) {
                            if (
                                e.elementId &&
                                0 === e.elementId.indexOf("epubcfi")
                            ) {
                                N.reset();
                                var d = e.elementId.substr(
                                    "epubcfi".length + 1,
                                    e.elementId.length - "epubcfi".length - 2
                                );
                                0 === d.indexOf("/99!") &&
                                    (d = d.substr(
                                        "/99!".length,
                                        d.length - "/99!".length
                                    ));
                                var p = d.split(",");
                                if (p && 3 === p.length)
                                    try {
                                        var h = p[0] + p[1],
                                            m = l.getElementByCfi(
                                                u.idref,
                                                h,
                                                [
                                                    "cfi-marker",
                                                    "mo-cfi-highlight"
                                                ],
                                                [],
                                                ["MathJax_Message"]
                                            );
                                        if (
                                            (i =
                                                m && m.length > 0
                                                    ? m[0]
                                                    : void 0)
                                        ) {
                                            i.nodeType === Node.TEXT_NODE &&
                                                (i = i.parentNode);
                                            break;
                                        }
                                    } catch (e) {
                                        console.error(e);
                                    }
                                else
                                    try {
                                        var m = l.getElementByCfi(
                                            u.idref,
                                            d,
                                            ["cfi-marker", "mo-cfi-highlight"],
                                            [],
                                            ["MathJax_Message"]
                                        );
                                        if (
                                            (i =
                                                m && m.length > 0
                                                    ? m[0]
                                                    : void 0)
                                        ) {
                                            i.nodeType === Node.TEXT_NODE &&
                                                (i = i.parentNode);
                                            break;
                                        }
                                    } catch (e) {
                                        console.error(e);
                                    }
                            }
                            if (!i) {
                                if (e.initiator != A || e.elementId) {
                                    var m = l.getElementById(
                                        u.idref,
                                        e.elementId
                                    );
                                    i = m && m.length > 0 ? m[0] : void 0;
                                } else {
                                    var m = l.getElement(u.idref, "body");
                                    i = m && m.length > 0 ? m[0] : void 0;
                                }
                                if (i) break;
                            }
                        }
                    }
                    i ||
                        console.error(
                            "paginationData.elementId BUT !element: " +
                                e.elementId
                        );
                }
                var g = A.isPlaying() || r;
                if (!_ || !_.currentPar) {
                    if (e.initiator !== A)
                        return (
                            (j = 0),
                            A.reset(),
                            void (e.elementId && i
                                ? (g || n) &&
                                  ((e.elementIdResolved = i),
                                  A.toggleMediaOverlayRefresh(e))
                                : (g || n) && A.toggleMediaOverlay())
                        );
                    if (!i)
                        return (
                            console.error("!element: " + e.elementId),
                            void (j = 0)
                        );
                    var v = t(i).data("mediaOverlayData");
                    if (!v)
                        return (
                            console.error("!moData: " + e.elementId),
                            void (j = 0)
                        );
                    var b = v.par ? v.par : v.pars[0];
                    if (v.pars)
                        for (var w = 0; w < v.pars.length; w++) {
                            var x = v.pars[w];
                            if (e.elementId === x.cfi.smilTextSrcCfi) {
                                b = x;
                                break;
                            }
                        }
                    return void c(b);
                }
                var E = !_.currentPar.element && !_.currentPar.cfi;
                if (
                    (E &&
                        console.error("!! _smilIterator.currentPar.element ??"),
                    e.initiator == A)
                ) {
                    var T =
                        e.elementId &&
                        e.elementId !== _.currentPar.text.srcFragmentId;
                    if (
                        (T &&
                            console.error(
                                "!! paginationData.elementId !== _smilIterator.currentPar.text.srcFragmentId"
                            ),
                        T || E)
                    )
                        return void (j = 0);
                    g ? y() : f();
                } else {
                    if (!g && !n) return void A.reset();
                    if ((e.elementId, e.elementId && !i)) return;
                    e.elementId && (e.elementIdResolved = i),
                        A.toggleMediaOverlayRefresh(e);
                }
            };
            var j = 0,
                M = void 0,
                L = !1,
                F = 0,
                U = -999;
            this.touchInit = function() {
                return w.touchInit();
            };
            var z = function(e) {
                    var t = [
                            "p",
                            "div",
                            "pagenum",
                            "td",
                            "table",
                            "li",
                            "ul",
                            "ol"
                        ],
                        n = [",", ";", ".", "-", "??", "??", "?", "!"],
                        r = function(e, t) {
                            if (!(e.word.length <= 0)) {
                                var n = e.text.length;
                                (t.spanMap[n] = e.counter),
                                    (e.text += e.word),
                                    (e.markup +=
                                        e.html.substring(0, e.wordStart) +
                                        '<span class="tts_off" id="tts_' +
                                        e.counter +
                                        '">' +
                                        e.html.substring(
                                            e.wordStart,
                                            e.wordEnd
                                        ) +
                                        "</span>" +
                                        e.html.substring(
                                            e.wordEnd,
                                            e.html.length
                                        )),
                                    (e.word = ""),
                                    (e.html = ""),
                                    (e.wordStart = -1),
                                    (e.wordEnd = -1),
                                    e.counter++;
                            }
                        },
                        i = {
                            element: e,
                            innerHTML_tts: "",
                            spanMap: {},
                            text: "",
                            lastCharIndex: void 0
                        };
                    i.element.innerHTML_original = e.innerHTML;
                    for (
                        var o = {
                                inTag: !1,
                                counter: 0,
                                wordStart: -1,
                                wordEnd: -1,
                                text: "",
                                markup: "",
                                word: "",
                                html: ""
                            },
                            a = i.element.innerHTML_original.length,
                            s = 0;
                        s <= a;

                    ) {
                        if (o.inTag) {
                            if (
                                ((o.html += i.element.innerHTML_original[s]),
                                ">" == i.element.innerHTML_original[s])
                            ) {
                                o.inTag = !1;
                                var l = o.html.match(/<\/(.*?)>$/);
                                l &&
                                    t.indexOf(l[1]) > -1 &&
                                    (r(o, i), (o.text += " "));
                            }
                        } else
                            s == a ||
                            i.element.innerHTML_original[s].match(/\s/)
                                ? (r(o, i),
                                  s < a &&
                                      ((o.text +=
                                          i.element.innerHTML_original[s]),
                                      (o.markup +=
                                          i.element.innerHTML_original[s])))
                                : n.indexOf(i.element.innerHTML_original[s]) >
                                  -1
                                    ? (r(o, i),
                                      (o.wordStart = o.html.length),
                                      (o.wordEnd = o.html.length + 1),
                                      (o.word +=
                                          i.element.innerHTML_original[s]),
                                      (o.html +=
                                          i.element.innerHTML_original[s]),
                                      r(o, i))
                                    : "<" == i.element.innerHTML_original[s]
                                        ? ((o.inTag = !0),
                                          (o.html +=
                                              i.element.innerHTML_original[s]))
                                        : (0 == o.word.length &&
                                              (o.wordStart = o.html.length),
                                          (o.wordEnd = o.html.length + 1),
                                          (o.word +=
                                              i.element.innerHTML_original[s]),
                                          (o.html +=
                                              i.element.innerHTML_original[s]));
                        s++;
                    }
                    return (
                        (i.text = o.text),
                        (i.innerHTML_tts = o.markup),
                        (i.element.innerHTML = i.innerHTML_tts),
                        i
                    );
                },
                B = void 0,
                V = function(n, r) {
                    function i(e) {
                        e || window.speechSynthesis.pending
                            ? (console.debug("TTS cancel before speak"),
                              window.speechSynthesis.cancel(),
                              setTimeout(function() {
                                  i(!1);
                              }, 5))
                            : o();
                    }
                    function o() {
                        (S = new SpeechSynthesisUtterance()),
                            C &&
                                a &&
                                ((S.tokenData = a),
                                (S.onboundary = function(e) {
                                    if (S) {
                                        console.debug(
                                            "TTS boundary: " +
                                                e.name +
                                                " / " +
                                                e.charIndex
                                        );
                                        var t = e.target.tokenData;
                                        if (
                                            t &&
                                            t.spanMap.hasOwnProperty(
                                                e.charIndex
                                            )
                                        ) {
                                            var n;
                                            [].forEach.call(
                                                t.element.querySelectorAll(
                                                    ".tts_on"
                                                ),
                                                function(e) {
                                                    console.debug(
                                                        "TTS OFF " + e.id
                                                    ),
                                                        (e.className =
                                                            "tts_off");
                                                }
                                            );
                                            var n =
                                                "tts_" + t.spanMap[e.charIndex];
                                            console.debug(
                                                "TTS charIndex ID: " + n
                                            );
                                            var r = t.element.querySelector(
                                                "#" + n
                                            );
                                            r &&
                                                (console.debug("TTS ON"),
                                                (r.className = "tts_on")),
                                                (t.lastCharIndex = e.charIndex);
                                        }
                                    }
                                })),
                            (S.onend = function(e) {
                                if (S)
                                    if ((console.debug("TTS ended"), C)) {
                                        var t = e.target.tokenData,
                                            n =
                                                !e.forceSkipEnd &&
                                                S === e.target &&
                                                (!t ||
                                                    t.element
                                                        .innerHTML_original);
                                        t &&
                                            (t.element.innerHTML_original
                                                ? (t.element.innerHTML =
                                                      t.element.innerHTML_original)
                                                : [].forEach.call(
                                                      t.element.querySelectorAll(
                                                          ".tts_on"
                                                      ),
                                                      function(e) {
                                                          console.debug(
                                                              "TTS OFF (end)" +
                                                                  e.id
                                                          ),
                                                              (e.className =
                                                                  "tts_off");
                                                      }
                                                  ),
                                            (t.element.innerHTML_original = void 0)),
                                            n
                                                ? A.onTTSEnd()
                                                : console.debug(
                                                      "TTS end SKIPPED"
                                                  );
                                    } else A.onTTSEnd();
                            }),
                            (S.onerror = function(e) {
                                if (
                                    S &&
                                    (console.error("TTS error"),
                                    console.debug(S.text),
                                    console.debug(
                                        window.speechSynthesis.paused
                                    ),
                                    console.debug(
                                        window.speechSynthesis.pending
                                    ),
                                    console.debug(
                                        window.speechSynthesis.speaking
                                    ),
                                    C)
                                ) {
                                    var t = e.target.tokenData;
                                    t &&
                                        (t.element.innerHTML_original
                                            ? (t.element.innerHTML =
                                                  t.element.innerHTML_original)
                                            : [].forEach.call(
                                                  t.element.ownerDocument.querySelectorAll(
                                                      ".tts_on"
                                                  ),
                                                  function(e) {
                                                      console.debug(
                                                          "TTS OFF (error)" +
                                                              e.id
                                                      ),
                                                          (e.className =
                                                              "tts_off");
                                                  }
                                              ),
                                        (t.element.innerHTML_original = void 0));
                                }
                            });
                        var e = r || w.getVolume();
                        (S.volume = e),
                            (S.rate = w.getRate()),
                            (S.pitch = 1),
                            (S.text = d),
                            window.speechSynthesis.speak(S),
                            window.speechSynthesis.paused &&
                                (console.debug("TTS resume"),
                                window.speechSynthesis.resume());
                    }
                    var a = void 0,
                        s = _ && _.currentPar ? _.currentPar : void 0,
                        c = s ? s.element : void 0;
                    s && s.cfi;
                    if (
                        (!r || r > 0) &&
                        (setTimeout(function() {
                            u({ isPlaying: !0 });
                        }, 80),
                        (x = !0),
                        C && c)
                    ) {
                        m(t(c)),
                            c.innerHTML_original &&
                                ((c.innerHTML = c.innerHTML_original),
                                (c.innerHTML_original = void 0)),
                            (a = z(c));
                    }
                    if (!T)
                        return (
                            e.logEvent(
                                "MEDIA_OVERLAY_TTS_SPEAK",
                                "EMIT",
                                "media_overlay_player.js"
                            ),
                            void l.emit(e.Events.MEDIA_OVERLAY_TTS_SPEAK, {
                                tts: n
                            })
                        );
                    if (!n && window.speechSynthesis.paused)
                        return void window.speechSynthesis.resume();
                    var d = n || E;
                    d &&
                        (S &&
                            (C &&
                                (S.onend &&
                                    S.onend({ forceSkipEnd: !0, target: S }),
                                (S.tokenData = void 0),
                                (S.onboundary = void 0)),
                            (S.onend = void 0),
                            (S.onerror = void 0),
                            (S = void 0)),
                        console.debug(
                            "paused: " + window.speechSynthesis.paused
                        ),
                        console.debug(
                            "speaking: " + window.speechSynthesis.speaking
                        ),
                        console.debug(
                            "pending: " + window.speechSynthesis.pending
                        ),
                        i(!0));
                },
                $ = function() {
                    var t = x;
                    if ((t && u({ isPlaying: !1 }), (x = !1), !T))
                        return void (
                            t &&
                            (e.logEvent(
                                "MEDIA_OVERLAY_TTS_STOP",
                                "EMIT",
                                "media_overlay_player.js"
                            ),
                            l.emit(e.Events.MEDIA_OVERLAY_TTS_STOP, void 0))
                        );
                    window.speechSynthesis.pause();
                },
                H = void 0;
            (this.onEmbeddedEnd = function() {
                if (((F = 0), (k = !1), !_ || !_.currentPar))
                    return void A.reset();
                h(_.currentPar.audio.clipEnd + 0.1, 3);
            }),
                (this.onTTSEnd = function() {
                    if (((F = 0), (x = !1), !_ || !_.currentPar))
                        return void A.reset();
                    h(_.currentPar.audio.clipEnd + 0.1, 4);
                }),
                (this.escape = function() {
                    if (!_ || !_.currentPar)
                        return void this.toggleMediaOverlay();
                    if (!A.isPlaying()) return void A.play();
                    if (O.mediaOverlaysEscapeEscapables)
                        for (var e = _.currentPar; e; ) {
                            if (
                                e.isEscapable &&
                                e.isEscapable(O.mediaOverlaysEscapables)
                            ) {
                                do {
                                    _.next();
                                } while (
                                    _.currentPar &&
                                    _.currentPar.hasAncestor(e)
                                );
                                return _.currentPar ? void f() : void p(!0);
                            }
                            e = e.parent;
                        }
                    this.nextMediaOverlay(!0);
                }),
                (this.playUserPar = function(e) {
                    if (
                        (A.isPlaying() && A.pause(),
                        e.element || (e.cfi && e.cfi.cfiTextParent))
                    ) {
                        var t = N.adjustParToSeqSyncGranularity(e);
                        if (t && t !== e) {
                            var n = function(e) {
                                    if (e.nodeType && "par" === e.nodeType)
                                        return e;
                                    if (e.children && !(e.children.length <= 0))
                                        for (
                                            var t = 0;
                                            t < e.children.length;
                                            t++
                                        ) {
                                            var r = e.children[t],
                                                i = n(r);
                                            if (i) return i;
                                        }
                                },
                                r = n(t);
                            r && (e = r);
                        }
                    }
                    c(e);
                }),
                (this.resetTTS = function() {
                    (E = void 0), $();
                }),
                (this.resetBlankPage = function() {
                    var e = !1;
                    if (M) {
                        e = !0;
                        var t = M;
                        (M = void 0), clearTimeout(t);
                    }
                    (M = void 0), e && u({ isPlaying: !1 });
                }),
                (this.resetEmbedded = function() {
                    var e = k;
                    I && (t(I).off("ended", A.onEmbeddedEnd), I.pause()),
                        (I = void 0),
                        e && u({ isPlaying: !1 }),
                        (k = !1);
                }),
                (this.reset = function() {
                    (j = 0),
                        w.reset(),
                        A.resetTTS(),
                        A.resetEmbedded(),
                        A.resetBlankPage(),
                        N.reset(),
                        (_ = void 0),
                        (L = !1);
                }),
                (this.play = function() {
                    if (_ && _.smil && !_.smil.id) return void d();
                    if (I) (k = !0), I.play(), u({ isPlaying: !0 });
                    else if (E) V(void 0);
                    else if (!w.play())
                        return (
                            console.log(
                                "Audio player was dead, reactivating..."
                            ),
                            this.reset(),
                            void this.toggleMediaOverlay()
                        );
                    y();
                }),
                (this.pause = function() {
                    (q = !1),
                        M
                            ? this.resetBlankPage()
                            : k
                                ? ((k = !1),
                                  I && I.pause(),
                                  u({ isPlaying: !1 }))
                                : x
                                    ? $()
                                    : w.pause(),
                        N.reset();
                }),
                (this.isMediaOverlayAvailable = function() {
                    return void 0 !== l.getFirstVisibleMediaOverlayElement();
                }),
                (this.nextOrPreviousMediaOverlay = function(e) {
                    if (A.isPlaying()) A.pause();
                    else if (_ && _.currentPar) return void A.play();
                    if (!_) return void this.toggleMediaOverlay();
                    h(e ? U - 1 : _.currentPar.audio.clipEnd + 0.1, 6);
                }),
                (this.nextMediaOverlay = function() {
                    this.nextOrPreviousMediaOverlay(!1);
                }),
                (this.previousMediaOverlay = function() {
                    this.nextOrPreviousMediaOverlay(!0);
                }),
                (this.mediaOverlaysOpenContentUrl = function(e, t, n) {
                    (j = n), (_ = void 0), l.openContentUrl(e, t, A);
                }),
                (this.toggleMediaOverlay = function() {
                    return A.isPlaying()
                        ? void A.pause()
                        : _
                            ? void A.play()
                            : void this.toggleMediaOverlayRefresh(void 0);
                });
            var q = !1;
            (this.toggleMediaOverlayRefresh = function(e) {
                var n = l.getLoadedSpineItems(),
                    r = l.spine().isRightToLeft(),
                    i = void 0,
                    a = A.isPlaying();
                if (a && _) {
                    if (
                        e.initiator &&
                        e.initiator instanceof s &&
                        O.mediaOverlaysPreservePlaybackWhenScroll
                    )
                        return void (q = !0);
                    (i = _.currentPar), A.pause();
                }
                q = !1;
                var u = e && e.elementIdResolved ? e.elementIdResolved : void 0,
                    c = e && e.elementId ? e.elementId : void 0;
                if (!u) {
                    c && console.error("[WARN] id did not resolve to element?");
                    for (
                        var d = r ? n.length - 1 : 0;
                        (r && d >= 0) || (!r && d < n.length);
                        d += r ? -1 : 1
                    ) {
                        var p = n[d];
                        if (p) {
                            if (!e || !e.spineItem || e.spineItem == p) {
                                if (c) {
                                    var h = l.getElementById(p.idref, c);
                                    u = h && h.length > 0 ? h[0] : void 0;
                                } else if (
                                    p.isFixedLayout() &&
                                    e &&
                                    e.paginationInfo &&
                                    e.paginationInfo.openPages
                                ) {
                                    if (
                                        e.paginationInfo.openPages[0] &&
                                        e.paginationInfo.openPages[0].idref &&
                                        e.paginationInfo.openPages[0].idref ===
                                            p.idref
                                    ) {
                                        var h = l.getElement(p.idref, "body");
                                        u = h && h.length > 0 ? h[0] : void 0;
                                    }
                                }
                                if (u) break;
                            }
                        } else console.error("spineItems[i] is undefined??");
                    }
                }
                if ((u || (u = l.getFirstVisibleMediaOverlayElement()), !u))
                    return void A.reset();
                var m = t(u).data("mediaOverlayData");
                if (!m) {
                    for (
                        var g = !1,
                            v = function(e) {
                                if (!e) return !1;
                                for (var n = 0; n < e.length; n++) {
                                    if ((u === e[n] && (g = !0), g)) {
                                        var r = t(e[n]).data(
                                            "mediaOverlayData"
                                        );
                                        if (r) return (m = r), !0;
                                    }
                                    if (v(e[n].children)) return !0;
                                }
                                return !1;
                            },
                            b = u;
                        b && "body" !== b.nodeName.toLowerCase();

                    )
                        b = b.parentNode;
                    if (!b) return void A.reset();
                    v([b]);
                }
                if (!m) return void A.reset();
                var y = m.par ? m.par : m.pars[0],
                    w = y.getSmil();
                if (
                    (_ && _.smil == w ? _.reset() : (_ = new o(w)),
                    _.goToPar(y),
                    !_.currentPar && c && (_.reset(), _.findTextId(c)),
                    !_.currentPar)
                )
                    return void A.reset();
                a && i && i === _.currentPar ? A.play() : f();
            }),
                (this.isPlayingCfi = function() {
                    return _ && _.currentPar && _.currentPar.cfi;
                });
            var W = !1,
                G = !0;
            this.setAutomaticNextSmil = function(e) {
                G = e;
            };
        };
    }),
    define("readium_shared_js/models/spine", [
        "./spine_item",
        "../helpers",
        "URIjs"
    ], function(e, t, n) {
        return function(t, r) {
            function i(e) {
                return !u || "no" !== e.linear;
            }
            function o(e) {
                return e >= 0 && e < l.items.length;
            }
            function a(e) {
                if (o(e)) {
                    var t = l.items[e];
                    return i(t) ? t : a(t.index - 1);
                }
            }
            function s(e) {
                if (o(e)) {
                    var t = l.items[e];
                    return i(t) ? t : s(t.index + 1);
                }
            }
            var l = this;
            (this.items = []), (this.direction = "ltr"), (this.package = t);
            var u = !1;
            if (
                ((this.handleLinear = function(e) {
                    u = e;
                }),
                (this.isValidLinearItem = function(e) {
                    if (o(e)) return i(this.item(e));
                }),
                (this.isRightToLeft = function() {
                    return "rtl" == l.direction;
                }),
                (this.isLeftToRight = function() {
                    return !l.isRightToLeft();
                }),
                (this.prevItem = function(e) {
                    return a(e.index - 1);
                }),
                (this.nextItem = function(e) {
                    return s(e.index + 1);
                }),
                (this.getItemUrl = function(e) {
                    return l.package.resolveRelativeUrl(e.href);
                }),
                (this.first = function() {
                    return s(0);
                }),
                (this.last = function() {
                    return a(this.items.length - 1);
                }),
                (this.isFirstItem = function(e) {
                    return l.first() === e;
                }),
                (this.isLastItem = function(e) {
                    return l.last() === e;
                }),
                (this.item = function(e) {
                    if (o(e)) return l.items[e];
                }),
                (this.getItemById = function(e) {
                    for (var t = l.items.length, n = 0; n < t; n++)
                        if (l.items[n].idref == e) return l.items[n];
                }),
                (this.getItemByHref = function(e) {
                    var t = l.package.resolveRelativeUrl(e);
                    t = t.replace(
                        "filesystem:chrome-extension://",
                        "filesystem-chrome-extension://"
                    );
                    for (
                        var r = new n(t).normalizePathname().pathname(),
                            i = l.items.length,
                            o = 0;
                        o < i;
                        o++
                    ) {
                        var a = l.package.resolveRelativeUrl(l.items[o].href);
                        a = a.replace(
                            "filesystem:chrome-extension://",
                            "filesystem-chrome-extension://"
                        );
                        if (r == new n(a).normalizePathname().pathname())
                            return l.items[o];
                    }
                }),
                r)
            ) {
                r.direction && (this.direction = r.direction);
                for (var c = r.items.length, d = 0; d < c; d++) {
                    var f = new e(r.items[d], d, this);
                    this.items.push(f);
                }
                !(function() {
                    for (
                        var t = l.items.length,
                            n = !1,
                            r = l.isLeftToRight()
                                ? e.SPREAD_LEFT
                                : e.SPREAD_RIGHT,
                            i = 0;
                        i < t;
                        i++
                    ) {
                        var o = l.items[i];
                        if (!o.page_spread) {
                            var a = o.isRenditionSpreadAllowed()
                                ? n
                                    ? r
                                    : e.alternateSpread(r)
                                : e.SPREAD_CENTER;
                            o.setSpread(a);
                        }
                        n = !o.isRenditionSpreadAllowed() || o.page_spread != r;
                    }
                })();
            }
        };
    }),
    define("readium_shared_js/models/smil_model", ["../helpers"], function(e) {
        var t = {};
        (t.SmilNode = function(e) {
            (this.parent = e),
                (this.id = ""),
                (this.getSmil = function() {
                    for (var e = this; e.parent; ) e = e.parent;
                    return e;
                }),
                (this.hasAncestor = function(e) {
                    for (var t = this.parent; t; ) {
                        if (t == e) return !0;
                        t = t.parent;
                    }
                    return !1;
                });
        }),
            (t.TimeContainerNode = function(e) {
                (this.parent = e),
                    (this.children = void 0),
                    (this.index = void 0),
                    (this.epubtype = ""),
                    (this.isEscapable = function(e) {
                        if ("" === this.epubtype) return !1;
                        var t = this.getSmil();
                        if (!t.mo) return !1;
                        var n = t.mo.escapables;
                        e.length > 0 && (n = e);
                        for (var r = 0; r < n.length; r++)
                            if (this.epubtype.indexOf(n[r]) >= 0) return !0;
                        return !1;
                    }),
                    (this.isSkippable = function(e) {
                        if ("" === this.epubtype) return !1;
                        var t = this.getSmil();
                        if (!t.mo) return !1;
                        var n = t.mo.skippables;
                        e.length > 0 && (n = e);
                        for (var r = 0; r < n.length; r++)
                            if (this.epubtype.indexOf(n[r]) >= 0) return !0;
                        return !1;
                    });
            }),
            (t.TimeContainerNode.prototype = new t.SmilNode()),
            (t.MediaNode = function(e) {
                (this.parent = e), (this.src = "");
            }),
            (t.MediaNode.prototype = new t.SmilNode()),
            (t.SeqNode = function(e) {
                (this.parent = e),
                    (this.children = []),
                    (this.nodeType = "seq"),
                    (this.textref = ""),
                    (this.durationMilliseconds = function() {
                        for (
                            var e = this.getSmil(), t = 0, n = 0;
                            n < this.children.length;
                            n++
                        ) {
                            var r = this.children[n];
                            if ("par" === r.nodeType) {
                                if (!r.audio) continue;
                                if (
                                    r.text &&
                                    (!r.text.manifestItemId ||
                                        r.text.manifestItemId != e.spineItemId)
                                )
                                    continue;
                                t += r.audio.clipDurationMilliseconds();
                            } else
                                "seq" === r.nodeType &&
                                    (t += r.durationMilliseconds());
                        }
                        return t;
                    }),
                    (this.clipOffset = function(e, t) {
                        for (
                            var n = this.getSmil(), r = 0;
                            r < this.children.length;
                            r++
                        ) {
                            var i = this.children[r];
                            if ("par" === i.nodeType) {
                                if (i == t) return !0;
                                if (!i.audio) continue;
                                if (
                                    i.text &&
                                    (!i.text.manifestItemId ||
                                        i.text.manifestItemId != n.spineItemId)
                                )
                                    continue;
                                var o = i.audio.clipDurationMilliseconds();
                                e.offset += o;
                            } else if ("seq" === i.nodeType) {
                                var a = i.clipOffset(e, t);
                                if (a) return !0;
                            }
                        }
                        return !1;
                    }),
                    (this.parallelAt = function(e) {
                        for (
                            var t = this.getSmil(), n = 0, r = 0;
                            r < this.children.length;
                            r++
                        ) {
                            var i = e - n,
                                o = this.children[r];
                            if ("par" === o.nodeType) {
                                if (!o.audio) continue;
                                if (
                                    o.text &&
                                    (!o.text.manifestItemId ||
                                        o.text.manifestItemId != t.spineItemId)
                                )
                                    continue;
                                var a = o.audio.clipDurationMilliseconds();
                                if (a > 0 && i <= a) return o;
                                n += a;
                            } else if ("seq" === o.nodeType) {
                                var s = o.parallelAt(i);
                                if (s) return s;
                                n += o.durationMilliseconds();
                            }
                        }
                    }),
                    (this.nthParallel = function(e, t) {
                        for (var n = 0; n < this.children.length; n++) {
                            var r = this.children[n];
                            if ("par" === r.nodeType) {
                                if (++t.count == e) return r;
                            } else if ("seq" === r.nodeType) {
                                var i = r.nthParallel(e, t);
                                if (i) return i;
                            }
                        }
                    });
            }),
            (t.SeqNode.prototype = new t.TimeContainerNode()),
            (t.ParNode = function(e) {
                (this.parent = e),
                    (this.children = []),
                    (this.nodeType = "par"),
                    (this.text = void 0),
                    (this.audio = void 0),
                    (this.element = void 0),
                    (this.getFirstSeqAncestorWithEpubType = function(e, t) {
                        if (e)
                            for (var n = t ? this : this.parent; n; ) {
                                if (n.epubtype && n.epubtype.indexOf(e) >= 0)
                                    return n;
                                n = n.parent;
                            }
                    });
            }),
            (t.ParNode.prototype = new t.TimeContainerNode()),
            (t.TextNode = function(t) {
                (this.parent = t),
                    (this.nodeType = "text"),
                    (this.srcFile = ""),
                    (this.srcFragmentId = ""),
                    (this.manifestItemId = void 0),
                    (this.updateMediaManifestItemId = function() {
                        var t = this.getSmil();
                        if (t.href && t.href.length) {
                            for (
                                var n = this.srcFile ? this.srcFile : this.src,
                                    r = e.ResolveContentRef(n, t.href),
                                    i = t.mo.package.resolveRelativeUrlMO(r),
                                    o = 0;
                                o < t.mo.package.spine.items.length;
                                o++
                            ) {
                                var a = t.mo.package.spine.items[o];
                                if (
                                    t.mo.package.resolveRelativeUrl(a.href) ===
                                    i
                                )
                                    return void (this.manifestItemId = a.idref);
                            }
                            console.error(
                                "Cannot set the Media ManifestItemId? " +
                                    this.src +
                                    " && " +
                                    t.href
                            );
                        }
                    });
            }),
            (t.TextNode.prototype = new t.MediaNode()),
            (t.AudioNode = function(e) {
                (this.parent = e),
                    (this.nodeType = "audio"),
                    (this.clipBegin = 0),
                    (this.MAX = 1234567890.1),
                    (this.clipEnd = this.MAX),
                    (this.clipDurationMilliseconds = function() {
                        var e = 1e3 * this.clipBegin,
                            t = 1e3 * this.clipEnd;
                        return this.clipEnd >= this.MAX || t <= e ? 0 : t - e;
                    });
            }),
            (t.AudioNode.prototype = new t.MediaNode());
        var n = function() {
            (this.parent = void 0),
                (this.children = []),
                (this.id = void 0),
                (this.href = void 0),
                (this.duration = void 0),
                (this.mo = void 0),
                (this.parallelAt = function(e) {
                    return this.children[0].parallelAt(e);
                }),
                (this.nthParallel = function(e) {
                    var t = { count: -1 };
                    return this.children[0].nthParallel(e, t);
                }),
                (this.clipOffset = function(e) {
                    var t = { offset: 0 };
                    return this.children[0].clipOffset(t, e) ? t.offset : 0;
                }),
                (this.durationMilliseconds_Calculated = function() {
                    return this.children[0].durationMilliseconds();
                });
            var e = [];
            (this.hasSync = function(t) {
                for (var n = 0; n < e.length; n++) if (e[n] === t) return !0;
                return !1;
            }),
                (this.addSync = function(t) {
                    if (t)
                        for (var n = t.split(" "), r = 0; r < n.length; r++) {
                            var i = n[r].trim();
                            i.length > 0 && !this.hasSync(i) && e.push(i);
                        }
                });
        };
        return (
            (n.fromSmilDTO = function(e, r) {
                r.DEBUG && console.debug("Media Overlay DTO import...");
                var i = 0,
                    o = function() {
                        for (var e = "", t = 0; t < i; t++) e += "   ";
                        return e;
                    },
                    a = new n();
                (a.id = e.id),
                    (a.spineItemId = e.spineItemId),
                    (a.href = e.href),
                    (a.smilVersion = e.smilVersion),
                    (a.duration = e.duration),
                    a.duration &&
                        a.duration.length &&
                        a.duration.length > 0 &&
                        (console.error(
                            "SMIL duration is string, parsing float... (" +
                                a.duration +
                                ")"
                        ),
                        (a.duration = parseFloat(a.duration))),
                    (a.mo = r),
                    a.mo.DEBUG &&
                        (console.log("JS MO smilVersion=" + a.smilVersion),
                        console.log("JS MO id=" + a.id),
                        console.log("JS MO spineItemId=" + a.spineItemId),
                        console.log("JS MO href=" + a.href),
                        console.log("JS MO duration=" + a.duration));
                var s = function(e, t, n, r) {
                        e in t
                            ? (e in n ||
                                  console.debug(
                                      "property " +
                                          e +
                                          " not declared in smil node " +
                                          n.nodeType
                                  ),
                              (n[e] = t[e]),
                              a.mo.DEBUG &&
                                  console.log(
                                      o() + "JS MO: [" + e + "=" + n[e] + "]"
                                  ))
                            : r &&
                              console.log(
                                  "Required property " +
                                      e +
                                      " not found in smil node " +
                                      t.nodeType
                              );
                    },
                    l = function(e, n) {
                        var r;
                        if ("seq" == e.nodeType)
                            a.mo.DEBUG && console.log(o() + "JS MO seq"),
                                (r = new t.SeqNode(n)),
                                s("textref", e, r, !(!n || !n.parent)),
                                s("id", e, r),
                                s("epubtype", e, r),
                                r.epubtype && r.getSmil().addSync(r.epubtype),
                                i++,
                                u(e, r),
                                i--;
                        else if ("par" == e.nodeType) {
                            a.mo.DEBUG && console.log(o() + "JS MO par"),
                                (r = new t.ParNode(n)),
                                s("id", e, r),
                                s("epubtype", e, r),
                                r.epubtype && r.getSmil().addSync(r.epubtype),
                                i++,
                                u(e, r),
                                i--;
                            for (var l = 0, c = r.children.length; l < c; l++) {
                                var d = r.children[l];
                                "text" == d.nodeType
                                    ? (r.text = d)
                                    : "audio" == d.nodeType
                                        ? (r.audio = d)
                                        : console.error(
                                              "Unexpected smil node type: " +
                                                  d.nodeType
                                          );
                            }
                            if (!r.audio) {
                                var f = new t.AudioNode(r);
                                (f.clipBegin = 0),
                                    (f.clipEnd = f.MAX),
                                    (f.src = void 0),
                                    (r.audio = f);
                            }
                        } else if ("text" == e.nodeType)
                            a.mo.DEBUG && console.log(o() + "JS MO text"),
                                (r = new t.TextNode(n)),
                                s("src", e, r, !0),
                                s("srcFile", e, r, !0),
                                s("srcFragmentId", e, r, !1),
                                s("id", e, r),
                                r.updateMediaManifestItemId();
                        else {
                            if ("audio" != e.nodeType)
                                return void console.error(
                                    "Unexpected smil node type: " + e.nodeType
                                );
                            a.mo.DEBUG && console.log(o() + "JS MO audio"),
                                (r = new t.AudioNode(n)),
                                s("src", e, r, !0),
                                s("id", e, r),
                                s("clipBegin", e, r),
                                r.clipBegin &&
                                    r.clipBegin.length &&
                                    r.clipBegin.length > 0 &&
                                    (console.error(
                                        "SMIL clipBegin is string, parsing float... (" +
                                            r.clipBegin +
                                            ")"
                                    ),
                                    (r.clipBegin = parseFloat(r.clipBegin))),
                                r.clipBegin < 0 &&
                                    (a.mo.DEBUG &&
                                        console.log(
                                            o() +
                                                "JS MO clipBegin adjusted to ZERO"
                                        ),
                                    (r.clipBegin = 0)),
                                s("clipEnd", e, r),
                                r.clipEnd &&
                                    r.clipEnd.length &&
                                    r.clipEnd.length > 0 &&
                                    (console.error(
                                        "SMIL clipEnd is string, parsing float... (" +
                                            r.clipEnd +
                                            ")"
                                    ),
                                    (r.clipEnd = parseFloat(r.clipEnd))),
                                r.clipEnd <= r.clipBegin &&
                                    (a.mo.DEBUG &&
                                        console.log(
                                            o() +
                                                "JS MO clipEnd adjusted to MAX"
                                        ),
                                    (r.clipEnd = r.MAX));
                        }
                        return r;
                    },
                    u = function(e, t) {
                        for (var n = e.children.length, r = 0; r < n; r++) {
                            var i = l(e.children[r], t);
                            (i.index = r), t.children.push(i);
                        }
                    };
                return u(e, a), a;
            }),
            n
        );
    }),
    define("readium_shared_js/models/media_overlay", ["./smil_model"], function(
        e
    ) {
        var t = function(e) {
            (this.package = e),
                (this.parallelAt = function(e) {
                    for (var t = 0, n = 0; n < this.smil_models.length; n++) {
                        var r = this.smil_models[n],
                            i = e - t,
                            o = r.parallelAt(i);
                        if (o) return o;
                        t += r.durationMilliseconds_Calculated();
                    }
                }),
                (this.percentToPosition = function(e, t, n, r) {
                    (e < 0 || e > 100) && (e = 0);
                    var i = this.durationMilliseconds_Calculated(),
                        o = i * (e / 100);
                    if (((n.par = this.parallelAt(o)), n.par)) {
                        var a = n.par.getSmil();
                        if (a) {
                            for (
                                var s = 0, l = 0;
                                l < this.smil_models.length &&
                                ((t.smilData = this.smil_models[l]),
                                t.smilData != a);
                                l++
                            )
                                s += t.smilData.durationMilliseconds_Calculated();
                            r.milliseconds =
                                o - (s + t.smilData.clipOffset(n.par));
                        }
                    }
                }),
                (this.durationMilliseconds_Calculated = function() {
                    for (var e = 0, t = 0; t < this.smil_models.length; t++) {
                        e += this.smil_models[
                            t
                        ].durationMilliseconds_Calculated();
                    }
                    return e;
                }),
                (this.smilAt = function(e) {
                    if (!(e < 0 || e >= this.smil_models.length))
                        return this.smil_models[e];
                }),
                (this.positionToPercent = function(e, t, n) {
                    if (e >= this.smil_models.length) return -1;
                    for (var r = 0, i = 0; i < e; i++) {
                        r += this.smil_models[
                            i
                        ].durationMilliseconds_Calculated();
                    }
                    var o = this.smil_models[e],
                        a = o.nthParallel(t);
                    return a
                        ? ((r + o.clipOffset(a) + n) /
                              this.durationMilliseconds_Calculated()) *
                              100
                        : -1;
                }),
                (this.smil_models = []),
                (this.skippables = []),
                (this.escapables = []),
                (this.duration = void 0),
                (this.narrator = void 0),
                (this.activeClass = void 0),
                (this.playbackActiveClass = void 0),
                (this.DEBUG = !1),
                (this.getSmilBySpineItem = function(e) {
                    if (e)
                        for (
                            var t = 0, n = this.smil_models.length;
                            t < n;
                            t++
                        ) {
                            var r = this.smil_models[t];
                            if (r.spineItemId === e.idref)
                                return (
                                    e.media_overlay_id !== r.id &&
                                        console.error(
                                            "SMIL INCORRECT ID?? " +
                                                e.media_overlay_id +
                                                " /// " +
                                                r.id
                                        ),
                                    r
                                );
                        }
                }),
                (this.getNextSmil = function(e) {
                    var t = this.smil_models.indexOf(e);
                    if (-1 != t && t != this.smil_models.length - 1)
                        return this.smil_models[t + 1];
                }),
                (this.getPreviousSmil = function(e) {
                    var t = this.smil_models.indexOf(e);
                    if (-1 != t && 0 != t) return this.smil_models[t - 1];
                });
        };
        return (
            (t.fromDTO = function(n, r) {
                var i = new t(r);
                if (!n) return i;
                (i.duration = n.duration),
                    i.duration &&
                        i.duration.length &&
                        i.duration.length > 0 &&
                        (console.error(
                            "SMIL total duration is string, parsing float... (" +
                                i.duration +
                                ")"
                        ),
                        (i.duration = parseFloat(i.duration))),
                    i.DEBUG &&
                        console.debug(
                            "Media Overlay Duration (TOTAL): " + i.duration
                        ),
                    (i.narrator = n.narrator),
                    i.DEBUG &&
                        console.debug("Media Overlay Narrator: " + i.narrator),
                    (i.activeClass = n.activeClass),
                    i.DEBUG &&
                        console.debug(
                            "Media Overlay Active-Class: " + i.activeClass
                        ),
                    (i.playbackActiveClass = n.playbackActiveClass),
                    i.DEBUG &&
                        console.debug(
                            "Media Overlay Playback-Active-Class: " +
                                i.playbackActiveClass
                        );
                var o = n.smil_models.length;
                i.DEBUG && console.debug("Media Overlay SMIL count: " + o);
                for (var a = 0; a < o; a++) {
                    var s = e.fromSmilDTO(n.smil_models[a], i);
                    i.smil_models.push(s),
                        i.DEBUG &&
                            console.debug(
                                "Media Overlay Duration (SPINE ITEM): " +
                                    s.duration
                            );
                }
                (o = n.skippables.length),
                    i.DEBUG &&
                        console.debug("Media Overlay SKIPPABLES count: " + o);
                for (var a = 0; a < o; a++) i.skippables.push(n.skippables[a]);
                (o = n.escapables.length),
                    i.DEBUG &&
                        console.debug("Media Overlay ESCAPABLES count: " + o);
                for (var a = 0; a < o; a++) i.escapables.push(n.escapables[a]);
                return i;
            }),
            t
        );
    }),
    define("readium_shared_js/models/package_data", [], function() {
        return {
            rootUrl: "",
            rootUrlMO: "",
            rendering_layout: "",
            spine: {
                direction: "ltr",
                items: [
                    {
                        href: "",
                        idref: "",
                        page_spread: "",
                        rendering_layout: ""
                    }
                ]
            }
        };
    }),
    define("readium_shared_js/models/package", [
        "../helpers",
        "./spine_item",
        "./spine",
        "./media_overlay",
        "./package_data",
        "URIjs"
    ], function(e, t, n, r, i, o) {
        return function(i) {
            var a = this;
            (this.spine = void 0),
                (this.rootUrl = void 0),
                (this.rootUrlMO = void 0),
                (this.media_overlay = void 0),
                (this.rendition_viewport = void 0),
                (this.rendition_flow = void 0),
                (this.rendition_layout = void 0),
                (this.rendition_spread = void 0),
                (this.rendition_orientation = void 0),
                (this.resolveRelativeUrlMO = function(t) {
                    var n = void 0;
                    try {
                        n = new o(t);
                    } catch (e) {
                        console.error(e), console.log(t);
                    }
                    if (n && n.is("absolute")) return t;
                    if (a.rootUrlMO && a.rootUrlMO.length > 0) {
                        var r = a.rootUrlMO;
                        try {
                            r = new o(r)
                                .search("")
                                .hash("")
                                .toString();
                        } catch (e) {
                            console.error(e), console.log(r);
                        }
                        return e.EndsWith(r, "/") ? r + t : r + "/" + t;
                    }
                    return a.resolveRelativeUrl(t);
                }),
                (this.resolveRelativeUrl = function(t) {
                    var n = void 0;
                    try {
                        n = new o(t);
                    } catch (e) {
                        console.error(e), console.log(t);
                    }
                    if (n && n.is("absolute")) return t;
                    if (a.rootUrl) {
                        var r = a.rootUrl;
                        try {
                            r = new o(r)
                                .search("")
                                .hash("")
                                .toString();
                        } catch (e) {
                            console.error(e), console.log(r);
                        }
                        return e.EndsWith(r, "/") ? r + t : r + "/" + t;
                    }
                    return t;
                }),
                (this.isFixedLayout = function() {
                    return (
                        a.rendition_layout === t.RENDITION_LAYOUT_PREPAGINATED
                    );
                }),
                (this.isReflowable = function() {
                    return !a.isFixedLayout();
                }),
                i &&
                    ((this.rootUrl = i.rootUrl),
                    (this.rootUrlMO = i.rootUrlMO),
                    (this.rendition_viewport = i.rendition_viewport),
                    (this.rendition_layout = i.rendition_layout),
                    (this.rendition_flow = i.rendition_flow),
                    (this.rendition_orientation = i.rendition_orientation),
                    (this.rendition_spread = i.rendition_spread),
                    (this.spine = new n(this, i.spine)),
                    (this.media_overlay = r.fromDTO(i.media_overlay, this)));
        };
    }),
    define("readium_shared_js/models/metadata", [], function() {
        return function(e) {
            (this.identifier = void 0),
                (this.title = void 0),
                (this.author = void 0),
                (this.description = void 0),
                (this.publisher = void 0),
                (this.language = void 0),
                (this.rights = void 0),
                (this.modifiedDate = void 0),
                (this.publishedDate = void 0),
                (this.epubVersion = void 0),
                e &&
                    ((this.identifier = e.id),
                    (this.title = e.title),
                    (this.author = e.author),
                    (this.description = e.description),
                    (this.language = e.language),
                    (this.publisher = e.publisher),
                    (this.rights = e.rights),
                    (this.modifiedDate = e.modified_date),
                    (this.publishedDate = e.pubdate),
                    (this.epubVersion = e.epub_version));
        };
    }),
    define("readium_shared_js/views/reflowable_view", [
        "../globals",
        "jquery",
        "underscore",
        "eventEmitter",
        "../models/bookmark_data",
        "./cfi_navigation_logic",
        "../models/current_pages_info",
        "../helpers",
        "../models/page_open_request",
        "../models/viewer_settings",
        "ResizeSensor"
    ], function(e, t, n, r, i, o, a, s, l, u, c) {
        return function(d, f) {
            function p(e) {
                M.css("left", e.left + "px"),
                    M.css("top", e.top + "px"),
                    M.css("right", e.right + "px"),
                    M.css("bottom", e.bottom + "px");
            }
            function h() {
                return { width: U[0].clientWidth, height: U[0].clientHeight };
            }
            function m() {
                return se.rightToLeft && !se.isVerticalWritingMode
                    ? -se.pageOffset
                    : se.pageOffset;
            }
            function g() {
                var e = m();
                return se.isVerticalWritingMode
                    ? { top: e, left: 0 }
                    : { top: 0, left: e };
            }
            function v() {
                M && M.remove();
                var e = s.loadTemplate("reflowable_book_page_frame", {}),
                    n = t(e);
                (n = F.append(n)),
                    (M = t("#reflowable-content-frame", n)),
                    (U = t("#epubContentIframe", n)),
                    U.css("left", ""),
                    U.css("right", ""),
                    U.css("position", "relative"),
                    U.css("overflow", "hidden"),
                    (L = new o({
                        $iframe: U,
                        frameDimensionsGetter: h,
                        paginationInfo: se,
                        paginationOffsetsGetter: g,
                        classBlacklist: te,
                        elementBlacklist: ne,
                        idBlacklist: re
                    }));
            }
            function b(t) {
                if (D != t) {
                    v(),
                        D &&
                            (e.logEvent(
                                "CONTENT_DOCUMENT_UNLOADED",
                                "EMIT",
                                "reflowable_view.js [ " + D.href + " ]"
                            ),
                            q.emit(e.Events.CONTENT_DOCUMENT_UNLOADED, U, D)),
                        q.resetCurrentPosition(),
                        (se.pageOffset = 0),
                        (se.currentSpreadIndex = 0),
                        (se.currentPageIndex = 0),
                        (D = t),
                        (D.paginationInfo = se),
                        (Q = !0);
                    var n = G.package.resolveRelativeUrl(t.href);
                    e.logEvent(
                        "CONTENT_DOCUMENT_LOAD_START",
                        "EMIT",
                        "reflowable_view.js [ " + t.href + " -- " + n + " ]"
                    ),
                        q.emit(e.Events.CONTENT_DOCUMENT_LOAD_START, U, t),
                        U.css("opacity", "0.01"),
                        J.loadIframe(U[0], n, w, q, { spineItem: t });
                }
            }
            function y() {
                if (z) {
                    var e = Z,
                        t =
                            !f.fonts ||
                            !f.fonts.length ||
                            e <= 0 ||
                            e - 1 >= f.fonts.length,
                        n = t ? {} : f.fonts[e - 1];
                    s.UpdateHtmlFontAttributes(z, Y, n, function() {
                        q.applyStyles();
                    });
                }
            }
            function _() {
                z && z.css("column-gap", se.columnGap + "px");
            }
            function w(n) {
                if (((Q = !1), j && j.spineItem != D))
                    return void b(j.spineItem);
                if (!n) return U.css("opacity", "1"), void (j = void 0);
                e.logEvent(
                    "CONTENT_DOCUMENT_LOADED",
                    "EMIT",
                    "reflowable_view.js [ " + D.href + " ]"
                ),
                    q.emit(e.Events.CONTENT_DOCUMENT_LOADED, U, D);
                var r = U[0].contentDocument;
                (z = t("html", r)),
                    (B = t("body", z)),
                    (V = !1),
                    ($ = !0),
                    (H = void 0);
                var i = U[0].contentDocument.defaultView || U[0].contentWindow,
                    o = i.getComputedStyle(B[0], null);
                if (o) {
                    $ = "ltr" === o.direction;
                    var a = void 0;
                    (a = o.getPropertyValue
                        ? o.getPropertyValue("-webkit-writing-mode") ||
                          o.getPropertyValue("-moz-writing-mode") ||
                          o.getPropertyValue("-ms-writing-mode") ||
                          o.getPropertyValue("-o-writing-mode") ||
                          o.getPropertyValue("-epub-writing-mode") ||
                          o.getPropertyValue("writing-mode")
                        : o.webkitWritingMode ||
                          o.mozWritingMode ||
                          o.msWritingMode ||
                          o.oWritingMode ||
                          o.epubWritingMode ||
                          o.writingMode),
                        a &&
                            ((H = a.indexOf("-lr") >= 0),
                            (a.indexOf("vertical") >= 0 ||
                                a.indexOf("tb-") >= 0 ||
                                a.indexOf("bt-") >= 0) &&
                                (V = !0));
                }
                $ &&
                    (("rtl" !== B[0].getAttribute("dir") &&
                        "rtl" !== z[0].getAttribute("dir")) ||
                        ($ = !1)),
                    G.isLeftToRight() ||
                        !$ ||
                        V ||
                        (B[0].setAttribute("dir", "rtl"), ($ = !1), (H = !1)),
                    (se.isVerticalWritingMode = V),
                    P(),
                    U.css("opacity", "1"),
                    S(),
                    z.css("height", oe.height + "px"),
                    z.css("position", "relative"),
                    z.css("margin", "0"),
                    z.css("padding", "0"),
                    z.css("column-axis", V ? "vertical" : "horizontal"),
                    q.applyBookStyles(),
                    N(),
                    _(),
                    y();
            }
            function x() {
                if (j) {
                    var e = j;
                    (j = void 0), q.openPage(e);
                }
            }
            function E(e) {
                if (Q) return (j = e), !1;
                if (e.spineItem && e.spineItem != D)
                    return (j = e), b(e.spineItem), !0;
                var t = void 0;
                if (void 0 !== e.spineItemPageIndex) t = e.spineItemPageIndex;
                else if (e.elementId)
                    t =
                        se.currentPageIndex +
                        L.getPageIndexDeltaForElementId(e.elementId);
                else if (e.firstVisibleCfi && e.lastVisibleCfi) {
                    var n, r;
                    try {
                        n = L.getPageIndexDeltaForCfi(
                            e.firstVisibleCfi,
                            te,
                            ne,
                            re
                        );
                    } catch (e) {
                        (n = 0), console.error(e);
                    }
                    try {
                        r = L.getPageIndexDeltaForCfi(
                            e.lastVisibleCfi,
                            te,
                            ne,
                            re
                        );
                    } catch (e) {
                        (r = 0), console.error(e);
                    }
                    t = se.currentPageIndex + Math.round((n + r) / 2);
                } else if (e.elementCfi)
                    try {
                        t =
                            se.currentPageIndex +
                            L.getPageIndexDeltaForCfi(e.elementCfi, te, ne, re);
                    } catch (e) {
                        (t = 0), console.error(e);
                    }
                else
                    e.firstPage
                        ? (t = 0)
                        : e.lastPage
                            ? (t = se.columnCount - 1)
                            : (console.debug("No criteria in pageRequest"),
                              (t = 0));
                return (
                    (t < 0 || t > se.columnCount) &&
                        (console.log(
                            "Illegal pageIndex value: ",
                            t,
                            "column count is ",
                            se.columnCount
                        ),
                        (t = t < 0 ? 0 : se.columnCount)),
                    (se.currentPageIndex = t),
                    (se.currentSpreadIndex = Math.floor(
                        t / se.visibleColumnCount
                    )),
                    ue(e.initiator, e.spineItem, e.elementId),
                    !0
                );
            }
            function T() {
                var e = -se.pageOffset + "px";
                if (V) z.css("top", e);
                else {
                    var t = $ || H;
                    z.css("left", t ? e : ""), z.css("right", t ? "" : e);
                }
                O();
            }
            function S() {
                var e = M.width();
                e -= e % 2;
                var t = M.height();
                return (
                    (oe.width !== e || oe.height !== t) &&
                    ((oe.width = e), (oe.height = t), !0)
                );
            }
            function C(t, r, i) {
                (se.currentPageIndex =
                    se.currentSpreadIndex * se.visibleColumnCount),
                    (se.pageOffset =
                        (se.columnWidth + se.columnGap) *
                        se.visibleColumnCount *
                        se.currentSpreadIndex),
                    T(),
                    n.defer(function() {
                        void 0 == ee && q.saveCurrentPosition(),
                            e.logEvent(
                                "InternalEvents.CURRENT_VIEW_PAGINATION_CHANGED",
                                "EMIT",
                                "reflowable_view.js"
                            ),
                            q.emit(
                                e.InternalEvents
                                    .CURRENT_VIEW_PAGINATION_CHANGED,
                                {
                                    paginationInfo: q.getPaginationInfo(),
                                    initiator: t,
                                    spineItem: r,
                                    elementId: i
                                }
                            );
                    });
            }
            function k() {
                var e = se.columnMaxWidth,
                    t = se.columnMinWidth,
                    n = s.deduceSyntheticSpread(W, D, le),
                    r = !1 === n || !0 === n;
                if (
                    (0 === n && (n = 1),
                    (se.visibleColumnCount = n ? 2 : 1),
                    V &&
                        ((e *= 2),
                        (n = !1),
                        (r = !0),
                        (se.visibleColumnCount = 1)),
                    z)
                ) {
                    P();
                    var i = parseInt(W.css("border-left-width")),
                        o = se.columnGap / 2;
                    o = Math.max(0, o - i);
                    var a = parseInt(W.css("border-right-width")),
                        l = se.columnGap / 2;
                    l = Math.max(0, l - a);
                    var u = W.width(),
                        c = u - o - l;
                    n && (c = 0.5 * (c - se.columnGap));
                    var d = 0;
                    if (c > e) {
                        var f = c - e;
                        d = Math.floor(f * (n ? 1 : 0.5));
                    } else
                        !r &&
                            c < t &&
                            n &&
                            ((n = !1),
                            (se.visibleColumnCount = 1),
                            (c = u - o - l) > e &&
                                (d = Math.floor(0.5 * (c - e))));
                    F.css({ left: d + o + "px", right: d + l + "px" }), S();
                    var p = F.width();
                    n && (p = (p - se.columnGap) / 2),
                        (p = Math.floor(p)),
                        p - 1 > e &&
                            console.debug(
                                "resultingColumnWidth > MAXW ! " + p + " > " + e
                            ),
                        U.css("width", oe.width + "px"),
                        U.css("height", oe.height + "px"),
                        z.css("height", oe.height + "px"),
                        z.css("min-height", oe.height + "px"),
                        z.css("max-height", oe.height + "px"),
                        z.css("margin", 0),
                        z.css("padding", 0),
                        z.css("border", 0),
                        B.css("position", "relative"),
                        B.css("margin", 0),
                        B.css("padding", 0),
                        (se.rightToLeft = G.isRightToLeft()),
                        (se.columnWidth = Math.round(
                            ((V ? oe.height : oe.width) -
                                se.columnGap * (se.visibleColumnCount - 1)) /
                                se.visibleColumnCount
                        ));
                    se.visibleColumnCount > 1
                        ? (z.css("width", oe.width + "px"),
                          z.css("column-width", "auto"),
                          z.css("column-count", se.visibleColumnCount))
                        : (z.css(
                              "width",
                              (V ? oe.width : se.columnWidth) + "px"
                          ),
                          z.css("column-count", "auto"),
                          z.css("column-width", se.columnWidth + "px")),
                        z.css("column-fill", "auto"),
                        z.css({ left: "0", right: "0", top: "0" }),
                        s.triggerLayout(U);
                    var h = V ? z[0].scrollHeight : z[0].scrollWidth;
                    0 == h && console.error("Document dimensions zero?!"),
                        (se.columnCount =
                            (h + se.columnGap) /
                            (se.columnWidth + se.columnGap)),
                        (se.columnCount = Math.round(se.columnCount)),
                        0 == se.columnCount &&
                            console.error("Column count zero?!");
                    var m = (se.columnCount - 1) * se.columnGap,
                        g = (h - m) / se.columnCount;
                    (g = Math.round(g)),
                        g > se.columnWidth &&
                            (console.debug("ADJUST COLUMN"),
                            console.log(se.columnWidth),
                            console.log(g),
                            (se.columnWidth = g)),
                        (se.spreadCount = Math.ceil(
                            se.columnCount / se.visibleColumnCount
                        )),
                        se.currentSpreadIndex >= se.spreadCount &&
                            (se.currentSpreadIndex = se.spreadCount - 1),
                        j
                            ? x()
                            : ee
                                ? ((se.currentPageIndex = 0),
                                  q.restoreCurrentPosition())
                                : ue(q, D),
                        I();
                }
            }
            function I() {
                var e = B[0];
                e.resizeSensor ||
                    ((ae.width = t(e).width()),
                    (ae.height = t(e).height()),
                    (e.resizeSensor = new c(e, function() {
                        var n = { width: t(e).width(), height: t(e).height() };
                        console.debug(
                            "ReflowableView content resized ...",
                            n.width,
                            n.height,
                            D.idref
                        ),
                            n.width != ae.width || n.height != ae.height
                                ? ((ae.width = n.width),
                                  (ae.height = n.height),
                                  console.debug("... updating pagination."),
                                  ce())
                                : console.debug(
                                      "... ignored (identical dimensions)."
                                  );
                    })));
            }
            function P() {
                -1 == ie && ((ie = z[0].style.opacity), z.css("opacity", "0"));
            }
            function O() {
                -1 != ie && z.css("opacity", ie), (ie = -1);
            }
            function A() {
                for (
                    var e = [],
                        t = se.currentSpreadIndex * se.visibleColumnCount,
                        n = 0;
                    n < se.visibleColumnCount && t + n < se.columnCount;
                    n++
                )
                    e.push(t + n);
                return e;
            }
            function N() {
                if (z) {
                    var e;
                    t("img, svg", z).each(function() {
                        (e = t(this)),
                            e.css("max-width", "98%"),
                            e.css("max-height", "98%"),
                            e.css("height") || e.css("height", "auto"),
                            e.css("width") || e.css("width", "auto");
                    });
                }
            }
            function R(e) {
                return new i(D.idref, e);
            }
            t.extend(this, new r());
            var D,
                j,
                M,
                L,
                F,
                U,
                z,
                B,
                V,
                $,
                H,
                q = this,
                W = t(d.$viewport),
                G = d.spine,
                X = d.userStyles,
                K = d.bookStyles,
                J = d.iframeLoader,
                Q = !1,
                Y = 100,
                Z = 0,
                ee = void 0,
                te = [
                    "cfi-marker",
                    "mo-cfi-highlight",
                    "resize-sensor",
                    "resize-sensor-expand",
                    "resize-sensor-shrink",
                    "resize-sensor-inner",
                    "js-hypothesis-config",
                    "js-hypothesis-embed"
                ],
                ne = ["hypothesis-adder"],
                re = ["MathJax_Message", "MathJax_SVG_Hidden"],
                ie = -1,
                oe = { width: void 0, height: void 0 },
                ae = { width: void 0, height: void 0 },
                se = {
                    visibleColumnCount: 2,
                    columnGap: 20,
                    columnMaxWidth: 550,
                    columnMinWidth: 400,
                    spreadCount: 0,
                    currentSpreadIndex: 0,
                    currentPageIndex: 0,
                    columnWidth: void 0,
                    pageOffset: 0,
                    columnCount: 0
                };
            (this.render = function() {
                var e = s.loadTemplate("reflowable_book_frame", {});
                (F = t(e)), W.append(F);
                var n = f.viewerSettings();
                return (
                    (n && void 0 !== n.enableGPUHardwareAccelerationCSS3D) ||
                        (n = new u({})),
                    n.enableGPUHardwareAccelerationCSS3D &&
                        F.css("transform", "translateZ(0)"),
                    v(),
                    q
                );
            }),
                (this.remove = function() {
                    F.remove();
                }),
                (this.isReflowable = function() {
                    return !0;
                }),
                (this.onViewportResize = function() {
                    S() && ce();
                });
            var le = void 0;
            (this.setViewSettings = function(e, t) {
                (le = e),
                    (se.columnGap = e.columnGap),
                    (se.columnMaxWidth = e.columnMaxWidth),
                    (se.columnMinWidth = e.columnMinWidth),
                    (Y = e.fontSize),
                    (Z = e.fontSelection),
                    S(),
                    t || (_(), y());
            }),
                (this.applyStyles = function() {
                    s.setStyles(X.getStyles(), F.parent()),
                        p(s.Margins.fromElement(F).padding),
                        S(),
                        ce();
                }),
                (this.applyBookStyles = function() {
                    z && s.setStyles(K.getStyles(), U[0].contentDocument);
                }),
                (this.openPage = function(e) {
                    E(e), (ee = e);
                }),
                (this.resetCurrentPosition = function() {
                    ee = void 0;
                }),
                (this.saveCurrentPosition = function() {
                    if (!j) {
                        var e = q.getFirstVisibleCfi(),
                            t = q.getLastVisibleCfi();
                        (ee = new l(D, q)),
                            ee.setFirstAndLastVisibleCfi(
                                e.contentCFI,
                                t.contentCFI
                            );
                    }
                }),
                (this.restoreCurrentPosition = function() {
                    ee && E(ee);
                });
            var ue = n.debounce(C, 100);
            (this.openPagePrev = function(e) {
                if (D)
                    if (se.currentSpreadIndex > 0)
                        this.resetCurrentPosition(),
                            se.currentSpreadIndex--,
                            ue(e, D);
                    else {
                        var t = G.prevItem(D, !0);
                        if (t) {
                            var n = new l(t, e);
                            n.setLastPage(), q.openPage(n);
                        }
                    }
            }),
                (this.openPageNext = function(e) {
                    if (D)
                        if (se.currentSpreadIndex < se.spreadCount - 1)
                            this.resetCurrentPosition(),
                                se.currentSpreadIndex++,
                                ue(e, D);
                        else {
                            var t = G.nextItem(D, !0);
                            if (t) {
                                var n = new l(t, e);
                                n.setFirstPage(), q.openPage(n);
                            }
                        }
                });
            var ce = n.debounce(k, 100);
            (this.getPaginationInfo = function() {
                var e = new a(G, !1);
                if (!D) return e;
                for (var t = A(), n = 0, r = t.length; n < r; n++)
                    e.addOpenPage(t[n], se.columnCount, D.idref, D.index);
                return e;
            }),
                (this.bookmarkCurrentPage = function() {
                    if (D) return q.getFirstVisibleCfi();
                }),
                (this.getLoadedSpineItems = function() {
                    return [D];
                }),
                (this.getElementByCfi = function(e, t, n, r, i) {
                    return e != D.idref
                        ? void console.warn("spine item is not loaded")
                        : L.getElementByCfi(t, n, r, i);
                }),
                (this.getElementById = function(e, t) {
                    return e != D.idref
                        ? void console.error("spine item is not loaded")
                        : L.getElementById(t);
                }),
                (this.getElement = function(e, t) {
                    return e != D.idref
                        ? void console.warn("spine item is not loaded")
                        : L.getElement(t);
                }),
                (this.getFirstVisibleMediaOverlayElement = function() {
                    return L.getFirstVisibleMediaOverlayElement();
                }),
                (this.insureElementVisibility = function(e, n, r) {
                    var i = t(n);
                    if (!L.isElementVisible(i)) {
                        var o = L.getCfiForElement(n);
                        if (o) {
                            var a = new l(D, r);
                            a.setElementCfi(o);
                            var s = n.id;
                            s || (s = n.getAttribute("id")),
                                s && a.setElementId(s),
                                q.openPage(a);
                        }
                    }
                }),
                (this.getVisibleElementsWithFilter = function(e, t) {
                    var n = L.getVisibleElementsWithFilter(null, e);
                    return t ? [{ elements: n, spineItem: D }] : n;
                }),
                (this.getVisibleElements = function(e, t) {
                    var n = L.getAllVisibleElementsWithSelector(e);
                    return t ? [{ elements: n, spineItem: D }] : n;
                }),
                (this.isElementVisible = function(e) {
                    return L.isElementVisible(e);
                }),
                (this.getElements = function(e, t) {
                    return e != D.idref
                        ? void console.warn("spine item is not loaded")
                        : L.getElements(t);
                }),
                (this.isNodeFromRangeCfiVisible = function(e, t) {
                    if (D.idref === e) return L.isNodeFromRangeCfiVisible(t);
                }),
                (this.isVisibleSpineItemElementCfi = function(e, t) {
                    if (L.isRangeCfi(t))
                        return this.isNodeFromRangeCfiVisible(e, t);
                    var n = this.getElementByCfi(e, t);
                    return n && this.isElementVisible(n);
                }),
                (this.getNodeRangeInfoFromCfi = function(e, t) {
                    return e != D.idref
                        ? void console.warn("spine item is not loaded")
                        : L.getNodeRangeInfoFromCfi(t);
                }),
                (this.getFirstVisibleCfi = function() {
                    return R(L.getFirstVisibleCfi());
                }),
                (this.getLastVisibleCfi = function() {
                    return R(L.getLastVisibleCfi());
                }),
                (this.getStartCfi = function() {
                    return R(L.getStartCfi());
                }),
                (this.getEndCfi = function() {
                    return R(L.getEndCfi());
                }),
                (this.getDomRangeFromRangeCfi = function(e, t, n) {
                    return t && e.idref !== t.idref
                        ? void console.error(
                              "getDomRangeFromRangeCfi: both CFIs must be scoped under the same spineitem idref"
                          )
                        : L.getDomRangeFromRangeCfi(
                              e.contentCFI,
                              t ? t.contentCFI : null,
                              n
                          );
                }),
                (this.getRangeCfiFromDomRange = function(e) {
                    return R(L.getRangeCfiFromDomRange(e));
                }),
                (this.getVisibleCfiFromPoint = function(e, t, n) {
                    return R(L.getVisibleCfiFromPoint(e, t, n));
                }),
                (this.getRangeCfiFromPoints = function(e, t, n, r) {
                    return R(L.getRangeCfiFromPoints(e, t, n, r));
                }),
                (this.getCfiForElement = function(e) {
                    return R(L.getCfiForElement(e));
                }),
                (this.getElementFromPoint = function(e, t) {
                    return L.getElementFromPoint(e, t);
                }),
                (this.getNearestCfiFromElement = function(e) {
                    return R(L.getNearestCfiFromElement(e));
                });
        };
    }),
    define("readium_shared_js/models/style", [], function() {
        return function(e, t) {
            (this.selector = e),
                (this.declarations = t),
                (this.setDeclarations = function(e) {
                    for (var t in e)
                        e.hasOwnProperty(t) && (this.declarations[t] = e[t]);
                });
        };
    }),
    define("readium_shared_js/models/style_collection", ["./style"], function(
        e
    ) {
        return function() {
            var t = [];
            (this.clear = function() {
                t.length = 0;
            }),
                (this.findStyle = function(e) {
                    for (var n = t.length, r = 0; r < n; r++)
                        if (t[r].selector === e) return t[r];
                }),
                (this.addStyle = function(n, r) {
                    var i = this.findStyle(n);
                    return (
                        i
                            ? i.setDeclarations(r)
                            : ((i = new e(n, r)), t.push(i)),
                        i
                    );
                }),
                (this.removeStyle = function(e) {
                    for (var n = t.length, r = 0; r < n; r++)
                        if (t[r].selector === e) return void t.splice(r, 1);
                }),
                (this.getStyles = function() {
                    return t;
                }),
                (this.resetStyleValues = function() {
                    for (var e = t.length, n = 0; n < e; n++) {
                        var r = t[n],
                            i = r.declarations;
                        for (var o in i) i.hasOwnProperty(o) && (i[o] = "");
                    }
                });
        };
    }),
    define("readium_shared_js/models/switches", [
        "jquery",
        "underscore"
    ], function(e, t) {
        var n = function() {};
        return (
            (n.apply = function(n) {
                function r(e) {
                    var n = e.attributes["required-namespace"];
                    if (!n)
                        return (
                            console.log(
                                "Encountered a case statement with no required-namespace"
                            ),
                            !1
                        );
                    var r = ["http://www.w3.org/1998/Math/MathML"];
                    return t.include(r, n.value);
                }
                var i =
                    window.navigator.userAgent.indexOf("Trident") > 0 ||
                    window.navigator.userAgent.indexOf("Edge") > 0
                        ? function(e) {
                              return "epub\\:" + e;
                          }
                        : function(e) {
                              return e;
                          };
                t.each(n.querySelectorAll(i("switch")), function(n) {
                    var o = !1;
                    t.each(n.querySelectorAll(i("case")), function(t) {
                        !o && r(t) ? (o = !0) : e(t).remove();
                    }),
                        o &&
                            t.each(n.querySelectorAll(i("default")), function(
                                t
                            ) {
                                e(t).remove();
                            });
                });
            }),
            n
        );
    }),
    define("readium_shared_js/models/trigger", [
        "jquery",
        "../helpers"
    ], function(e, t) {
        var n = function(t) {
            var n = e(t);
            (this.action = n.attr("action")),
                (this.ref = n.attr("ref")),
                (this.event = n.attr("ev:event")),
                (this.observer = n.attr("ev:observer")),
                (this.ref = n.attr("ref"));
        };
        return (
            (n.register = function(t) {
                e("trigger", t).each(function() {
                    new n(this).subscribe(t);
                });
            }),
            (n.prototype.subscribe = function(t) {
                var n = "#" + this.observer,
                    r = this;
                e(n, t).on(this.event, function() {
                    return r.execute(t);
                });
            }),
            (n.prototype.execute = function(n) {
                var r = e("#" + t.escapeJQuerySelector(this.ref), n);
                switch (this.action) {
                    case "show":
                        r.css("visibility", "visible");
                        break;
                    case "hide":
                        r.css("visibility", "hidden");
                        break;
                    case "play":
                        (r[0].currentTime = 0), r[0].play();
                        break;
                    case "pause":
                        r[0].pause();
                        break;
                    case "resume":
                        r[0].play();
                        break;
                    case "mute":
                        r[0].muted = !0;
                        break;
                    case "unmute":
                        r[0].muted = !1;
                        break;
                    default:
                        return (
                            console.log(
                                "do not no how to handle trigger " + this.action
                            ),
                            null
                        );
                }
                return !1;
            }),
            n
        );
    }),
    define("readium_shared_js/models/node_range_info", [], function() {
        var e = function(e, t) {
            (this.node = e), (this.offset = t);
        };
        return function(t, n, r) {
            var i = this;
            (this.clientRect = t),
                (this.startInfo = n),
                (this.endInfo = r),
                (this.setStartInfo = function(t) {
                    return (i.startInfo = new e(t)), i;
                }),
                (this.setEndInfo = function(t) {
                    return (i.endInfo = new e(t)), i;
                });
        };
    }),
    define("readium_shared_js/views/external_agent_support", [
        "../globals",
        "underscore"
    ], function(e, t) {
        return function(n) {
            function r(e, t, n) {
                var r = e.createElement("meta");
                r.setAttribute("name", t),
                    r.setAttribute("content", n),
                    e.head.appendChild(r);
            }
            function i(e, t) {
                var i = n.metadata().identifier,
                    o = t.idref;
                i &&
                    o &&
                    (r(e, "dc.relation.ispartof", i), r(e, "dc.identifier", o));
            }
            function o(e) {
                if (
                    -1 !== Object.keys(e).indexOf("document") &&
                    e.location.search.match(/goto=.*cfi/i)
                )
                    return e.location.href.split("#")[0];
            }
            function a(e) {
                var t = e.defaultView;
                if (t && (t.parent || t.top)) {
                    var n = o(t.parent);
                    return o(t.top) || n;
                }
            }
            function s(e, t) {
                if (e.defaultView && e.defaultView.parent) {
                    var n = a(e);
                    if (n) {
                        var r = e.createElement("link");
                        r.setAttribute("rel", "canonical"),
                            r.setAttribute("href", n),
                            e.head.appendChild(r),
                            (c[t.idref].canonicalLinkElement = r);
                    }
                }
            }
            function l(e) {
                e.addEventListener("scrolltorange", function(e) {
                    e.preventDefault();
                    var t = e.detail;
                    f(t);
                });
            }
            function u(e) {
                e.addEventListener("selectionchange", function() {
                    var t = e.getSelection();
                    t && t.isCollapsed
                        ? (e.body.style.position = "relative")
                        : (e.body.style.position = "");
                });
            }
            var c = {},
                d = {};
            e.on(e.Events.PLUGINS_LOADED, function() {
                window.define && window.define.amd && delete window.define.amd;
            });
            var f = t.debounce(function(e) {
                var t = n.getRangeCfiFromDomRange(e),
                    r = c[t.idref];
                r && r.isUpdated
                    ? n.openSpineItemElementCfi(t.idref, t.contentCFI)
                    : (r.pendingNavRequest = {
                          idref: t.idref,
                          contentCFI: t.contentCFI
                      });
            }, 100);
            (this.bindToContentDocument = function(e, t) {
                (d[t.idref] = e),
                    (c[t.idref] = {}),
                    i(e, t),
                    s(e, t),
                    l(e),
                    t.isReflowable() && u(e);
            }),
                (this.updateContentDocument = function(e) {
                    var t = d[e.idref],
                        r = c[e.idref];
                    if (t && r) {
                        if (r.canonicalLinkElement) {
                            var i = a(t);
                            i && r.canonicalLinkElement.setAttribute("href", i);
                        }
                        r.isUpdated = !0;
                        var o = r.pendingNavRequest;
                        o &&
                            (n.openSpineItemElementCfi(o.idref, o.contentCFI),
                            (r.pendingNavRequest = null));
                    }
                });
        };
    }),
    define("readium_shared_js/views/reader_view", [
        "../globals",
        "jquery",
        "underscore",
        "eventEmitter",
        "./fixed_view",
        "../helpers",
        "./iframe_loader",
        "./internal_links_support",
        "./media_overlay_data_injector",
        "./media_overlay_player",
        "../models/package",
        "../models/metadata",
        "../models/page_open_request",
        "./reflowable_view",
        "./scroll_view",
        "../models/style_collection",
        "../models/switches",
        "../models/trigger",
        "../models/viewer_settings",
        "../models/bookmark_data",
        "../models/node_range_info",
        "./external_agent_support"
    ], function(
        e,
        t,
        n,
        r,
        i,
        o,
        a,
        s,
        l,
        u,
        c,
        d,
        f,
        p,
        h,
        m,
        g,
        v,
        b,
        y,
        _,
        w
    ) {
        var x = function(E) {
            function T(e) {
                return "scroll-doc" == $.scroll
                    ? x.VIEW_TYPE_SCROLLED_DOC
                    : "scroll-continuous" == $.scroll
                        ? x.VIEW_TYPE_SCROLLED_CONTINUOUS
                        : e.isFixedLayout()
                            ? x.VIEW_TYPE_FIXED
                            : e.isFlowScrolledDoc()
                                ? x.VIEW_TYPE_SCROLLED_DOC
                                : e.isFlowScrolledContinuous()
                                    ? x.VIEW_TYPE_SCROLLED_CONTINUOUS
                                    : x.VIEW_TYPE_COLUMNIZED;
            }
            function S(t, r) {
                var i = T(t);
                if (U) {
                    if (F.getCurrentViewType() == i) return void r(!1);
                    C();
                }
                var a = {
                    $viewport: L,
                    spine: V,
                    userStyles: H,
                    bookStyles: q,
                    iframeLoader: M
                };
                (U = F.createViewForType(i, a)),
                    e.logEvent("READER_VIEW_CREATED", "EMIT", "reader_view.js"),
                    F.emit(e.Events.READER_VIEW_CREATED, i),
                    U.on(e.Events.CONTENT_DOCUMENT_LOADED, function(t, n) {
                        var r = t[0].contentDocument;
                        e.logEvent(
                            "CONTENT_DOCUMENT_LOADED",
                            "ON",
                            "reader_view.js (current view) [ " + n.href + " ]"
                        ),
                            o.isIframeAlive(t[0]) &&
                                (j.attachMediaOverlayData(t, n, $),
                                W.processLinkElements(t, n),
                                G.bindToContentDocument(r, n),
                                v.register(r),
                                g.apply(r),
                                e.logEvent(
                                    "CONTENT_DOCUMENT_LOADED",
                                    "EMIT",
                                    "reader_view.js [ " + n.href + " ]"
                                ),
                                F.emit(e.Events.CONTENT_DOCUMENT_LOADED, t, n));
                    }),
                    U.on(e.Events.CONTENT_DOCUMENT_LOAD_START, function(t, n) {
                        e.logEvent(
                            "CONTENT_DOCUMENT_LOAD_START",
                            "EMIT",
                            "reader_view.js [ " + n.href + " ]"
                        ),
                            F.emit(e.Events.CONTENT_DOCUMENT_LOAD_START, t, n);
                    }),
                    U.on(e.Events.CONTENT_DOCUMENT_UNLOADED, function(t, n) {
                        e.logEvent(
                            "CONTENT_DOCUMENT_UNLOADED",
                            "EMIT",
                            "reader_view.js [ " + n.href + " ]"
                        ),
                            F.emit(e.Events.CONTENT_DOCUMENT_UNLOADED, t, n);
                    }),
                    U.on(
                        e.InternalEvents.CURRENT_VIEW_PAGINATION_CHANGED,
                        function(t) {
                            e.logEvent(
                                "InternalEvents.CURRENT_VIEW_PAGINATION_CHANGED",
                                "ON",
                                "reader_view.js"
                            ),
                                D.onPageChanged(t),
                                n.defer(function() {
                                    e.logEvent(
                                        "PAGINATION_CHANGED",
                                        "EMIT",
                                        "reader_view.js"
                                    ),
                                        F.emit(e.Events.PAGINATION_CHANGED, t),
                                        t.spineItem &&
                                            n.defer(function() {
                                                G.updateContentDocument(
                                                    t.spineItem
                                                );
                                            });
                                });
                        }
                    ),
                    U.on(e.Events.FXL_VIEW_RESIZED, function() {
                        e.logEvent(
                            "FXL_VIEW_RESIZED",
                            "EMIT",
                            "reader_view.js"
                        ),
                            F.emit(e.Events.FXL_VIEW_RESIZED);
                    }),
                    U.render();
                U.setViewSettings($, !0),
                    setTimeout(function() {
                        r(!0);
                    }, 50);
            }
            function C() {
                U &&
                    (e.logEvent(
                        "READER_VIEW_DESTROYED",
                        "EMIT",
                        "reader_view.js"
                    ),
                    F.emit(e.Events.READER_VIEW_DESTROYED),
                    e.logEvent(
                        "InternalEvents.CURRENT_VIEW_PAGINATION_CHANGED",
                        "OFF",
                        "reader_view.js"
                    ),
                    U.off(e.InternalEvents.CURRENT_VIEW_PAGINATION_CHANGED),
                    U.remove(),
                    (U = void 0));
            }
            function k(t) {
                e.logEvent(
                    "MEDIA_OVERLAY_STATUS_CHANGED",
                    "EMIT",
                    "reader_view.js (via MediaOverlayPlayer + AudioPlayer)"
                ),
                    F.emit(e.Events.MEDIA_OVERLAY_STATUS_CHANGED, t);
            }
            function I(e) {
                if (!e)
                    return void console.log("idref parameter value missing!");
                var t = V.getItemById(e);
                return (
                    t ||
                    void console.log("Spine item with id " + e + " not found!")
                );
            }
            function P(e, t) {
                S(e.spineItem, function(n) {
                    if (!n) {
                        U.setViewSettings($, !0);
                    }
                    U.openPage(e, t);
                });
            }
            function O(e) {
                o.setStyles(H.getStyles(), L),
                    D && D.applyStyles(),
                    e || (U && U.applyStyles());
            }
            function A() {
                (K = null),
                    (J = !1),
                    U &&
                        (U.isReflowable &&
                            U.isReflowable() &&
                            (J = F.isPlayingMediaOverlay()) &&
                            F.pauseMediaOverlay(),
                        (K = U.bookmarkCurrentPage()));
            }
            function N() {
                U && F.handleViewportResize(K);
            }
            function R() {
                N(), J && F.playMediaOverlay();
            }
            t.extend(this, new r());
            var D,
                j,
                M,
                L,
                F = this,
                U = void 0,
                z = void 0,
                B = void 0,
                V = void 0,
                $ = new b({}),
                H = new m(),
                q = new m(),
                W = new s(this),
                G = new w(this),
                X = o.extendedThrottle(A, N, R, 250, 1e3, F);
            t(window).on("resize.ReadiumSDK.readerView", X),
                (this.fonts = E.fonts),
                E.el instanceof t
                    ? ((L = E.el),
                      console.log(
                          "** EL is a jQuery selector:" + E.el.attr("id")
                      ))
                    : ((L = t(E.el)),
                      console.log("** EL is a string:" + L.attr("id"))),
                (M = E.iframeLoader
                    ? E.iframeLoader
                    : new a({ mathJaxUrl: E.mathJaxUrl })),
                (_needsFixedLayoutScalerWorkAround =
                    E.needsFixedLayoutScalerWorkAround),
                (this.needsFixedLayoutScalerWorkAround = function() {
                    return _needsFixedLayoutScalerWorkAround;
                }),
                (this.createViewForType = function(e, t) {
                    var n;
                    switch ((L.css("overflow", "hidden"), e)) {
                        case x.VIEW_TYPE_FIXED:
                            L.css("overflow", "auto"), (n = new i(t, F));
                            break;
                        case x.VIEW_TYPE_SCROLLED_DOC:
                            n = new h(t, !1, F);
                            break;
                        case x.VIEW_TYPE_SCROLLED_CONTINUOUS:
                            n = new h(t, !0, F);
                            break;
                        default:
                            n = new p(t, F);
                    }
                    return n;
                }),
                (this.getCurrentViewType = function() {
                    if (U)
                        return U instanceof p
                            ? x.VIEW_TYPE_COLUMNIZED
                            : U instanceof i
                                ? x.VIEW_TYPE_FIXED
                                : U instanceof h
                                    ? U.isContinuousScroll()
                                        ? x.VIEW_TYPE_SCROLLED_CONTINUOUS
                                        : x.VIEW_TYPE_SCROLLED_DOC
                                    : void console.error(
                                          "Unrecognized view type"
                                      );
                }),
                (this.getCurrentView = function() {
                    return U;
                }),
                (this.getLoadedSpineItems = function() {
                    return U ? U.getLoadedSpineItems() : [];
                }),
                (this.viewerSettings = function() {
                    return $;
                }),
                (this.package = function() {
                    return z;
                }),
                (this.metadata = function() {
                    return B;
                }),
                (this.spine = function() {
                    return V;
                }),
                (this.userStyles = function() {
                    return H;
                }),
                (this.openBook = function(e) {
                    var n = e.package ? e.package : e;
                    (z = new c(n)),
                        (B = new d(n.metadata)),
                        (V = z.spine),
                        V.handleLinear(!0),
                        D && D.reset(),
                        (D = new u(F, t.proxy(k, F))),
                        D.setAutomaticNextSmil(
                            !!$.mediaOverlaysAutomaticPageTurn
                        ),
                        (j = new l(z.media_overlay, D)),
                        C(),
                        e.settings && F.updateSettings(e.settings),
                        e.styles && F.setStyles(e.styles);
                    var r = void 0;
                    e.openPageRequest &&
                        "function" == typeof e.openPageRequest &&
                        (e.openPageRequest = e.openPageRequest()),
                        e.openPageRequest &&
                            (e.openPageRequest.idref ||
                            (e.openPageRequest.contentRefUrl &&
                                e.openPageRequest.sourceFileHref)
                                ? (r = e.openPageRequest)
                                : console.log(
                                      "Invalid page request data: idref required!"
                                  ));
                    var i = !1;
                    if (r) {
                        r = e.openPageRequest;
                        try {
                            i = r.idref
                                ? r.spineItemPageIndex
                                    ? !F.openSpineItemPage(
                                          r.idref,
                                          r.spineItemPageIndex,
                                          F
                                      )
                                    : r.elementCfi
                                        ? !F.openSpineItemElementCfi(
                                              r.idref,
                                              r.elementCfi,
                                              F
                                          )
                                        : !F.openSpineItemPage(r.idref, 0, F)
                                : !F.openContentUrl(
                                      r.contentRefUrl,
                                      r.sourceFileHref,
                                      F
                                  );
                        } catch (e) {
                            console.error(
                                "openPageRequest fail: fallback to first page!"
                            ),
                                console.log(e),
                                (i = !0);
                        }
                    } else i = !0;
                    if (i) {
                        var o = V.first();
                        if (o) {
                            var a = new f(o, F);
                            a.setFirstPage(), P(a, 0);
                        }
                    }
                }),
                (this.openPageLeft = function() {
                    z.spine.isLeftToRight()
                        ? F.openPagePrev()
                        : F.openPageNext();
                }),
                (this.openPageRight = function() {
                    z.spine.isLeftToRight()
                        ? F.openPageNext()
                        : F.openPagePrev();
                }),
                (this.isCurrentViewFixedLayout = function() {
                    return U instanceof i;
                }),
                (this.setZoom = function(e) {
                    F.isCurrentViewFixedLayout() && U.setZoom(e);
                }),
                (this.getViewScale = function() {
                    return F.isCurrentViewFixedLayout()
                        ? 100 * U.getViewScale()
                        : 100;
                }),
                (this.updateSettings = function(t) {
                    if (
                        ($.update(t),
                        D &&
                            D.setAutomaticNextSmil(
                                !!$.mediaOverlaysAutomaticPageTurn
                            ),
                        U && !t.doNotUpdateView)
                    ) {
                        var n = U.bookmarkCurrentPage();
                        if (n && n.idref) {
                            var r = !1;
                            U.isReflowable &&
                                U.isReflowable() &&
                                (r = F.isPlayingMediaOverlay()) &&
                                F.pauseMediaOverlay();
                            return void S(V.getItemById(n.idref), function(t) {
                                if (!t) {
                                    U.setViewSettings($, !1);
                                }
                                F.once(
                                    ReadiumSDK.Events.PAGINATION_CHANGED,
                                    function(e) {
                                        var t = new y(n.idref, n.contentCFI);
                                        F.debugBookmarkData(t);
                                    }
                                ),
                                    F.openSpineItemElementCfi(
                                        n.idref,
                                        n.contentCFI,
                                        F
                                    ),
                                    r && F.playMediaOverlay(),
                                    e.logEvent(
                                        "SETTINGS_APPLIED 1 (view update)",
                                        "EMIT",
                                        "reader_view.js"
                                    ),
                                    F.emit(e.Events.SETTINGS_APPLIED);
                            });
                        }
                    }
                    e.logEvent(
                        "SETTINGS_APPLIED 2 (no view update)",
                        "EMIT",
                        "reader_view.js"
                    ),
                        F.emit(e.Events.SETTINGS_APPLIED);
                }),
                (this.openPageNext = function() {
                    if (
                        F.getCurrentViewType() ===
                        x.VIEW_TYPE_SCROLLED_CONTINUOUS
                    )
                        return void U.openPageNext(F);
                    var e = U.getPaginationInfo();
                    if (0 != e.openPages.length) {
                        var t = e.openPages[e.openPages.length - 1];
                        if (t.spineItemPageIndex < t.spineItemPageCount - 1)
                            return void U.openPageNext(F);
                        var n = V.getItemById(t.idref),
                            r = V.nextItem(n);
                        if (r) {
                            var i = new f(r, F);
                            i.setFirstPage(), P(i, 2);
                        }
                    }
                }),
                (this.openPagePrev = function() {
                    if (
                        F.getCurrentViewType() ===
                        x.VIEW_TYPE_SCROLLED_CONTINUOUS
                    )
                        return void U.openPagePrev(F);
                    var e = U.getPaginationInfo();
                    if (0 != e.openPages.length) {
                        var t = e.openPages[0];
                        if (t.spineItemPageIndex > 0)
                            return void U.openPagePrev(F);
                        var n = V.getItemById(t.idref),
                            r = V.prevItem(n);
                        if (r) {
                            var i = new f(r, F);
                            i.setLastPage(), P(i, 1);
                        }
                    }
                }),
                (this.openSpineItemElementCfi = function(e, t, n) {
                    var r = I(e);
                    if (!r) return !1;
                    var i = new f(r, n);
                    return t && i.setElementCfi(t), P(i, 0), !0;
                }),
                (this.openPageIndex = function(e, t) {
                    if (!U) return !1;
                    var n;
                    if (z.isFixedLayout()) {
                        var r = V.items[e];
                        if (!r) return !1;
                        (n = new f(r, t)), n.setPageIndex(0);
                    } else {
                        var i = this.getLoadedSpineItems();
                        i.length > 0 &&
                            ((n = new f(i[0], t)), n.setPageIndex(e));
                    }
                    return P(n, 0), !0;
                }),
                (this.openSpineItemPage = function(e, t, n) {
                    var r = I(e);
                    if (!r) return !1;
                    var i = new f(r, n);
                    return t && i.setPageIndex(t), P(i, 0), !0;
                }),
                (this.setStyles = function(e, t) {
                    for (var n = e.length, r = 0; r < n; r++)
                        e[r].declarations
                            ? H.addStyle(e[r].selector, e[r].declarations)
                            : H.removeStyle(e[r].selector);
                    O(t);
                }),
                (this.setBookStyles = function(e) {
                    for (var t = e.length, n = 0; n < t; n++)
                        e[n].declarations
                            ? q.addStyle(e[n].selector, e[n].declarations)
                            : q.removeStyle(e[n].selector);
                    U && U.applyBookStyles();
                }),
                (this.getElement = function(e, t) {
                    if (U) return U.getElement(e, t);
                }),
                (this.getElementById = function(e, t) {
                    if (U) return U.getElementById(e, t);
                }),
                (this.getElementByCfi = function(e, t, n, r, i) {
                    if (U) return U.getElementByCfi(e, t, n, r, i);
                }),
                (this.mediaOverlaysOpenContentUrl = function(e, t, n) {
                    D.mediaOverlaysOpenContentUrl(e, t, n);
                }),
                (this.openContentUrl = function(e, t, n) {
                    var r,
                        i,
                        a = o.ResolveContentRef(e, t),
                        s = a.indexOf("#");
                    s >= 0
                        ? ((r = a.substr(0, s)), (i = a.substr(s + 1)))
                        : ((r = a), (i = void 0));
                    var l = V.getItemByHref(r);
                    if (!l) {
                        console.warn("spineItem " + r + " not found");
                        var u = decodeURIComponent(r);
                        if (!(l = V.getItemByHref(u)))
                            return (
                                console.warn(
                                    "decoded spineItem " +
                                        u +
                                        " missing as well"
                                ),
                                !1
                            );
                    }
                    return F.openSpineItemElementId(l.idref, i, n);
                }),
                (this.openSpineItemElementId = function(e, t, n) {
                    var r = V.getItemById(e);
                    if (!r) return !1;
                    var i = new f(r, n);
                    return t && i.setElementId(t), P(i, 0), !0;
                }),
                (this.debugBookmarkData = function(e) {
                    if (ReadiumSDK) {
                        var t = this.getPaginationInfo();
                        if (
                            (console.log(JSON.stringify(t)), !t.isFixedLayout)
                        ) {
                            try {
                                ReadiumSDK._DEBUG_CfiNavigationLogic.clearDebugOverlays();
                            } catch (e) {}
                            try {
                                console.log(e);
                                var n = this.getDomRangeFromRangeCfi(e);
                                console.log(n);
                                var r = ReadiumSDK._DEBUG_CfiNavigationLogic.drawDebugOverlayFromDomRange(
                                    n
                                );
                                console.log(r);
                                var i = ReadiumSDK.reader.getFirstVisibleCfi();
                                console.log(i);
                                var o = ReadiumSDK.reader.getLastVisibleCfi();
                                console.log(o);
                            } catch (e) {}
                            setTimeout(function() {
                                try {
                                    ReadiumSDK._DEBUG_CfiNavigationLogic.clearDebugOverlays();
                                } catch (e) {}
                            }, 2e3);
                        }
                    }
                }),
                (this.bookmarkCurrentPage = function() {
                    var e = U.bookmarkCurrentPage();
                    return e ? e.toString() : null;
                }),
                (this.clearStyles = function() {
                    H.resetStyleValues(), O(), H.clear();
                }),
                (this.clearBookStyles = function() {
                    U && (q.resetStyleValues(), U.applyBookStyles()), q.clear();
                }),
                (this.isMediaOverlayAvailable = function() {
                    return !!D && D.isMediaOverlayAvailable();
                }),
                (this.toggleMediaOverlay = function() {
                    D.toggleMediaOverlay();
                }),
                (this.nextMediaOverlay = function() {
                    D.nextMediaOverlay();
                }),
                (this.previousMediaOverlay = function() {
                    D.previousMediaOverlay();
                }),
                (this.escapeMediaOverlay = function() {
                    D.escape();
                }),
                (this.ttsEndedMediaOverlay = function() {
                    D.onTTSEnd();
                }),
                (this.pauseMediaOverlay = function() {
                    D.pause();
                }),
                (this.playMediaOverlay = function() {
                    D.play();
                }),
                (this.isPlayingMediaOverlay = function() {
                    return D.isPlaying();
                }),
                (this.getFirstVisibleMediaOverlayElement = function() {
                    if (U) return U.getFirstVisibleMediaOverlayElement();
                }),
                (this.insureElementVisibility = function(e, t, n) {
                    U && U.insureElementVisibility(e, t, n);
                });
            var K = null,
                J = !1;
            (this.handleViewportResize = function(e) {
                U && U.onViewportResize();
            }),
                (this.addIFrameEventListener = function(e, t, n) {
                    M.addIFrameEventListener(e, t, n);
                });
            var Q = function(n) {
                var r = {},
                    i = !1,
                    o = void 0;
                this.setCallback_PlayPause = function(e) {
                    o = e;
                };
                var a = void 0;
                (this.setCallback_IsAvailable = function(e) {
                    a = e;
                }),
                    (this.playPause = function(e) {
                        s(e);
                    });
                var s = function(e) {
                    o && o(e);
                    try {
                        var n = void 0;
                        for (var i in r)
                            if (r.hasOwnProperty(i)) {
                                var a = r[i];
                                if (
                                    a &&
                                    a.active &&
                                    (n &&
                                        console.error(
                                            "More than one active iframe?? (pagination)"
                                        ),
                                    (n = a.$iframe))
                                ) {
                                    var s = t("audio", n[0].contentDocument);
                                    t.each(s, function() {
                                        var t =
                                            this.getAttribute("epub:type") ||
                                            this.getAttribute("type");
                                        return (
                                            !t ||
                                            ((t.indexOf("ibooks:soundtrack") <
                                                0 &&
                                                t.indexOf("media:soundtrack") <
                                                    0 &&
                                                t.indexOf("media:background") <
                                                    0) ||
                                                (e && this.play
                                                    ? this.play()
                                                    : this.pause &&
                                                      this.pause(),
                                                !0))
                                        );
                                    });
                                }
                            }
                    } catch (e) {
                        console.error(e);
                    }
                };
                (this.setPlayState = function(e) {
                    i = e;
                }),
                    n.on(e.Events.CONTENT_DOCUMENT_LOADED, function(t, n) {
                        e.logEvent(
                            "CONTENT_DOCUMENT_LOADED",
                            "ON",
                            "reader_view.js (via BackgroundAudioTrackManager) [ " +
                                n.href +
                                " ]"
                        );
                        try {
                            n &&
                                n.idref &&
                                t &&
                                t[0] &&
                                (r[n.idref] = { $iframe: t, href: n.href });
                        } catch (e) {
                            console.error(e);
                        }
                    }),
                    n.on(e.Events.PAGINATION_CHANGED, function(n) {
                        e.logEvent(
                            "PAGINATION_CHANGED",
                            "ON",
                            "reader_view.js (via BackgroundAudioTrackManager)"
                        );
                        var o = !1;
                        try {
                            for (var l in r)
                                if (r.hasOwnProperty(l)) {
                                    var u =
                                            n.spineItem &&
                                            n.spineItem.idref === l,
                                        c = !1;
                                    if (
                                        n.paginationInfo &&
                                        n.paginationInfo.openPages.length
                                    ) {
                                        for (
                                            var d = !0, f = 0;
                                            f <
                                            n.paginationInfo.openPages.length;
                                            f++
                                        )
                                            n.paginationInfo.openPages[f]
                                                .idref === l
                                                ? (c = !0)
                                                : (d = !1);
                                        !u && d && (u = !0);
                                    }
                                    if (u || c) {
                                        var p = r[l];
                                        if (!p) continue;
                                        r[l].active = u;
                                        var h = p.$iframe,
                                            m = (p.href,
                                            t("audio", h[0].contentDocument));
                                        t.each(m, function() {
                                            var e =
                                                this.getAttribute(
                                                    "epub:type"
                                                ) || this.getAttribute("type");
                                            return (
                                                !e ||
                                                ((e.indexOf(
                                                    "ibooks:soundtrack"
                                                ) < 0 &&
                                                    e.indexOf(
                                                        "media:soundtrack"
                                                    ) < 0 &&
                                                    e.indexOf(
                                                        "media:background"
                                                    ) < 0) ||
                                                    (this.setAttribute(
                                                        "loop",
                                                        "loop"
                                                    ),
                                                    this.removeAttribute(
                                                        "autoplay"
                                                    ),
                                                    u ||
                                                        (this.pause &&
                                                            this.pause()),
                                                    (o = !0),
                                                    !0))
                                            );
                                        });
                                    } else
                                        r[l] && (r[l].$iframe = void 0),
                                            (r[l] = void 0);
                                }
                        } catch (e) {
                            console.error(e);
                        }
                        a && a(o), s(o ? (i ? !0 : !1) : !1);
                    }),
                    n.on(e.Events.MEDIA_OVERLAY_STATUS_CHANGED, function(t) {
                        if (
                            (e.logEvent(
                                "MEDIA_OVERLAY_STATUS_CHANGED",
                                "ON",
                                "reader_view.js (via BackgroundAudioTrackManager)"
                            ),
                            t.smilIndex)
                        ) {
                            var o = n.package(),
                                a = o.media_overlay.smilAt(t.smilIndex);
                            if (a && a.spineItemId) {
                                var l = !1;
                                for (var u in r)
                                    if (r.hasOwnProperty(u)) {
                                        var c = r[u];
                                        c &&
                                            c.active &&
                                            u !== a.spineItemId &&
                                            (s(!1), (c.active = !1), (l = !0));
                                    }
                                if (l) {
                                    for (var u in r)
                                        if (r.hasOwnProperty(u)) {
                                            var c = r[u];
                                            c &&
                                                (c.active ||
                                                    (u === a.spineItemId &&
                                                        (c.active = !0)));
                                        }
                                    i && s(!0);
                                }
                            }
                        }
                    });
            };
            (this.backgroundAudioTrackManager = new Q(F)),
                (this.isVisibleSpineItemElementCfi = function(e, t) {
                    if (!I(e)) return !1;
                    if (U) {
                        if (!t || (t && "" === t))
                            for (
                                var n = U.getLoadedSpineItems(),
                                    r = 0,
                                    i = n.length;
                                r < i;
                                r++
                            )
                                if (n[r].idref == e) return !0;
                        return U.isVisibleSpineItemElementCfi(e, t);
                    }
                    return !1;
                }),
                (this.getElements = function(e, t) {
                    if (U) return U.getElements(e, t);
                }),
                (this.isElementVisible = function(e) {
                    return U.isElementVisible(t(e));
                }),
                (this.getNodeRangeInfoFromCfi = function(e, t) {
                    if (U && e && t) {
                        var n = U.getNodeRangeInfoFromCfi(e, t);
                        if (n)
                            return new _(n.clientRect)
                                .setStartInfo(n.startInfo)
                                .setEndInfo(n.endInfo);
                    }
                }),
                (this.getPaginationInfo = function() {
                    return U.getPaginationInfo();
                }),
                (this.getFirstVisibleCfi = function() {
                    if (U) return U.getFirstVisibleCfi();
                }),
                (this.getLastVisibleCfi = function() {
                    if (U) return U.getLastVisibleCfi();
                }),
                (this.getStartCfi = function() {
                    if (U) return U.getStartCfi();
                }),
                (this.getEndCfi = function() {
                    if (U) return U.getEndCfi();
                }),
                (this.getDomRangesFromRangeCfi = function(e, t, n) {
                    if (U)
                        return U.getDomRangesFromRangeCfi
                            ? U.getDomRangesFromRangeCfi(e, t, n)
                            : [U.getDomRangeFromRangeCfi(e, t, n)];
                }),
                (this.getDomRangesFromRangeCfi = function(e, t, n) {
                    if (U)
                        return U.getDomRangesFromRangeCfi
                            ? U.getDomRangesFromRangeCfi(e, t, n)
                            : [U.getDomRangeFromRangeCfi(e, t, n)];
                }),
                (this.getDomRangeFromRangeCfi = function(e, t, n) {
                    if (U) return U.getDomRangeFromRangeCfi(e, t, n);
                }),
                (this.getRangeCfiFromDomRange = function(e) {
                    if (U) return U.getRangeCfiFromDomRange(e);
                }),
                (this.getVisibleCfiFromPoint = function(e, t, n, r) {
                    if (U) return U.getVisibleCfiFromPoint(e, t, n, r);
                }),
                (this.getRangeCfiFromPoints = function(e, t, n, r, i) {
                    if (U) return U.getRangeCfiFromPoints(e, t, n, r, i);
                }),
                (this.getCfiForElement = function(e) {
                    if (U) return U.getCfiForElement(e);
                }),
                (this.getNearestCfiFromElement = function(e) {
                    if (U) return U.getNearestCfiFromElement(e);
                });
        };
        return (
            (x.VIEW_TYPE_COLUMNIZED = 1),
            (x.VIEW_TYPE_FIXED = 2),
            (x.VIEW_TYPE_SCROLLED_DOC = 3),
            (x.VIEW_TYPE_SCROLLED_CONTINUOUS = 4),
            x
        );
    }),
    define("text", ["module"], function(e) {
        "use strict";
        function t(e, t) {
            return void 0 === e || "" === e ? t : e;
        }
        function n(e, n, r, i) {
            if (n === i) return !0;
            if (e === r) {
                if ("http" === e) return t(n, "80") === t(i, "80");
                if ("https" === e) return t(n, "443") === t(i, "443");
            }
            return !1;
        }
        var r,
            i,
            o,
            a,
            s,
            l = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"],
            u = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
            c = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
            d = "undefined" != typeof location && location.href,
            f = d && location.protocol && location.protocol.replace(/\:/, ""),
            p = d && location.hostname,
            h = d && (location.port || void 0),
            m = {},
            g = (e.config && e.config()) || {};
        return (
            (r = {
                version: "2.0.15",
                strip: function(e) {
                    if (e) {
                        e = e.replace(u, "");
                        var t = e.match(c);
                        t && (e = t[1]);
                    } else e = "";
                    return e;
                },
                jsEscape: function(e) {
                    return e
                        .replace(/(['\\])/g, "\\$1")
                        .replace(/[\f]/g, "\\f")
                        .replace(/[\b]/g, "\\b")
                        .replace(/[\n]/g, "\\n")
                        .replace(/[\t]/g, "\\t")
                        .replace(/[\r]/g, "\\r")
                        .replace(/[\u2028]/g, "\\u2028")
                        .replace(/[\u2029]/g, "\\u2029");
                },
                createXhr:
                    g.createXhr ||
                    function() {
                        var e, t, n;
                        if ("undefined" != typeof XMLHttpRequest)
                            return new XMLHttpRequest();
                        if ("undefined" != typeof ActiveXObject)
                            for (t = 0; t < 3; t += 1) {
                                n = l[t];
                                try {
                                    e = new ActiveXObject(n);
                                } catch (e) {}
                                if (e) {
                                    l = [n];
                                    break;
                                }
                            }
                        return e;
                    },
                parseName: function(e) {
                    var t,
                        n,
                        r,
                        i = !1,
                        o = e.lastIndexOf("."),
                        a = 0 === e.indexOf("./") || 0 === e.indexOf("../");
                    return (
                        -1 !== o && (!a || o > 1)
                            ? ((t = e.substring(0, o)),
                              (n = e.substring(o + 1)))
                            : (t = e),
                        (r = n || t),
                        (o = r.indexOf("!")),
                        -1 !== o &&
                            ((i = "strip" === r.substring(o + 1)),
                            (r = r.substring(0, o)),
                            n ? (n = r) : (t = r)),
                        { moduleName: t, ext: n, strip: i }
                    );
                },
                xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,
                useXhr: function(e, t, i, o) {
                    var a,
                        s,
                        l,
                        u = r.xdRegExp.exec(e);
                    return (
                        !u ||
                        ((a = u[2]),
                        (s = u[3]),
                        (s = s.split(":")),
                        (l = s[1]),
                        (s = s[0]),
                        (!a || a === t) &&
                            (!s || s.toLowerCase() === i.toLowerCase()) &&
                            ((!l && !s) || n(a, l, t, o)))
                    );
                },
                finishLoad: function(e, t, n, i) {
                    (n = t ? r.strip(n) : n), g.isBuild && (m[e] = n), i(n);
                },
                load: function(e, t, n, i) {
                    if (i && i.isBuild && !i.inlineText) return void n();
                    g.isBuild = i && i.isBuild;
                    var o = r.parseName(e),
                        a = o.moduleName + (o.ext ? "." + o.ext : ""),
                        s = t.toUrl(a),
                        l = g.useXhr || r.useXhr;
                    if (0 === s.indexOf("empty:")) return void n();
                    !d || l(s, f, p, h)
                        ? r.get(
                              s,
                              function(t) {
                                  r.finishLoad(e, o.strip, t, n);
                              },
                              function(e) {
                                  n.error && n.error(e);
                              }
                          )
                        : t([a], function(e) {
                              r.finishLoad(
                                  o.moduleName + "." + o.ext,
                                  o.strip,
                                  e,
                                  n
                              );
                          });
                },
                write: function(e, t, n, i) {
                    if (m.hasOwnProperty(t)) {
                        var o = r.jsEscape(m[t]);
                        n.asModule(
                            e + "!" + t,
                            "define(function () { return '" + o + "';});\n"
                        );
                    }
                },
                writeFile: function(e, t, n, i, o) {
                    var a = r.parseName(t),
                        s = a.ext ? "." + a.ext : "",
                        l = a.moduleName + s,
                        u = n.toUrl(a.moduleName + s) + ".js";
                    r.load(
                        l,
                        n,
                        function(t) {
                            var n = function(e) {
                                return i(u, e);
                            };
                            (n.asModule = function(e, t) {
                                return i.asModule(e, u, t);
                            }),
                                r.write(e, l, n, o);
                        },
                        o
                    );
                }
            }),
            "node" === g.env ||
            (!g.env &&
                "undefined" != typeof process &&
                process.versions &&
                process.versions.node &&
                !process.versions["node-webkit"] &&
                !process.versions["atom-shell"])
                ? ((i = require.nodeRequire("fs")),
                  (r.get = function(e, t, n) {
                      try {
                          var r = i.readFileSync(e, "utf8");
                          "\ufeff" === r[0] && (r = r.substring(1)), t(r);
                      } catch (e) {
                          n && n(e);
                      }
                  }))
                : "xhr" === g.env || (!g.env && r.createXhr())
                    ? (r.get = function(e, t, n, i) {
                          var o,
                              a = r.createXhr();
                          if ((a.open("GET", e, !0), i))
                              for (o in i)
                                  i.hasOwnProperty(o) &&
                                      a.setRequestHeader(o.toLowerCase(), i[o]);
                          g.onXhr && g.onXhr(a, e),
                              (a.onreadystatechange = function(r) {
                                  var i, o;
                                  4 === a.readyState &&
                                      ((i = a.status || 0),
                                      i > 399 && i < 600
                                          ? ((o = new Error(
                                                e + " HTTP status: " + i
                                            )),
                                            (o.xhr = a),
                                            n && n(o))
                                          : t(a.responseText),
                                      g.onXhrComplete && g.onXhrComplete(a, e));
                              }),
                              a.send(null);
                      })
                    : "rhino" === g.env ||
                      (!g.env &&
                          "undefined" != typeof Packages &&
                          "undefined" != typeof java)
                        ? (r.get = function(e, t) {
                              var n,
                                  r,
                                  i = new java.io.File(e),
                                  o = java.lang.System.getProperty(
                                      "line.separator"
                                  ),
                                  a = new java.io.BufferedReader(
                                      new java.io.InputStreamReader(
                                          new java.io.FileInputStream(i),
                                          "utf-8"
                                      )
                                  ),
                                  s = "";
                              try {
                                  for (
                                      n = new java.lang.StringBuffer(),
                                          r = a.readLine(),
                                          r &&
                                              r.length() &&
                                              65279 === r.charAt(0) &&
                                              (r = r.substring(1)),
                                          null !== r && n.append(r);
                                      null !== (r = a.readLine());

                                  )
                                      n.append(o), n.append(r);
                                  s = String(n.toString());
                              } finally {
                                  a.close();
                              }
                              t(s);
                          })
                        : ("xpconnect" === g.env ||
                              (!g.env &&
                                  "undefined" != typeof Components &&
                                  Components.classes &&
                                  Components.interfaces)) &&
                          ((o = Components.classes),
                          (a = Components.interfaces),
                          Components.utils.import(
                              "resource://gre/modules/FileUtils.jsm"
                          ),
                          (s = "@mozilla.org/windows-registry-key;1" in o),
                          (r.get = function(e, t) {
                              var n,
                                  r,
                                  i,
                                  l = {};
                              s && (e = e.replace(/\//g, "\\")),
                                  (i = new FileUtils.File(e));
                              try {
                                  (n = o[
                                      "@mozilla.org/network/file-input-stream;1"
                                  ].createInstance(a.nsIFileInputStream)),
                                      n.init(i, 1, 0, !1),
                                      (r = o[
                                          "@mozilla.org/intl/converter-input-stream;1"
                                      ].createInstance(
                                          a.nsIConverterInputStream
                                      )),
                                      r.init(
                                          n,
                                          "utf-8",
                                          n.available(),
                                          a.nsIConverterInputStream
                                              .DEFAULT_REPLACEMENT_CHARACTER
                                      ),
                                      r.readString(n.available(), l),
                                      r.close(),
                                      n.close(),
                                      t(l.value);
                              } catch (e) {
                                  throw new Error(
                                      ((i && i.path) || "") + ": " + e
                                  );
                              }
                          })),
            r
        );
    }),
    define("text!version.json", [], function() {
        return '{"readiumJsViewer":{"sha":"4ab8dab28e7ae0a74f2b1716ea09d90f7cf399a4","clean":false,"version":"0.31.1","chromeVersion":"2.31.1","tag":"0.31.1-0-g4ab8dab","branch":"master","release":false,"timestamp":1540849887340},"readiumJs":{"sha":"999d7c32bcdd1184bcc248312267c6e744d737b9","clean":false,"version":"0.31.1","tag":"0.31.1-0-g999d7c3","branch":"999d7c32bcdd1184bcc248312267c6e744d737b9","release":false,"timestamp":1540849887673},"readiumSharedJs":{"sha":"7f245beba1ed97eaabce0aa5e9cf2f3b23e8f8f6","clean":false,"version":"0.31.1","tag":"0.31.1-0-g7f245be","branch":"7f245beba1ed97eaabce0aa5e9cf2f3b23e8f8f6","release":false,"timestamp":1540849887978}}';
    }),
    define("readium_js/epub-fetch/markup_parser", [], function() {
        return function() {
            var e = this;
            (this.parseXml = function(t) {
                return e.parseMarkup(t, "text/xml");
            }),
                (this.parseMarkup = function(e, t) {
                    return new window.DOMParser().parseFromString(e, t);
                });
        };
    }),
    define("readium_js/epub-fetch/discover_content_type", [
        "jquery",
        "URIjs"
    ], function(e, t) {
        var n = void 0,
            r = function() {
                var n = this;
                (r.suffixContentTypeMap = {
                    css: "text/css",
                    epub: "application/epub+zip",
                    gif: "image/gif",
                    html: "text/html",
                    jpg: "image/jpeg",
                    jpeg: "image/jpeg",
                    ncx: "application/x-dtbncx+xml",
                    opf: "application/oebps-package+xml",
                    png: "image/png",
                    svg: "image/svg+xml",
                    xhtml: "application/xhtml+xml"
                }),
                    (this.identifyContentTypeFromFileName = function(e) {
                        var n = t(e).suffix(),
                            i = "application/octet-stream";
                        return (
                            void 0 !== r.suffixContentTypeMap[n] &&
                                (i = r.suffixContentTypeMap[n]),
                            i
                        );
                    }),
                    (this.identifyContentType = function(t) {
                        var r = e
                            .ajax({ type: "HEAD", url: t, async: !1 })
                            .getResponseHeader("Content-Type");
                        return (
                            null === r &&
                                ((r = n.identifyContentTypeFromFileName(t)),
                                console.log(
                                    "guessed contentType [" +
                                        r +
                                        "] from URI [" +
                                        t +
                                        "]. Configuring the web server to provide the content type is recommended."
                                )),
                            r
                        );
                    });
            };
        return n || (n = new r()), n;
    }),
    define("readium_js/epub-fetch/plain_resource_fetcher", [
        "jquery",
        "URIjs",
        "./discover_content_type"
    ], function(e, t, n) {
        return function(r) {
            function i(e, t, n) {
                var r = a.resolveURI(e);
                if (void 0 === e)
                    throw "Fetched file relative path is undefined!";
                var i = new XMLHttpRequest();
                i.open("GET", r, !0),
                    (i.responseType = "arraybuffer"),
                    (i.onerror = n),
                    (i.onload = function(e) {
                        t(i.response);
                    }),
                    i.send();
            }
            var o = (r.getEbookURL(), r.getEbookURL_FilePath()),
                a = this;
            (this.resolveURI = function(e) {
                var n = void 0;
                try {
                    n = new t(e);
                } catch (t) {
                    console.error(t), console.log(e);
                }
                if (n && n.is("absolute")) return e;
                var r = o;
                try {
                    r = new t(r)
                        .search("")
                        .hash("")
                        .toString();
                } catch (e) {
                    console.error(e), console.log(r);
                }
                return r + ("/" == r.charAt(r.length - 1) ? "" : "/") + e;
            }),
                (this.fetchFileContentsText = function(t, n, r) {
                    var i = a.resolveURI(t);
                    if (void 0 === i) throw "Fetched file URL is undefined!";
                    e.ajax({
                        isLocal: 0 !== i.indexOf("http"),
                        url: i,
                        dataType: "text",
                        async: !0,
                        success: function(e) {
                            n(e);
                        },
                        error: function(e, t, n) {
                            r(new Error(n));
                        }
                    });
                }),
                (this.fetchFileContentsBlob = function(e, t, o) {
                    var a = r.getDecryptionFunctionForRelativePath(e);
                    if (a) {
                        var s = t;
                        t = function(e) {
                            a(e, function(e) {
                                s(e);
                            });
                        };
                    }
                    i(
                        e,
                        function(r) {
                            var i = new Blob([r], {
                                type: n.identifyContentTypeFromFileName(e)
                            });
                            t(i);
                        },
                        o
                    );
                });
        };
    }),
    (function(e) {
        "use strict";
        function t() {
            this.crc = -1;
        }
        function n() {}
        function r(e, t, n) {
            if (t < 0 || n < 0 || t + n > e.size)
                throw new RangeError(
                    "offset:" + t + ", length:" + n + ", size:" + e.size
                );
            return e.slice
                ? e.slice(t, t + n)
                : e.webkitSlice
                    ? e.webkitSlice(t, t + n)
                    : e.mozSlice
                        ? e.mozSlice(t, t + n)
                        : e.msSlice
                            ? e.msSlice(t, t + n)
                            : void 0;
        }
        function i(e, t) {
            var n, r;
            return (
                (n = new ArrayBuffer(e)),
                (r = new Uint8Array(n)),
                t && r.set(t, 0),
                { buffer: n, array: r, view: new DataView(n) }
            );
        }
        function o() {}
        function a(e) {
            function t(t, n) {
                var o = new Blob([e], { type: B });
                (r = new l(o)),
                    r.init(function() {
                        (i.size = r.size), t();
                    }, n);
            }
            function n(e, t, n, i) {
                r.readUint8Array(e, t, n, i);
            }
            var r,
                i = this;
            (i.size = 0), (i.init = t), (i.readUint8Array = n);
        }
        function s(t) {
            function n(e) {
                for (var n = t.length; "=" == t.charAt(n - 1); ) n--;
                (o = t.indexOf(",") + 1),
                    (a.size = Math.floor(0.75 * (n - o))),
                    e();
            }
            function r(n, r, a) {
                var s,
                    l = i(r),
                    u = 4 * Math.floor(n / 3),
                    c = 4 * Math.ceil((n + r) / 3),
                    d = e.atob(t.substring(u + o, c + o)),
                    f = n - 3 * Math.floor(u / 4);
                for (s = f; s < f + r; s++) l.array[s - f] = d.charCodeAt(s);
                a(l.array);
            }
            var o,
                a = this;
            (a.size = 0), (a.init = n), (a.readUint8Array = r);
        }
        function l(e) {
            function t(t) {
                (i.size = e.size), t();
            }
            function n(t, n, i, o) {
                var a = new FileReader();
                (a.onload = function(e) {
                    i(new Uint8Array(e.target.result));
                }),
                    (a.onerror = o);
                try {
                    a.readAsArrayBuffer(r(e, t, n));
                } catch (e) {
                    o(e);
                }
            }
            var i = this;
            (i.size = 0), (i.init = t), (i.readUint8Array = n);
        }
        function u() {}
        function c(e) {
            function t(e) {
                (i = new Blob([], { type: B })), e();
            }
            function n(e, t) {
                (i = new Blob([i, O ? e : e.buffer], { type: B })), t();
            }
            function r(t, n) {
                var r = new FileReader();
                (r.onload = function(e) {
                    t(e.target.result);
                }),
                    (r.onerror = n),
                    r.readAsText(i, e);
            }
            var i,
                o = this;
            (o.init = t), (o.writeUint8Array = n), (o.getData = r);
        }
        function d(t) {
            function n(e) {
                (a += "data:" + (t || "") + ";base64,"), e();
            }
            function r(t, n) {
                var r,
                    i = s.length,
                    o = s;
                for (
                    s = "", r = 0;
                    r < 3 * Math.floor((i + t.length) / 3) - i;
                    r++
                )
                    o += String.fromCharCode(t[r]);
                for (; r < t.length; r++) s += String.fromCharCode(t[r]);
                o.length > 2 ? (a += e.btoa(o)) : (s = o), n();
            }
            function i(t) {
                t(a + e.btoa(s));
            }
            var o = this,
                a = "",
                s = "";
            (o.init = n), (o.writeUint8Array = r), (o.getData = i);
        }
        function f(e) {
            function t(e) {
                e();
            }
            function n(e, t) {
                i.push(O ? e : e.buffer), t();
            }
            function r(t) {
                t(new Blob(i, { type: e }));
            }
            var i = [],
                o = this;
            (o.init = t), (o.writeUint8Array = n), (o.getData = r);
        }
        function p(e, t, n, r, i, o, a, s, l, u) {
            function c() {
                e.removeEventListener("message", d, !1), s(h, m);
            }
            function d(t) {
                var n = t.data,
                    i = n.data,
                    s = n.error;
                if (s)
                    return (
                        (s.toString = function() {
                            return "Error: " + this.message;
                        }),
                        void l(s)
                    );
                if (n.sn === v)
                    switch (
                        ("number" == typeof n.codecTime &&
                            (e.codecTime += n.codecTime),
                        "number" == typeof n.crcTime &&
                            (e.crcTime += n.crcTime),
                        n.type)
                    ) {
                        case "append":
                            i
                                ? ((h += i.length),
                                  r.writeUint8Array(
                                      i,
                                      function() {
                                          f();
                                      },
                                      u
                                  ))
                                : f();
                            break;
                        case "flush":
                            (m = n.crc),
                                i
                                    ? ((h += i.length),
                                      r.writeUint8Array(
                                          i,
                                          function() {
                                              c();
                                          },
                                          u
                                      ))
                                    : c();
                            break;
                        case "progress":
                            a && a(p + n.loaded, o);
                            break;
                        case "importScripts":
                        case "newTask":
                        case "echo":
                            break;
                        default:
                            console.warn(
                                "zip.js:launchWorkerProcess: unknown message: ",
                                n
                            );
                    }
            }
            function f() {
                (p = g * z),
                    p <= o
                        ? n.readUint8Array(
                              i + p,
                              Math.min(z, o - p),
                              function(n) {
                                  a && a(p, o);
                                  var r = 0 === p ? t : { sn: v };
                                  (r.type = "append"), (r.data = n);
                                  try {
                                      e.postMessage(r, [n.buffer]);
                                  } catch (t) {
                                      e.postMessage(r);
                                  }
                                  g++;
                              },
                              l
                          )
                        : e.postMessage({ sn: v, type: "flush" });
            }
            var p,
                h,
                m,
                g = 0,
                v = t.sn;
            (h = 0), e.addEventListener("message", d, !1), f();
        }
        function h(e, n, r, i, o, a, s, l, u, c) {
            function d() {
                var t;
                if ((f = p * z) < o)
                    n.readUint8Array(
                        i + f,
                        Math.min(z, o - f),
                        function(t) {
                            var n;
                            try {
                                n = e.append(t, function(e) {
                                    s && s(f + e, o);
                                });
                            } catch (e) {
                                return void u(e);
                            }
                            n
                                ? ((h += n.length),
                                  r.writeUint8Array(
                                      n,
                                      function() {
                                          p++, setTimeout(d, 1);
                                      },
                                      c
                                  ),
                                  g && v.append(n))
                                : (p++, setTimeout(d, 1)),
                                m && v.append(t),
                                s && s(f, o);
                        },
                        u
                    );
                else {
                    try {
                        t = e.flush();
                    } catch (e) {
                        return void u(e);
                    }
                    t
                        ? (g && v.append(t),
                          (h += t.length),
                          r.writeUint8Array(
                              t,
                              function() {
                                  l(h, v.get());
                              },
                              c
                          ))
                        : l(h, v.get());
                }
            }
            var f,
                p = 0,
                h = 0,
                m = "input" === a,
                g = "output" === a,
                v = new t();
            d();
        }
        function m(t, n, r, i, o, a, s, l, u, c, d) {
            var f = s ? "output" : "none";
            if (e.zip.useWebWorkers) {
                p(
                    t,
                    { sn: n, codecClass: "Inflater", crcType: f },
                    r,
                    i,
                    o,
                    a,
                    u,
                    l,
                    c,
                    d
                );
            } else h(new e.zip.Inflater(), r, i, o, a, f, u, l, c, d);
        }
        function g(t, n, r, i, o, a, s, l, u) {
            if (e.zip.useWebWorkers) {
                p(
                    t,
                    {
                        sn: n,
                        options: { level: o },
                        codecClass: "Deflater",
                        crcType: "input"
                    },
                    r,
                    i,
                    0,
                    r.size,
                    s,
                    a,
                    l,
                    u
                );
            } else
                h(new e.zip.Deflater(), r, i, 0, r.size, "input", s, a, l, u);
        }
        function v(t, r, i, o, a, s, l, u, c, d, f) {
            if (e.zip.useWebWorkers && l) {
                p(
                    t,
                    { sn: r, codecClass: "NOOP", crcType: "input" },
                    i,
                    o,
                    a,
                    s,
                    c,
                    u,
                    d,
                    f
                );
            } else h(new n(), i, o, a, s, "input", c, u, d, f);
        }
        function b(e) {
            var t,
                n,
                r = "",
                i = [
                    "Ç",
                    "ü",
                    "é",
                    "â",
                    "ä",
                    "à",
                    "å",
                    "ç",
                    "ê",
                    "ë",
                    "è",
                    "ï",
                    "î",
                    "ì",
                    "Ä",
                    "Å",
                    "É",
                    "æ",
                    "Æ",
                    "ô",
                    "ö",
                    "ò",
                    "û",
                    "ù",
                    "ÿ",
                    "Ö",
                    "Ü",
                    "ø",
                    "£",
                    "Ø",
                    "×",
                    "ƒ",
                    "á",
                    "í",
                    "ó",
                    "ú",
                    "ñ",
                    "Ñ",
                    "ª",
                    "º",
                    "¿",
                    "®",
                    "¬",
                    "½",
                    "¼",
                    "¡",
                    "«",
                    "»",
                    "_",
                    "_",
                    "_",
                    "¦",
                    "¦",
                    "Á",
                    "Â",
                    "À",
                    "©",
                    "¦",
                    "¦",
                    "+",
                    "+",
                    "¢",
                    "¥",
                    "+",
                    "+",
                    "-",
                    "-",
                    "+",
                    "-",
                    "+",
                    "ã",
                    "Ã",
                    "+",
                    "+",
                    "-",
                    "-",
                    "¦",
                    "-",
                    "+",
                    "¤",
                    "ð",
                    "Ð",
                    "Ê",
                    "Ë",
                    "È",
                    "i",
                    "Í",
                    "Î",
                    "Ï",
                    "+",
                    "+",
                    "_",
                    "_",
                    "¦",
                    "Ì",
                    "_",
                    "Ó",
                    "ß",
                    "Ô",
                    "Ò",
                    "õ",
                    "Õ",
                    "µ",
                    "þ",
                    "Þ",
                    "Ú",
                    "Û",
                    "Ù",
                    "ý",
                    "Ý",
                    "¯",
                    "´",
                    "­",
                    "±",
                    "_",
                    "¾",
                    "¶",
                    "§",
                    "÷",
                    "¸",
                    "°",
                    "¨",
                    "·",
                    "¹",
                    "³",
                    "²",
                    "_",
                    " "
                ];
            for (t = 0; t < e.length; t++)
                (n = 255 & e.charCodeAt(t)),
                    (r += n > 127 ? i[n - 128] : String.fromCharCode(n));
            return r;
        }
        function y(e) {
            return decodeURIComponent(escape(e));
        }
        function _(e) {
            var t,
                n = "";
            for (t = 0; t < e.length; t++) n += String.fromCharCode(e[t]);
            return n;
        }
        function w(e) {
            var t = (4294901760 & e) >> 16,
                n = 65535 & e;
            try {
                return new Date(
                    1980 + ((65024 & t) >> 9),
                    ((480 & t) >> 5) - 1,
                    31 & t,
                    (63488 & n) >> 11,
                    (2016 & n) >> 5,
                    2 * (31 & n),
                    0
                );
            } catch (e) {}
        }
        function x(e, t, n, r, i) {
            return (
                (e.version = t.view.getUint16(n, !0)),
                (e.bitFlag = t.view.getUint16(n + 2, !0)),
                (e.compressionMethod = t.view.getUint16(n + 4, !0)),
                (e.lastModDateRaw = t.view.getUint32(n + 6, !0)),
                (e.lastModDate = w(e.lastModDateRaw)),
                1 == (1 & e.bitFlag)
                    ? void i(R)
                    : ((r || 8 != (8 & e.bitFlag)) &&
                          ((e.crc32 = t.view.getUint32(n + 10, !0)),
                          (e.compressedSize = t.view.getUint32(n + 14, !0)),
                          (e.uncompressedSize = t.view.getUint32(n + 18, !0))),
                      4294967295 === e.compressedSize ||
                      4294967295 === e.uncompressedSize
                          ? void i(D)
                          : ((e.filenameLength = t.view.getUint16(n + 22, !0)),
                            void (e.extraFieldLength = t.view.getUint16(
                                n + 24,
                                !0
                            ))))
            );
        }
        function E(t, n, r) {
            function o() {}
            function a(e) {
                function n(n, o) {
                    t.readUint8Array(
                        t.size - n,
                        n,
                        function(t) {
                            for (var n = t.length - i; n >= 0; n--)
                                if (
                                    80 === t[n] &&
                                    75 === t[n + 1] &&
                                    5 === t[n + 2] &&
                                    6 === t[n + 3]
                                )
                                    return void e(new DataView(t.buffer, n, i));
                            o();
                        },
                        function() {
                            r(j);
                        }
                    );
                }
                var i = 22;
                if (t.size < i) return void r(A);
                var o = i + 65536;
                n(i, function() {
                    n(Math.min(o, t.size), function() {
                        r(A);
                    });
                });
            }
            var s = 0;
            o.prototype.getData = function(e, n, o, a) {
                function l(e) {
                    var t = i(4);
                    return (
                        t.view.setUint32(0, e), f.crc32 == t.view.getUint32(0)
                    );
                }
                function u(t, i) {
                    a && !l(i)
                        ? r(N)
                        : e.getData(function(e) {
                              n(e);
                          });
                }
                function c(e) {
                    r(e || F);
                }
                function d(e) {
                    r(e || L);
                }
                var f = this;
                t.readUint8Array(
                    f.offset,
                    30,
                    function(n) {
                        var l,
                            p = i(n.length, n);
                        if (1347093252 != p.view.getUint32(0)) return void r(A);
                        x(f, p, 4, !1, r),
                            (l =
                                f.offset +
                                30 +
                                f.filenameLength +
                                f.extraFieldLength),
                            e.init(function() {
                                0 === f.compressionMethod
                                    ? v(
                                          f._worker,
                                          s++,
                                          t,
                                          e,
                                          l,
                                          f.compressedSize,
                                          a,
                                          u,
                                          o,
                                          c,
                                          d
                                      )
                                    : m(
                                          f._worker,
                                          s++,
                                          t,
                                          e,
                                          l,
                                          f.compressedSize,
                                          a,
                                          u,
                                          o,
                                          c,
                                          d
                                      );
                            }, d);
                    },
                    c
                );
            };
            var l = {
                getEntries: function(e) {
                    var n = this._worker;
                    a(function(a) {
                        var s, l;
                        if (
                            ((s = a.getUint32(16, !0)),
                            (l = a.getUint16(8, !0)),
                            s < 0 || s >= t.size)
                        )
                            return void r(A);
                        t.readUint8Array(
                            s,
                            t.size - s,
                            function(t) {
                                var a,
                                    s,
                                    u,
                                    c,
                                    d = 0,
                                    f = [],
                                    p = i(t.length, t);
                                for (a = 0; a < l; a++) {
                                    if (
                                        ((s = new o()),
                                        (s._worker = n),
                                        1347092738 != p.view.getUint32(d))
                                    )
                                        return void r(A);
                                    x(s, p, d + 6, !0, r),
                                        (s.commentLength = p.view.getUint16(
                                            d + 32,
                                            !0
                                        )),
                                        (s.directory =
                                            16 ==
                                            (16 & p.view.getUint8(d + 38))),
                                        (s.offset = p.view.getUint32(
                                            d + 42,
                                            !0
                                        )),
                                        (u = _(
                                            p.array.subarray(
                                                d + 46,
                                                d + 46 + s.filenameLength
                                            )
                                        )),
                                        (s.filename =
                                            2048 == (2048 & s.bitFlag)
                                                ? y(u)
                                                : b(u)),
                                        s.directory ||
                                            "/" !=
                                                s.filename.charAt(
                                                    s.filename.length - 1
                                                ) ||
                                            (s.directory = !0),
                                        (c = _(
                                            p.array.subarray(
                                                d +
                                                    46 +
                                                    s.filenameLength +
                                                    s.extraFieldLength,
                                                d +
                                                    46 +
                                                    s.filenameLength +
                                                    s.extraFieldLength +
                                                    s.commentLength
                                            )
                                        )),
                                        (s.comment =
                                            2048 == (2048 & s.bitFlag)
                                                ? y(c)
                                                : b(c)),
                                        f.push(s),
                                        (d +=
                                            46 +
                                            s.filenameLength +
                                            s.extraFieldLength +
                                            s.commentLength);
                                }
                                e(f);
                            },
                            function() {
                                r(j);
                            }
                        );
                    });
                },
                close: function(e) {
                    this._worker &&
                        (this._worker.terminate(), (this._worker = null)),
                        e && e();
                },
                _worker: null
            };
            e.zip.useWebWorkers
                ? I(
                      "inflater",
                      function(e) {
                          (l._worker = e), n(l);
                      },
                      function(e) {
                          r(e);
                      }
                  )
                : n(l);
        }
        function T(e) {
            return unescape(encodeURIComponent(e));
        }
        function S(e) {
            var t,
                n = [];
            for (t = 0; t < e.length; t++) n.push(e.charCodeAt(t));
            return n;
        }
        function C(t, n, r, o) {
            function a(e) {
                r(e || M);
            }
            function s(e) {
                r(e || F);
            }
            var l = {},
                u = [],
                c = 0,
                d = 0,
                f = {
                    add: function(e, n, f, p, h) {
                        function m(n) {
                            var r;
                            (x = h.lastModDate || new Date()),
                                (_ = i(26)),
                                (l[e] = {
                                    headerArray: _.array,
                                    directory: h.directory,
                                    filename: w,
                                    offset: c,
                                    comment: S(T(h.comment || ""))
                                }),
                                _.view.setUint32(0, 335546376),
                                h.version && _.view.setUint8(0, h.version),
                                o ||
                                    0 === h.level ||
                                    h.directory ||
                                    _.view.setUint16(4, 2048),
                                _.view.setUint16(
                                    6,
                                    (((x.getHours() << 6) | x.getMinutes()) <<
                                        5) |
                                        (x.getSeconds() / 2),
                                    !0
                                ),
                                _.view.setUint16(
                                    8,
                                    ((((x.getFullYear() - 1980) << 4) |
                                        (x.getMonth() + 1)) <<
                                        5) |
                                        x.getDate(),
                                    !0
                                ),
                                _.view.setUint16(22, w.length, !0),
                                (r = i(30 + w.length)),
                                r.view.setUint32(0, 1347093252),
                                r.array.set(_.array, 4),
                                r.array.set(w, 30),
                                (c += r.array.length),
                                t.writeUint8Array(r.array, n, a);
                        }
                        function b(e, r) {
                            var o = i(16);
                            (c += e || 0),
                                o.view.setUint32(0, 1347094280),
                                void 0 !== r &&
                                    (_.view.setUint32(10, r, !0),
                                    o.view.setUint32(4, r, !0)),
                                n &&
                                    (o.view.setUint32(8, e, !0),
                                    _.view.setUint32(14, e, !0),
                                    o.view.setUint32(12, n.size, !0),
                                    _.view.setUint32(18, n.size, !0)),
                                t.writeUint8Array(
                                    o.array,
                                    function() {
                                        (c += 16), f();
                                    },
                                    a
                                );
                        }
                        function y() {
                            if (
                                ((h = h || {}),
                                (e = e.trim()),
                                h.directory &&
                                    "/" != e.charAt(e.length - 1) &&
                                    (e += "/"),
                                l.hasOwnProperty(e))
                            )
                                return void r(U);
                            (w = S(T(e))),
                                u.push(e),
                                m(function() {
                                    n
                                        ? o || 0 === h.level
                                            ? v(
                                                  E,
                                                  d++,
                                                  n,
                                                  t,
                                                  0,
                                                  n.size,
                                                  !0,
                                                  b,
                                                  p,
                                                  s,
                                                  a
                                              )
                                            : g(
                                                  E,
                                                  d++,
                                                  n,
                                                  t,
                                                  h.level,
                                                  b,
                                                  p,
                                                  s,
                                                  a
                                              )
                                        : b();
                                }, a);
                        }
                        var _,
                            w,
                            x,
                            E = this._worker;
                        n ? n.init(y, s) : y();
                    },
                    close: function(e) {
                        this._worker &&
                            (this._worker.terminate(), (this._worker = null));
                        var n,
                            r,
                            o,
                            s = 0,
                            d = 0;
                        for (r = 0; r < u.length; r++)
                            (o = l[u[r]]),
                                (s +=
                                    46 + o.filename.length + o.comment.length);
                        for (n = i(s + 22), r = 0; r < u.length; r++)
                            (o = l[u[r]]),
                                n.view.setUint32(d, 1347092738),
                                n.view.setUint16(d + 4, 5120),
                                n.array.set(o.headerArray, d + 6),
                                n.view.setUint16(d + 32, o.comment.length, !0),
                                o.directory && n.view.setUint8(d + 38, 16),
                                n.view.setUint32(d + 42, o.offset, !0),
                                n.array.set(o.filename, d + 46),
                                n.array.set(
                                    o.comment,
                                    d + 46 + o.filename.length
                                ),
                                (d +=
                                    46 + o.filename.length + o.comment.length);
                        n.view.setUint32(d, 1347093766),
                            n.view.setUint16(d + 8, u.length, !0),
                            n.view.setUint16(d + 10, u.length, !0),
                            n.view.setUint32(d + 12, s, !0),
                            n.view.setUint32(d + 16, c, !0),
                            t.writeUint8Array(
                                n.array,
                                function() {
                                    t.getData(e);
                                },
                                a
                            );
                    },
                    _worker: null
                };
            e.zip.useWebWorkers
                ? I(
                      "deflater",
                      function(e) {
                          (f._worker = e), n(f);
                      },
                      function(e) {
                          r(e);
                      }
                  )
                : n(f);
        }
        function k(e) {
            var t = document.createElement("a");
            return e.map(function(e) {
                return (t.href = e), t.href;
            });
        }
        function I(t, n, r) {
            function i(e) {
                var t = e.data;
                if (t.error) return s.terminate(), void r(t.error);
                "importScripts" === t.type &&
                    (s.removeEventListener("message", i),
                    s.removeEventListener("error", o),
                    n(s));
            }
            function o(e) {
                s.terminate(), r(e);
            }
            if (
                null !== e.zip.workerScripts &&
                null !== e.zip.workerScriptsPath
            )
                return void r(
                    new Error(
                        "Either zip.workerScripts or zip.workerScriptsPath may be set, not both."
                    )
                );
            var a;
            if (e.zip.workerScripts) {
                if (((a = e.zip.workerScripts[t]), !Array.isArray(a)))
                    return void r(
                        new Error(
                            "zip.workerScripts." + t + " is not an array!"
                        )
                    );
                a = k(a);
            } else
                (a = V[t].slice(0)),
                    (a[0] = (e.zip.workerScriptsPath || "") + a[0]);
            var s = new Worker(a[0]);
            (s.codecTime = s.crcTime = 0),
                s.postMessage({ type: "importScripts", scripts: a.slice(1) }),
                s.addEventListener("message", i),
                s.addEventListener("error", o);
        }
        function P(e) {
            console.error(e);
        }
        var O,
            A = "File format is not recognized.",
            N = "CRC failed.",
            R = "File contains encrypted entry.",
            D = "File is using Zip64 (4gb+ file size).",
            j = "Error while reading zip file.",
            M = "Error while writing zip file.",
            L = "Error while writing file data.",
            F = "Error while reading file data.",
            U = "File already exists.",
            z = 524288,
            B = "text/plain";
        try {
            O = 0 === new Blob([new DataView(new ArrayBuffer(0))]).size;
        } catch (e) {}
        (t.prototype.append = function(e) {
            for (
                var t = 0 | this.crc, n = this.table, r = 0, i = 0 | e.length;
                r < i;
                r++
            )
                t = (t >>> 8) ^ n[255 & (t ^ e[r])];
            this.crc = t;
        }),
            (t.prototype.get = function() {
                return ~this.crc;
            }),
            (t.prototype.table = (function() {
                var e,
                    t,
                    n,
                    r = [];
                for (e = 0; e < 256; e++) {
                    for (n = e, t = 0; t < 8; t++)
                        1 & n ? (n = (n >>> 1) ^ 3988292384) : (n >>>= 1);
                    r[e] = n;
                }
                return r;
            })()),
            (n.prototype.append = function(e, t) {
                return e;
            }),
            (n.prototype.flush = function() {}),
            (a.prototype = new o()),
            (a.prototype.constructor = a),
            (s.prototype = new o()),
            (s.prototype.constructor = s),
            (l.prototype = new o()),
            (l.prototype.constructor = l),
            (u.prototype.getData = function(e) {
                e(this.data);
            }),
            (c.prototype = new u()),
            (c.prototype.constructor = c),
            (d.prototype = new u()),
            (d.prototype.constructor = d),
            (f.prototype = new u()),
            (f.prototype.constructor = f);
        var V = {
            deflater: ["z-worker.js", "deflate.js"],
            inflater: ["z-worker.js", "inflate.js"]
        };
        e.zip = {
            Reader: o,
            Writer: u,
            BlobReader: l,
            Data64URIReader: s,
            TextReader: a,
            BlobWriter: f,
            Data64URIWriter: d,
            TextWriter: c,
            createReader: function(e, t, n) {
                (n = n || P),
                    e.init(function() {
                        E(e, t, n);
                    }, n);
            },
            createWriter: function(e, t, n, r) {
                (n = n || P),
                    (r = !!r),
                    e.init(function() {
                        C(e, t, n, r);
                    }, n);
            },
            useWebWorkers: !0,
            workerScriptsPath: null,
            workerScripts: null
        };
    })(this),
    define("zip", (function(e) {
        return function() {
            return e.zip;
        };
    })(this)),
    (function() {
        "use strict";
        var e = {
                application: {
                    "andrew-inset": "ez",
                    annodex: "anx",
                    "atom+xml": "atom",
                    "atomcat+xml": "atomcat",
                    "atomserv+xml": "atomsrv",
                    bbolin: "lin",
                    cap: ["cap", "pcap"],
                    "cu-seeme": "cu",
                    "davmount+xml": "davmount",
                    dsptype: "tsp",
                    ecmascript: ["es", "ecma"],
                    futuresplash: "spl",
                    hta: "hta",
                    "java-archive": "jar",
                    "java-serialized-object": "ser",
                    "java-vm": "class",
                    javascript: "js",
                    m3g: "m3g",
                    "mac-binhex40": "hqx",
                    mathematica: ["nb", "ma", "mb"],
                    msaccess: "mdb",
                    msword: ["doc", "dot"],
                    mxf: "mxf",
                    oda: "oda",
                    ogg: "ogx",
                    pdf: "pdf",
                    "pgp-keys": "key",
                    "pgp-signature": ["asc", "sig"],
                    "pics-rules": "prf",
                    postscript: [
                        "ps",
                        "ai",
                        "eps",
                        "epsi",
                        "epsf",
                        "eps2",
                        "eps3"
                    ],
                    rar: "rar",
                    "rdf+xml": "rdf",
                    "rss+xml": "rss",
                    rtf: "rtf",
                    smil: ["smi", "smil"],
                    "xhtml+xml": ["xhtml", "xht"],
                    xml: ["xml", "xsl", "xsd"],
                    "xspf+xml": "xspf",
                    zip: "zip",
                    "vnd.android.package-archive": "apk",
                    "vnd.cinderella": "cdy",
                    "vnd.google-earth.kml+xml": "kml",
                    "vnd.google-earth.kmz": "kmz",
                    "vnd.mozilla.xul+xml": "xul",
                    "vnd.ms-excel": [
                        "xls",
                        "xlb",
                        "xlt",
                        "xlm",
                        "xla",
                        "xlc",
                        "xlw"
                    ],
                    "vnd.ms-pki.seccat": "cat",
                    "vnd.ms-pki.stl": "stl",
                    "vnd.ms-powerpoint": ["ppt", "pps", "pot"],
                    "vnd.oasis.opendocument.chart": "odc",
                    "vnd.oasis.opendocument.database": "odb",
                    "vnd.oasis.opendocument.formula": "odf",
                    "vnd.oasis.opendocument.graphics": "odg",
                    "vnd.oasis.opendocument.graphics-template": "otg",
                    "vnd.oasis.opendocument.image": "odi",
                    "vnd.oasis.opendocument.presentation": "odp",
                    "vnd.oasis.opendocument.presentation-template": "otp",
                    "vnd.oasis.opendocument.spreadsheet": "ods",
                    "vnd.oasis.opendocument.spreadsheet-template": "ots",
                    "vnd.oasis.opendocument.text": "odt",
                    "vnd.oasis.opendocument.text-master": "odm",
                    "vnd.oasis.opendocument.text-template": "ott",
                    "vnd.oasis.opendocument.text-web": "oth",
                    "vnd.openxmlformats-officedocument.spreadsheetml.sheet":
                        "xlsx",
                    "vnd.openxmlformats-officedocument.spreadsheetml.template":
                        "xltx",
                    "vnd.openxmlformats-officedocument.presentationml.presentation":
                        "pptx",
                    "vnd.openxmlformats-officedocument.presentationml.slideshow":
                        "ppsx",
                    "vnd.openxmlformats-officedocument.presentationml.template":
                        "potx",
                    "vnd.openxmlformats-officedocument.wordprocessingml.document":
                        "docx",
                    "vnd.openxmlformats-officedocument.wordprocessingml.template":
                        "dotx",
                    "vnd.smaf": "mmf",
                    "vnd.stardivision.calc": "sdc",
                    "vnd.stardivision.chart": "sds",
                    "vnd.stardivision.draw": "sda",
                    "vnd.stardivision.impress": "sdd",
                    "vnd.stardivision.math": ["sdf", "smf"],
                    "vnd.stardivision.writer": ["sdw", "vor"],
                    "vnd.stardivision.writer-global": "sgl",
                    "vnd.sun.xml.calc": "sxc",
                    "vnd.sun.xml.calc.template": "stc",
                    "vnd.sun.xml.draw": "sxd",
                    "vnd.sun.xml.draw.template": "std",
                    "vnd.sun.xml.impress": "sxi",
                    "vnd.sun.xml.impress.template": "sti",
                    "vnd.sun.xml.math": "sxm",
                    "vnd.sun.xml.writer": "sxw",
                    "vnd.sun.xml.writer.global": "sxg",
                    "vnd.sun.xml.writer.template": "stw",
                    "vnd.symbian.install": ["sis", "sisx"],
                    "vnd.visio": ["vsd", "vst", "vss", "vsw"],
                    "vnd.wap.wbxml": "wbxml",
                    "vnd.wap.wmlc": "wmlc",
                    "vnd.wap.wmlscriptc": "wmlsc",
                    "vnd.wordperfect": "wpd",
                    "vnd.wordperfect5.1": "wp5",
                    "x-123": "wk",
                    "x-7z-compressed": "7z",
                    "x-abiword": "abw",
                    "x-apple-diskimage": "dmg",
                    "x-bcpio": "bcpio",
                    "x-bittorrent": "torrent",
                    "x-cbr": ["cbr", "cba", "cbt", "cb7"],
                    "x-cbz": "cbz",
                    "x-cdf": ["cdf", "cda"],
                    "x-cdlink": "vcd",
                    "x-chess-pgn": "pgn",
                    "x-cpio": "cpio",
                    "x-csh": "csh",
                    "x-debian-package": ["deb", "udeb"],
                    "x-director": [
                        "dcr",
                        "dir",
                        "dxr",
                        "cst",
                        "cct",
                        "cxt",
                        "w3d",
                        "fgd",
                        "swa"
                    ],
                    "x-dms": "dms",
                    "x-doom": "wad",
                    "x-dvi": "dvi",
                    "x-httpd-eruby": "rhtml",
                    "x-font": "pcf.Z",
                    "x-freemind": "mm",
                    "x-gnumeric": "gnumeric",
                    "x-go-sgf": "sgf",
                    "x-graphing-calculator": "gcf",
                    "x-gtar": ["gtar", "taz"],
                    "x-hdf": "hdf",
                    "x-httpd-php": ["phtml", "pht", "php"],
                    "x-httpd-php-source": "phps",
                    "x-httpd-php3": "php3",
                    "x-httpd-php3-preprocessed": "php3p",
                    "x-httpd-php4": "php4",
                    "x-httpd-php5": "php5",
                    "x-ica": "ica",
                    "x-info": "info",
                    "x-internet-signup": ["ins", "isp"],
                    "x-iphone": "iii",
                    "x-iso9660-image": "iso",
                    "x-java-jnlp-file": "jnlp",
                    "x-jmol": "jmz",
                    "x-killustrator": "kil",
                    "x-koan": ["skp", "skd", "skt", "skm"],
                    "x-kpresenter": ["kpr", "kpt"],
                    "x-kword": ["kwd", "kwt"],
                    "x-latex": "latex",
                    "x-lha": "lha",
                    "x-lyx": "lyx",
                    "x-lzh": "lzh",
                    "x-lzx": "lzx",
                    "x-maker": [
                        "frm",
                        "maker",
                        "frame",
                        "fm",
                        "fb",
                        "book",
                        "fbdoc"
                    ],
                    "x-ms-wmd": "wmd",
                    "x-ms-wmz": "wmz",
                    "x-msdos-program": ["com", "exe", "bat", "dll"],
                    "x-msi": "msi",
                    "x-netcdf": ["nc", "cdf"],
                    "x-ns-proxy-autoconfig": ["pac", "dat"],
                    "x-nwc": "nwc",
                    "x-object": "o",
                    "x-oz-application": "oza",
                    "x-pkcs7-certreqresp": "p7r",
                    "x-python-code": ["pyc", "pyo"],
                    "x-qgis": ["qgs", "shp", "shx"],
                    "x-quicktimeplayer": "qtl",
                    "x-redhat-package-manager": "rpm",
                    "x-ruby": "rb",
                    "x-sh": "sh",
                    "x-shar": "shar",
                    "x-shockwave-flash": ["swf", "swfl"],
                    "x-silverlight": "scr",
                    "x-stuffit": "sit",
                    "x-sv4cpio": "sv4cpio",
                    "x-sv4crc": "sv4crc",
                    "x-tar": "tar",
                    "x-tcl": "tcl",
                    "x-tex-gf": "gf",
                    "x-tex-pk": "pk",
                    "x-texinfo": ["texinfo", "texi"],
                    "x-trash": ["~", "%", "bak", "old", "sik"],
                    "x-troff": ["t", "tr", "roff"],
                    "x-troff-man": "man",
                    "x-troff-me": "me",
                    "x-troff-ms": "ms",
                    "x-ustar": "ustar",
                    "x-wais-source": "src",
                    "x-wingz": "wz",
                    "x-x509-ca-cert": ["crt", "der", "cer"],
                    "x-xcf": "xcf",
                    "x-xfig": "fig",
                    "x-xpinstall": "xpi",
                    applixware: "aw",
                    "atomsvc+xml": "atomsvc",
                    "ccxml+xml": "ccxml",
                    "cdmi-capability": "cdmia",
                    "cdmi-container": "cdmic",
                    "cdmi-domain": "cdmid",
                    "cdmi-object": "cdmio",
                    "cdmi-queue": "cdmiq",
                    "docbook+xml": "dbk",
                    "dssc+der": "dssc",
                    "dssc+xml": "xdssc",
                    "emma+xml": "emma",
                    "epub+zip": "epub",
                    exi: "exi",
                    "font-tdpfr": "pfr",
                    "gml+xml": "gml",
                    "gpx+xml": "gpx",
                    gxf: "gxf",
                    hyperstudio: "stk",
                    "inkml+xml": ["ink", "inkml"],
                    ipfix: "ipfix",
                    json: "json",
                    "jsonml+json": "jsonml",
                    "lost+xml": "lostxml",
                    "mads+xml": "mads",
                    marc: "mrc",
                    "marcxml+xml": "mrcx",
                    "mathml+xml": "mathml",
                    mbox: "mbox",
                    "mediaservercontrol+xml": "mscml",
                    "metalink+xml": "metalink",
                    "metalink4+xml": "meta4",
                    "mets+xml": "mets",
                    "mods+xml": "mods",
                    mp21: ["m21", "mp21"],
                    mp4: "mp4s",
                    "oebps-package+xml": "opf",
                    "omdoc+xml": "omdoc",
                    onenote: ["onetoc", "onetoc2", "onetmp", "onepkg"],
                    oxps: "oxps",
                    "patch-ops-error+xml": "xer",
                    "pgp-encrypted": "pgp",
                    pkcs10: "p10",
                    "pkcs7-mime": ["p7m", "p7c"],
                    "pkcs7-signature": "p7s",
                    pkcs8: "p8",
                    "pkix-attr-cert": "ac",
                    "pkix-crl": "crl",
                    "pkix-pkipath": "pkipath",
                    pkixcmp: "pki",
                    "pls+xml": "pls",
                    "prs.cww": "cww",
                    "pskc+xml": "pskcxml",
                    "reginfo+xml": "rif",
                    "relax-ng-compact-syntax": "rnc",
                    "resource-lists+xml": "rl",
                    "resource-lists-diff+xml": "rld",
                    "rls-services+xml": "rs",
                    "rpki-ghostbusters": "gbr",
                    "rpki-manifest": "mft",
                    "rpki-roa": "roa",
                    "rsd+xml": "rsd",
                    "sbml+xml": "sbml",
                    "scvp-cv-request": "scq",
                    "scvp-cv-response": "scs",
                    "scvp-vp-request": "spq",
                    "scvp-vp-response": "spp",
                    sdp: "sdp",
                    "set-payment-initiation": "setpay",
                    "set-registration-initiation": "setreg",
                    "shf+xml": "shf",
                    "sparql-query": "rq",
                    "sparql-results+xml": "srx",
                    srgs: "gram",
                    "srgs+xml": "grxml",
                    "sru+xml": "sru",
                    "ssdl+xml": "ssdl",
                    "ssml+xml": "ssml",
                    "tei+xml": ["tei", "teicorpus"],
                    "thraud+xml": "tfi",
                    "timestamped-data": "tsd",
                    "vnd.3gpp.pic-bw-large": "plb",
                    "vnd.3gpp.pic-bw-small": "psb",
                    "vnd.3gpp.pic-bw-var": "pvb",
                    "vnd.3gpp2.tcap": "tcap",
                    "vnd.3m.post-it-notes": "pwn",
                    "vnd.accpac.simply.aso": "aso",
                    "vnd.accpac.simply.imp": "imp",
                    "vnd.acucobol": "acu",
                    "vnd.acucorp": ["atc", "acutc"],
                    "vnd.adobe.air-application-installer-package+zip": "air",
                    "vnd.adobe.formscentral.fcdt": "fcdt",
                    "vnd.adobe.fxp": ["fxp", "fxpl"],
                    "vnd.adobe.xdp+xml": "xdp",
                    "vnd.adobe.xfdf": "xfdf",
                    "vnd.ahead.space": "ahead",
                    "vnd.airzip.filesecure.azf": "azf",
                    "vnd.airzip.filesecure.azs": "azs",
                    "vnd.amazon.ebook": "azw",
                    "vnd.americandynamics.acc": "acc",
                    "vnd.amiga.ami": "ami",
                    "vnd.anser-web-certificate-issue-initiation": "cii",
                    "vnd.anser-web-funds-transfer-initiation": "fti",
                    "vnd.antix.game-component": "atx",
                    "vnd.apple.installer+xml": "mpkg",
                    "vnd.apple.mpegurl": "m3u8",
                    "vnd.aristanetworks.swi": "swi",
                    "vnd.astraea-software.iota": "iota",
                    "vnd.audiograph": "aep",
                    "vnd.blueice.multipass": "mpm",
                    "vnd.bmi": "bmi",
                    "vnd.businessobjects": "rep",
                    "vnd.chemdraw+xml": "cdxml",
                    "vnd.chipnuts.karaoke-mmd": "mmd",
                    "vnd.claymore": "cla",
                    "vnd.cloanto.rp9": "rp9",
                    "vnd.clonk.c4group": ["c4g", "c4d", "c4f", "c4p", "c4u"],
                    "vnd.cluetrust.cartomobile-config": "c11amc",
                    "vnd.cluetrust.cartomobile-config-pkg": "c11amz",
                    "vnd.commonspace": "csp",
                    "vnd.contact.cmsg": "cdbcmsg",
                    "vnd.cosmocaller": "cmc",
                    "vnd.crick.clicker": "clkx",
                    "vnd.crick.clicker.keyboard": "clkk",
                    "vnd.crick.clicker.palette": "clkp",
                    "vnd.crick.clicker.template": "clkt",
                    "vnd.crick.clicker.wordbank": "clkw",
                    "vnd.criticaltools.wbs+xml": "wbs",
                    "vnd.ctc-posml": "pml",
                    "vnd.cups-ppd": "ppd",
                    "vnd.curl.car": "car",
                    "vnd.curl.pcurl": "pcurl",
                    "vnd.dart": "dart",
                    "vnd.data-vision.rdz": "rdz",
                    "vnd.dece.data": ["uvf", "uvvf", "uvd", "uvvd"],
                    "vnd.dece.ttml+xml": ["uvt", "uvvt"],
                    "vnd.dece.unspecified": ["uvx", "uvvx"],
                    "vnd.dece.zip": ["uvz", "uvvz"],
                    "vnd.denovo.fcselayout-link": "fe_launch",
                    "vnd.dna": "dna",
                    "vnd.dolby.mlp": "mlp",
                    "vnd.dpgraph": "dpg",
                    "vnd.dreamfactory": "dfac",
                    "vnd.ds-keypoint": "kpxx",
                    "vnd.dvb.ait": "ait",
                    "vnd.dvb.service": "svc",
                    "vnd.dynageo": "geo",
                    "vnd.ecowin.chart": "mag",
                    "vnd.enliven": "nml",
                    "vnd.epson.esf": "esf",
                    "vnd.epson.msf": "msf",
                    "vnd.epson.quickanime": "qam",
                    "vnd.epson.salt": "slt",
                    "vnd.epson.ssf": "ssf",
                    "vnd.eszigno3+xml": ["es3", "et3"],
                    "vnd.ezpix-album": "ez2",
                    "vnd.ezpix-package": "ez3",
                    "vnd.fdf": "fdf",
                    "vnd.fdsn.mseed": "mseed",
                    "vnd.fdsn.seed": ["seed", "dataless"],
                    "vnd.flographit": "gph",
                    "vnd.fluxtime.clip": "ftc",
                    "vnd.framemaker": ["fm", "frame", "maker", "book"],
                    "vnd.frogans.fnc": "fnc",
                    "vnd.frogans.ltf": "ltf",
                    "vnd.fsc.weblaunch": "fsc",
                    "vnd.fujitsu.oasys": "oas",
                    "vnd.fujitsu.oasys2": "oa2",
                    "vnd.fujitsu.oasys3": "oa3",
                    "vnd.fujitsu.oasysgp": "fg5",
                    "vnd.fujitsu.oasysprs": "bh2",
                    "vnd.fujixerox.ddd": "ddd",
                    "vnd.fujixerox.docuworks": "xdw",
                    "vnd.fujixerox.docuworks.binder": "xbd",
                    "vnd.fuzzysheet": "fzs",
                    "vnd.genomatix.tuxedo": "txd",
                    "vnd.geogebra.file": "ggb",
                    "vnd.geogebra.tool": "ggt",
                    "vnd.geometry-explorer": ["gex", "gre"],
                    "vnd.geonext": "gxt",
                    "vnd.geoplan": "g2w",
                    "vnd.geospace": "g3w",
                    "vnd.gmx": "gmx",
                    "vnd.grafeq": ["gqf", "gqs"],
                    "vnd.groove-account": "gac",
                    "vnd.groove-help": "ghf",
                    "vnd.groove-identity-message": "gim",
                    "vnd.groove-injector": "grv",
                    "vnd.groove-tool-message": "gtm",
                    "vnd.groove-tool-template": "tpl",
                    "vnd.groove-vcard": "vcg",
                    "vnd.hal+xml": "hal",
                    "vnd.handheld-entertainment+xml": "zmm",
                    "vnd.hbci": "hbci",
                    "vnd.hhe.lesson-player": "les",
                    "vnd.hp-hpgl": "hpgl",
                    "vnd.hp-hpid": "hpid",
                    "vnd.hp-hps": "hps",
                    "vnd.hp-jlyt": "jlt",
                    "vnd.hp-pcl": "pcl",
                    "vnd.hp-pclxl": "pclxl",
                    "vnd.hydrostatix.sof-data": "sfd-hdstx",
                    "vnd.ibm.minipay": "mpy",
                    "vnd.ibm.modcap": ["afp", "listafp", "list3820"],
                    "vnd.ibm.rights-management": "irm",
                    "vnd.ibm.secure-container": "sc",
                    "vnd.iccprofile": ["icc", "icm"],
                    "vnd.igloader": "igl",
                    "vnd.immervision-ivp": "ivp",
                    "vnd.immervision-ivu": "ivu",
                    "vnd.insors.igm": "igm",
                    "vnd.intercon.formnet": ["xpw", "xpx"],
                    "vnd.intergeo": "i2g",
                    "vnd.intu.qbo": "qbo",
                    "vnd.intu.qfx": "qfx",
                    "vnd.ipunplugged.rcprofile": "rcprofile",
                    "vnd.irepository.package+xml": "irp",
                    "vnd.is-xpr": "xpr",
                    "vnd.isac.fcs": "fcs",
                    "vnd.jam": "jam",
                    "vnd.jcp.javame.midlet-rms": "rms",
                    "vnd.jisp": "jisp",
                    "vnd.joost.joda-archive": "joda",
                    "vnd.kahootz": ["ktz", "ktr"],
                    "vnd.kde.karbon": "karbon",
                    "vnd.kde.kchart": "chrt",
                    "vnd.kde.kformula": "kfo",
                    "vnd.kde.kivio": "flw",
                    "vnd.kde.kontour": "kon",
                    "vnd.kde.kpresenter": ["kpr", "kpt"],
                    "vnd.kde.kspread": "ksp",
                    "vnd.kde.kword": ["kwd", "kwt"],
                    "vnd.kenameaapp": "htke",
                    "vnd.kidspiration": "kia",
                    "vnd.kinar": ["kne", "knp"],
                    "vnd.koan": ["skp", "skd", "skt", "skm"],
                    "vnd.kodak-descriptor": "sse",
                    "vnd.las.las+xml": "lasxml",
                    "vnd.llamagraphics.life-balance.desktop": "lbd",
                    "vnd.llamagraphics.life-balance.exchange+xml": "lbe",
                    "vnd.lotus-1-2-3": "123",
                    "vnd.lotus-approach": "apr",
                    "vnd.lotus-freelance": "pre",
                    "vnd.lotus-notes": "nsf",
                    "vnd.lotus-organizer": "org",
                    "vnd.lotus-screencam": "scm",
                    "vnd.lotus-wordpro": "lwp",
                    "vnd.macports.portpkg": "portpkg",
                    "vnd.mcd": "mcd",
                    "vnd.medcalcdata": "mc1",
                    "vnd.mediastation.cdkey": "cdkey",
                    "vnd.mfer": "mwf",
                    "vnd.mfmp": "mfm",
                    "vnd.micrografx.flo": "flo",
                    "vnd.micrografx.igx": "igx",
                    "vnd.mif": "mif",
                    "vnd.mobius.daf": "daf",
                    "vnd.mobius.dis": "dis",
                    "vnd.mobius.mbk": "mbk",
                    "vnd.mobius.mqy": "mqy",
                    "vnd.mobius.msl": "msl",
                    "vnd.mobius.plc": "plc",
                    "vnd.mobius.txf": "txf",
                    "vnd.mophun.application": "mpn",
                    "vnd.mophun.certificate": "mpc",
                    "vnd.ms-artgalry": "cil",
                    "vnd.ms-cab-compressed": "cab",
                    "vnd.ms-excel.addin.macroenabled.12": "xlam",
                    "vnd.ms-excel.sheet.binary.macroenabled.12": "xlsb",
                    "vnd.ms-excel.sheet.macroenabled.12": "xlsm",
                    "vnd.ms-excel.template.macroenabled.12": "xltm",
                    "vnd.ms-fontobject": "eot",
                    "vnd.ms-htmlhelp": "chm",
                    "vnd.ms-ims": "ims",
                    "vnd.ms-lrm": "lrm",
                    "vnd.ms-officetheme": "thmx",
                    "vnd.ms-powerpoint.addin.macroenabled.12": "ppam",
                    "vnd.ms-powerpoint.presentation.macroenabled.12": "pptm",
                    "vnd.ms-powerpoint.slide.macroenabled.12": "sldm",
                    "vnd.ms-powerpoint.slideshow.macroenabled.12": "ppsm",
                    "vnd.ms-powerpoint.template.macroenabled.12": "potm",
                    "vnd.ms-project": ["mpp", "mpt"],
                    "vnd.ms-word.document.macroenabled.12": "docm",
                    "vnd.ms-word.template.macroenabled.12": "dotm",
                    "vnd.ms-works": ["wps", "wks", "wcm", "wdb"],
                    "vnd.ms-wpl": "wpl",
                    "vnd.ms-xpsdocument": "xps",
                    "vnd.mseq": "mseq",
                    "vnd.musician": "mus",
                    "vnd.muvee.style": "msty",
                    "vnd.mynfc": "taglet",
                    "vnd.neurolanguage.nlu": "nlu",
                    "vnd.nitf": ["ntf", "nitf"],
                    "vnd.noblenet-directory": "nnd",
                    "vnd.noblenet-sealer": "nns",
                    "vnd.noblenet-web": "nnw",
                    "vnd.nokia.n-gage.data": "ngdat",
                    "vnd.nokia.n-gage.symbian.install": "n-gage",
                    "vnd.nokia.radio-preset": "rpst",
                    "vnd.nokia.radio-presets": "rpss",
                    "vnd.novadigm.edm": "edm",
                    "vnd.novadigm.edx": "edx",
                    "vnd.novadigm.ext": "ext",
                    "vnd.oasis.opendocument.chart-template": "otc",
                    "vnd.oasis.opendocument.formula-template": "odft",
                    "vnd.oasis.opendocument.image-template": "oti",
                    "vnd.olpc-sugar": "xo",
                    "vnd.oma.dd2+xml": "dd2",
                    "vnd.openofficeorg.extension": "oxt",
                    "vnd.openxmlformats-officedocument.presentationml.slide":
                        "sldx",
                    "vnd.osgeo.mapguide.package": "mgp",
                    "vnd.osgi.dp": "dp",
                    "vnd.osgi.subsystem": "esa",
                    "vnd.palm": ["pdb", "pqa", "oprc"],
                    "vnd.pawaafile": "paw",
                    "vnd.pg.format": "str",
                    "vnd.pg.osasli": "ei6",
                    "vnd.picsel": "efif",
                    "vnd.pmi.widget": "wg",
                    "vnd.pocketlearn": "plf",
                    "vnd.powerbuilder6": "pbd",
                    "vnd.previewsystems.box": "box",
                    "vnd.proteus.magazine": "mgz",
                    "vnd.publishare-delta-tree": "qps",
                    "vnd.pvi.ptid1": "ptid",
                    "vnd.quark.quarkxpress": [
                        "qxd",
                        "qxt",
                        "qwd",
                        "qwt",
                        "qxl",
                        "qxb"
                    ],
                    "vnd.realvnc.bed": "bed",
                    "vnd.recordare.musicxml": "mxl",
                    "vnd.recordare.musicxml+xml": "musicxml",
                    "vnd.rig.cryptonote": "cryptonote",
                    "vnd.rn-realmedia": "rm",
                    "vnd.rn-realmedia-vbr": "rmvb",
                    "vnd.route66.link66+xml": "link66",
                    "vnd.sailingtracker.track": "st",
                    "vnd.seemail": "see",
                    "vnd.sema": "sema",
                    "vnd.semd": "semd",
                    "vnd.semf": "semf",
                    "vnd.shana.informed.formdata": "ifm",
                    "vnd.shana.informed.formtemplate": "itp",
                    "vnd.shana.informed.interchange": "iif",
                    "vnd.shana.informed.package": "ipk",
                    "vnd.simtech-mindmapper": ["twd", "twds"],
                    "vnd.smart.teacher": "teacher",
                    "vnd.solent.sdkm+xml": ["sdkm", "sdkd"],
                    "vnd.spotfire.dxp": "dxp",
                    "vnd.spotfire.sfs": "sfs",
                    "vnd.stepmania.package": "smzip",
                    "vnd.stepmania.stepchart": "sm",
                    "vnd.sus-calendar": ["sus", "susp"],
                    "vnd.svd": "svd",
                    "vnd.syncml+xml": "xsm",
                    "vnd.syncml.dm+wbxml": "bdm",
                    "vnd.syncml.dm+xml": "xdm",
                    "vnd.tao.intent-module-archive": "tao",
                    "vnd.tcpdump.pcap": ["pcap", "cap", "dmp"],
                    "vnd.tmobile-livetv": "tmo",
                    "vnd.trid.tpt": "tpt",
                    "vnd.triscape.mxs": "mxs",
                    "vnd.trueapp": "tra",
                    "vnd.ufdl": ["ufd", "ufdl"],
                    "vnd.uiq.theme": "utz",
                    "vnd.umajin": "umj",
                    "vnd.unity": "unityweb",
                    "vnd.uoml+xml": "uoml",
                    "vnd.vcx": "vcx",
                    "vnd.visionary": "vis",
                    "vnd.vsf": "vsf",
                    "vnd.webturbo": "wtb",
                    "vnd.wolfram.player": "nbp",
                    "vnd.wqd": "wqd",
                    "vnd.wt.stf": "stf",
                    "vnd.xara": "xar",
                    "vnd.xfdl": "xfdl",
                    "vnd.yamaha.hv-dic": "hvd",
                    "vnd.yamaha.hv-script": "hvs",
                    "vnd.yamaha.hv-voice": "hvp",
                    "vnd.yamaha.openscoreformat": "osf",
                    "vnd.yamaha.openscoreformat.osfpvg+xml": "osfpvg",
                    "vnd.yamaha.smaf-audio": "saf",
                    "vnd.yamaha.smaf-phrase": "spf",
                    "vnd.yellowriver-custom-menu": "cmp",
                    "vnd.zul": ["zir", "zirz"],
                    "vnd.zzazz.deck+xml": "zaz",
                    "voicexml+xml": "vxml",
                    widget: "wgt",
                    winhlp: "hlp",
                    "wsdl+xml": "wsdl",
                    "wspolicy+xml": "wspolicy",
                    "x-ace-compressed": "ace",
                    "x-authorware-bin": ["aab", "x32", "u32", "vox"],
                    "x-authorware-map": "aam",
                    "x-authorware-seg": "aas",
                    "x-blorb": ["blb", "blorb"],
                    "x-bzip": "bz",
                    "x-bzip2": ["bz2", "boz"],
                    "x-cfs-compressed": "cfs",
                    "x-chat": "chat",
                    "x-conference": "nsc",
                    "x-dgc-compressed": "dgc",
                    "x-dtbncx+xml": "ncx",
                    "x-dtbook+xml": "dtb",
                    "x-dtbresource+xml": "res",
                    "x-eva": "eva",
                    "x-font-bdf": "bdf",
                    "x-font-ghostscript": "gsf",
                    "x-font-linux-psf": "psf",
                    "x-font-otf": "otf",
                    "x-font-pcf": "pcf",
                    "x-font-snf": "snf",
                    "x-font-ttf": ["ttf", "ttc"],
                    "x-font-type1": ["pfa", "pfb", "pfm", "afm"],
                    "x-font-woff": "woff",
                    "x-freearc": "arc",
                    "x-gca-compressed": "gca",
                    "x-glulx": "ulx",
                    "x-gramps-xml": "gramps",
                    "x-install-instructions": "install",
                    "x-lzh-compressed": ["lzh", "lha"],
                    "x-mie": "mie",
                    "x-mobipocket-ebook": ["prc", "mobi"],
                    "x-ms-application": "application",
                    "x-ms-shortcut": "lnk",
                    "x-ms-xbap": "xbap",
                    "x-msbinder": "obd",
                    "x-mscardfile": "crd",
                    "x-msclip": "clp",
                    "x-msdownload": ["exe", "dll", "com", "bat", "msi"],
                    "x-msmediaview": ["mvb", "m13", "m14"],
                    "x-msmetafile": ["wmf", "wmz", "emf", "emz"],
                    "x-msmoney": "mny",
                    "x-mspublisher": "pub",
                    "x-msschedule": "scd",
                    "x-msterminal": "trm",
                    "x-mswrite": "wri",
                    "x-nzb": "nzb",
                    "x-pkcs12": ["p12", "pfx"],
                    "x-pkcs7-certificates": ["p7b", "spc"],
                    "x-research-info-systems": "ris",
                    "x-silverlight-app": "xap",
                    "x-sql": "sql",
                    "x-stuffitx": "sitx",
                    "x-subrip": "srt",
                    "x-t3vm-image": "t3",
                    "x-tads": "gam",
                    "x-tex": "tex",
                    "x-tex-tfm": "tfm",
                    "x-tgif": "obj",
                    "x-xliff+xml": "xlf",
                    "x-xz": "xz",
                    "x-zmachine": [
                        "z1",
                        "z2",
                        "z3",
                        "z4",
                        "z5",
                        "z6",
                        "z7",
                        "z8"
                    ],
                    "xaml+xml": "xaml",
                    "xcap-diff+xml": "xdf",
                    "xenc+xml": "xenc",
                    "xml-dtd": "dtd",
                    "xop+xml": "xop",
                    "xproc+xml": "xpl",
                    "xslt+xml": "xslt",
                    "xv+xml": ["mxml", "xhvml", "xvml", "xvm"],
                    yang: "yang",
                    "yin+xml": "yin",
                    envoy: "evy",
                    fractals: "fif",
                    "internet-property-stream": "acx",
                    olescript: "axs",
                    "vnd.ms-outlook": "msg",
                    "vnd.ms-pkicertstore": "sst",
                    "x-compress": "z",
                    "x-compressed": "tgz",
                    "x-gzip": "gz",
                    "x-perfmon": ["pma", "pmc", "pml", "pmr", "pmw"],
                    "x-pkcs7-mime": ["p7c", "p7m"],
                    "ynd.ms-pkipko": "pko"
                },
                audio: {
                    amr: "amr",
                    "amr-wb": "awb",
                    annodex: "axa",
                    basic: ["au", "snd"],
                    flac: "flac",
                    midi: ["mid", "midi", "kar", "rmi"],
                    mpeg: [
                        "mpga",
                        "mpega",
                        "mp2",
                        "mp3",
                        "m4a",
                        "mp2a",
                        "m2a",
                        "m3a"
                    ],
                    mpegurl: "m3u",
                    ogg: ["oga", "ogg", "spx"],
                    "prs.sid": "sid",
                    "x-aiff": ["aif", "aiff", "aifc"],
                    "x-gsm": "gsm",
                    "x-ms-wma": "wma",
                    "x-ms-wax": "wax",
                    "x-pn-realaudio": "ram",
                    "x-realaudio": "ra",
                    "x-sd2": "sd2",
                    "x-wav": "wav",
                    adpcm: "adp",
                    mp4: "mp4a",
                    s3m: "s3m",
                    silk: "sil",
                    "vnd.dece.audio": ["uva", "uvva"],
                    "vnd.digital-winds": "eol",
                    "vnd.dra": "dra",
                    "vnd.dts": "dts",
                    "vnd.dts.hd": "dtshd",
                    "vnd.lucent.voice": "lvp",
                    "vnd.ms-playready.media.pya": "pya",
                    "vnd.nuera.ecelp4800": "ecelp4800",
                    "vnd.nuera.ecelp7470": "ecelp7470",
                    "vnd.nuera.ecelp9600": "ecelp9600",
                    "vnd.rip": "rip",
                    webm: "weba",
                    "x-aac": "aac",
                    "x-caf": "caf",
                    "x-matroska": "mka",
                    "x-pn-realaudio-plugin": "rmp",
                    xm: "xm",
                    mid: ["mid", "rmi"]
                },
                chemical: {
                    "x-alchemy": "alc",
                    "x-cache": ["cac", "cache"],
                    "x-cache-csf": "csf",
                    "x-cactvs-binary": ["cbin", "cascii", "ctab"],
                    "x-cdx": "cdx",
                    "x-chem3d": "c3d",
                    "x-cif": "cif",
                    "x-cmdf": "cmdf",
                    "x-cml": "cml",
                    "x-compass": "cpa",
                    "x-crossfire": "bsd",
                    "x-csml": ["csml", "csm"],
                    "x-ctx": "ctx",
                    "x-cxf": ["cxf", "cef"],
                    "x-embl-dl-nucleotide": ["emb", "embl"],
                    "x-gamess-input": ["inp", "gam", "gamin"],
                    "x-gaussian-checkpoint": ["fch", "fchk"],
                    "x-gaussian-cube": "cub",
                    "x-gaussian-input": ["gau", "gjc", "gjf"],
                    "x-gaussian-log": "gal",
                    "x-gcg8-sequence": "gcg",
                    "x-genbank": "gen",
                    "x-hin": "hin",
                    "x-isostar": ["istr", "ist"],
                    "x-jcamp-dx": ["jdx", "dx"],
                    "x-kinemage": "kin",
                    "x-macmolecule": "mcm",
                    "x-macromodel-input": ["mmd", "mmod"],
                    "x-mdl-molfile": "mol",
                    "x-mdl-rdfile": "rd",
                    "x-mdl-rxnfile": "rxn",
                    "x-mdl-sdfile": ["sd", "sdf"],
                    "x-mdl-tgf": "tgf",
                    "x-mmcif": "mcif",
                    "x-mol2": "mol2",
                    "x-molconn-Z": "b",
                    "x-mopac-graph": "gpt",
                    "x-mopac-input": ["mop", "mopcrt", "mpc", "zmt"],
                    "x-mopac-out": "moo",
                    "x-ncbi-asn1": "asn",
                    "x-ncbi-asn1-ascii": ["prt", "ent"],
                    "x-ncbi-asn1-binary": ["val", "aso"],
                    "x-pdb": ["pdb", "ent"],
                    "x-rosdal": "ros",
                    "x-swissprot": "sw",
                    "x-vamas-iso14976": "vms",
                    "x-vmd": "vmd",
                    "x-xtel": "xtel",
                    "x-xyz": "xyz"
                },
                image: {
                    gif: "gif",
                    ief: "ief",
                    jpeg: ["jpeg", "jpg", "jpe"],
                    pcx: "pcx",
                    png: "png",
                    "svg+xml": ["svg", "svgz"],
                    tiff: ["tiff", "tif"],
                    "vnd.djvu": ["djvu", "djv"],
                    "vnd.wap.wbmp": "wbmp",
                    "x-canon-cr2": "cr2",
                    "x-canon-crw": "crw",
                    "x-cmu-raster": "ras",
                    "x-coreldraw": "cdr",
                    "x-coreldrawpattern": "pat",
                    "x-coreldrawtemplate": "cdt",
                    "x-corelphotopaint": "cpt",
                    "x-epson-erf": "erf",
                    "x-icon": "ico",
                    "x-jg": "art",
                    "x-jng": "jng",
                    "x-nikon-nef": "nef",
                    "x-olympus-orf": "orf",
                    "x-photoshop": "psd",
                    "x-portable-anymap": "pnm",
                    "x-portable-bitmap": "pbm",
                    "x-portable-graymap": "pgm",
                    "x-portable-pixmap": "ppm",
                    "x-rgb": "rgb",
                    "x-xbitmap": "xbm",
                    "x-xpixmap": "xpm",
                    "x-xwindowdump": "xwd",
                    bmp: "bmp",
                    cgm: "cgm",
                    g3fax: "g3",
                    ktx: "ktx",
                    "prs.btif": "btif",
                    sgi: "sgi",
                    "vnd.dece.graphic": ["uvi", "uvvi", "uvg", "uvvg"],
                    "vnd.dwg": "dwg",
                    "vnd.dxf": "dxf",
                    "vnd.fastbidsheet": "fbs",
                    "vnd.fpx": "fpx",
                    "vnd.fst": "fst",
                    "vnd.fujixerox.edmics-mmr": "mmr",
                    "vnd.fujixerox.edmics-rlc": "rlc",
                    "vnd.ms-modi": "mdi",
                    "vnd.ms-photo": "wdp",
                    "vnd.net-fpx": "npx",
                    "vnd.xiff": "xif",
                    webp: "webp",
                    "x-3ds": "3ds",
                    "x-cmx": "cmx",
                    "x-freehand": ["fh", "fhc", "fh4", "fh5", "fh7"],
                    "x-pict": ["pic", "pct"],
                    "x-tga": "tga",
                    "cis-cod": "cod",
                    pipeg: "jfif"
                },
                message: { rfc822: ["eml", "mime", "mht", "mhtml", "nws"] },
                model: {
                    iges: ["igs", "iges"],
                    mesh: ["msh", "mesh", "silo"],
                    vrml: ["wrl", "vrml"],
                    "x3d+vrml": ["x3dv", "x3dvz"],
                    "x3d+xml": ["x3d", "x3dz"],
                    "x3d+binary": ["x3db", "x3dbz"],
                    "vnd.collada+xml": "dae",
                    "vnd.dwf": "dwf",
                    "vnd.gdl": "gdl",
                    "vnd.gtw": "gtw",
                    "vnd.mts": "mts",
                    "vnd.vtu": "vtu"
                },
                text: {
                    "cache-manifest": ["manifest", "appcache"],
                    calendar: ["ics", "icz", "ifb"],
                    css: "css",
                    csv: "csv",
                    h323: "323",
                    html: ["html", "htm", "shtml", "stm"],
                    iuls: "uls",
                    mathml: "mml",
                    plain: [
                        "txt",
                        "text",
                        "brf",
                        "conf",
                        "def",
                        "list",
                        "log",
                        "in",
                        "bas"
                    ],
                    richtext: "rtx",
                    scriptlet: ["sct", "wsc"],
                    texmacs: ["tm", "ts"],
                    "tab-separated-values": "tsv",
                    "vnd.sun.j2me.app-descriptor": "jad",
                    "vnd.wap.wml": "wml",
                    "vnd.wap.wmlscript": "wmls",
                    "x-bibtex": "bib",
                    "x-boo": "boo",
                    "x-c++hdr": ["h++", "hpp", "hxx", "hh"],
                    "x-c++src": ["c++", "cpp", "cxx", "cc"],
                    "x-component": "htc",
                    "x-dsrc": "d",
                    "x-diff": ["diff", "patch"],
                    "x-haskell": "hs",
                    "x-java": "java",
                    "x-literate-haskell": "lhs",
                    "x-moc": "moc",
                    "x-pascal": ["p", "pas"],
                    "x-pcs-gcd": "gcd",
                    "x-perl": ["pl", "pm"],
                    "x-python": "py",
                    "x-scala": "scala",
                    "x-setext": "etx",
                    "x-tcl": ["tcl", "tk"],
                    "x-tex": ["tex", "ltx", "sty", "cls"],
                    "x-vcalendar": "vcs",
                    "x-vcard": "vcf",
                    n3: "n3",
                    "prs.lines.tag": "dsc",
                    sgml: ["sgml", "sgm"],
                    troff: ["t", "tr", "roff", "man", "me", "ms"],
                    turtle: "ttl",
                    "uri-list": ["uri", "uris", "urls"],
                    vcard: "vcard",
                    "vnd.curl": "curl",
                    "vnd.curl.dcurl": "dcurl",
                    "vnd.curl.scurl": "scurl",
                    "vnd.curl.mcurl": "mcurl",
                    "vnd.dvb.subtitle": "sub",
                    "vnd.fly": "fly",
                    "vnd.fmi.flexstor": "flx",
                    "vnd.graphviz": "gv",
                    "vnd.in3d.3dml": "3dml",
                    "vnd.in3d.spot": "spot",
                    "x-asm": ["s", "asm"],
                    "x-c": ["c", "cc", "cxx", "cpp", "h", "hh", "dic"],
                    "x-fortran": ["f", "for", "f77", "f90"],
                    "x-opml": "opml",
                    "x-nfo": "nfo",
                    "x-sfv": "sfv",
                    "x-uuencode": "uu",
                    webviewhtml: "htt"
                },
                video: {
                    "3gpp": "3gp",
                    annodex: "axv",
                    dl: "dl",
                    dv: ["dif", "dv"],
                    fli: "fli",
                    gl: "gl",
                    mpeg: [
                        "mpeg",
                        "mpg",
                        "mpe",
                        "m1v",
                        "m2v",
                        "mp2",
                        "mpa",
                        "mpv2"
                    ],
                    mp4: ["mp4", "mp4v", "mpg4"],
                    quicktime: ["qt", "mov"],
                    ogg: "ogv",
                    "vnd.mpegurl": ["mxu", "m4u"],
                    "x-flv": "flv",
                    "x-la-asf": ["lsf", "lsx"],
                    "x-mng": "mng",
                    "x-ms-asf": ["asf", "asx", "asr"],
                    "x-ms-wm": "wm",
                    "x-ms-wmv": "wmv",
                    "x-ms-wmx": "wmx",
                    "x-ms-wvx": "wvx",
                    "x-msvideo": "avi",
                    "x-sgi-movie": "movie",
                    "x-matroska": ["mpv", "mkv", "mk3d", "mks"],
                    "3gpp2": "3g2",
                    h261: "h261",
                    h263: "h263",
                    h264: "h264",
                    jpeg: "jpgv",
                    jpm: ["jpm", "jpgm"],
                    mj2: ["mj2", "mjp2"],
                    "vnd.dece.hd": ["uvh", "uvvh"],
                    "vnd.dece.mobile": ["uvm", "uvvm"],
                    "vnd.dece.pd": ["uvp", "uvvp"],
                    "vnd.dece.sd": ["uvs", "uvvs"],
                    "vnd.dece.video": ["uvv", "uvvv"],
                    "vnd.dvb.file": "dvb",
                    "vnd.fvt": "fvt",
                    "vnd.ms-playready.media.pyv": "pyv",
                    "vnd.uvvu.mp4": ["uvu", "uvvu"],
                    "vnd.vivo": "viv",
                    webm: "webm",
                    "x-f4v": "f4v",
                    "x-m4v": "m4v",
                    "x-ms-vob": "vob",
                    "x-smv": "smv"
                },
                "x-conference": { "x-cooltalk": "ice" },
                "x-world": {
                    "x-vrml": ["vrm", "vrml", "wrl", "flr", "wrz", "xaf", "xof"]
                }
            },
            t = (function() {
                var t,
                    n,
                    r,
                    i,
                    o = {};
                for (t in e)
                    if (e.hasOwnProperty(t))
                        for (n in e[t])
                            if (e[t].hasOwnProperty(n))
                                if ("string" == typeof (r = e[t][n]))
                                    o[r] = t + "/" + n;
                                else
                                    for (i = 0; i < r.length; i++)
                                        o[r[i]] = t + "/" + n;
                return o;
            })();
        zip.getMimeType = function(e) {
            return (
                (e &&
                    t[
                        e
                            .split(".")
                            .pop()
                            .toLowerCase()
                    ]) ||
                "application/octet-stream"
            );
        };
    })(),
    define("mime-types", ["zip"], (function(e) {
        return function() {
            return e.zip;
        };
    })(this)),
    (function() {
        "use strict";
        function e(e) {
            function t(t) {
                (o.size = e.uncompressedSize), t();
            }
            function n(t) {
                o.data
                    ? t()
                    : e.getData(
                          new g(),
                          function(e) {
                              (o.data = e), (i = new _(e)), t();
                          },
                          null,
                          o.checkCrc32
                      );
            }
            function r(e, t, r, o) {
                n(function() {
                    i.readUint8Array(e, t, r, o);
                }, o);
            }
            var i,
                o = this;
            (o.size = 0), (o.init = t), (o.readUint8Array = r);
        }
        function t(e) {
            function t(e) {
                (n += e.uncompressedSize || 0), e.children.forEach(t);
            }
            var n = 0;
            return t(e), n;
        }
        function n(e, t, r) {
            function i() {
                a++, a < e.children.length ? o(e.children[a]) : t();
            }
            function o(e) {
                e.directory
                    ? n(e, i, r)
                    : ((e.reader = new e.Reader(e.data, r)),
                      e.reader.init(function() {
                          (e.uncompressedSize = e.reader.size), i();
                      }));
            }
            var a = 0;
            e.children.length ? o(e.children[a]) : t();
        }
        function r(e) {
            var t = e.parent.children;
            t.forEach(function(n, r) {
                n.id == e.id && t.splice(r, 1);
            });
        }
        function i(e, t, n, r, i) {
            function o(e, t, n, r, i) {
                function s() {
                    var u = t.children[l];
                    u
                        ? e.add(
                              u.getFullname(),
                              u.reader,
                              function() {
                                  (a += u.uncompressedSize || 0),
                                      o(
                                          e,
                                          u,
                                          function() {
                                              l++, s();
                                          },
                                          r,
                                          i
                                      );
                              },
                              function(e) {
                                  r && r(a + e, i);
                              },
                              { directory: u.directory, version: u.zipVersion }
                          )
                        : n();
                }
                var l = 0;
                s();
            }
            var a = 0;
            o(e, t, n, r, i);
        }
        function o(e, t, n, r) {
            function i(e, t) {
                var n = [];
                if (e.isDirectory) {
                    var i = e.createReader();
                    !(function e() {
                        i.readEntries(function(r) {
                            r.length ? ((n = n.concat(r)), e()) : t(n);
                        }, r);
                    })();
                }
                e.isFile && t(n);
            }
            function o(e, t, n) {
                i(t, function(t) {
                    function i(t) {
                        function n(e) {
                            o(e, t, function() {
                                s++, a();
                            });
                        }
                        t.isDirectory && n(e.addDirectory(t.name)),
                            t.isFile &&
                                t.file(function(r) {
                                    var i = e.addBlob(t.name, r);
                                    (i.uncompressedSize = r.size), n(i);
                                }, r);
                    }
                    function a() {
                        var e = t[s];
                        e ? i(e) : n();
                    }
                    var s = 0;
                    a();
                });
            }
            t.isDirectory
                ? o(e, t, n)
                : t.file(function(r) {
                      e.addBlob(t.name, r), n();
                  }, r);
        }
        function a(e, t, n, r, i, o, a) {
            function s(e, t, n, r, i, o) {
                function u(t) {
                    function n(e) {
                        (l += t.uncompressedSize || 0),
                            s(
                                e,
                                t,
                                function() {
                                    d++, c();
                                },
                                r,
                                i,
                                o
                            );
                    }
                    t.directory
                        ? e.getDirectory(t.name, { create: !0 }, n, i)
                        : e.getFile(
                              t.name,
                              { create: !0 },
                              function(e) {
                                  t.getData(
                                      new zip.FileWriter(
                                          e,
                                          zip.getMimeType(t.name)
                                      ),
                                      n,
                                      function(e) {
                                          r && r(l + e, o);
                                      },
                                      a
                                  );
                              },
                              i
                          );
                }
                function c() {
                    var e = t.children[d];
                    e ? u(e) : n();
                }
                var d = 0;
                c();
            }
            var l = 0;
            t.directory
                ? s(e, t, n, r, i, o)
                : t.getData(
                      new zip.FileWriter(e, zip.getMimeType(t.name)),
                      n,
                      r,
                      a
                  );
        }
        function s(e) {
            (e.entries = []), (e.root = new f(e));
        }
        function l(e, t, n, r, i) {
            function o() {
                var s = a * h;
                r && r(s, e.size),
                    s < e.size
                        ? e.readUint8Array(
                              s,
                              Math.min(h, e.size - s),
                              function(e) {
                                  t.writeUint8Array(
                                      new Uint8Array(e),
                                      function() {
                                          a++, o();
                                      }
                                  );
                              },
                              i
                          )
                        : t.getData(n);
            }
            var a = 0;
            o();
        }
        function u(e, t, n, r) {
            if (e.directory)
                return r ? new f(e.fs, t, n, e) : new d(e.fs, t, n, e);
            throw "Parent entry is not a directory.";
        }
        function c() {}
        function d(e, t, n, r) {
            var i = this;
            c.prototype.init.call(i, e, t, n, r),
                (i.Reader = n.Reader),
                (i.Writer = n.Writer),
                (i.data = n.data),
                n.getData && (i.getData = n.getData);
        }
        function f(e, t, n, r) {
            var i = this;
            c.prototype.init.call(i, e, t, n, r), (i.directory = !0);
        }
        function p() {
            s(this);
        }
        var h = 524288,
            m = zip.TextWriter,
            g = zip.BlobWriter,
            v = zip.Data64URIWriter,
            b = zip.Reader,
            y = zip.TextReader,
            _ = zip.BlobReader,
            w = zip.Data64URIReader,
            x = zip.createReader,
            E = zip.createWriter;
        (e.prototype = new b()),
            (e.prototype.constructor = e),
            (e.prototype.checkCrc32 = !1),
            (c.prototype = {
                init: function(e, t, n, r) {
                    var i = this;
                    if (e.root && r && r.getChildByName(t))
                        throw "Entry filename already exists.";
                    n || (n = {}),
                        (i.fs = e),
                        (i.name = t),
                        (i.id = e.entries.length),
                        (i.parent = r),
                        (i.children = []),
                        (i.zipVersion = n.zipVersion || 20),
                        (i.uncompressedSize = 0),
                        e.entries.push(i),
                        r && i.parent.children.push(i);
                },
                getFileEntry: function(e, r, i, o, s) {
                    var l = this;
                    n(
                        l,
                        function() {
                            a(e, l, r, i, o, t(l), s);
                        },
                        o
                    );
                },
                moveTo: function(e) {
                    var t = this;
                    if (!e.directory) throw "Target entry is not a directory.";
                    if (e.isDescendantOf(t))
                        throw "Entry is a ancestor of target entry.";
                    if (t != e) {
                        if (e.getChildByName(t.name))
                            throw "Entry filename already exists.";
                        r(t), (t.parent = e), e.children.push(t);
                    }
                },
                getFullname: function() {
                    for (var e = this, t = e.name, n = e.parent; n; )
                        (t = (n.name ? n.name + "/" : "") + t), (n = n.parent);
                    return t;
                },
                isDescendantOf: function(e) {
                    for (var t = this.parent; t && t.id != e.id; ) t = t.parent;
                    return !!t;
                }
            }),
            (c.prototype.constructor = c);
        var T;
        (d.prototype = T = new c()),
            (T.constructor = d),
            (T.getData = function(e, t, n, r) {
                var i = this;
                !e || (e.constructor == i.Writer && i.data)
                    ? t(i.data)
                    : (i.reader || (i.reader = new i.Reader(i.data, r)),
                      i.reader.init(function() {
                          e.init(function() {
                              l(i.reader, e, t, n, r);
                          }, r);
                      }));
            }),
            (T.getText = function(e, t, n, r) {
                this.getData(new m(r), e, t, n);
            }),
            (T.getBlob = function(e, t, n, r) {
                this.getData(new g(e), t, n, r);
            }),
            (T.getData64URI = function(e, t, n, r) {
                this.getData(new v(e), t, n, r);
            });
        var S;
        (f.prototype = S = new c()),
            (S.constructor = f),
            (S.addDirectory = function(e) {
                return u(this, e, null, !0);
            }),
            (S.addText = function(e, t) {
                return u(this, e, { data: t, Reader: y, Writer: m });
            }),
            (S.addBlob = function(e, t) {
                return u(this, e, { data: t, Reader: _, Writer: g });
            }),
            (S.addData64URI = function(e, t) {
                return u(this, e, { data: t, Reader: w, Writer: v });
            }),
            (S.addFileEntry = function(e, t, n) {
                o(this, e, t, n);
            }),
            (S.addData = function(e, t) {
                return u(this, e, t);
            }),
            (S.importBlob = function(e, t, n) {
                this.importZip(new _(e), t, n);
            }),
            (S.importText = function(e, t, n) {
                this.importZip(new y(e), t, n);
            }),
            (S.importData64URI = function(e, t, n) {
                this.importZip(new w(e), t, n);
            }),
            (S.exportBlob = function(e, t, n) {
                this.exportZip(new g("application/zip"), e, t, n);
            }),
            (S.exportText = function(e, t, n) {
                this.exportZip(new m(), e, t, n);
            }),
            (S.exportFileEntry = function(e, t, n, r) {
                this.exportZip(
                    new zip.FileWriter(e, "application/zip"),
                    t,
                    n,
                    r
                );
            }),
            (S.exportData64URI = function(e, t, n) {
                this.exportZip(new v("application/zip"), e, t, n);
            }),
            (S.importZip = function(t, n, r) {
                var i = this;
                x(
                    t,
                    function(t) {
                        t.getEntries(function(t) {
                            t.forEach(function(t) {
                                var n = i,
                                    r = t.filename.split("/"),
                                    o = r.pop();
                                r.forEach(function(e) {
                                    n =
                                        n.getChildByName(e) ||
                                        new f(i.fs, e, null, n);
                                }),
                                    t.directory ||
                                        u(n, o, { data: t, Reader: e });
                            }),
                                n();
                        });
                    },
                    r
                );
            }),
            (S.exportZip = function(e, r, o, a) {
                var s = this;
                n(
                    s,
                    function() {
                        E(
                            e,
                            function(e) {
                                i(
                                    e,
                                    s,
                                    function() {
                                        e.close(r);
                                    },
                                    o,
                                    t(s)
                                );
                            },
                            a
                        );
                    },
                    a
                );
            }),
            (S.getChildByName = function(e) {
                var t,
                    n,
                    r = this;
                for (t = 0; t < r.children.length; t++)
                    if (((n = r.children[t]), n.name == e)) return n;
            }),
            (p.prototype = {
                remove: function(e) {
                    r(e), (this.entries[e.id] = null);
                },
                find: function(e) {
                    var t,
                        n = e.split("/"),
                        r = this.root;
                    for (t = 0; r && t < n.length; t++)
                        r = r.getChildByName(n[t]);
                    return r;
                },
                getById: function(e) {
                    return this.entries[e];
                },
                importBlob: function(e, t, n) {
                    s(this), this.root.importBlob(e, t, n);
                },
                importText: function(e, t, n) {
                    s(this), this.root.importText(e, t, n);
                },
                importData64URI: function(e, t, n) {
                    s(this), this.root.importData64URI(e, t, n);
                },
                exportBlob: function(e, t, n) {
                    this.root.exportBlob(e, t, n);
                },
                exportText: function(e, t, n) {
                    this.root.exportText(e, t, n);
                },
                exportFileEntry: function(e, t, n, r) {
                    this.root.exportFileEntry(e, t, n, r);
                },
                exportData64URI: function(e, t, n) {
                    this.root.exportData64URI(e, t, n);
                }
            }),
            (zip.fs = { FS: p, ZipDirectoryEntry: f, ZipFileEntry: d }),
            (zip.getMimeType = function() {
                return "application/octet-stream";
            });
    })(),
    define("zip-fs", ["mime-types"], (function(e) {
        return function() {
            return e.zip;
        };
    })(this)),
    (function() {
        "use strict";
        function e(e) {
            var t = document.createElement("a");
            return (
                (t.href = e), "http:" === t.protocol || "https:" === t.protocol
            );
        }
        function t(t) {
            function n(e, n) {
                var r;
                o.data
                    ? e()
                    : ((r = new XMLHttpRequest()),
                      r.addEventListener(
                          "load",
                          function() {
                              o.size ||
                                  (o.size =
                                      Number(
                                          r.getResponseHeader("Content-Length")
                                      ) || Number(r.response.byteLength)),
                                  (o.data = new Uint8Array(r.response)),
                                  e();
                          },
                          !1
                      ),
                      r.addEventListener("error", n, !1),
                      r.open("GET", t),
                      (r.responseType = "arraybuffer"),
                      r.send());
            }
            function r(r, i) {
                if (!e(t)) return void n(r, i);
                var a = new XMLHttpRequest();
                a.addEventListener(
                    "load",
                    function() {
                        (o.size = Number(
                            a.getResponseHeader("Content-Length")
                        )),
                            o.size ? r() : n(r, i);
                    },
                    !1
                ),
                    a.addEventListener("error", i, !1),
                    a.open("HEAD", t),
                    a.send();
            }
            function i(e, t, r, i) {
                n(function() {
                    r(new Uint8Array(o.data.subarray(e, e + t)));
                }, i);
            }
            var o = this;
            (o.size = 0), (o.init = r), (o.readUint8Array = i);
        }
        function n(e) {
            function t(t, n) {
                var r = new XMLHttpRequest();
                r.addEventListener(
                    "load",
                    function() {
                        (i.size = Number(
                            r.getResponseHeader("Content-Length")
                        )),
                            t();
                    },
                    !1
                ),
                    r.addEventListener("error", n, !1),
                    r.open("HEAD", e),
                    r.send();
            }
            function n(t, n, r, i) {
                var o = new XMLHttpRequest();
                o.open("GET", e),
                    (o.responseType = "arraybuffer"),
                    o.setRequestHeader(
                        "Range",
                        "bytes=" + t + "-" + (t + n - 1)
                    ),
                    o.addEventListener(
                        "load",
                        function() {
                            r(o.response);
                        },
                        !1
                    ),
                    o.addEventListener("error", i, !1),
                    o.send();
            }
            function r(e, t, r, i) {
                n(
                    e,
                    t,
                    function(e) {
                        r(new Uint8Array(e));
                    },
                    i
                );
            }
            var i = this;
            (i.size = 0), (i.init = t), (i.readUint8Array = r);
        }
        function r(e) {
            function t(t, n) {
                (r.size = e.byteLength), t();
            }
            function n(t, n, r, i) {
                r(new Uint8Array(e.slice(t, t + n)));
            }
            var r = this;
            (r.size = 0), (r.init = t), (r.readUint8Array = n);
        }
        function i() {
            function e(e, t) {
                (r = new Uint8Array()), e();
            }
            function t(e, t, n) {
                var i = new Uint8Array(r.length + e.length);
                i.set(r), i.set(e, r.length), (r = i), t();
            }
            function n(e) {
                e(r.buffer);
            }
            var r,
                i = this;
            (i.init = e), (i.writeUint8Array = t), (i.getData = n);
        }
        function o(e, t) {
            function n(t, n) {
                e.createWriter(function(e) {
                    (o = e), t();
                }, n);
            }
            function r(e, n, r) {
                var i = new Blob([s ? e : e.buffer], { type: t });
                (o.onwrite = function() {
                    (o.onwrite = null), n();
                }),
                    (o.onerror = r),
                    o.write(i);
            }
            function i(t) {
                e.file(t);
            }
            var o,
                a = this;
            (a.init = n), (a.writeUint8Array = r), (a.getData = i);
        }
        var a,
            s,
            l = zip.Reader,
            u = zip.Writer;
        try {
            s = 0 === new Blob([new DataView(new ArrayBuffer(0))]).size;
        } catch (e) {}
        (t.prototype = new l()),
            (t.prototype.constructor = t),
            (n.prototype = new l()),
            (n.prototype.constructor = n),
            (r.prototype = new l()),
            (r.prototype.constructor = r),
            (i.prototype = new u()),
            (i.prototype.constructor = i),
            (o.prototype = new u()),
            (o.prototype.constructor = o),
            (zip.FileWriter = o),
            (zip.HttpReader = t),
            (zip.HttpRangeReader = n),
            (zip.ArrayBufferReader = r),
            (zip.ArrayBufferWriter = i),
            zip.fs &&
                ((a = zip.fs.ZipDirectoryEntry),
                (a.prototype.addHttpContent = function(e, r, i) {
                    return (function(e, t, n, r) {
                        if (e.directory)
                            return r
                                ? new a(e.fs, t, n, e)
                                : new zip.fs.ZipFileEntry(e.fs, t, n, e);
                        throw "Parent entry is not a directory.";
                    })(this, e, { data: r, Reader: i ? n : t });
                }),
                (a.prototype.importHttpContent = function(e, r, i, o) {
                    this.importZip(r ? new n(e) : new t(e), i, o);
                }),
                (zip.fs.FS.prototype.importHttpContent = function(e, t, n, r) {
                    (this.entries = []),
                        (this.root = new a(this)),
                        this.root.importHttpContent(e, t, n, r);
                }));
    })(),
    define("zip-ext", ["zip-fs"], (function(e) {
        return function() {
            return e.zip;
        };
    })(this)),
    define("readium_js/epub-fetch/zip_resource_fetcher", [
        "jquery",
        "URIjs",
        "./discover_content_type",
        "zip-ext",
        "readium_shared_js/helpers"
    ], function(e, t, n, r, i) {
        return function(e, i) {
            function o(e, t) {
                s
                    ? e(s, t)
                    : (i
                          ? ((r.useWebWorkers = !0), (r.workerScriptsPath = i))
                          : (r.useWebWorkers = !1),
                      (s = new r.fs.FS()),
                      l instanceof Blob || l instanceof File
                          ? s.importBlob(
                                l,
                                function() {
                                    e(s, t);
                                },
                                function() {
                                    console.error("ZIP ERROR"),
                                        t.apply(this, arguments);
                                }
                            )
                          : s.importHttpContent(
                                l,
                                !0,
                                function() {
                                    e(s, t);
                                },
                                function() {
                                    console.error("ZIP ERROR"),
                                        t.apply(this, arguments);
                                }
                            ));
            }
            function a(e, t, n) {
                if (void 0 === e)
                    throw "Fetched file relative path is undefined!";
                o(
                    function(n, r) {
                        var i = n.find(e);
                        void 0 === i || null === i
                            ? r(
                                  new Error(
                                      c +
                                          "Entry " +
                                          e +
                                          " not found in zip " +
                                          u
                                  )
                              )
                            : i.directory
                                ? r(
                                      new Error(
                                          c +
                                              "Entry " +
                                              e +
                                              " is a directory while a file has been expected"
                                      )
                                  )
                                : t(i);
                    },
                    function() {
                        var r = arguments
                            ? arguments.length && arguments[0] instanceof Error
                                ? arguments[0]
                                : arguments instanceof Error
                                    ? arguments
                                    : void 0
                            : void 0;
                        if (
                            (!!r && 0 == r.message.indexOf(c)) ||
                            l instanceof Blob ||
                            l instanceof File
                        )
                            n.apply(this, arguments);
                        else {
                            console.log(
                                "Zip lib failed to load zipped EPUB via HTTP, trying alternative HTTP fetch... (" +
                                    l +
                                    ")"
                            );
                            var i = new XMLHttpRequest();
                            (i.onreadystatechange = function() {
                                if (4 == this.readyState) {
                                    if (
                                        (i.status >= 200 && i.status < 300) ||
                                        304 === i.status
                                    )
                                        return (
                                            (l = this.response),
                                            (s = void 0),
                                            void (l instanceof Blob ||
                                            l instanceof File
                                                ? a(e, t, n)
                                                : n(
                                                      new Error(
                                                          "XMLHttpRequest response not Blob!?"
                                                      )
                                                  ))
                                        );
                                    n(i.statusText);
                                }
                            }),
                                i.open("GET", l, !0),
                                (i.responseType = "blob"),
                                i.send(null);
                        }
                    }
                );
            }
            var s,
                l = e.getEbookURL(),
                u = e.getEbookURL_FilePath(),
                c = "READIUM -- ";
            (this.resolveURI = function(e) {
                var n = void 0;
                try {
                    n = new t(e);
                } catch (t) {
                    console.error(t), console.log(e);
                }
                if (n && n.is("absolute")) return e;
                var r = u;
                try {
                    r = new t(r)
                        .search("")
                        .hash("")
                        .toString();
                } catch (e) {
                    console.error(e), console.log(r);
                }
                return r + ("/" == r.charAt(r.length - 1) ? "" : "/") + e;
            }),
                (this.fetchFileContentsText = function(e, t, n) {
                    a(
                        e,
                        function(e) {
                            e.getText(t, void 0, !1);
                        },
                        n
                    );
                }),
                (this.fetchFileContentsData64Uri = function(e, t, r) {
                    a(
                        e,
                        function(r) {
                            r.getData64URI(
                                n.identifyContentTypeFromFileName(e),
                                t,
                                void 0,
                                !1
                            );
                        },
                        r
                    );
                }),
                (this.fetchFileContentsBlob = function(t, r, i) {
                    var o = e.getDecryptionFunctionForRelativePath(t);
                    if (o) {
                        var s = r;
                        r = function(e) {
                            o(e, function(e) {
                                s(e);
                            });
                        };
                    }
                    a(
                        t,
                        function(e) {
                            e.getBlob(
                                n.identifyContentTypeFromFileName(t),
                                r,
                                void 0,
                                !1
                            );
                        },
                        i
                    );
                });
        };
    }),
    define("readium_js/epub-fetch/content_document_fetcher", [
        "jquery",
        "underscore",
        "URIjs",
        "./discover_content_type"
    ], function(e, t, n, r) {
        return function(i, o, a, s, l) {
            function u(e, t) {
                var n = e.getElementsByTagName("base")[0];
                if (!n) {
                    n = e.createElement("base");
                    var r = e.getElementsByTagName("head")[0];
                    r && r.insertBefore(n, r.childNodes[0]);
                }
                n.setAttribute("href", t);
            }
            function c(t, i, o, a, s, l, u) {
                function c(n) {
                    e(t).attr("data-epubZipOrigHref", i), e(t).attr(o, n);
                }
                if ("" !== new n(i).scheme())
                    return void console.log("HTTP / absolute scheme res: " + i);
                if (0 == i.indexOf("/")) {
                    console.log("Absolute path res: " + i);
                    return void c(
                        (window.location
                            ? window.location.protocol +
                              "//" +
                              window.location.hostname +
                              (window.location.port
                                  ? ":" + window.location.port
                                  : "")
                            : "") + i
                    );
                }
                var d = T.convertPathRelativeToPackageToRelativeToBase(E),
                    f = "/" + new n(i).absoluteTo(d).toString(),
                    p = C.getResourceURL(f);
                if (p) c(p);
                else {
                    var h = e.Deferred();
                    s.push(h),
                        T.relativeToPackageFetchFileContents(
                            f,
                            a,
                            function(n) {
                                var i = function(n) {
                                    if ("text" === a) {
                                        var i = r.identifyContentTypeFromFileName(
                                                f
                                            ),
                                            o = e(t).attr("type");
                                        o && (i = o),
                                            (n = new Blob([n], { type: i }));
                                    }
                                    var s = window.URL.createObjectURL(n);
                                    C.putResource(f, s, n), c(s), h.resolve();
                                };
                                u ? u(n, f, i) : i(n);
                            },
                            function() {
                                h.resolve(), l.apply(this, arguments);
                            }
                        );
                }
            }
            function d(r, i, o, a, s) {
                var l = r[0],
                    u = r.slice(2),
                    c = t.find(u, function(e) {
                        return void 0 !== e;
                    });
                if ("" === new n(c).scheme()) {
                    var d = T.convertPathRelativeToPackageToRelativeToBase(o);
                    "/" === d.charAt(0) && (d = d.substr(1));
                    var p = "/" + new n(c).absoluteTo(d).toString(),
                        h = C.getResourceURL(p);
                    if (h)
                        a[l] = {
                            isStyleSheetResource: s,
                            resourceObjectURL: h
                        };
                    else {
                        var m = e.Deferred();
                        i.push(m);
                        var g,
                            v,
                            b = function(e) {
                                var t = window.URL.createObjectURL(e);
                                (a[l] = {
                                    isStyleSheetResource: s,
                                    resourceObjectURL: t
                                }),
                                    C.putResource(p, t, e),
                                    m.resolve();
                            },
                            y = function(e) {
                                m.resolve();
                            };
                        s
                            ? ((g = "text"),
                              (v = function(e) {
                                  f(e, p, function(e) {
                                      var t = new Blob([e], {
                                          type: "text/css"
                                      });
                                      b(t);
                                  });
                              }))
                            : ((g = "blob"), (v = b)),
                            T.relativeToPackageFetchFileContents(p, g, v, y);
                    }
                }
            }
            function f(t, n, r) {
                var i = /[Uu][Rr][Ll]\(\s*([']([^']+)[']|["]([^"]+)["]|([^)]+))\s*\)/g,
                    o = /@[Ii][Mm][Pp][Oo][Rr][Tt]\s*('([^']+)'|"([^"]+)")/g,
                    a = {},
                    s = [];
                [o, i].forEach(function(e) {
                    for (var r = e.exec(t); null != r; ) {
                        var i = !1;
                        e == o && (i = !0), d(r, s, n, a, i), (r = e.exec(t));
                    }
                }),
                    s.length > 0
                        ? e.when.apply(e, s).done(function() {
                              for (var e in a) {
                                  var n,
                                      i = a[e];
                                  n = i.isStyleSheetResource
                                      ? '@import "' + i.resourceObjectURL + '"'
                                      : "url('" + i.resourceObjectURL + "')";
                                  var o = e.replace(
                                          /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
                                          "\\$&"
                                      ),
                                      s = new RegExp(o, "g");
                                  t = t.replace(s, n, "g");
                              }
                              r(t);
                          })
                        : r(t);
            }
            function p(t, n, r, i, o, a) {
                e(t + "[" + n.replace(":", "\\:") + "]", w).each(function(
                    t,
                    s
                ) {
                    c(s, e(s).attr(n), n, r, i, o, a);
                });
            }
            function h(e, t) {
                p("img", "src", "blob", e, t),
                    p("image", "xlink:href", "blob", e, t);
            }
            function m(e, t) {
                p("audio", "src", "blob", e, t);
            }
            function g(e, t) {
                p("video", "src", "blob", e, t),
                    p("video", "poster", "blob", e, t);
            }
            function v(e, t) {
                p("script", "src", "blob", e, t);
            }
            function b(e, t) {
                p("link", "href", "text", e, t, f);
            }
            function y(t, n) {
                e("style", w).each(function(n, r) {
                    var i = e.Deferred();
                    t.push(i),
                        f(e(r).text(), E, function(t) {
                            e(r).text(t), i.resolve();
                        });
                });
            }
            var _,
                w,
                x = this,
                E = o.href,
                T = i,
                S = o.media_type,
                C = s,
                k = l;
            (this.fetchContentDocumentAndResolveDom = function(e, t) {
                T.relativeToPackageFetchFileContents(
                    E,
                    "text",
                    function(n) {
                        (_ = n),
                            k && (_ = k(a, _)),
                            x.resolveInternalPackageResources(e, t);
                    },
                    t
                );
            }),
                (this.resolveInternalPackageResources = function(t, n) {
                    (w = T.markupParser.parseMarkup(_, S)), u(w, a);
                    var r = [];
                    T.shouldFetchMediaAssetsProgrammatically() &&
                        (console.log("fetchMediaAssetsProgrammatically ..."),
                        h(r, n),
                        m(r, n),
                        g(r, n),
                        p("source", "src", "blob", r, n),
                        p("object", "data", "blob", r, n)),
                        v(r, n),
                        b(r, n),
                        y(r, n),
                        e.when.apply(e, r).done(function() {
                            console.log("DOM BLOB URi DONE: " + a), t(w);
                        });
                });
        };
    }),
    define("readium_js/epub-fetch/resource_cache", ["underscore"], function(e) {
        return function(t, n) {
            function r() {
                return new Date().getTime();
            }
            function i() {
                return window.performance &&
                    window.performance.memory &&
                    window.performance.memory.jsHeapSizeLimit
                    ? window.performance.memory.jsHeapSizeLimit
                    : null;
            }
            function o(e) {
                if (void 0 !== e.orderingByLastUseTimestampIdx) {
                    var t = e.orderingByLastUseTimestampIdx;
                    l.splice(t, 1);
                    for (var n = t; n < l.length; n++) {
                        var r = l[n];
                        r.orderingByLastUseTimestampIdx - 1 != n &&
                            console.error(
                                "algorithm incorrect: downshiftedEntry.orderingByLastUseTimestampIdx: " +
                                    r.orderingByLastUseTimestampIdx +
                                    ", i: " +
                                    n +
                                    " -- " +
                                    e.absoluteHref
                            ),
                            (r.orderingByLastUseTimestampIdx = n);
                    }
                }
            }
            function a(t) {
                o(t);
                var n = e.sortedIndex(l, t, "lastUseTimestamp");
                l.splice(n, 0, t), (t.orderingByLastUseTimestampIdx = n);
            }
            var s = {},
                l = [],
                u = 0,
                c = 1e8,
                d = (function() {
                    if (n) return n;
                    var e = i();
                    return e && e / 10 > c ? e / 10 : c;
                })();
            (this.getResourceURL = function(e) {
                var t = null,
                    n = s[e];
                return n && ((t = n.url), (n.lastUseTimestamp = r()), a(n)), t;
            }),
                (this.putResource = function(e, t, n) {
                    this.trimCache();
                    var i = r(),
                        o = {
                            url: t,
                            absoluteHref: e,
                            blob: n,
                            blobSize: n.size,
                            creationTimestamp: i,
                            lastUseTimestamp: i,
                            pinned: !0
                        };
                    (s[e] = o), a(o), (u += n.size);
                }),
                (this.evictResource = function(e) {
                    var n = s[e];
                    n &&
                        (t.URL.revokeObjectURL(n.url),
                        (u -= n.blobSize),
                        o(n),
                        delete s[e]);
                }),
                (this.flushCache = function() {
                    for (var e in s) this.evictResource(e);
                    0 != u &&
                        (console.error(
                            "cacheSize accounting error! cacheSize: " +
                                u +
                                ", _resourcesHash:"
                        ),
                        console.error(s)),
                        (l = []);
                }),
                (this.unPinResources = function() {
                    for (var e in s) {
                        s[e].pinned = !1;
                    }
                }),
                (this.trimCache = function() {
                    if (!(u < d)) {
                        console.log("Trimming cache. Current cache size: " + u);
                        for (var e = 0; e < l.length && !(u < d); e++) {
                            var t = l[e];
                            if (!t.pinned) {
                                var n = t.absoluteHref;
                                this.evictResource(n), e--;
                            }
                        }
                        console.log("Cache size after trimming: " + u);
                    }
                });
        };
    }),
    (function(e, t) {
        "object" == typeof exports
            ? (module.exports = exports = t())
            : "function" == typeof define && define.amd
                ? define("cryptoJs/core", [], t)
                : (e.CryptoJS = t());
    })(this, function() {
        var e =
            e ||
            (function(e, t) {
                var n =
                        Object.create ||
                        (function() {
                            function e() {}
                            return function(t) {
                                var n;
                                return (
                                    (e.prototype = t),
                                    (n = new e()),
                                    (e.prototype = null),
                                    n
                                );
                            };
                        })(),
                    r = {},
                    i = (r.lib = {}),
                    o = (i.Base = (function() {
                        return {
                            extend: function(e) {
                                var t = n(this);
                                return (
                                    e && t.mixIn(e),
                                    (t.hasOwnProperty("init") &&
                                        this.init !== t.init) ||
                                        (t.init = function() {
                                            t.$super.init.apply(
                                                this,
                                                arguments
                                            );
                                        }),
                                    (t.init.prototype = t),
                                    (t.$super = this),
                                    t
                                );
                            },
                            create: function() {
                                var e = this.extend();
                                return e.init.apply(e, arguments), e;
                            },
                            init: function() {},
                            mixIn: function(e) {
                                for (var t in e)
                                    e.hasOwnProperty(t) && (this[t] = e[t]);
                                e.hasOwnProperty("toString") &&
                                    (this.toString = e.toString);
                            },
                            clone: function() {
                                return this.init.prototype.extend(this);
                            }
                        };
                    })()),
                    a = (i.WordArray = o.extend({
                        init: function(e, t) {
                            (e = this.words = e || []),
                                (this.sigBytes =
                                    void 0 != t ? t : 4 * e.length);
                        },
                        toString: function(e) {
                            return (e || l).stringify(this);
                        },
                        concat: function(e) {
                            var t = this.words,
                                n = e.words,
                                r = this.sigBytes,
                                i = e.sigBytes;
                            if ((this.clamp(), r % 4))
                                for (var o = 0; o < i; o++) {
                                    var a =
                                        (n[o >>> 2] >>> (24 - (o % 4) * 8)) &
                                        255;
                                    t[(r + o) >>> 2] |=
                                        a << (24 - ((r + o) % 4) * 8);
                                }
                            else
                                for (var o = 0; o < i; o += 4)
                                    t[(r + o) >>> 2] = n[o >>> 2];
                            return (this.sigBytes += i), this;
                        },
                        clamp: function() {
                            var t = this.words,
                                n = this.sigBytes;
                            (t[n >>> 2] &= 4294967295 << (32 - (n % 4) * 8)),
                                (t.length = e.ceil(n / 4));
                        },
                        clone: function() {
                            var e = o.clone.call(this);
                            return (e.words = this.words.slice(0)), e;
                        },
                        random: function(t) {
                            for (var n, r = [], i = 0; i < t; i += 4) {
                                var o = (function(t) {
                                    var t = t,
                                        n = 987654321,
                                        r = 4294967295;
                                    return function() {
                                        (n =
                                            (36969 * (65535 & n) + (n >> 16)) &
                                            r),
                                            (t =
                                                (18e3 * (65535 & t) +
                                                    (t >> 16)) &
                                                r);
                                        var i = ((n << 16) + t) & r;
                                        return (
                                            (i /= 4294967296),
                                            (i += 0.5) *
                                                (e.random() > 0.5 ? 1 : -1)
                                        );
                                    };
                                })(4294967296 * (n || e.random()));
                                (n = 987654071 * o()),
                                    r.push((4294967296 * o()) | 0);
                            }
                            return new a.init(r, t);
                        }
                    })),
                    s = (r.enc = {}),
                    l = (s.Hex = {
                        stringify: function(e) {
                            for (
                                var t = e.words, n = e.sigBytes, r = [], i = 0;
                                i < n;
                                i++
                            ) {
                                var o =
                                    (t[i >>> 2] >>> (24 - (i % 4) * 8)) & 255;
                                r.push((o >>> 4).toString(16)),
                                    r.push((15 & o).toString(16));
                            }
                            return r.join("");
                        },
                        parse: function(e) {
                            for (var t = e.length, n = [], r = 0; r < t; r += 2)
                                n[r >>> 3] |=
                                    parseInt(e.substr(r, 2), 16) <<
                                    (24 - (r % 8) * 4);
                            return new a.init(n, t / 2);
                        }
                    }),
                    u = (s.Latin1 = {
                        stringify: function(e) {
                            for (
                                var t = e.words, n = e.sigBytes, r = [], i = 0;
                                i < n;
                                i++
                            ) {
                                var o =
                                    (t[i >>> 2] >>> (24 - (i % 4) * 8)) & 255;
                                r.push(String.fromCharCode(o));
                            }
                            return r.join("");
                        },
                        parse: function(e) {
                            for (var t = e.length, n = [], r = 0; r < t; r++)
                                n[r >>> 2] |=
                                    (255 & e.charCodeAt(r)) <<
                                    (24 - (r % 4) * 8);
                            return new a.init(n, t);
                        }
                    }),
                    c = (s.Utf8 = {
                        stringify: function(e) {
                            try {
                                return decodeURIComponent(
                                    escape(u.stringify(e))
                                );
                            } catch (e) {
                                throw new Error("Malformed UTF-8 data");
                            }
                        },
                        parse: function(e) {
                            return u.parse(unescape(encodeURIComponent(e)));
                        }
                    }),
                    d = (i.BufferedBlockAlgorithm = o.extend({
                        reset: function() {
                            (this._data = new a.init()), (this._nDataBytes = 0);
                        },
                        _append: function(e) {
                            "string" == typeof e && (e = c.parse(e)),
                                this._data.concat(e),
                                (this._nDataBytes += e.sigBytes);
                        },
                        _process: function(t) {
                            var n = this._data,
                                r = n.words,
                                i = n.sigBytes,
                                o = this.blockSize,
                                s = 4 * o,
                                l = i / s;
                            l = t
                                ? e.ceil(l)
                                : e.max((0 | l) - this._minBufferSize, 0);
                            var u = l * o,
                                c = e.min(4 * u, i);
                            if (u) {
                                for (var d = 0; d < u; d += o)
                                    this._doProcessBlock(r, d);
                                var f = r.splice(0, u);
                                n.sigBytes -= c;
                            }
                            return new a.init(f, c);
                        },
                        clone: function() {
                            var e = o.clone.call(this);
                            return (e._data = this._data.clone()), e;
                        },
                        _minBufferSize: 0
                    })),
                    f = ((i.Hasher = d.extend({
                        cfg: o.extend(),
                        init: function(e) {
                            (this.cfg = this.cfg.extend(e)), this.reset();
                        },
                        reset: function() {
                            d.reset.call(this), this._doReset();
                        },
                        update: function(e) {
                            return this._append(e), this._process(), this;
                        },
                        finalize: function(e) {
                            return e && this._append(e), this._doFinalize();
                        },
                        blockSize: 16,
                        _createHelper: function(e) {
                            return function(t, n) {
                                return new e.init(n).finalize(t);
                            };
                        },
                        _createHmacHelper: function(e) {
                            return function(t, n) {
                                return new f.HMAC.init(e, n).finalize(t);
                            };
                        }
                    })),
                    (r.algo = {}));
                return r;
            })(Math);
        return e;
    }),
    define("cryptoJs", ["cryptoJs/core"], function(e) {
        return e;
    }),
    (function(e, t) {
        "object" == typeof exports
            ? (module.exports = exports = t(require("./core")))
            : "function" == typeof define && define.amd
                ? define("cryptoJs/sha1", ["./core"], t)
                : t(e.CryptoJS);
    })(this, function(e) {
        return (
            (function() {
                var t = e,
                    n = t.lib,
                    r = n.WordArray,
                    i = n.Hasher,
                    o = t.algo,
                    a = [],
                    s = (o.SHA1 = i.extend({
                        _doReset: function() {
                            this._hash = new r.init([
                                1732584193,
                                4023233417,
                                2562383102,
                                271733878,
                                3285377520
                            ]);
                        },
                        _doProcessBlock: function(e, t) {
                            for (
                                var n = this._hash.words,
                                    r = n[0],
                                    i = n[1],
                                    o = n[2],
                                    s = n[3],
                                    l = n[4],
                                    u = 0;
                                u < 80;
                                u++
                            ) {
                                if (u < 16) a[u] = 0 | e[t + u];
                                else {
                                    var c =
                                        a[u - 3] ^
                                        a[u - 8] ^
                                        a[u - 14] ^
                                        a[u - 16];
                                    a[u] = (c << 1) | (c >>> 31);
                                }
                                var d = ((r << 5) | (r >>> 27)) + l + a[u];
                                (d +=
                                    u < 20
                                        ? 1518500249 + ((i & o) | (~i & s))
                                        : u < 40
                                            ? 1859775393 + (i ^ o ^ s)
                                            : u < 60
                                                ? ((i & o) |
                                                      (i & s) |
                                                      (o & s)) -
                                                  1894007588
                                                : (i ^ o ^ s) - 899497514),
                                    (l = s),
                                    (s = o),
                                    (o = (i << 30) | (i >>> 2)),
                                    (i = r),
                                    (r = d);
                            }
                            (n[0] = (n[0] + r) | 0),
                                (n[1] = (n[1] + i) | 0),
                                (n[2] = (n[2] + o) | 0),
                                (n[3] = (n[3] + s) | 0),
                                (n[4] = (n[4] + l) | 0);
                        },
                        _doFinalize: function() {
                            var e = this._data,
                                t = e.words,
                                n = 8 * this._nDataBytes,
                                r = 8 * e.sigBytes;
                            return (
                                (t[r >>> 5] |= 128 << (24 - (r % 32))),
                                (t[14 + (((r + 64) >>> 9) << 4)] = Math.floor(
                                    n / 4294967296
                                )),
                                (t[15 + (((r + 64) >>> 9) << 4)] = n),
                                (e.sigBytes = 4 * t.length),
                                this._process(),
                                this._hash
                            );
                        },
                        clone: function() {
                            var e = i.clone.call(this);
                            return (e._hash = this._hash.clone()), e;
                        }
                    }));
                (t.SHA1 = i._createHelper(s)),
                    (t.HmacSHA1 = i._createHmacHelper(s));
            })(),
            e.SHA1
        );
    }),
    define("readium_js/epub-fetch/encryption_handler", [
        "cryptoJs/sha1"
    ], function(e) {
        var t = function(e) {
            function t(e, t) {
                var n = new FileReader();
                (n.onload = function() {
                    var e = this.result;
                    t(new Uint8Array(e));
                }),
                    n.readAsArrayBuffer(e);
            }
            function n(e, n, r, i) {
                t(e.slice(0, n), function(t) {
                    for (var o = r.length, a = 0; a < n; a++)
                        t[a] = t[a] ^ r[a % o];
                    var s = new Blob([t], { type: e.type }),
                        l = e.slice(n),
                        u = new Blob([s, l], { type: e.type });
                    i(u);
                });
            }
            function r(t, r) {
                n(t, 1040, e.uidHash, r);
            }
            function i(e) {
                var t = /(urn:uuid:)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})/i,
                    n = t.exec(e),
                    r = n[2] + n[3] + n[4] + n[5] + n[6];
                (r && 32 == r.length) ||
                    console.error("Bad UUID format for ID :" + e);
                for (var i = [], o = 0; o < 16; o++) {
                    var a = r.substr(2 * o, 2),
                        s = parseInt(a, 16);
                    i.push(s);
                }
                return i;
            }
            function o(t, r) {
                n(t, 1024, i(e.uid), r);
            }
            var a = this,
                s = {
                    "http://www.idpf.org/2008/embedding": r,
                    "http://ns.adobe.com/pdf/enc#RC": o
                };
            (this.isEncryptionSpecified = function() {
                return e && e.encryptions;
            }),
                (this.getEncryptionMethodForRelativePath = function(t) {
                    return a.isEncryptionSpecified()
                        ? e.encryptions[t]
                        : void 0;
                }),
                (this.getDecryptionFunctionForRelativePath = function(e) {
                    var t = a.getEncryptionMethodForRelativePath(e);
                    return t && s[t] ? s[t] : void 0;
                });
        };
        return (
            (t.CreateEncryptionData = function(t, n) {
                for (
                    var r = unescape(encodeURIComponent(t.trim())),
                        i = e(r),
                        o = [],
                        a = 0;
                    a < i.sigBytes;
                    a++
                )
                    o.push((i.words[a >>> 2] >>> (24 - (a % 4) * 8)) & 255);
                var s = { uid: t, uidHash: o, encryptions: void 0 };
                return (
                    $("EncryptedData", n).each(function(e, t) {
                        var n = $("EncryptionMethod", t)
                            .first()
                            .attr("Algorithm");
                        $("CipherReference", t).each(function(e, t) {
                            var r = $(t).attr("URI");
                            console.log(
                                "Encryption/obfuscation algorithm " +
                                    n +
                                    " specified for " +
                                    r
                            ),
                                s.encryptions || (s.encryptions = {}),
                                (s.encryptions[r] = n);
                        });
                    }),
                    s
                );
            }),
            t
        );
    }),
    define("readium_js/epub-fetch/publication_fetcher", [
        "jquery",
        "URIjs",
        "./markup_parser",
        "./plain_resource_fetcher",
        "./zip_resource_fetcher",
        "./content_document_fetcher",
        "./resource_cache",
        "./encryption_handler",
        "./discover_content_type",
        "readium_shared_js/helpers"
    ], function(e, t, n, r, i, o, a, s, l, u) {
        return function(c, d, f, p, h, m) {
            function g() {
                if (c instanceof Blob || c instanceof File) return !1;
                if (
                    I &&
                    (I.indexOf("application/epub+zip") >= 0 ||
                        I.indexOf("application/zip") >= 0 ||
                        I.indexOf("application/octet-stream") >= 0)
                )
                    return !1;
                var e = c;
                try {
                    e = new t(e)
                        .search("")
                        .hash("")
                        .toString();
                } catch (e) {
                    console.error(e), console.log(c);
                }
                return !/\.epub[3?]$/.test(e);
            }
            function v(e, t) {
                e
                    ? (console.log(" --- using PlainResourceFetcher"),
                      (_ = new r(b)),
                      t(_))
                    : (console.log(" --- using ZipResourceFetcher"),
                      (_ = new i(b, d)),
                      t(_));
            }
            var b = this;
            b.contentTypePackageReadStrategyMap = {
                "application/oebps-package+xml": "exploded",
                "application/epub+zip": "zipped",
                "application/zip": "zipped"
            };
            var y,
                _,
                w,
                x,
                E,
                T,
                S,
                C = new a(f, p),
                k = h,
                I = m;
            (this.markupParser = new n()),
                (this.initialize = function(e) {
                    var t = g();
                    (y = !t),
                        console.log(
                            "_shouldConstructDomProgrammatically INIT: " + y
                        ),
                        v(t, function(t) {
                            b.getPackageDom(
                                function() {
                                    e(t);
                                },
                                function(t) {
                                    console.error(
                                        "unable to find package document: " + t
                                    ),
                                        e(void 0);
                                }
                            );
                        });
                }),
                (this.shouldConstructDomProgrammatically = function() {
                    return y;
                }),
                (this.shouldFetchMediaAssetsProgrammatically = function() {
                    return y && !g();
                }),
                (this.getEbookURL = function() {
                    return c;
                }),
                (this.getEbookURL_FilePath = function() {
                    return u.getEbookUrlFilePath(c);
                }),
                (this.getJsLibRoot = function() {
                    return d;
                }),
                (this.flushCache = function() {
                    C.flushCache();
                }),
                (this.getPackageUrl = function() {
                    return E;
                }),
                (this.getPackageFullPathRelativeToBase = function() {
                    return x;
                }),
                (this.fetchContentDocument = function(e, t, n, r) {
                    C.unPinResources(),
                        new o(
                            b,
                            e.spineItem,
                            t,
                            C,
                            k
                        ).fetchContentDocumentAndResolveDom(n, r);
                }),
                (this.getFileContentsFromPackage = function(e, t, n) {
                    x
                        ? b.relativeToPackageFetchFileContents(
                              e,
                              "text",
                              function(e) {
                                  t(e);
                              },
                              n
                          )
                        : (console.debug("FETCHING (INIT) ... " + e),
                          e && "/" == e.charAt(0) && (e = e.substr(1)),
                          _.fetchFileContentsText(
                              e,
                              function(e) {
                                  t(e);
                              },
                              n
                          ));
                }),
                (this.getXmlFileDom = function(e, t, n) {
                    b.getFileContentsFromPackage(
                        e,
                        function(e) {
                            var n = b.markupParser.parseXml(e);
                            t(n);
                        },
                        n
                    );
                }),
                (this.getPackageFullPath = function(e, t) {
                    b.getXmlFileDom(
                        "/META-INF/container.xml",
                        function(t) {
                            var n = b.getRootFile(t);
                            e(n);
                        },
                        t
                    );
                }),
                (this.getRootFile = function(t) {
                    return e("rootfile", t).attr("full-path");
                }),
                (this.getPackageDom = function(t, n) {
                    T
                        ? t(T)
                        : S
                            ? S.done(t)
                            : ((S = e.Deferred()),
                              S.done(t),
                              b.getPackageFullPath(function(e) {
                                  (x = e),
                                      (E = _.resolveURI(x)),
                                      console.debug("PACKAGE: "),
                                      console.log(x),
                                      console.log(E),
                                      e && "/" != e.charAt(0) && (e = "/" + e),
                                      b.getXmlFileDom(e, function(e) {
                                          (T = e), S.resolve(e), (S = void 0);
                                      });
                              }, n));
                }),
                (this.convertPathRelativeToPackageToRelativeToBase = function(
                    e
                ) {
                    return new t(e).absoluteTo(x).toString();
                }),
                (this.relativeToPackageFetchFileContents = function(
                    n,
                    r,
                    i,
                    o
                ) {
                    var a = decodeURIComponent(
                        b.convertPathRelativeToPackageToRelativeToBase(n)
                    );
                    console.debug("FETCHING ... " + a),
                        "/" === a.charAt(0) && (a = a.substr(1));
                    var s = function() {
                        var e = arguments
                                ? arguments.length &&
                                  arguments[0] instanceof Error
                                    ? arguments[0]
                                    : arguments instanceof Error
                                        ? arguments
                                        : void 0
                                : void 0,
                            t =
                                0 ==
                                    a.indexOf(
                                        "META-INF/com.apple.ibooks.display-options.xml"
                                    ) ||
                                0 == a.indexOf("META-INF/encryption.xml");
                        console.log("MISSING: " + a),
                            t ||
                                (e &&
                                    (console.error(e),
                                    e.message && console.debug(e.message),
                                    e.stack && console.log(e.stack))),
                            o && o.apply(this, arguments);
                    };
                    if (y && "" !== new t(n).scheme())
                        if (
                            (console.log(
                                "shouldConstructDomProgrammatically EXTERNAL RESOURCE ..."
                            ),
                            "blob" === r)
                        ) {
                            var u = new XMLHttpRequest();
                            u.open("GET", n, !0),
                                (u.responseType = "arraybuffer"),
                                (u.onerror = s),
                                (u.onload = function(e) {
                                    var t = new Blob([u.response], {
                                        type: l.identifyContentTypeFromFileName(
                                            n
                                        )
                                    });
                                    i(t);
                                }),
                                u.send();
                        } else
                            "data64uri" === r
                                ? console.error("data64uri??")
                                : e.ajax({
                                      isLocal: !1,
                                      url: n,
                                      dataType: "text",
                                      async: !0,
                                      success: function(e) {
                                          i(e);
                                      },
                                      error: function(e, t, n) {
                                          s(new Error(n));
                                      }
                                  });
                    else {
                        var c = _.fetchFileContentsText;
                        "blob" === r
                            ? (c = _.fetchFileContentsBlob)
                            : "data64uri" === r &&
                              (console.error("data64uri??"),
                              (c = _.fetchFileContentsData64Uri)),
                            c.call(_, a, i, s);
                    }
                }),
                (this.getRelativeXmlFileDom = function(e, t, n) {
                    b.getXmlFileDom(
                        b.convertPathRelativeToPackageToRelativeToBase(e),
                        t,
                        n
                    );
                }),
                (this.setPackageMetadata = function(e, t) {
                    b.getXmlFileDom(
                        "/META-INF/encryption.xml",
                        function(n) {
                            var r = s.CreateEncryptionData(e.id, n);
                            (w = new s(r)),
                                w.isEncryptionSpecified() &&
                                    ((y = !0),
                                    console.log(
                                        "_shouldConstructDomProgrammatically ENCRYPTION ACTIVE: " +
                                            y
                                    )),
                                t();
                        },
                        function(e) {
                            (w = new s(void 0)), t();
                        }
                    );
                }),
                (this.getDecryptionFunctionForRelativePath = function(e) {
                    return w.getDecryptionFunctionForRelativePath(e);
                });
        };
    }),
    define("readium_js/epub-model/package_document", [
        "jquery",
        "underscore",
        "URIjs",
        "readium_cfi_js"
    ], function(e, t, n, r) {
        return function(t, i, o, a, s, l) {
            function u(t) {
                var n = e("<ol></ol>");
                return (
                    e.each(t.children("navPoint"), function(t, r) {
                        c(e(r), n);
                    }),
                    n
                );
            }
            function c(t, n) {
                var r = t
                        .children("navLabel")
                        .text()
                        .trim(),
                    i = t.children("content").attr("src"),
                    o = e('<li class="nav-elem"></li>').append(
                        e("<a></a>", { href: i, text: r })
                    );
                if ((n.append(o), t.children("navPoint").length > 0)) {
                    var a = e("<li></li>"),
                        s = e("<ol></ol>");
                    e.each(t.children("navPoint"), function(t, n) {
                        s.append(c(e(n), s));
                    }),
                        a.append(s),
                        n.append(a);
                }
            }
            var d;
            (this.manifest = l),
                (this.getSharedJsPackageData = function() {
                    return {
                        rootUrl: t.substr(0, t.lastIndexOf("/")),
                        rendition_viewport: a.rendition_viewport,
                        rendition_layout: a.rendition_layout,
                        rendition_orientation: a.rendition_orientation,
                        rendition_flow: a.rendition_flow,
                        rendition_spread: a.rendition_spread,
                        media_overlay: a.media_overlay,
                        spine: {
                            direction: this.getPageProgressionDirection(),
                            items: s
                        },
                        metadata: a
                    };
                }),
                (this.getSpineItem = function(e) {
                    return s[e];
                }),
                (this.getSpineItemIdrefFromCFI = function(e) {
                    var t = r.getTargetElementWithPartialCFI(
                        "epubcfi(" + e + ")",
                        i
                    );
                    if (t.length) return t[0].getAttribute("idref");
                }),
                (this.setPageProgressionDirection = function(e) {
                    d = e;
                }),
                (this.getPageProgressionDirection = function() {
                    return "rtl" === d
                        ? "rtl"
                        : "default" === d
                            ? "default"
                            : "ltr";
                }),
                (this.spineLength = function() {
                    return s.length;
                }),
                (this.getMetadata = function() {
                    return a;
                }),
                (this.getTocItem = function() {
                    var e = l.getNavItem();
                    if (e) return e;
                    var t = a.ncx;
                    return t && t.length > 0
                        ? l.getManifestItemByIdref(t)
                        : null;
                }),
                (this.getToc = function() {
                    var e = this.getTocItem();
                    return e ? e.href : null;
                }),
                (this.getTocText = function(e) {
                    var t = this.getToc();
                    if (!t) return console.error("No TOC?!"), void e(void 0);
                    o.relativeToPackageFetchFileContents(
                        t,
                        "text",
                        function(t) {
                            e(t);
                        },
                        function(n) {
                            console.error(
                                "ERROR fetching TOC from [" + t + "]:"
                            ),
                                console.error(n),
                                e(void 0);
                        }
                    );
                }),
                (this.getTocDom = function(e) {
                    this.getTocText(function(t) {
                        if ("string" == typeof t) {
                            var n = new DOMParser().parseFromString(
                                t,
                                "text/xml"
                            );
                            e(n);
                        } else e(void 0);
                    });
                }),
                (this.generateTocListDOM = function(r) {
                    var i = this;
                    this.getTocDom(function(o) {
                        if (o)
                            if (i.tocIsNcx()) {
                                var a;
                                (a = u(e("navMap", o))), r(a[0]);
                            } else {
                                var s = new n(t).absoluteTo(document.URL),
                                    l = new n(i.getToc()).absoluteTo(s),
                                    c = (e(o).remove("base"),
                                    e("<base></base>"));
                                e(c).attr("href", l),
                                    e(o)
                                        .find("head")
                                        .append(c),
                                    r(o);
                            }
                        else r(void 0);
                    });
                }),
                (this.tocIsNcx = function() {
                    var e = this.getTocItem(),
                        t = e.href;
                    return (
                        "ncx" ===
                        t
                            .substr(t.lastIndexOf(".") + 1)
                            .trim()
                            .toLowerCase()
                    );
                });
        };
    }),
    define("readium_js/epub-model/smil_document_parser", [
        "jquery",
        "underscore"
    ], function(e, t) {
        var n = function(t, r) {
            function i(e) {
                return {
                    id: "",
                    href: "",
                    spineItemId: e.idref,
                    children: [
                        {
                            nodeType: "seq",
                            textref: e.href,
                            children: [
                                {
                                    nodeType: "par",
                                    children: [
                                        {
                                            nodeType: "text",
                                            src: e.href,
                                            srcFile: e.href,
                                            srcFragmentId: ""
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                };
            }
            this.parse = function(n, i, o, a, s, l) {
                var u = this,
                    c = r.convertPathRelativeToPackageToRelativeToBase(i.href);
                "/" != c.charAt(0) && (c = "/" + c),
                    r.getXmlFileDom(
                        c,
                        function(r) {
                            var l = e("smil", r)[0];
                            (o.smilVersion = l.getAttribute("version")),
                                (o.children = u.getChildren(l)),
                                (o.href = i.href),
                                (o.id = i.id),
                                (o.spineItemId = n.idref);
                            var c = t
                                .getMetadata()
                                .getMediaItemByRefinesId(i.id);
                            c && (o.duration = c.duration), s(a, o);
                        },
                        function(e) {
                            l(a, e);
                        }
                    );
            };
            var o = function(e, t, n, r, i) {
                var o = e.split(":"),
                    a = o[o.length - 1];
                "type" === a && (a = "epubtype"),
                    void 0 != t.getAttribute(e)
                        ? (n[a] = t.getAttribute(e))
                        : r &&
                          (void 0 !== i
                              ? (n[a] = i)
                              : console.log(
                                    "Required property " +
                                        e +
                                        " not found in smil node " +
                                        t.nodeName
                                ));
            };
            (this.getChildren = function(t) {
                var n = this,
                    r = [];
                return (
                    e.each(t.childNodes, function(e, t) {
                        if (1 === t.nodeType) {
                            var i = n.createItemFromElement(t);
                            i && r.push(i);
                        }
                    }),
                    r
                );
            }),
                (this.createItemFromElement = function(e) {
                    var t = this,
                        r = {};
                    r.nodeType = e.nodeName;
                    var i = !1;
                    if (
                        ("body" === r.nodeType &&
                            ((i = !0), (r.nodeType = "seq")),
                        "seq" === r.nodeType)
                    )
                        o("epub:textref", e, r, !i),
                            o("id", e, r),
                            o("epub:type", e, r),
                            (r.children = t.getChildren(e));
                    else if ("par" === r.nodeType)
                        o("id", e, r),
                            o("epub:type", e, r),
                            (r.children = t.getChildren(e));
                    else if ("text" === r.nodeType) {
                        o("src", e, r, !0);
                        var a = r.src.split("#");
                        (r.srcFile = a[0]),
                            (r.srcFragmentId = 2 === a.length ? a[1] : ""),
                            o("id", e, r);
                    } else {
                        if ("audio" !== r.nodeType) return;
                        o("src", e, r, !0),
                            o("id", e, r),
                            (r.clipBegin = n.resolveClockValue(
                                e.getAttribute("clipBegin")
                            )),
                            (r.clipEnd = n.resolveClockValue(
                                e.getAttribute("clipEnd")
                            ));
                    }
                    return r;
                }),
                (this.fillSmilData = function(n) {
                    var r = this;
                    if (t.spineLength() <= 0) return void n();
                    for (
                        var o = !0, a = [], s = [], l = 0;
                        l < t.spineLength();
                        l++
                    ) {
                        var u = t.getSpineItem(l);
                        if (u.media_overlay_id) {
                            var c = t.manifest.getManifestItemByIdref(
                                u.media_overlay_id
                            );
                            if (!c) {
                                console.error(
                                    "Cannot find SMIL manifest item for spine/manifest item?! " +
                                        u.media_overlay_id
                                );
                                continue;
                            }
                            var d = e.Deferred();
                            (d.media_overlay_id = u.media_overlay_id),
                                s.push(d);
                            var f = {};
                            a.push(f),
                                r.parse(
                                    u,
                                    c,
                                    f,
                                    d,
                                    function(e, t) {
                                        (o = !1), e.resolve();
                                    },
                                    function(e, t) {
                                        console.log(
                                            "Error when parsing SMIL manifest item " +
                                                c.href +
                                                ":"
                                        ),
                                            console.log(t),
                                            e.resolve();
                                    }
                                );
                        } else a.push(i(u));
                    }
                    e.when.apply(e, s).done(function() {
                        t.getMetadata().setMoMap(a),
                            o && t.getMetadata().setMoMap([]),
                            n();
                    });
                });
        };
        return (
            (n.resolveClockValue = function(e) {
                if (!e) return 0;
                var t = 0,
                    n = 0,
                    r = 0;
                if (-1 != e.indexOf("min"))
                    n = parseFloat(e.substr(0, e.indexOf("min")));
                else if (-1 != e.indexOf("ms")) {
                    var i = parseFloat(e.substr(0, e.indexOf("ms")));
                    r = i / 1e3;
                } else if (-1 != e.indexOf("s"))
                    r = parseFloat(e.substr(0, e.indexOf("s")));
                else if (-1 != e.indexOf("h"))
                    t = parseFloat(e.substr(0, e.indexOf("h")));
                else {
                    var o = e.split(":");
                    (r = parseFloat(o.pop())),
                        o.length > 0 &&
                            ((n = parseFloat(o.pop())),
                            o.length > 0 && (t = parseFloat(o.pop())));
                }
                return 3600 * t + 60 * n + r;
            }),
            n
        );
    }),
    define("readium_js/epub-model/metadata", ["underscore"], function(e) {
        return function() {
            var t = this,
                n = {};
            (this.eachMediaItem = function(n) {
                return t.mediaItems && e.each(t.mediaItems, n), this;
            }),
                (this.getMediaItemByRefinesId = function(e) {
                    return n[e];
                }),
                (this.setMoMap = function(e) {
                    t.media_overlay.smil_models = e;
                }),
                this.eachMediaItem(function(e) {
                    var t = e.refines,
                        r = t.indexOf("#");
                    if (r >= 0) {
                        var i = r + 1,
                            o = t.length - 1;
                        t = t.substr(i, o);
                    }
                    (t = t.trim()), (n[t] = e);
                });
        };
    }),
    define("readium_js/epub-model/manifest", ["underscore"], function(e) {
        return function(t) {
            var n,
                r = {};
            (this.manifestLength = function() {
                return t.length;
            }),
                (this.getManifestItemByIdref = function(e) {
                    return r[e];
                }),
                (this.each = function(n) {
                    return e.each(t, n), this;
                }),
                (this.getNavItem = function() {
                    return n;
                }),
                this.each(function(e) {
                    (r[e.id] = e),
                        e.properties &&
                            -1 !== e.properties.indexOf("nav") &&
                            (n = e);
                });
        };
    }),
    define("readium_js/epub-model/package_document_parser", [
        "jquery",
        "underscore",
        "../epub-fetch/markup_parser",
        "URIjs",
        "./package_document",
        "./smil_document_parser",
        "./metadata",
        "./manifest",
        "readium_cfi_js"
    ], function(e, t, n, r, i, o, a, s, l) {
        return function(r) {
            function u(e, t) {
                new o(e, r).fillSmilData(function() {
                    t(e);
                });
            }
            function c(t) {
                var i = e.Deferred();
                if (t.rendition_layout) i.resolve();
                else {
                    r.relativeToPackageFetchFileContents(
                        "/META-INF/com.apple.ibooks.display-options.xml",
                        "text",
                        function(r) {
                            if (r) {
                                var o = new n(),
                                    a = o.parseXml(r),
                                    s = e("option[name=fixed-layout]", a)[0];
                                if (s) {
                                    "true" === e(s).text() &&
                                        ((t.rendition_layout = "pre-paginated"),
                                        console.log(
                                            "using com.apple.ibooks.display-options.xml fixed-layout property"
                                        ));
                                }
                            }
                            i.resolve();
                        },
                        function(e) {
                            i.resolve();
                        }
                    );
                }
                return i.promise();
            }
            function d(n, r, i) {
                var o,
                    a = [];
                return (
                    (o = e(f(n, "spine")).children()),
                    e.each(o, function(o, s) {
                        var u = e(s),
                            c = u.attr("idref") ? u.attr("idref") : "",
                            d = r.getManifestItemByIdref(c),
                            f = u.attr("id"),
                            p = void 0;
                        t.each(i.rendition_viewports, function(e) {
                            if (e.refines == f) return (p = e.viewport), !0;
                        });
                        var h = {
                                rendition_viewport: p,
                                idref: c,
                                href: d.href,
                                manifest_id: d.id,
                                media_type: d.media_type,
                                media_overlay_id: d.media_overlay_id,
                                linear: u.attr("linear")
                                    ? u.attr("linear")
                                    : "",
                                properties: u.attr("properties")
                                    ? u.attr("properties")
                                    : "",
                                cfi: l.generatePackageDocumentCFIComponentWithSpineIndex(
                                    o,
                                    n
                                )
                            },
                            m = w(h.properties);
                        e.extend(h, m), a.push(h);
                    }),
                    a
                );
            }
            function f(e, n, r) {
                var i = e.getElementsByTagNameNS("*", n);
                return r ? t.find(i, r) : i[0];
            }
            function p(e, n, r) {
                var i = e.getElementsByTagNameNS("*", n);
                return t.filter(i, r);
            }
            function h(e, t, n) {
                var r = f(e, t, n);
                return r ? r.textContent : "";
            }
            function m(e, t, n, r) {
                var i = f(e, t, r);
                return i ? i.getAttribute(n) : "";
            }
            function g(e, t) {
                var n = f(e, "meta", function(e) {
                    return e.getAttribute("property") === t;
                });
                return n ? n.textContent : "";
            }
            function v(e) {
                var n = new a(),
                    r = f(e, "metadata"),
                    i = f(e, "package"),
                    s = f(e, "spine");
                (n.author = h(r, "creator")),
                    (n.description = h(r, "description")),
                    (n.epub_version = i.getAttribute("version")
                        ? i.getAttribute("version")
                        : ""),
                    (n.id = h(r, "identifier")),
                    (n.language = h(r, "language")),
                    (n.modified_date = g(r, "dcterms:modified")),
                    (n.ncx = s.getAttribute("toc")
                        ? s.getAttribute("toc")
                        : ""),
                    (n.pubdate = h(r, "date")),
                    (n.publisher = h(r, "publisher")),
                    (n.rights = h(r, "rights")),
                    (n.title = h(r, "title")),
                    (n.rendition_orientation = g(r, "rendition:orientation")),
                    (n.rendition_layout = g(r, "rendition:layout")),
                    (n.rendition_spread = g(r, "rendition:spread")),
                    (n.rendition_flow = g(r, "rendition:flow")),
                    (n.rendition_viewport = h(r, "meta", function(e) {
                        return (
                            "rendition:viewport" ===
                                e.getAttribute("property") &&
                            !e.hasAttribute("refines")
                        );
                    }));
                var l = [],
                    u = p(r, "meta", function(e) {
                        return (
                            "rendition:viewport" ===
                                e.getAttribute("property") &&
                            e.hasAttribute("refines")
                        );
                    });
                t.each(u, function(e) {
                    var t = e.getAttribute("refines");
                    if (t) {
                        var n = t.indexOf("#");
                        if (n >= 0) {
                            var r = n + 1,
                                i = t.length - 1;
                            t = t.substr(r, i);
                        }
                        t = t.trim();
                    }
                    var o = { refines: t, viewport: e.textContent };
                    l.push(o);
                }),
                    (n.rendition_viewports = l),
                    (n.mediaItems = []);
                var c = p(r, "meta", function(e) {
                    return (
                        "media:duration" === e.getAttribute("property") &&
                        e.hasAttribute("refines")
                    );
                });
                return (
                    t.each(c, function(e) {
                        n.mediaItems.push({
                            refines: e.getAttribute("refines"),
                            duration: o.resolveClockValue(e.textContent)
                        });
                    }),
                    (n.media_overlay = {
                        duration: o.resolveClockValue(
                            h(r, "meta", function(e) {
                                return (
                                    "media:duration" ===
                                        e.getAttribute("property") &&
                                    !e.hasAttribute("refines")
                                );
                            })
                        ),
                        narrator: g(r, "media:narrator"),
                        activeClass: g(r, "media:active-class"),
                        playbackActiveClass: g(
                            r,
                            "media:playback-active-class"
                        ),
                        smil_models: [],
                        skippables: [
                            "sidebar",
                            "practice",
                            "marginalia",
                            "annotation",
                            "help",
                            "note",
                            "footnote",
                            "rearnote",
                            "table",
                            "table-row",
                            "table-cell",
                            "list",
                            "list-item",
                            "pagebreak"
                        ],
                        escapables: [
                            "sidebar",
                            "bibliography",
                            "toc",
                            "loi",
                            "appendix",
                            "landmarks",
                            "lot",
                            "index",
                            "colophon",
                            "epigraph",
                            "conclusion",
                            "afterword",
                            "warning",
                            "epilogue",
                            "foreword",
                            "introduction",
                            "prologue",
                            "preface",
                            "preamble",
                            "notice",
                            "errata",
                            "copyright-page",
                            "acknowledgments",
                            "other-credits",
                            "titlepage",
                            "imprimatur",
                            "contributors",
                            "halftitlepage",
                            "dedication",
                            "help",
                            "annotation",
                            "marginalia",
                            "practice",
                            "note",
                            "footnote",
                            "rearnote",
                            "footnotes",
                            "rearnotes",
                            "bridgehead",
                            "page-list",
                            "table",
                            "table-row",
                            "table-cell",
                            "list",
                            "list-item",
                            "glossary"
                        ]
                    }),
                    n
                );
            }
            function b(t) {
                var n = e(f(t, "manifest")).children(),
                    r = [];
                return (
                    e.each(n, function(t, n) {
                        var i = e(n),
                            o = i.attr("href") ? i.attr("href") : "",
                            a = {
                                href: o,
                                id: i.attr("id") ? i.attr("id") : "",
                                media_overlay_id: i.attr("media-overlay")
                                    ? i.attr("media-overlay")
                                    : "",
                                media_type: i.attr("media-type")
                                    ? i.attr("media-type")
                                    : "",
                                properties: i.attr("properties")
                                    ? i.attr("properties")
                                    : ""
                            };
                        r.push(a);
                    }),
                    r
                );
            }
            function y(t) {
                var n = e(f(t, "bindings")).children(),
                    r = [];
                return (
                    e.each(n, function(t, n) {
                        var i = e(n),
                            o = {
                                handler: i.attr("handler")
                                    ? i.attr("handler")
                                    : "",
                                media_type: i.attr("media-type")
                                    ? i.attr("media-type")
                                    : ""
                            };
                        r.push(o);
                    }),
                    r
                );
            }
            function _(n) {
                var r, i;
                if (
                    ((r = f(n, "manifest")),
                    (i = e(
                        f(r, "item", function(e) {
                            var n = e.getAttribute("properties");
                            return n && t.contains(n.split(" "), "cover-image");
                        })
                    )),
                    1 === i.length && i.attr("href"))
                )
                    return i.attr("href");
                var o = e(
                        f(n, "meta", function(e) {
                            return "cover" === e.getAttribute("name");
                        })
                    ),
                    a = o.attr("content");
                return 1 === o.length &&
                    a &&
                    ((i = e(
                        f(r, "item", function(e) {
                            return e.getAttribute("id") === a;
                        })
                    )),
                    1 === i.length && i.attr("href"))
                    ? i.attr("href")
                    : ((i = e(
                          f(r, "item", function(e) {
                              return "cover" === e.getAttribute("id");
                          })
                      )),
                      1 === i.length && i.attr("href") ? i.attr("href") : null);
            }
            function w(e) {
                for (var t = {}, n = e.split(" "), r = 0; r < n.length; r++)
                    "rendition:orientation-landscape" === n[r] &&
                        (t.rendition_orientation = "landscape"),
                        "rendition:orientation-portrait" === n[r] &&
                            (t.rendition_orientation = "portrait"),
                        "rendition:orientation-auto" === n[r] &&
                            (t.rendition_orientation = "auto"),
                        "rendition:spread-none" === n[r] &&
                            (t.rendition_spread = "none"),
                        "rendition:spread-landscape" === n[r] &&
                            (t.rendition_spread = "landscape"),
                        "rendition:spread-portrait" === n[r] &&
                            (t.rendition_spread = "portrait"),
                        "rendition:spread-both" === n[r] &&
                            (t.rendition_spread = "both"),
                        "rendition:spread-auto" === n[r] &&
                            (t.rendition_spread = "auto"),
                        "rendition:flow-paginated" === n[r] &&
                            (t.rendition_flow = "paginated"),
                        "rendition:flow-scrolled-continuous" === n[r] &&
                            (t.rendition_flow = "scrolled-continuous"),
                        "rendition:flow-scrolled-doc" === n[r] &&
                            (t.rendition_flow = "scrolled-doc"),
                        "rendition:flow-auto" === n[r] &&
                            (t.rendition_flow = "auto"),
                        "rendition:page-spread-center" === n[r] &&
                            (t.page_spread = "page-spread-center"),
                        "page-spread-left" === n[r] &&
                            (t.page_spread = "page-spread-left"),
                        "page-spread-right" === n[r] &&
                            (t.page_spread = "page-spread-right"),
                        "rendition:layout-reflowable" === n[r] &&
                            ((t.fixed_flow = !1),
                            (t.rendition_layout = "reflowable")),
                        "rendition:layout-pre-paginated" === n[r] &&
                            ((t.fixed_flow = !0),
                            (t.rendition_layout = "pre-paginated"));
                return t;
            }
            var x,
                E = r,
                T = e.Deferred();
            r.getPackageDom(
                function(e) {
                    (x = e), T.resolve(e);
                },
                function() {
                    T.resolve(void 0);
                }
            ),
                (this.parse = function(t) {
                    T.done(function(n) {
                        if (!n) return void t(void 0);
                        var o = v(n),
                            a = (n.getElementsByTagNameNS("*", "spine")[0],
                            m(n, "spine", "page-progression-direction")),
                            l = (y(n), new s(b(n))),
                            f = d(n, l, o),
                            p = _(n);
                        p && (o.cover_href = p),
                            e.when(c(o)).then(function() {
                                E.setPackageMetadata(o, function() {
                                    var e = new i(
                                        r.getPackageUrl(),
                                        n,
                                        r,
                                        o,
                                        f,
                                        l
                                    );
                                    e.setPageProgressionDirection(a), u(e, t);
                                });
                            });
                    });
                });
        };
    }),
    (function(e, t, n) {
        "undefined" != typeof module && module.exports
            ? (module.exports = n())
            : "function" == typeof define && define.amd
                ? define("bowser", n)
                : (e.bowser = n());
    })(this, 0, function() {
        function e(e) {
            function t(t) {
                var n = e.match(t);
                return (n && n.length > 1 && n[1]) || "";
            }
            function n(t) {
                var n = e.match(t);
                return (n && n.length > 1 && n[2]) || "";
            }
            var i,
                o = t(/(ipod|iphone|ipad)/i).toLowerCase(),
                s = /like android/i.test(e),
                l = !s && /android/i.test(e),
                u = /nexus\s*[0-6]\s*/i.test(e),
                c = !u && /nexus\s*[0-9]+/i.test(e),
                d = /CrOS/.test(e),
                f = /silk/i.test(e),
                p = /sailfish/i.test(e),
                h = /tizen/i.test(e),
                m = /(web|hpw)(o|0)s/i.test(e),
                g = /windows phone/i.test(e),
                v = (/SamsungBrowser/i.test(e), !g && /windows/i.test(e)),
                b = !o && !f && /macintosh/i.test(e),
                y = !l && !p && !h && !m && /linux/i.test(e),
                _ = n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),
                w = t(/version\/(\d+(\.\d+)?)/i),
                x = /tablet/i.test(e) && !/tablet pc/i.test(e),
                E = !x && /[^-]mobi/i.test(e),
                T = /xbox/i.test(e);
            /opera/i.test(e)
                ? (i = {
                      name: "Opera",
                      opera: a,
                      version: w || t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)
                  })
                : /opr\/|opios/i.test(e)
                    ? (i = {
                          name: "Opera",
                          opera: a,
                          version: t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i) || w
                      })
                    : /SamsungBrowser/i.test(e)
                        ? (i = {
                              name: "Samsung Internet for Android",
                              samsungBrowser: a,
                              version:
                                  w ||
                                  t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)
                          })
                        : /Whale/i.test(e)
                            ? (i = {
                                  name: "NAVER Whale browser",
                                  whale: a,
                                  version: t(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)
                              })
                            : /MZBrowser/i.test(e)
                                ? (i = {
                                      name: "MZ Browser",
                                      mzbrowser: a,
                                      version: t(
                                          /(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i
                                      )
                                  })
                                : /coast/i.test(e)
                                    ? (i = {
                                          name: "Opera Coast",
                                          coast: a,
                                          version:
                                              w ||
                                              t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)
                                      })
                                    : /focus/i.test(e)
                                        ? (i = {
                                              name: "Focus",
                                              focus: a,
                                              version: t(
                                                  /(?:focus)[\s\/](\d+(?:\.\d+)+)/i
                                              )
                                          })
                                        : /yabrowser/i.test(e)
                                            ? (i = {
                                                  name: "Yandex Browser",
                                                  yandexbrowser: a,
                                                  version:
                                                      w ||
                                                      t(
                                                          /(?:yabrowser)[\s\/](\d+(\.\d+)?)/i
                                                      )
                                              })
                                            : /ucbrowser/i.test(e)
                                                ? (i = {
                                                      name: "UC Browser",
                                                      ucbrowser: a,
                                                      version: t(
                                                          /(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i
                                                      )
                                                  })
                                                : /mxios/i.test(e)
                                                    ? (i = {
                                                          name: "Maxthon",
                                                          maxthon: a,
                                                          version: t(
                                                              /(?:mxios)[\s\/](\d+(?:\.\d+)+)/i
                                                          )
                                                      })
                                                    : /epiphany/i.test(e)
                                                        ? (i = {
                                                              name: "Epiphany",
                                                              epiphany: a,
                                                              version: t(
                                                                  /(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i
                                                              )
                                                          })
                                                        : /puffin/i.test(e)
                                                            ? (i = {
                                                                  name:
                                                                      "Puffin",
                                                                  puffin: a,
                                                                  version: t(
                                                                      /(?:puffin)[\s\/](\d+(?:\.\d+)?)/i
                                                                  )
                                                              })
                                                            : /sleipnir/i.test(
                                                                  e
                                                              )
                                                                ? (i = {
                                                                      name:
                                                                          "Sleipnir",
                                                                      sleipnir: a,
                                                                      version: t(
                                                                          /(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i
                                                                      )
                                                                  })
                                                                : /k-meleon/i.test(
                                                                      e
                                                                  )
                                                                    ? (i = {
                                                                          name:
                                                                              "K-Meleon",
                                                                          kMeleon: a,
                                                                          version: t(
                                                                              /(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i
                                                                          )
                                                                      })
                                                                    : g
                                                                        ? ((i = {
                                                                              name:
                                                                                  "Windows Phone",
                                                                              osname:
                                                                                  "Windows Phone",
                                                                              windowsphone: a
                                                                          }),
                                                                          _
                                                                              ? ((i.msedge = a),
                                                                                (i.version = _))
                                                                              : ((i.msie = a),
                                                                                (i.version = t(
                                                                                    /iemobile\/(\d+(\.\d+)?)/i
                                                                                ))))
                                                                        : /msie|trident/i.test(
                                                                              e
                                                                          )
                                                                            ? (i = {
                                                                                  name:
                                                                                      "Internet Explorer",
                                                                                  msie: a,
                                                                                  version: t(
                                                                                      /(?:msie |rv:)(\d+(\.\d+)?)/i
                                                                                  )
                                                                              })
                                                                            : d
                                                                                ? (i = {
                                                                                      name:
                                                                                          "Chrome",
                                                                                      osname:
                                                                                          "Chrome OS",
                                                                                      chromeos: a,
                                                                                      chromeBook: a,
                                                                                      chrome: a,
                                                                                      version: t(
                                                                                          /(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i
                                                                                      )
                                                                                  })
                                                                                : /edg([ea]|ios)/i.test(
                                                                                      e
                                                                                  )
                                                                                    ? (i = {
                                                                                          name:
                                                                                              "Microsoft Edge",
                                                                                          msedge: a,
                                                                                          version: _
                                                                                      })
                                                                                    : /vivaldi/i.test(
                                                                                          e
                                                                                      )
                                                                                        ? (i = {
                                                                                              name:
                                                                                                  "Vivaldi",
                                                                                              vivaldi: a,
                                                                                              version:
                                                                                                  t(
                                                                                                      /vivaldi\/(\d+(\.\d+)?)/i
                                                                                                  ) ||
                                                                                                  w
                                                                                          })
                                                                                        : p
                                                                                            ? (i = {
                                                                                                  name:
                                                                                                      "Sailfish",
                                                                                                  osname:
                                                                                                      "Sailfish OS",
                                                                                                  sailfish: a,
                                                                                                  version: t(
                                                                                                      /sailfish\s?browser\/(\d+(\.\d+)?)/i
                                                                                                  )
                                                                                              })
                                                                                            : /seamonkey\//i.test(
                                                                                                  e
                                                                                              )
                                                                                                ? (i = {
                                                                                                      name:
                                                                                                          "SeaMonkey",
                                                                                                      seamonkey: a,
                                                                                                      version: t(
                                                                                                          /seamonkey\/(\d+(\.\d+)?)/i
                                                                                                      )
                                                                                                  })
                                                                                                : /firefox|iceweasel|fxios/i.test(
                                                                                                      e
                                                                                                  )
                                                                                                    ? ((i = {
                                                                                                          name:
                                                                                                              "Firefox",
                                                                                                          firefox: a,
                                                                                                          version: t(
                                                                                                              /(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i
                                                                                                          )
                                                                                                      }),
                                                                                                      /\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(
                                                                                                          e
                                                                                                      ) &&
                                                                                                          ((i.firefoxos = a),
                                                                                                          (i.osname =
                                                                                                              "Firefox OS")))
                                                                                                    : f
                                                                                                        ? (i = {
                                                                                                              name:
                                                                                                                  "Amazon Silk",
                                                                                                              silk: a,
                                                                                                              version: t(
                                                                                                                  /silk\/(\d+(\.\d+)?)/i
                                                                                                              )
                                                                                                          })
                                                                                                        : /phantom/i.test(
                                                                                                              e
                                                                                                          )
                                                                                                            ? (i = {
                                                                                                                  name:
                                                                                                                      "PhantomJS",
                                                                                                                  phantom: a,
                                                                                                                  version: t(
                                                                                                                      /phantomjs\/(\d+(\.\d+)?)/i
                                                                                                                  )
                                                                                                              })
                                                                                                            : /slimerjs/i.test(
                                                                                                                  e
                                                                                                              )
                                                                                                                ? (i = {
                                                                                                                      name:
                                                                                                                          "SlimerJS",
                                                                                                                      slimer: a,
                                                                                                                      version: t(
                                                                                                                          /slimerjs\/(\d+(\.\d+)?)/i
                                                                                                                      )
                                                                                                                  })
                                                                                                                : /blackberry|\bbb\d+/i.test(
                                                                                                                      e
                                                                                                                  ) ||
                                                                                                                  /rim\stablet/i.test(
                                                                                                                      e
                                                                                                                  )
                                                                                                                    ? (i = {
                                                                                                                          name:
                                                                                                                              "BlackBerry",
                                                                                                                          osname:
                                                                                                                              "BlackBerry OS",
                                                                                                                          blackberry: a,
                                                                                                                          version:
                                                                                                                              w ||
                                                                                                                              t(
                                                                                                                                  /blackberry[\d]+\/(\d+(\.\d+)?)/i
                                                                                                                              )
                                                                                                                      })
                                                                                                                    : m
                                                                                                                        ? ((i = {
                                                                                                                              name:
                                                                                                                                  "WebOS",
                                                                                                                              osname:
                                                                                                                                  "WebOS",
                                                                                                                              webos: a,
                                                                                                                              version:
                                                                                                                                  w ||
                                                                                                                                  t(
                                                                                                                                      /w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i
                                                                                                                                  )
                                                                                                                          }),
                                                                                                                          /touchpad\//i.test(
                                                                                                                              e
                                                                                                                          ) &&
                                                                                                                              (i.touchpad = a))
                                                                                                                        : /bada/i.test(
                                                                                                                              e
                                                                                                                          )
                                                                                                                            ? (i = {
                                                                                                                                  name:
                                                                                                                                      "Bada",
                                                                                                                                  osname:
                                                                                                                                      "Bada",
                                                                                                                                  bada: a,
                                                                                                                                  version: t(
                                                                                                                                      /dolfin\/(\d+(\.\d+)?)/i
                                                                                                                                  )
                                                                                                                              })
                                                                                                                            : h
                                                                                                                                ? (i = {
                                                                                                                                      name:
                                                                                                                                          "Tizen",
                                                                                                                                      osname:
                                                                                                                                          "Tizen",
                                                                                                                                      tizen: a,
                                                                                                                                      version:
                                                                                                                                          t(
                                                                                                                                              /(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i
                                                                                                                                          ) ||
                                                                                                                                          w
                                                                                                                                  })
                                                                                                                                : /qupzilla/i.test(
                                                                                                                                      e
                                                                                                                                  )
                                                                                                                                    ? (i = {
                                                                                                                                          name:
                                                                                                                                              "QupZilla",
                                                                                                                                          qupzilla: a,
                                                                                                                                          version:
                                                                                                                                              t(
                                                                                                                                                  /(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i
                                                                                                                                              ) ||
                                                                                                                                              w
                                                                                                                                      })
                                                                                                                                    : /chromium/i.test(
                                                                                                                                          e
                                                                                                                                      )
                                                                                                                                        ? (i = {
                                                                                                                                              name:
                                                                                                                                                  "Chromium",
                                                                                                                                              chromium: a,
                                                                                                                                              version:
                                                                                                                                                  t(
                                                                                                                                                      /(?:chromium)[\s\/](\d+(?:\.\d+)?)/i
                                                                                                                                                  ) ||
                                                                                                                                                  w
                                                                                                                                          })
                                                                                                                                        : /chrome|crios|crmo/i.test(
                                                                                                                                              e
                                                                                                                                          )
                                                                                                                                            ? (i = {
                                                                                                                                                  name:
                                                                                                                                                      "Chrome",
                                                                                                                                                  chrome: a,
                                                                                                                                                  version: t(
                                                                                                                                                      /(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i
                                                                                                                                                  )
                                                                                                                                              })
                                                                                                                                            : l
                                                                                                                                                ? (i = {
                                                                                                                                                      name:
                                                                                                                                                          "Android",
                                                                                                                                                      version: w
                                                                                                                                                  })
                                                                                                                                                : /safari|applewebkit/i.test(
                                                                                                                                                      e
                                                                                                                                                  )
                                                                                                                                                    ? ((i = {
                                                                                                                                                          name:
                                                                                                                                                              "Safari",
                                                                                                                                                          safari: a
                                                                                                                                                      }),
                                                                                                                                                      w &&
                                                                                                                                                          (i.version = w))
                                                                                                                                                    : o
                                                                                                                                                        ? ((i = {
                                                                                                                                                              name:
                                                                                                                                                                  "iphone" ==
                                                                                                                                                                  o
                                                                                                                                                                      ? "iPhone"
                                                                                                                                                                      : "ipad" ==
                                                                                                                                                                        o
                                                                                                                                                                          ? "iPad"
                                                                                                                                                                          : "iPod"
                                                                                                                                                          }),
                                                                                                                                                          w &&
                                                                                                                                                              (i.version = w))
                                                                                                                                                        : (i = /googlebot/i.test(
                                                                                                                                                              e
                                                                                                                                                          )
                                                                                                                                                              ? {
                                                                                                                                                                    name:
                                                                                                                                                                        "Googlebot",
                                                                                                                                                                    googlebot: a,
                                                                                                                                                                    version:
                                                                                                                                                                        t(
                                                                                                                                                                            /googlebot\/(\d+(\.\d+))/i
                                                                                                                                                                        ) ||
                                                                                                                                                                        w
                                                                                                                                                                }
                                                                                                                                                              : {
                                                                                                                                                                    name: t(
                                                                                                                                                                        /^(.*)\/(.*) /
                                                                                                                                                                    ),
                                                                                                                                                                    version: n(
                                                                                                                                                                        /^(.*)\/(.*) /
                                                                                                                                                                    )
                                                                                                                                                                }),
                !i.msedge && /(apple)?webkit/i.test(e)
                    ? (/(apple)?webkit\/537\.36/i.test(e)
                          ? ((i.name = i.name || "Blink"), (i.blink = a))
                          : ((i.name = i.name || "Webkit"), (i.webkit = a)),
                      !i.version && w && (i.version = w))
                    : !i.opera &&
                      /gecko\//i.test(e) &&
                      ((i.name = i.name || "Gecko"),
                      (i.gecko = a),
                      (i.version = i.version || t(/gecko\/(\d+(\.\d+)?)/i))),
                i.windowsphone || (!l && !i.silk)
                    ? !i.windowsphone && o
                        ? ((i[o] = a), (i.ios = a), (i.osname = "iOS"))
                        : b
                            ? ((i.mac = a), (i.osname = "macOS"))
                            : T
                                ? ((i.xbox = a), (i.osname = "Xbox"))
                                : v
                                    ? ((i.windows = a), (i.osname = "Windows"))
                                    : y && ((i.linux = a), (i.osname = "Linux"))
                    : ((i.android = a), (i.osname = "Android"));
            var S = "";
            i.windows
                ? (S = (function(e) {
                      switch (e) {
                          case "NT":
                              return "NT";
                          case "XP":
                              return "XP";
                          case "NT 5.0":
                              return "2000";
                          case "NT 5.1":
                              return "XP";
                          case "NT 5.2":
                              return "2003";
                          case "NT 6.0":
                              return "Vista";
                          case "NT 6.1":
                              return "7";
                          case "NT 6.2":
                              return "8";
                          case "NT 6.3":
                              return "8.1";
                          case "NT 10.0":
                              return "10";
                          default:
                              return;
                      }
                  })(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)))
                : i.windowsphone
                    ? (S = t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i))
                    : i.mac
                        ? ((S = t(/Mac OS X (\d+([_\.\s]\d+)*)/i)),
                          (S = S.replace(/[_\s]/g, ".")))
                        : o
                            ? ((S = t(/os (\d+([_\s]\d+)*) like mac os x/i)),
                              (S = S.replace(/[_\s]/g, ".")))
                            : l
                                ? (S = t(/android[ \/-](\d+(\.\d+)*)/i))
                                : i.webos
                                    ? (S = t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i))
                                    : i.blackberry
                                        ? (S = t(
                                              /rim\stablet\sos\s(\d+(\.\d+)*)/i
                                          ))
                                        : i.bada
                                            ? (S = t(/bada\/(\d+(\.\d+)*)/i))
                                            : i.tizen &&
                                              (S = t(
                                                  /tizen[\/\s](\d+(\.\d+)*)/i
                                              )),
                S && (i.osversion = S);
            var C = !i.windows && S.split(".")[0];
            return (
                x ||
                c ||
                "ipad" == o ||
                (l && (3 == C || (C >= 4 && !E))) ||
                i.silk
                    ? (i.tablet = a)
                    : (E ||
                          "iphone" == o ||
                          "ipod" == o ||
                          l ||
                          u ||
                          i.blackberry ||
                          i.webos ||
                          i.bada) &&
                      (i.mobile = a),
                i.msedge ||
                (i.msie && i.version >= 10) ||
                (i.yandexbrowser && i.version >= 15) ||
                (i.vivaldi && i.version >= 1) ||
                (i.chrome && i.version >= 20) ||
                (i.samsungBrowser && i.version >= 4) ||
                (i.whale && 1 === r([i.version, "1.0"])) ||
                (i.mzbrowser && 1 === r([i.version, "6.0"])) ||
                (i.focus && 1 === r([i.version, "1.0"])) ||
                (i.firefox && i.version >= 20) ||
                (i.safari && i.version >= 6) ||
                (i.opera && i.version >= 10) ||
                (i.ios && i.osversion && i.osversion.split(".")[0] >= 6) ||
                (i.blackberry && i.version >= 10.1) ||
                (i.chromium && i.version >= 20)
                    ? (i.a = a)
                    : (i.msie && i.version < 10) ||
                      (i.chrome && i.version < 20) ||
                      (i.firefox && i.version < 20) ||
                      (i.safari && i.version < 6) ||
                      (i.opera && i.version < 10) ||
                      (i.ios && i.osversion && i.osversion.split(".")[0] < 6) ||
                      (i.chromium && i.version < 20)
                        ? (i.c = a)
                        : (i.x = a),
                i
            );
        }
        function t(e) {
            return e.split(".").length;
        }
        function n(e, t) {
            var n,
                r = [];
            if (Array.prototype.map) return Array.prototype.map.call(e, t);
            for (n = 0; n < e.length; n++) r.push(t(e[n]));
            return r;
        }
        function r(e) {
            for (
                var r = Math.max(t(e[0]), t(e[1])),
                    i = n(e, function(e) {
                        var i = r - t(e);
                        return (
                            (e += new Array(i + 1).join(".0")),
                            n(e.split("."), function(e) {
                                return new Array(20 - e.length).join("0") + e;
                            }).reverse()
                        );
                    });
                --r >= 0;

            ) {
                if (i[0][r] > i[1][r]) return 1;
                if (i[0][r] !== i[1][r]) return -1;
                if (0 === r) return 0;
            }
        }
        function i(t, n, i) {
            var o = s;
            "string" == typeof n && ((i = n), (n = void 0)),
                void 0 === n && (n = !1),
                i && (o = e(i));
            var a = "" + o.version;
            for (var l in t)
                if (t.hasOwnProperty(l) && o[l]) {
                    if ("string" != typeof t[l])
                        throw new Error(
                            "Browser version in the minVersion map should be a string: " +
                                l +
                                ": " +
                                String(t)
                        );
                    return r([a, t[l]]) < 0;
                }
            return n;
        }
        function o(e, t, n) {
            return !i(e, t, n);
        }
        var a = !0,
            s = e(
                "undefined" != typeof navigator ? navigator.userAgent || "" : ""
            );
        return (
            (s.test = function(e) {
                for (var t = 0; t < e.length; ++t) {
                    var n = e[t];
                    if ("string" == typeof n && n in s) return !0;
                }
                return !1;
            }),
            (s.isUnsupportedBrowser = i),
            (s.compareVersions = r),
            (s.check = o),
            (s._detect = e),
            (s.detect = e),
            s
        );
    }),
    define("bowser", (function(e) {
        return function() {
            return e.bowser;
        };
    })(this)),
    define("readium_js/epub-fetch/iframe_zip_loader", [
        "URIjs",
        "readium_shared_js/views/iframe_loader",
        "underscore",
        "./discover_content_type",
        "bowser"
    ], function(e, t, n, r, i) {
        var o = function(a, s) {
            function l(e, t) {
                $.ajax({
                    url: e,
                    dataType: "html",
                    async: !0,
                    success: function(e) {
                        t(e);
                    },
                    error: function(n, r, i) {
                        console.error("Error when AJAX fetching " + e),
                            console.error(r),
                            console.error(i),
                            t();
                    }
                });
            }
            function u(e, t) {
                l(e, function(n) {
                    if (!n) return void t();
                    p && (n = p(e, n)), t(n);
                });
            }
            var c =
                    window.navigator.userAgent.indexOf("Trident") > 0 ||
                    window.navigator.userAgent.indexOf("Edge") > 0,
                d = new t(),
                f = this,
                p = s;
            (this.addIFrameEventListener = function(e, t, n) {
                d.addIFrameEventListener(e, t, n);
            }),
                (this.updateIframeEvents = function(e) {
                    d.updateIframeEvents(e);
                }),
                (this.loadIframe = function(t, n, r, i, o) {
                    t.baseURI ||
                        (c && t.ownerDocument.defaultView.frameElement
                            ? ((t.baseURI = t.ownerDocument.defaultView.frameElement.getAttribute(
                                  "data-loadUri"
                              )),
                              console.log("EPUB doc iframe src (BEFORE):"),
                              console.log(n),
                              (n = new e(n)
                                  .absoluteTo(t.baseURI)
                                  .search("")
                                  .hash("")
                                  .toString()))
                            : "undefined" != typeof location &&
                              (t.baseURI = location.href + ""),
                        console.error("!iframe.baseURI => " + t.baseURI)),
                        console.log("EPUB doc iframe src:"),
                        console.log(n),
                        t.setAttribute("data-src", n),
                        console.log("EPUB doc iframe base URI:"),
                        console.log(t.baseURI),
                        t.setAttribute("data-baseUri", t.baseURI);
                    var s = new e(n)
                        .absoluteTo(t.baseURI)
                        .search("")
                        .hash("")
                        .toString();
                    console.log("EPUB doc iframe LOAD URI:"),
                        console.log(s),
                        t.setAttribute("data-loadUri", s),
                        a().shouldConstructDomProgrammatically()
                            ? (console.log(
                                  "shouldConstructDomProgrammatically..."
                              ),
                              a().fetchContentDocument(
                                  o,
                                  s,
                                  function(e) {
                                      f._loadIframeWithDocument(
                                          t,
                                          o,
                                          e.documentElement.outerHTML,
                                          function() {
                                              r.call(i, !0, o);
                                          }
                                      );
                                  },
                                  function(e) {
                                      r.call(i, !1, o);
                                  }
                              ))
                            : u(s, function(e) {
                                  e
                                      ? f._loadIframeWithDocument(
                                            t,
                                            o,
                                            e,
                                            function() {
                                                r.call(i, !0, o);
                                            }
                                        )
                                      : r.call(i, !1, o);
                              });
                }),
                (this._loadIframeWithDocument = function(t, l, u, c) {
                    var d,
                        p,
                        h = i.ios && i.chrome,
                        m = !(
                            h ||
                            i.msie ||
                            (i.ios && parseInt(i.version, 10) < 7) ||
                            i.samsungBrowser
                        );
                    if (m) {
                        var g = "text/html";
                        if (
                            (l.spineItem.media_type &&
                                l.spineItem.media_type.length &&
                                (g = l.spineItem.media_type),
                            window.BlobBuilder)
                        ) {
                            var v = new BlobBuilder();
                            v.append(u), (p = v.getBlob(g));
                        } else p = new Blob([u], { type: g });
                        d = window.URL.createObjectURL(p);
                    } else
                        h ||
                            (t.contentWindow.document.open(),
                            window.MSApp && window.MSApp.execUnsafeLocalFunction
                                ? window.MSApp.execUnsafeLocalFunction(
                                      function() {
                                          t.contentWindow.document.write(u);
                                      }
                                  )
                                : t.contentWindow.document.write(u));
                    (t.onload = function() {
                        var i = t.contentDocument || t.contentWindow.document;
                        if (t.contentWindow.frames)
                            for (
                                var u = 0;
                                u < t.contentWindow.frames.length;
                                u++
                            ) {
                                var p = t.contentWindow.frames[u],
                                    h = void 0;
                                try {
                                    h = p.frameElement.getAttribute("data-src");
                                } catch (e) {
                                    console.warn(e);
                                    continue;
                                }
                                if (h) {
                                    var g = l.spineItem.href,
                                        v = a(),
                                        b = v.convertPathRelativeToPackageToRelativeToBase(
                                            g
                                        ),
                                        y = new e(h).absoluteTo(b).toString(),
                                        _ = v.getPackageFullPathRelativeToBase(),
                                        w = new e("/" + y)
                                            .relativeTo("/" + _)
                                            .toString(),
                                        x = r.identifyContentTypeFromFileName(
                                            w
                                        ),
                                        E = new o(a, s);
                                    E.loadIframe(
                                        p.frameElement,
                                        h,
                                        function() {
                                            console.log("CHILD IFRAME LOADED.");
                                        },
                                        f,
                                        {
                                            spineItem: {
                                                media_type: x,
                                                href: w
                                            }
                                        }
                                    );
                                } else
                                    "iframe" == p.frameElement.localName &&
                                        console.error(
                                            "IFRAME data-src missing?!"
                                        );
                            }
                        $("svg", i).on("load", function() {
                            console.log("SVG loaded");
                        }),
                            f.updateIframeEvents(t);
                        var T = t.contentWindow.MathJax;
                        if (T) {
                            console.log(
                                "MathJax VERSION: " +
                                    T.cdnVersion +
                                    " // " +
                                    T.fileversion +
                                    " // " +
                                    T.version
                            );
                            var S = !0;
                            T.Hub.Browser.isFirefox && (S = !1),
                                T.Hub.Browser.isChrome && (S = !1),
                                window.navigator.userAgent.indexOf("Edge") >
                                    0 && (S = !1),
                                T.Hub.Config({
                                    showMathMenu: !1,
                                    messageStyle: "none",
                                    showProcessingMessages: !0,
                                    SVG: { useFontCache: S }
                                });
                            var C = n.once(c);
                            try {
                                T.Hub.Queue(C);
                            } catch (e) {
                                console.error("MathJax fail!"), c();
                            }
                        } else c();
                        m && window.URL.revokeObjectURL(d);
                    }),
                        m
                            ? t.setAttribute("src", d)
                            : h
                                ? t.setAttribute("srcdoc", u)
                                : t.contentWindow.document.close();
                });
        };
        return o;
    }),
    define("readium_js/Readium", [
        "readium_shared_js/globals",
        "text!version.json",
        "jquery",
        "underscore",
        "readium_shared_js/views/reader_view",
        "readium_js/epub-fetch/publication_fetcher",
        "readium_js/epub-model/package_document_parser",
        "readium_js/epub-fetch/iframe_zip_loader",
        "readium_shared_js/views/iframe_loader"
    ], function(e, t, n, r, i, o, a, s, l) {
        window.BlobBuilder =
            window.BlobBuilder ||
            window.WebKitBlobBuilder ||
            window.MozBlobBuilder ||
            window.MSBlobBuilder;
        var u = function(t, r) {
            var u = { mathJaxUrl: r.mathJaxUrl },
                c = function(e, t) {
                    function n() {
                        navigator.epubReadingSystem =
                            window.parent.navigator.epubReadingSystem;
                    }
                    var r = e.split("/"),
                        i = r.join("/");
                    console.log("EPUB doc base href:"), console.log(i);
                    var o =
                            '<base href="' +
                            encodeURI(
                                (function(e) {
                                    return e
                                        .replace(/&/g, "&amp;")
                                        .replace(/</g, "&lt;")
                                        .replace(/>/g, "&gt;")
                                        .replace(/"/g, "&quot;")
                                        .replace(/'/g, "&apos;");
                                })(i)
                            ) +
                            '"/>',
                        a =
                            '<script type="text/javascript">(' +
                            n.toString() +
                            ")()</script>";
                    return (
                        u &&
                            u.mathJaxUrl &&
                            t.search(/<(\w+:|)(?=math)/) >= 0 &&
                            (a +=
                                '<script type="text/javascript" src="' +
                                u.mathJaxUrl +
                                '"> </script>'),
                        (t = t.replace(/(<head[\s\S]*?>)/, "$1" + o + a)),
                        (t = t.replace(
                            /(<iframe[\s\S]+?)src[\s]*=[\s]*(["'])[\s]*(.*)[\s]*(["'])([\s\S]*?>)/g,
                            "$1data-src=$2$3$4$5"
                        )),
                        (t = t.replace(
                            /(<iframe[\s\S]+?)data-src[\s]*=[\s]*(["'])[\s]*(http[s]?:\/\/.*)[\s]*(["'])([\s\S]*?>)/g,
                            "$1src=$2$3$4$5"
                        )),
                        (t = t.replace(
                            /<title>[\s]*<\/title>/g,
                            "<title>TITLE</title>"
                        )),
                        (t = t.replace(
                            /<title[\s]*\/>/g,
                            "<title>TITLE</title>"
                        ))
                    );
                },
                d = this,
                f = void 0;
            this.getCurrentPublicationFetcher = function() {
                return f;
            };
            var p = t.jsLibRoot;
            t.useSimpleLoader
                ? (r.iframeLoader = new l())
                : (r.iframeLoader = new s(function() {
                      return f;
                  }, c)),
                (r.needsFixedLayoutScalerWorkAround = !0),
                (this.reader = new i(r)),
                (ReadiumSDK.reader = this.reader);
            var h = function(e, r, i, s) {
                f && f.flushCache();
                var l = null;
                t.cacheSizeEvictThreshold && (l = t.cacheSizeEvictThreshold),
                    (f = new o(e, p, window, l, c, s)),
                    f.initialize(function(e) {
                        if (!e) return void r(void 0);
                        new a(f).parse(function(e) {
                            if (!e) return void r(void 0);
                            var o = t.openBookOptions || {},
                                a = n.extend(e.getSharedJsPackageData(), o);
                            i &&
                                (i.spineItemCfi &&
                                    (i.idref = e.getSpineItemIdrefFromCFI(
                                        i.spineItemCfi
                                    )),
                                (a.openPageRequest = i)),
                                d.reader.openBook(a);
                            var s = { metadata: e.getMetadata() };
                            r(e, s);
                        });
                    });
            };
            (this.openPackageDocument = function(e, t, n) {
                if (!(e instanceof Blob || e instanceof File)) {
                    console.debug("-------------------------------");
                    var r = window.location.origin;
                    r ||
                        (r =
                            window.location.protocol +
                            "//" +
                            window.location.host);
                    var i = r + window.location.pathname;
                    console.debug("BASE URL: " + i),
                        console.debug("RELATIVE URL: " + e);
                    try {
                        e = new URI(e).absoluteTo(i).toString();
                    } catch (t) {
                        console.error(t), console.log(e);
                    }
                    if (
                        (console.debug("==>"),
                        console.debug("ABSOLUTE URL: " + e),
                        console.debug("-------------------------------"),
                        0 == e.indexOf("http://") || 0 == e.indexOf("https://"))
                    ) {
                        var o = new XMLHttpRequest();
                        return (
                            (o.onreadystatechange = function() {
                                if (4 == this.readyState) {
                                    var r = void 0;
                                    if (
                                        (o.status >= 200 && o.status < 300) ||
                                        304 === o.status
                                    ) {
                                        var i = "";
                                        o.getAllResponseHeaders &&
                                            ((i = o.getAllResponseHeaders()),
                                            (i = i ? i.toLowerCase() : "")),
                                            i.indexOf("content-type") >= 0 &&
                                                ((r =
                                                    o.getResponseHeader(
                                                        "Content-Type"
                                                    ) ||
                                                    o.getResponseHeader(
                                                        "content-type"
                                                    )),
                                                r || (r = void 0),
                                                console.debug(
                                                    "CONTENT-TYPE: " +
                                                        e +
                                                        " ==> " +
                                                        r
                                                ));
                                        var a = o.responseURL;
                                        a ||
                                            (i.indexOf("location") >= 0 &&
                                                (a =
                                                    o.getResponseHeader(
                                                        "Location"
                                                    ) ||
                                                    o.getResponseHeader(
                                                        "location"
                                                    ))),
                                            a &&
                                                a !== e &&
                                                (console.debug(
                                                    "REDIRECT: " +
                                                        e +
                                                        " ==> " +
                                                        a
                                                ),
                                                (e = a));
                                    }
                                    h(e, t, n, r);
                                }
                            }),
                            o.open("HEAD", e, !0),
                            void o.send(null)
                        );
                    }
                }
                h(e, t, n);
            }),
                (this.closePackageDocument = function() {
                    f && f.flushCache();
                }),
                e.logEvent("READER_INITIALIZED", "EMIT", "Readium.js"),
                ReadiumSDK.emit(
                    ReadiumSDK.Events.READER_INITIALIZED,
                    ReadiumSDK.reader
                );
        };
        return (
            (u.version = JSON.parse(t)),
            (u.getVersion = function(e) {
                var t = u.version;
                if (t.needsPopulating) {
                    var r = function(i) {
                        if (i >= t.repos.length)
                            return (
                                delete t.needsPopulating,
                                delete t.repos,
                                (u.version = t),
                                void e(t)
                            );
                        var o = t.repos[i];
                        (t[o.name] = {}),
                            (t[o.name].timestamp = new Date().getTime()),
                            n
                                .getJSON(o.path + "/package.json", function(e) {
                                    (t[o.name].version = e.version),
                                        (t[o.name].chromeVersion =
                                            "2." + e.version.substring(2));
                                    var a = function(e, o, a) {
                                            var s = e + "/" + a;
                                            n.get(s, function(e) {
                                                t[o.name].branch = a;
                                                var n = e.substring(
                                                    0,
                                                    e.length - 1
                                                );
                                                (t[o.name].sha = n), r(++i);
                                            }).fail(function(e) {
                                                r(++i);
                                            });
                                        },
                                        s = function(e) {
                                            var t = e.path + "/.git";
                                            n.get(t, function(t) {
                                                if (
                                                    0 == t.indexOf("gitdir: ")
                                                ) {
                                                    var n =
                                                        e.path +
                                                        "/" +
                                                        t
                                                            .substring(
                                                                "gitdir: "
                                                                    .length
                                                            )
                                                            .trim();
                                                    l(n, e);
                                                } else r(++i);
                                            }).fail(function(e) {
                                                r(++i);
                                            });
                                        },
                                        l = function(e, t, o) {
                                            var l = e + "/HEAD";
                                            n.get(l, function(n) {
                                                var r = n.substring(
                                                    5,
                                                    n.length - 1
                                                );
                                                a(e, t, r);
                                            }).fail(function(e) {
                                                o ? s(t) : r(++i);
                                            });
                                        };
                                    l(o.path + "/.git", o, !0);
                                })
                                .fail(function(e) {
                                    r(++i);
                                });
                    };
                    r(0);
                } else e(t);
            }),
            u
        );
    }),
    define("readium_js", ["readium_js/Readium"], function(e) {
        return e;
    }),
    define("readium_js_viewer/ModuleConfig", ["module"], function(e) {
        var t = e.config();
        return {
            imagePathPrefix: t.imagePathPrefix || "",
            epubLibraryPath: t.epubLibraryPath || "",
            canHandleUrl: t.canHandleUrl || !1,
            canHandleDirectory: t.canHandleDirectory || !1,
            epubReadingSystemUrl:
                t.epubReadingSystemUrl || "/EPUBREADINGSYSTEM.js",
            workerUrl: t.workerUrl || "/READIUMWORKER.js",
            annotationCSSUrl: t.annotationCSSUrl || "/ANNOTATIONS.css",
            mathJaxUrl: t.mathJaxUrl || "/MATHJAX.js",
            jsLibRoot: t.jsLibRoot || "/ZIPJS/",
            fonts: t.fonts || [],
            useSimpleLoader: t.useSimpleLoader || !1
        };
    }),
    "undefined" == typeof jQuery)
)
    throw new Error("Bootstrap's JavaScript requires jQuery");
+(function(e) {
    "use strict";
    var t = e.fn.jquery.split(" ")[0].split(".");
    if (
        (t[0] < 2 && t[1] < 9) ||
        (1 == t[0] && 9 == t[1] && t[2] < 1) ||
        t[0] > 3
    )
        throw new Error(
            "Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4"
        );
})(jQuery),
    (function(e) {
        "use strict";
        function t() {
            var e = document.createElement("bootstrap"),
                t = {
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "transitionend",
                    OTransition: "oTransitionEnd otransitionend",
                    transition: "transitionend"
                };
            for (var n in t) if (void 0 !== e.style[n]) return { end: t[n] };
            return !1;
        }
        (e.fn.emulateTransitionEnd = function(t) {
            var n = !1,
                r = this;
            e(this).one("bsTransitionEnd", function() {
                n = !0;
            });
            var i = function() {
                n || e(r).trigger(e.support.transition.end);
            };
            return setTimeout(i, t), this;
        }),
            e(function() {
                (e.support.transition = t()),
                    e.support.transition &&
                        (e.event.special.bsTransitionEnd = {
                            bindType: e.support.transition.end,
                            delegateType: e.support.transition.end,
                            handle: function(t) {
                                if (e(t.target).is(this))
                                    return t.handleObj.handler.apply(
                                        this,
                                        arguments
                                    );
                            }
                        });
            });
    })(jQuery),
    (function(e) {
        "use strict";
        function t(t) {
            return this.each(function() {
                var n = e(this),
                    i = n.data("bs.alert");
                i || n.data("bs.alert", (i = new r(this))),
                    "string" == typeof t && i[t].call(n);
            });
        }
        var n = '[data-dismiss="alert"]',
            r = function(t) {
                e(t).on("click", n, this.close);
            };
        (r.VERSION = "3.3.7"),
            (r.TRANSITION_DURATION = 150),
            (r.prototype.close = function(t) {
                function n() {
                    a.detach()
                        .trigger("closed.bs.alert")
                        .remove();
                }
                var i = e(this),
                    o = i.attr("data-target");
                o ||
                    ((o = i.attr("href")),
                    (o = o && o.replace(/.*(?=#[^\s]*$)/, "")));
                var a = e("#" === o ? [] : o);
                t && t.preventDefault(),
                    a.length || (a = i.closest(".alert")),
                    a.trigger((t = e.Event("close.bs.alert"))),
                    t.isDefaultPrevented() ||
                        (a.removeClass("in"),
                        e.support.transition && a.hasClass("fade")
                            ? a
                                  .one("bsTransitionEnd", n)
                                  .emulateTransitionEnd(r.TRANSITION_DURATION)
                            : n());
            });
        var i = e.fn.alert;
        (e.fn.alert = t),
            (e.fn.alert.Constructor = r),
            (e.fn.alert.noConflict = function() {
                return (e.fn.alert = i), this;
            }),
            e(document).on("click.bs.alert.data-api", n, r.prototype.close);
    })(jQuery),
    (function(e) {
        "use strict";
        function t(t) {
            return this.each(function() {
                var r = e(this),
                    i = r.data("bs.button"),
                    o = "object" == typeof t && t;
                i || r.data("bs.button", (i = new n(this, o))),
                    "toggle" == t ? i.toggle() : t && i.setState(t);
            });
        }
        var n = function(t, r) {
            (this.$element = e(t)),
                (this.options = e.extend({}, n.DEFAULTS, r)),
                (this.isLoading = !1);
        };
        (n.VERSION = "3.3.7"),
            (n.DEFAULTS = { loadingText: "loading..." }),
            (n.prototype.setState = function(t) {
                var n = "disabled",
                    r = this.$element,
                    i = r.is("input") ? "val" : "html",
                    o = r.data();
                (t += "Text"),
                    null == o.resetText && r.data("resetText", r[i]()),
                    setTimeout(
                        e.proxy(function() {
                            r[i](null == o[t] ? this.options[t] : o[t]),
                                "loadingText" == t
                                    ? ((this.isLoading = !0),
                                      r
                                          .addClass(n)
                                          .attr(n, n)
                                          .prop(n, !0))
                                    : this.isLoading &&
                                      ((this.isLoading = !1),
                                      r
                                          .removeClass(n)
                                          .removeAttr(n)
                                          .prop(n, !1));
                        }, this),
                        0
                    );
            }),
            (n.prototype.toggle = function() {
                var e = !0,
                    t = this.$element.closest('[data-toggle="buttons"]');
                if (t.length) {
                    var n = this.$element.find("input");
                    "radio" == n.prop("type")
                        ? (n.prop("checked") && (e = !1),
                          t.find(".active").removeClass("active"),
                          this.$element.addClass("active"))
                        : "checkbox" == n.prop("type") &&
                          (n.prop("checked") !==
                              this.$element.hasClass("active") && (e = !1),
                          this.$element.toggleClass("active")),
                        n.prop("checked", this.$element.hasClass("active")),
                        e && n.trigger("change");
                } else
                    this.$element.attr(
                        "aria-pressed",
                        !this.$element.hasClass("active")
                    ),
                        this.$element.toggleClass("active");
            });
        var r = e.fn.button;
        (e.fn.button = t),
            (e.fn.button.Constructor = n),
            (e.fn.button.noConflict = function() {
                return (e.fn.button = r), this;
            }),
            e(document)
                .on(
                    "click.bs.button.data-api",
                    '[data-toggle^="button"]',
                    function(n) {
                        var r = e(n.target).closest(".btn");
                        t.call(r, "toggle"),
                            e(n.target).is(
                                'input[type="radio"], input[type="checkbox"]'
                            ) ||
                                (n.preventDefault(),
                                r.is("input,button")
                                    ? r.trigger("focus")
                                    : r
                                          .find("input:visible,button:visible")
                                          .first()
                                          .trigger("focus"));
                    }
                )
                .on(
                    "focus.bs.button.data-api blur.bs.button.data-api",
                    '[data-toggle^="button"]',
                    function(t) {
                        e(t.target)
                            .closest(".btn")
                            .toggleClass("focus", /^focus(in)?$/.test(t.type));
                    }
                );
    })(jQuery),
    (function(e) {
        "use strict";
        function t(t) {
            return this.each(function() {
                var r = e(this),
                    i = r.data("bs.carousel"),
                    o = e.extend(
                        {},
                        n.DEFAULTS,
                        r.data(),
                        "object" == typeof t && t
                    ),
                    a = "string" == typeof t ? t : o.slide;
                i || r.data("bs.carousel", (i = new n(this, o))),
                    "number" == typeof t
                        ? i.to(t)
                        : a
                            ? i[a]()
                            : o.interval && i.pause().cycle();
            });
        }
        var n = function(t, n) {
            (this.$element = e(t)),
                (this.$indicators = this.$element.find(".carousel-indicators")),
                (this.options = n),
                (this.paused = null),
                (this.sliding = null),
                (this.interval = null),
                (this.$active = null),
                (this.$items = null),
                this.options.keyboard &&
                    this.$element.on(
                        "keydown.bs.carousel",
                        e.proxy(this.keydown, this)
                    ),
                "hover" == this.options.pause &&
                    !("ontouchstart" in document.documentElement) &&
                    this.$element
                        .on("mouseenter.bs.carousel", e.proxy(this.pause, this))
                        .on(
                            "mouseleave.bs.carousel",
                            e.proxy(this.cycle, this)
                        );
        };
        (n.VERSION = "3.3.7"),
            (n.TRANSITION_DURATION = 600),
            (n.DEFAULTS = {
                interval: 5e3,
                pause: "hover",
                wrap: !0,
                keyboard: !0
            }),
            (n.prototype.keydown = function(e) {
                if (!/input|textarea/i.test(e.target.tagName)) {
                    switch (e.which) {
                        case 37:
                            this.prev();
                            break;
                        case 39:
                            this.next();
                            break;
                        default:
                            return;
                    }
                    e.preventDefault();
                }
            }),
            (n.prototype.cycle = function(t) {
                return (
                    t || (this.paused = !1),
                    this.interval && clearInterval(this.interval),
                    this.options.interval &&
                        !this.paused &&
                        (this.interval = setInterval(
                            e.proxy(this.next, this),
                            this.options.interval
                        )),
                    this
                );
            }),
            (n.prototype.getItemIndex = function(e) {
                return (
                    (this.$items = e.parent().children(".item")),
                    this.$items.index(e || this.$active)
                );
            }),
            (n.prototype.getItemForDirection = function(e, t) {
                var n = this.getItemIndex(t);
                if (
                    (("prev" == e && 0 === n) ||
                        ("next" == e && n == this.$items.length - 1)) &&
                    !this.options.wrap
                )
                    return t;
                var r = "prev" == e ? -1 : 1,
                    i = (n + r) % this.$items.length;
                return this.$items.eq(i);
            }),
            (n.prototype.to = function(e) {
                var t = this,
                    n = this.getItemIndex(
                        (this.$active = this.$element.find(".item.active"))
                    );
                if (!(e > this.$items.length - 1 || e < 0))
                    return this.sliding
                        ? this.$element.one("slid.bs.carousel", function() {
                              t.to(e);
                          })
                        : n == e
                            ? this.pause().cycle()
                            : this.slide(
                                  e > n ? "next" : "prev",
                                  this.$items.eq(e)
                              );
            }),
            (n.prototype.pause = function(t) {
                return (
                    t || (this.paused = !0),
                    this.$element.find(".next, .prev").length &&
                        e.support.transition &&
                        (this.$element.trigger(e.support.transition.end),
                        this.cycle(!0)),
                    (this.interval = clearInterval(this.interval)),
                    this
                );
            }),
            (n.prototype.next = function() {
                if (!this.sliding) return this.slide("next");
            }),
            (n.prototype.prev = function() {
                if (!this.sliding) return this.slide("prev");
            }),
            (n.prototype.slide = function(t, r) {
                var i = this.$element.find(".item.active"),
                    o = r || this.getItemForDirection(t, i),
                    a = this.interval,
                    s = "next" == t ? "left" : "right",
                    l = this;
                if (o.hasClass("active")) return (this.sliding = !1);
                var u = o[0],
                    c = e.Event("slide.bs.carousel", {
                        relatedTarget: u,
                        direction: s
                    });
                if ((this.$element.trigger(c), !c.isDefaultPrevented())) {
                    if (
                        ((this.sliding = !0),
                        a && this.pause(),
                        this.$indicators.length)
                    ) {
                        this.$indicators.find(".active").removeClass("active");
                        var d = e(
                            this.$indicators.children()[this.getItemIndex(o)]
                        );
                        d && d.addClass("active");
                    }
                    var f = e.Event("slid.bs.carousel", {
                        relatedTarget: u,
                        direction: s
                    });
                    return (
                        e.support.transition && this.$element.hasClass("slide")
                            ? (o.addClass(t),
                              o[0].offsetWidth,
                              i.addClass(s),
                              o.addClass(s),
                              i
                                  .one("bsTransitionEnd", function() {
                                      o
                                          .removeClass([t, s].join(" "))
                                          .addClass("active"),
                                          i.removeClass(
                                              ["active", s].join(" ")
                                          ),
                                          (l.sliding = !1),
                                          setTimeout(function() {
                                              l.$element.trigger(f);
                                          }, 0);
                                  })
                                  .emulateTransitionEnd(n.TRANSITION_DURATION))
                            : (i.removeClass("active"),
                              o.addClass("active"),
                              (this.sliding = !1),
                              this.$element.trigger(f)),
                        a && this.cycle(),
                        this
                    );
                }
            });
        var r = e.fn.carousel;
        (e.fn.carousel = t),
            (e.fn.carousel.Constructor = n),
            (e.fn.carousel.noConflict = function() {
                return (e.fn.carousel = r), this;
            });
        var i = function(n) {
            var r,
                i = e(this),
                o = e(
                    i.attr("data-target") ||
                        ((r = i.attr("href")) &&
                            r.replace(/.*(?=#[^\s]+$)/, ""))
                );
            if (o.hasClass("carousel")) {
                var a = e.extend({}, o.data(), i.data()),
                    s = i.attr("data-slide-to");
                s && (a.interval = !1),
                    t.call(o, a),
                    s && o.data("bs.carousel").to(s),
                    n.preventDefault();
            }
        };
        e(document)
            .on("click.bs.carousel.data-api", "[data-slide]", i)
            .on("click.bs.carousel.data-api", "[data-slide-to]", i),
            e(window).on("load", function() {
                e('[data-ride="carousel"]').each(function() {
                    var n = e(this);
                    t.call(n, n.data());
                });
            });
    })(jQuery),
    (function(e) {
        "use strict";
        function t(t) {
            var n,
                r =
                    t.attr("data-target") ||
                    ((n = t.attr("href")) && n.replace(/.*(?=#[^\s]+$)/, ""));
            return e(r);
        }
        function n(t) {
            return this.each(function() {
                var n = e(this),
                    i = n.data("bs.collapse"),
                    o = e.extend(
                        {},
                        r.DEFAULTS,
                        n.data(),
                        "object" == typeof t && t
                    );
                !i && o.toggle && /show|hide/.test(t) && (o.toggle = !1),
                    i || n.data("bs.collapse", (i = new r(this, o))),
                    "string" == typeof t && i[t]();
            });
        }
        var r = function(t, n) {
            (this.$element = e(t)),
                (this.options = e.extend({}, r.DEFAULTS, n)),
                (this.$trigger = e(
                    '[data-toggle="collapse"][href="#' +
                        t.id +
                        '"],[data-toggle="collapse"][data-target="#' +
                        t.id +
                        '"]'
                )),
                (this.transitioning = null),
                this.options.parent
                    ? (this.$parent = this.getParent())
                    : this.addAriaAndCollapsedClass(
                          this.$element,
                          this.$trigger
                      ),
                this.options.toggle && this.toggle();
        };
        (r.VERSION = "3.3.7"),
            (r.TRANSITION_DURATION = 350),
            (r.DEFAULTS = { toggle: !0 }),
            (r.prototype.dimension = function() {
                return this.$element.hasClass("width") ? "width" : "height";
            }),
            (r.prototype.show = function() {
                if (!this.transitioning && !this.$element.hasClass("in")) {
                    var t,
                        i =
                            this.$parent &&
                            this.$parent
                                .children(".panel")
                                .children(".in, .collapsing");
                    if (
                        !(
                            i &&
                            i.length &&
                            (t = i.data("bs.collapse")) &&
                            t.transitioning
                        )
                    ) {
                        var o = e.Event("show.bs.collapse");
                        if (
                            (this.$element.trigger(o), !o.isDefaultPrevented())
                        ) {
                            i &&
                                i.length &&
                                (n.call(i, "hide"),
                                t || i.data("bs.collapse", null));
                            var a = this.dimension();
                            this.$element
                                .removeClass("collapse")
                                .addClass("collapsing")
                                [a](0)
                                .attr("aria-expanded", !0),
                                this.$trigger
                                    .removeClass("collapsed")
                                    .attr("aria-expanded", !0),
                                (this.transitioning = 1);
                            var s = function() {
                                this.$element
                                    .removeClass("collapsing")
                                    .addClass("collapse in")
                                    [a](""),
                                    (this.transitioning = 0),
                                    this.$element.trigger("shown.bs.collapse");
                            };
                            if (!e.support.transition) return s.call(this);
                            var l = e.camelCase(["scroll", a].join("-"));
                            this.$element
                                .one("bsTransitionEnd", e.proxy(s, this))
                                .emulateTransitionEnd(r.TRANSITION_DURATION)
                                [a](this.$element[0][l]);
                        }
                    }
                }
            }),
            (r.prototype.hide = function() {
                if (!this.transitioning && this.$element.hasClass("in")) {
                    var t = e.Event("hide.bs.collapse");
                    if ((this.$element.trigger(t), !t.isDefaultPrevented())) {
                        var n = this.dimension();
                        this.$element[n](this.$element[n]())[0].offsetHeight,
                            this.$element
                                .addClass("collapsing")
                                .removeClass("collapse in")
                                .attr("aria-expanded", !1),
                            this.$trigger
                                .addClass("collapsed")
                                .attr("aria-expanded", !1),
                            (this.transitioning = 1);
                        var i = function() {
                            (this.transitioning = 0),
                                this.$element
                                    .removeClass("collapsing")
                                    .addClass("collapse")
                                    .trigger("hidden.bs.collapse");
                        };
                        if (!e.support.transition) return i.call(this);
                        this.$element[n](0)
                            .one("bsTransitionEnd", e.proxy(i, this))
                            .emulateTransitionEnd(r.TRANSITION_DURATION);
                    }
                }
            }),
            (r.prototype.toggle = function() {
                this[this.$element.hasClass("in") ? "hide" : "show"]();
            }),
            (r.prototype.getParent = function() {
                return e(this.options.parent)
                    .find(
                        '[data-toggle="collapse"][data-parent="' +
                            this.options.parent +
                            '"]'
                    )
                    .each(
                        e.proxy(function(n, r) {
                            var i = e(r);
                            this.addAriaAndCollapsedClass(t(i), i);
                        }, this)
                    )
                    .end();
            }),
            (r.prototype.addAriaAndCollapsedClass = function(e, t) {
                var n = e.hasClass("in");
                e.attr("aria-expanded", n),
                    t.toggleClass("collapsed", !n).attr("aria-expanded", n);
            });
        var i = e.fn.collapse;
        (e.fn.collapse = n),
            (e.fn.collapse.Constructor = r),
            (e.fn.collapse.noConflict = function() {
                return (e.fn.collapse = i), this;
            }),
            e(document).on(
                "click.bs.collapse.data-api",
                '[data-toggle="collapse"]',
                function(r) {
                    var i = e(this);
                    i.attr("data-target") || r.preventDefault();
                    var o = t(i),
                        a = o.data("bs.collapse"),
                        s = a ? "toggle" : i.data();
                    n.call(o, s);
                }
            );
    })(jQuery),
    (function(e) {
        "use strict";
        function t(t) {
            var n = t.attr("data-target");
            n ||
                ((n = t.attr("href")),
                (n =
                    n &&
                    /#[A-Za-z]/.test(n) &&
                    n.replace(/.*(?=#[^\s]*$)/, "")));
            var r = n && e(n);
            return r && r.length ? r : t.parent();
        }
        function n(n) {
            (n && 3 === n.which) ||
                (e(i).remove(),
                e(o).each(function() {
                    var r = e(this),
                        i = t(r),
                        o = { relatedTarget: this };
                    i.hasClass("open") &&
                        ((n &&
                            "click" == n.type &&
                            /input|textarea/i.test(n.target.tagName) &&
                            e.contains(i[0], n.target)) ||
                            (i.trigger((n = e.Event("hide.bs.dropdown", o))),
                            n.isDefaultPrevented() ||
                                (r.attr("aria-expanded", "false"),
                                i
                                    .removeClass("open")
                                    .trigger(
                                        e.Event("hidden.bs.dropdown", o)
                                    ))));
                }));
        }
        function r(t) {
            return this.each(function() {
                var n = e(this),
                    r = n.data("bs.dropdown");
                r || n.data("bs.dropdown", (r = new a(this))),
                    "string" == typeof t && r[t].call(n);
            });
        }
        var i = ".dropdown-backdrop",
            o = '[data-toggle="dropdown"]',
            a = function(t) {
                e(t).on("click.bs.dropdown", this.toggle);
            };
        (a.VERSION = "3.3.7"),
            (a.prototype.toggle = function(r) {
                var i = e(this);
                if (!i.is(".disabled, :disabled")) {
                    var o = t(i),
                        a = o.hasClass("open");
                    if ((n(), !a)) {
                        "ontouchstart" in document.documentElement &&
                            !o.closest(".navbar-nav").length &&
                            e(document.createElement("div"))
                                .addClass("dropdown-backdrop")
                                .insertAfter(e(this))
                                .on("click", n);
                        var s = { relatedTarget: this };
                        if (
                            (o.trigger((r = e.Event("show.bs.dropdown", s))),
                            r.isDefaultPrevented())
                        )
                            return;
                        i.trigger("focus").attr("aria-expanded", "true"),
                            o
                                .toggleClass("open")
                                .trigger(e.Event("shown.bs.dropdown", s));
                    }
                    return !1;
                }
            }),
            (a.prototype.keydown = function(n) {
                if (
                    /(38|40|27|32)/.test(n.which) &&
                    !/input|textarea/i.test(n.target.tagName)
                ) {
                    var r = e(this);
                    if (
                        (n.preventDefault(),
                        n.stopPropagation(),
                        !r.is(".disabled, :disabled"))
                    ) {
                        var i = t(r),
                            a = i.hasClass("open");
                        if ((!a && 27 != n.which) || (a && 27 == n.which))
                            return (
                                27 == n.which && i.find(o).trigger("focus"),
                                r.trigger("click")
                            );
                        var s = i.find(
                            ".dropdown-menu li:not(.disabled):visible a"
                        );
                        if (s.length) {
                            var l = s.index(n.target);
                            38 == n.which && l > 0 && l--,
                                40 == n.which && l < s.length - 1 && l++,
                                ~l || (l = 0),
                                s.eq(l).trigger("focus");
                        }
                    }
                }
            });
        var s = e.fn.dropdown;
        (e.fn.dropdown = r),
            (e.fn.dropdown.Constructor = a),
            (e.fn.dropdown.noConflict = function() {
                return (e.fn.dropdown = s), this;
            }),
            e(document)
                .on("click.bs.dropdown.data-api", n)
                .on("click.bs.dropdown.data-api", ".dropdown form", function(
                    e
                ) {
                    e.stopPropagation();
                })
                .on("click.bs.dropdown.data-api", o, a.prototype.toggle)
                .on("keydown.bs.dropdown.data-api", o, a.prototype.keydown)
                .on(
                    "keydown.bs.dropdown.data-api",
                    ".dropdown-menu",
                    a.prototype.keydown
                );
    })(jQuery),
    (function(e) {
        "use strict";
        function t(t, r) {
            return this.each(function() {
                var i = e(this),
                    o = i.data("bs.modal"),
                    a = e.extend(
                        {},
                        n.DEFAULTS,
                        i.data(),
                        "object" == typeof t && t
                    );
                o || i.data("bs.modal", (o = new n(this, a))),
                    "string" == typeof t ? o[t](r) : a.show && o.show(r);
            });
        }
        var n = function(t, n) {
            (this.options = n),
                (this.$body = e(document.body)),
                (this.$element = e(t)),
                (this.$dialog = this.$element.find(".modal-dialog")),
                (this.$backdrop = null),
                (this.isShown = null),
                (this.originalBodyPad = null),
                (this.scrollbarWidth = 0),
                (this.ignoreBackdropClick = !1),
                this.options.remote &&
                    this.$element.find(".modal-content").load(
                        this.options.remote,
                        e.proxy(function() {
                            this.$element.trigger("loaded.bs.modal");
                        }, this)
                    );
        };
        (n.VERSION = "3.3.7"),
            (n.TRANSITION_DURATION = 300),
            (n.BACKDROP_TRANSITION_DURATION = 150),
            (n.DEFAULTS = { backdrop: !0, keyboard: !0, show: !0 }),
            (n.prototype.toggle = function(e) {
                return this.isShown ? this.hide() : this.show(e);
            }),
            (n.prototype.show = function(t) {
                var r = this,
                    i = e.Event("show.bs.modal", { relatedTarget: t });
                this.$element.trigger(i),
                    this.isShown ||
                        i.isDefaultPrevented() ||
                        ((this.isShown = !0),
                        this.checkScrollbar(),
                        this.setScrollbar(),
                        this.$body.addClass("modal-open"),
                        this.escape(),
                        this.resize(),
                        this.$element.on(
                            "click.dismiss.bs.modal",
                            '[data-dismiss="modal"]',
                            e.proxy(this.hide, this)
                        ),
                        this.$dialog.on(
                            "mousedown.dismiss.bs.modal",
                            function() {
                                r.$element.one(
                                    "mouseup.dismiss.bs.modal",
                                    function(t) {
                                        e(t.target).is(r.$element) &&
                                            (r.ignoreBackdropClick = !0);
                                    }
                                );
                            }
                        ),
                        this.backdrop(function() {
                            var i =
                                e.support.transition &&
                                r.$element.hasClass("fade");
                            r.$element.parent().length ||
                                r.$element.appendTo(r.$body),
                                r.$element.show().scrollTop(0),
                                r.adjustDialog(),
                                i && r.$element[0].offsetWidth,
                                r.$element.addClass("in"),
                                r.enforceFocus();
                            var o = e.Event("shown.bs.modal", {
                                relatedTarget: t
                            });
                            i
                                ? r.$dialog
                                      .one("bsTransitionEnd", function() {
                                          r.$element
                                              .trigger("focus")
                                              .trigger(o);
                                      })
                                      .emulateTransitionEnd(
                                          n.TRANSITION_DURATION
                                      )
                                : r.$element.trigger("focus").trigger(o);
                        }));
            }),
            (n.prototype.hide = function(t) {
                t && t.preventDefault(),
                    (t = e.Event("hide.bs.modal")),
                    this.$element.trigger(t),
                    this.isShown &&
                        !t.isDefaultPrevented() &&
                        ((this.isShown = !1),
                        this.escape(),
                        this.resize(),
                        e(document).off("focusin.bs.modal"),
                        this.$element
                            .removeClass("in")
                            .off("click.dismiss.bs.modal")
                            .off("mouseup.dismiss.bs.modal"),
                        this.$dialog.off("mousedown.dismiss.bs.modal"),
                        e.support.transition && this.$element.hasClass("fade")
                            ? this.$element
                                  .one(
                                      "bsTransitionEnd",
                                      e.proxy(this.hideModal, this)
                                  )
                                  .emulateTransitionEnd(n.TRANSITION_DURATION)
                            : this.hideModal());
            }),
            (n.prototype.enforceFocus = function() {
                e(document)
                    .off("focusin.bs.modal")
                    .on(
                        "focusin.bs.modal",
                        e.proxy(function(e) {
                            document === e.target ||
                                this.$element[0] === e.target ||
                                this.$element.has(e.target).length ||
                                this.$element.trigger("focus");
                        }, this)
                    );
            }),
            (n.prototype.escape = function() {
                this.isShown && this.options.keyboard
                    ? this.$element.on(
                          "keydown.dismiss.bs.modal",
                          e.proxy(function(e) {
                              27 == e.which && this.hide();
                          }, this)
                      )
                    : this.isShown ||
                      this.$element.off("keydown.dismiss.bs.modal");
            }),
            (n.prototype.resize = function() {
                this.isShown
                    ? e(window).on(
                          "resize.bs.modal",
                          e.proxy(this.handleUpdate, this)
                      )
                    : e(window).off("resize.bs.modal");
            }),
            (n.prototype.hideModal = function() {
                var e = this;
                this.$element.hide(),
                    this.backdrop(function() {
                        e.$body.removeClass("modal-open"),
                            e.resetAdjustments(),
                            e.resetScrollbar(),
                            e.$element.trigger("hidden.bs.modal");
                    });
            }),
            (n.prototype.removeBackdrop = function() {
                this.$backdrop && this.$backdrop.remove(),
                    (this.$backdrop = null);
            }),
            (n.prototype.backdrop = function(t) {
                var r = this,
                    i = this.$element.hasClass("fade") ? "fade" : "";
                if (this.isShown && this.options.backdrop) {
                    var o = e.support.transition && i;
                    if (
                        ((this.$backdrop = e(document.createElement("div"))
                            .addClass("modal-backdrop " + i)
                            .appendTo(this.$body)),
                        this.$element.on(
                            "click.dismiss.bs.modal",
                            e.proxy(function(e) {
                                if (this.ignoreBackdropClick)
                                    return void (this.ignoreBackdropClick = !1);
                                e.target === e.currentTarget &&
                                    ("static" == this.options.backdrop
                                        ? this.$element[0].focus()
                                        : this.hide());
                            }, this)
                        ),
                        o && this.$backdrop[0].offsetWidth,
                        this.$backdrop.addClass("in"),
                        !t)
                    )
                        return;
                    o
                        ? this.$backdrop
                              .one("bsTransitionEnd", t)
                              .emulateTransitionEnd(
                                  n.BACKDROP_TRANSITION_DURATION
                              )
                        : t();
                } else if (!this.isShown && this.$backdrop) {
                    this.$backdrop.removeClass("in");
                    var a = function() {
                        r.removeBackdrop(), t && t();
                    };
                    e.support.transition && this.$element.hasClass("fade")
                        ? this.$backdrop
                              .one("bsTransitionEnd", a)
                              .emulateTransitionEnd(
                                  n.BACKDROP_TRANSITION_DURATION
                              )
                        : a();
                } else t && t();
            }),
            (n.prototype.handleUpdate = function() {
                this.adjustDialog();
            }),
            (n.prototype.adjustDialog = function() {
                var e =
                    this.$element[0].scrollHeight >
                    document.documentElement.clientHeight;
                this.$element.css({
                    paddingLeft:
                        !this.bodyIsOverflowing && e ? this.scrollbarWidth : "",
                    paddingRight:
                        this.bodyIsOverflowing && !e ? this.scrollbarWidth : ""
                });
            }),
            (n.prototype.resetAdjustments = function() {
                this.$element.css({ paddingLeft: "", paddingRight: "" });
            }),
            (n.prototype.checkScrollbar = function() {
                var e = window.innerWidth;
                if (!e) {
                    var t = document.documentElement.getBoundingClientRect();
                    e = t.right - Math.abs(t.left);
                }
                (this.bodyIsOverflowing = document.body.clientWidth < e),
                    (this.scrollbarWidth = this.measureScrollbar());
            }),
            (n.prototype.setScrollbar = function() {
                var e = parseInt(this.$body.css("padding-right") || 0, 10);
                (this.originalBodyPad = document.body.style.paddingRight || ""),
                    this.bodyIsOverflowing &&
                        this.$body.css(
                            "padding-right",
                            e + this.scrollbarWidth
                        );
            }),
            (n.prototype.resetScrollbar = function() {
                this.$body.css("padding-right", this.originalBodyPad);
            }),
            (n.prototype.measureScrollbar = function() {
                var e = document.createElement("div");
                (e.className = "modal-scrollbar-measure"), this.$body.append(e);
                var t = e.offsetWidth - e.clientWidth;
                return this.$body[0].removeChild(e), t;
            });
        var r = e.fn.modal;
        (e.fn.modal = t),
            (e.fn.modal.Constructor = n),
            (e.fn.modal.noConflict = function() {
                return (e.fn.modal = r), this;
            }),
            e(document).on(
                "click.bs.modal.data-api",
                '[data-toggle="modal"]',
                function(n) {
                    var r = e(this),
                        i = r.attr("href"),
                        o = e(
                            r.attr("data-target") ||
                                (i && i.replace(/.*(?=#[^\s]+$)/, ""))
                        ),
                        a = o.data("bs.modal")
                            ? "toggle"
                            : e.extend(
                                  { remote: !/#/.test(i) && i },
                                  o.data(),
                                  r.data()
                              );
                    r.is("a") && n.preventDefault(),
                        o.one("show.bs.modal", function(e) {
                            e.isDefaultPrevented() ||
                                o.one("hidden.bs.modal", function() {
                                    r.is(":visible") && r.trigger("focus");
                                });
                        }),
                        t.call(o, a, this);
                }
            );
    })(jQuery),
    (function(e) {
        "use strict";
        function t(t) {
            return this.each(function() {
                var r = e(this),
                    i = r.data("bs.tooltip"),
                    o = "object" == typeof t && t;
                (!i && /destroy|hide/.test(t)) ||
                    (i || r.data("bs.tooltip", (i = new n(this, o))),
                    "string" == typeof t && i[t]());
            });
        }
        var n = function(e, t) {
            (this.type = null),
                (this.options = null),
                (this.enabled = null),
                (this.timeout = null),
                (this.hoverState = null),
                (this.$element = null),
                (this.inState = null),
                this.init("tooltip", e, t);
        };
        (n.VERSION = "3.3.7"),
            (n.TRANSITION_DURATION = 150),
            (n.DEFAULTS = {
                animation: !0,
                placement: "top",
                selector: !1,
                template:
                    '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
                trigger: "hover focus",
                title: "",
                delay: 0,
                html: !1,
                container: !1,
                viewport: { selector: "body", padding: 0 }
            }),
            (n.prototype.init = function(t, n, r) {
                if (
                    ((this.enabled = !0),
                    (this.type = t),
                    (this.$element = e(n)),
                    (this.options = this.getOptions(r)),
                    (this.$viewport =
                        this.options.viewport &&
                        e(
                            e.isFunction(this.options.viewport)
                                ? this.options.viewport.call(
                                      this,
                                      this.$element
                                  )
                                : this.options.viewport.selector ||
                                  this.options.viewport
                        )),
                    (this.inState = { click: !1, hover: !1, focus: !1 }),
                    this.$element[0] instanceof document.constructor &&
                        !this.options.selector)
                )
                    throw new Error(
                        "`selector` option must be specified when initializing " +
                            this.type +
                            " on the window.document object!"
                    );
                for (
                    var i = this.options.trigger.split(" "), o = i.length;
                    o--;

                ) {
                    var a = i[o];
                    if ("click" == a)
                        this.$element.on(
                            "click." + this.type,
                            this.options.selector,
                            e.proxy(this.toggle, this)
                        );
                    else if ("manual" != a) {
                        var s = "hover" == a ? "mouseenter" : "focusin",
                            l = "hover" == a ? "mouseleave" : "focusout";
                        this.$element.on(
                            s + "." + this.type,
                            this.options.selector,
                            e.proxy(this.enter, this)
                        ),
                            this.$element.on(
                                l + "." + this.type,
                                this.options.selector,
                                e.proxy(this.leave, this)
                            );
                    }
                }
                this.options.selector
                    ? (this._options = e.extend({}, this.options, {
                          trigger: "manual",
                          selector: ""
                      }))
                    : this.fixTitle();
            }),
            (n.prototype.getDefaults = function() {
                return n.DEFAULTS;
            }),
            (n.prototype.getOptions = function(t) {
                return (
                    (t = e.extend(
                        {},
                        this.getDefaults(),
                        this.$element.data(),
                        t
                    )),
                    t.delay &&
                        "number" == typeof t.delay &&
                        (t.delay = { show: t.delay, hide: t.delay }),
                    t
                );
            }),
            (n.prototype.getDelegateOptions = function() {
                var t = {},
                    n = this.getDefaults();
                return (
                    this._options &&
                        e.each(this._options, function(e, r) {
                            n[e] != r && (t[e] = r);
                        }),
                    t
                );
            }),
            (n.prototype.enter = function(t) {
                var n =
                    t instanceof this.constructor
                        ? t
                        : e(t.currentTarget).data("bs." + this.type);
                return (
                    n ||
                        ((n = new this.constructor(
                            t.currentTarget,
                            this.getDelegateOptions()
                        )),
                        e(t.currentTarget).data("bs." + this.type, n)),
                    t instanceof e.Event &&
                        (n.inState[
                            "focusin" == t.type ? "focus" : "hover"
                        ] = !0),
                    n.tip().hasClass("in") || "in" == n.hoverState
                        ? void (n.hoverState = "in")
                        : (clearTimeout(n.timeout),
                          (n.hoverState = "in"),
                          n.options.delay && n.options.delay.show
                              ? void (n.timeout = setTimeout(function() {
                                    "in" == n.hoverState && n.show();
                                }, n.options.delay.show))
                              : n.show())
                );
            }),
            (n.prototype.isInStateTrue = function() {
                for (var e in this.inState) if (this.inState[e]) return !0;
                return !1;
            }),
            (n.prototype.leave = function(t) {
                var n =
                    t instanceof this.constructor
                        ? t
                        : e(t.currentTarget).data("bs." + this.type);
                if (
                    (n ||
                        ((n = new this.constructor(
                            t.currentTarget,
                            this.getDelegateOptions()
                        )),
                        e(t.currentTarget).data("bs." + this.type, n)),
                    t instanceof e.Event &&
                        (n.inState[
                            "focusout" == t.type ? "focus" : "hover"
                        ] = !1),
                    !n.isInStateTrue())
                ) {
                    if (
                        (clearTimeout(n.timeout),
                        (n.hoverState = "out"),
                        !n.options.delay || !n.options.delay.hide)
                    )
                        return n.hide();
                    n.timeout = setTimeout(function() {
                        "out" == n.hoverState && n.hide();
                    }, n.options.delay.hide);
                }
            }),
            (n.prototype.show = function() {
                var t = e.Event("show.bs." + this.type);
                if (this.hasContent() && this.enabled) {
                    this.$element.trigger(t);
                    var r = e.contains(
                        this.$element[0].ownerDocument.documentElement,
                        this.$element[0]
                    );
                    if (t.isDefaultPrevented() || !r) return;
                    var i = this,
                        o = this.tip(),
                        a = this.getUID(this.type);
                    this.setContent(),
                        o.attr("id", a),
                        this.$element.attr("aria-describedby", a),
                        this.options.animation && o.addClass("fade");
                    var s =
                            "function" == typeof this.options.placement
                                ? this.options.placement.call(
                                      this,
                                      o[0],
                                      this.$element[0]
                                  )
                                : this.options.placement,
                        l = /\s?auto?\s?/i,
                        u = l.test(s);
                    u && (s = s.replace(l, "") || "top"),
                        o
                            .detach()
                            .css({ top: 0, left: 0, display: "block" })
                            .addClass(s)
                            .data("bs." + this.type, this),
                        this.options.container
                            ? o.appendTo(this.options.container)
                            : o.insertAfter(this.$element),
                        this.$element.trigger("inserted.bs." + this.type);
                    var c = this.getPosition(),
                        d = o[0].offsetWidth,
                        f = o[0].offsetHeight;
                    if (u) {
                        var p = s,
                            h = this.getPosition(this.$viewport);
                        (s =
                            "bottom" == s && c.bottom + f > h.bottom
                                ? "top"
                                : "top" == s && c.top - f < h.top
                                    ? "bottom"
                                    : "right" == s && c.right + d > h.width
                                        ? "left"
                                        : "left" == s && c.left - d < h.left
                                            ? "right"
                                            : s),
                            o.removeClass(p).addClass(s);
                    }
                    var m = this.getCalculatedOffset(s, c, d, f);
                    this.applyPlacement(m, s);
                    var g = function() {
                        var e = i.hoverState;
                        i.$element.trigger("shown.bs." + i.type),
                            (i.hoverState = null),
                            "out" == e && i.leave(i);
                    };
                    e.support.transition && this.$tip.hasClass("fade")
                        ? o
                              .one("bsTransitionEnd", g)
                              .emulateTransitionEnd(n.TRANSITION_DURATION)
                        : g();
                }
            }),
            (n.prototype.applyPlacement = function(t, n) {
                var r = this.tip(),
                    i = r[0].offsetWidth,
                    o = r[0].offsetHeight,
                    a = parseInt(r.css("margin-top"), 10),
                    s = parseInt(r.css("margin-left"), 10);
                isNaN(a) && (a = 0),
                    isNaN(s) && (s = 0),
                    (t.top += a),
                    (t.left += s),
                    e.offset.setOffset(
                        r[0],
                        e.extend(
                            {
                                using: function(e) {
                                    r.css({
                                        top: Math.round(e.top),
                                        left: Math.round(e.left)
                                    });
                                }
                            },
                            t
                        ),
                        0
                    ),
                    r.addClass("in");
                var l = r[0].offsetWidth,
                    u = r[0].offsetHeight;
                "top" == n && u != o && (t.top = t.top + o - u);
                var c = this.getViewportAdjustedDelta(n, t, l, u);
                c.left ? (t.left += c.left) : (t.top += c.top);
                var d = /top|bottom/.test(n),
                    f = d ? 2 * c.left - i + l : 2 * c.top - o + u,
                    p = d ? "offsetWidth" : "offsetHeight";
                r.offset(t), this.replaceArrow(f, r[0][p], d);
            }),
            (n.prototype.replaceArrow = function(e, t, n) {
                this.arrow()
                    .css(n ? "left" : "top", 50 * (1 - e / t) + "%")
                    .css(n ? "top" : "left", "");
            }),
            (n.prototype.setContent = function() {
                var e = this.tip(),
                    t = this.getTitle();
                e
                    .find(".tooltip-inner")
                    [this.options.html ? "html" : "text"](t),
                    e.removeClass("fade in top bottom left right");
            }),
            (n.prototype.hide = function(t) {
                function r() {
                    "in" != i.hoverState && o.detach(),
                        i.$element &&
                            i.$element
                                .removeAttr("aria-describedby")
                                .trigger("hidden.bs." + i.type),
                        t && t();
                }
                var i = this,
                    o = e(this.$tip),
                    a = e.Event("hide.bs." + this.type);
                if ((this.$element.trigger(a), !a.isDefaultPrevented()))
                    return (
                        o.removeClass("in"),
                        e.support.transition && o.hasClass("fade")
                            ? o
                                  .one("bsTransitionEnd", r)
                                  .emulateTransitionEnd(n.TRANSITION_DURATION)
                            : r(),
                        (this.hoverState = null),
                        this
                    );
            }),
            (n.prototype.fixTitle = function() {
                var e = this.$element;
                (e.attr("title") ||
                    "string" != typeof e.attr("data-original-title")) &&
                    e
                        .attr("data-original-title", e.attr("title") || "")
                        .attr("title", "");
            }),
            (n.prototype.hasContent = function() {
                return this.getTitle();
            }),
            (n.prototype.getPosition = function(t) {
                t = t || this.$element;
                var n = t[0],
                    r = "BODY" == n.tagName,
                    i = n.getBoundingClientRect();
                null == i.width &&
                    (i = e.extend({}, i, {
                        width: i.right - i.left,
                        height: i.bottom - i.top
                    }));
                var o = window.SVGElement && n instanceof window.SVGElement,
                    a = r ? { top: 0, left: 0 } : o ? null : t.offset(),
                    s = {
                        scroll: r
                            ? document.documentElement.scrollTop ||
                              document.body.scrollTop
                            : t.scrollTop()
                    },
                    l = r
                        ? {
                              width: e(window).width(),
                              height: e(window).height()
                          }
                        : null;
                return e.extend({}, i, s, l, a);
            }),
            (n.prototype.getCalculatedOffset = function(e, t, n, r) {
                return "bottom" == e
                    ? {
                          top: t.top + t.height,
                          left: t.left + t.width / 2 - n / 2
                      }
                    : "top" == e
                        ? { top: t.top - r, left: t.left + t.width / 2 - n / 2 }
                        : "left" == e
                            ? {
                                  top: t.top + t.height / 2 - r / 2,
                                  left: t.left - n
                              }
                            : {
                                  top: t.top + t.height / 2 - r / 2,
                                  left: t.left + t.width
                              };
            }),
            (n.prototype.getViewportAdjustedDelta = function(e, t, n, r) {
                var i = { top: 0, left: 0 };
                if (!this.$viewport) return i;
                var o =
                        (this.options.viewport &&
                            this.options.viewport.padding) ||
                        0,
                    a = this.getPosition(this.$viewport);
                if (/right|left/.test(e)) {
                    var s = t.top - o - a.scroll,
                        l = t.top + o - a.scroll + r;
                    s < a.top
                        ? (i.top = a.top - s)
                        : l > a.top + a.height &&
                          (i.top = a.top + a.height - l);
                } else {
                    var u = t.left - o,
                        c = t.left + o + n;
                    u < a.left
                        ? (i.left = a.left - u)
                        : c > a.right && (i.left = a.left + a.width - c);
                }
                return i;
            }),
            (n.prototype.getTitle = function() {
                var e = this.$element,
                    t = this.options;
                return (
                    e.attr("data-original-title") ||
                    ("function" == typeof t.title
                        ? t.title.call(e[0])
                        : t.title)
                );
            }),
            (n.prototype.getUID = function(e) {
                do {
                    e += ~~(1e6 * Math.random());
                } while (document.getElementById(e));
                return e;
            }),
            (n.prototype.tip = function() {
                if (
                    !this.$tip &&
                    ((this.$tip = e(this.options.template)),
                    1 != this.$tip.length)
                )
                    throw new Error(
                        this.type +
                            " `template` option must consist of exactly 1 top-level element!"
                    );
                return this.$tip;
            }),
            (n.prototype.arrow = function() {
                return (this.$arrow =
                    this.$arrow || this.tip().find(".tooltip-arrow"));
            }),
            (n.prototype.enable = function() {
                this.enabled = !0;
            }),
            (n.prototype.disable = function() {
                this.enabled = !1;
            }),
            (n.prototype.toggleEnabled = function() {
                this.enabled = !this.enabled;
            }),
            (n.prototype.toggle = function(t) {
                var n = this;
                t &&
                    ((n = e(t.currentTarget).data("bs." + this.type)) ||
                        ((n = new this.constructor(
                            t.currentTarget,
                            this.getDelegateOptions()
                        )),
                        e(t.currentTarget).data("bs." + this.type, n))),
                    t
                        ? ((n.inState.click = !n.inState.click),
                          n.isInStateTrue() ? n.enter(n) : n.leave(n))
                        : n.tip().hasClass("in")
                            ? n.leave(n)
                            : n.enter(n);
            }),
            (n.prototype.destroy = function() {
                var e = this;
                clearTimeout(this.timeout),
                    this.hide(function() {
                        e.$element.off("." + e.type).removeData("bs." + e.type),
                            e.$tip && e.$tip.detach(),
                            (e.$tip = null),
                            (e.$arrow = null),
                            (e.$viewport = null),
                            (e.$element = null);
                    });
            });
        var r = e.fn.tooltip;
        (e.fn.tooltip = t),
            (e.fn.tooltip.Constructor = n),
            (e.fn.tooltip.noConflict = function() {
                return (e.fn.tooltip = r), this;
            });
    })(jQuery),
    (function(e) {
        "use strict";
        function t(t) {
            return this.each(function() {
                var r = e(this),
                    i = r.data("bs.popover"),
                    o = "object" == typeof t && t;
                (!i && /destroy|hide/.test(t)) ||
                    (i || r.data("bs.popover", (i = new n(this, o))),
                    "string" == typeof t && i[t]());
            });
        }
        var n = function(e, t) {
            this.init("popover", e, t);
        };
        if (!e.fn.tooltip) throw new Error("Popover requires tooltip.js");
        (n.VERSION = "3.3.7"),
            (n.DEFAULTS = e.extend({}, e.fn.tooltip.Constructor.DEFAULTS, {
                placement: "right",
                trigger: "click",
                content: "",
                template:
                    '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
            })),
            (n.prototype = e.extend({}, e.fn.tooltip.Constructor.prototype)),
            (n.prototype.constructor = n),
            (n.prototype.getDefaults = function() {
                return n.DEFAULTS;
            }),
            (n.prototype.setContent = function() {
                var e = this.tip(),
                    t = this.getTitle(),
                    n = this.getContent();
                e
                    .find(".popover-title")
                    [this.options.html ? "html" : "text"](t),
                    e
                        .find(".popover-content")
                        .children()
                        .detach()
                        .end()
                        [
                            this.options.html
                                ? "string" == typeof n
                                    ? "html"
                                    : "append"
                                : "text"
                        ](n),
                    e.removeClass("fade top bottom left right in"),
                    e.find(".popover-title").html() ||
                        e.find(".popover-title").hide();
            }),
            (n.prototype.hasContent = function() {
                return this.getTitle() || this.getContent();
            }),
            (n.prototype.getContent = function() {
                var e = this.$element,
                    t = this.options;
                return (
                    e.attr("data-content") ||
                    ("function" == typeof t.content
                        ? t.content.call(e[0])
                        : t.content)
                );
            }),
            (n.prototype.arrow = function() {
                return (this.$arrow = this.$arrow || this.tip().find(".arrow"));
            });
        var r = e.fn.popover;
        (e.fn.popover = t),
            (e.fn.popover.Constructor = n),
            (e.fn.popover.noConflict = function() {
                return (e.fn.popover = r), this;
            });
    })(jQuery),
    (function(e) {
        "use strict";
        function t(n, r) {
            (this.$body = e(document.body)),
                (this.$scrollElement = e(e(n).is(document.body) ? window : n)),
                (this.options = e.extend({}, t.DEFAULTS, r)),
                (this.selector = (this.options.target || "") + " .nav li > a"),
                (this.offsets = []),
                (this.targets = []),
                (this.activeTarget = null),
                (this.scrollHeight = 0),
                this.$scrollElement.on(
                    "scroll.bs.scrollspy",
                    e.proxy(this.process, this)
                ),
                this.refresh(),
                this.process();
        }
        function n(n) {
            return this.each(function() {
                var r = e(this),
                    i = r.data("bs.scrollspy"),
                    o = "object" == typeof n && n;
                i || r.data("bs.scrollspy", (i = new t(this, o))),
                    "string" == typeof n && i[n]();
            });
        }
        (t.VERSION = "3.3.7"),
            (t.DEFAULTS = { offset: 10 }),
            (t.prototype.getScrollHeight = function() {
                return (
                    this.$scrollElement[0].scrollHeight ||
                    Math.max(
                        this.$body[0].scrollHeight,
                        document.documentElement.scrollHeight
                    )
                );
            }),
            (t.prototype.refresh = function() {
                var t = this,
                    n = "offset",
                    r = 0;
                (this.offsets = []),
                    (this.targets = []),
                    (this.scrollHeight = this.getScrollHeight()),
                    e.isWindow(this.$scrollElement[0]) ||
                        ((n = "position"),
                        (r = this.$scrollElement.scrollTop())),
                    this.$body
                        .find(this.selector)
                        .map(function() {
                            var t = e(this),
                                i = t.data("target") || t.attr("href"),
                                o = /^#./.test(i) && e(i);
                            return (
                                (o &&
                                    o.length &&
                                    o.is(":visible") && [
                                        [o[n]().top + r, i]
                                    ]) ||
                                null
                            );
                        })
                        .sort(function(e, t) {
                            return e[0] - t[0];
                        })
                        .each(function() {
                            t.offsets.push(this[0]), t.targets.push(this[1]);
                        });
            }),
            (t.prototype.process = function() {
                var e,
                    t = this.$scrollElement.scrollTop() + this.options.offset,
                    n = this.getScrollHeight(),
                    r = this.options.offset + n - this.$scrollElement.height(),
                    i = this.offsets,
                    o = this.targets,
                    a = this.activeTarget;
                if ((this.scrollHeight != n && this.refresh(), t >= r))
                    return a != (e = o[o.length - 1]) && this.activate(e);
                if (a && t < i[0])
                    return (this.activeTarget = null), this.clear();
                for (e = i.length; e--; )
                    a != o[e] &&
                        t >= i[e] &&
                        (void 0 === i[e + 1] || t < i[e + 1]) &&
                        this.activate(o[e]);
            }),
            (t.prototype.activate = function(t) {
                (this.activeTarget = t), this.clear();
                var n =
                        this.selector +
                        '[data-target="' +
                        t +
                        '"],' +
                        this.selector +
                        '[href="' +
                        t +
                        '"]',
                    r = e(n)
                        .parents("li")
                        .addClass("active");
                r.parent(".dropdown-menu").length &&
                    (r = r.closest("li.dropdown").addClass("active")),
                    r.trigger("activate.bs.scrollspy");
            }),
            (t.prototype.clear = function() {
                e(this.selector)
                    .parentsUntil(this.options.target, ".active")
                    .removeClass("active");
            });
        var r = e.fn.scrollspy;
        (e.fn.scrollspy = n),
            (e.fn.scrollspy.Constructor = t),
            (e.fn.scrollspy.noConflict = function() {
                return (e.fn.scrollspy = r), this;
            }),
            e(window).on("load.bs.scrollspy.data-api", function() {
                e('[data-spy="scroll"]').each(function() {
                    var t = e(this);
                    n.call(t, t.data());
                });
            });
    })(jQuery),
    (function(e) {
        "use strict";
        function t(t) {
            return this.each(function() {
                var r = e(this),
                    i = r.data("bs.tab");
                i || r.data("bs.tab", (i = new n(this))),
                    "string" == typeof t && i[t]();
            });
        }
        var n = function(t) {
            this.element = e(t);
        };
        (n.VERSION = "3.3.7"),
            (n.TRANSITION_DURATION = 150),
            (n.prototype.show = function() {
                var t = this.element,
                    n = t.closest("ul:not(.dropdown-menu)"),
                    r = t.data("target");
                if (
                    (r ||
                        ((r = t.attr("href")),
                        (r = r && r.replace(/.*(?=#[^\s]*$)/, ""))),
                    !t.parent("li").hasClass("active"))
                ) {
                    var i = n.find(".active:last a"),
                        o = e.Event("hide.bs.tab", { relatedTarget: t[0] }),
                        a = e.Event("show.bs.tab", { relatedTarget: i[0] });
                    if (
                        (i.trigger(o),
                        t.trigger(a),
                        !a.isDefaultPrevented() && !o.isDefaultPrevented())
                    ) {
                        var s = e(r);
                        this.activate(t.closest("li"), n),
                            this.activate(s, s.parent(), function() {
                                i.trigger({
                                    type: "hidden.bs.tab",
                                    relatedTarget: t[0]
                                }),
                                    t.trigger({
                                        type: "shown.bs.tab",
                                        relatedTarget: i[0]
                                    });
                            });
                    }
                }
            }),
            (n.prototype.activate = function(t, r, i) {
                function o() {
                    a
                        .removeClass("active")
                        .find("> .dropdown-menu > .active")
                        .removeClass("active")
                        .end()
                        .find('[data-toggle="tab"]')
                        .attr("aria-expanded", !1),
                        t
                            .addClass("active")
                            .find('[data-toggle="tab"]')
                            .attr("aria-expanded", !0),
                        s
                            ? (t[0].offsetWidth, t.addClass("in"))
                            : t.removeClass("fade"),
                        t.parent(".dropdown-menu").length &&
                            t
                                .closest("li.dropdown")
                                .addClass("active")
                                .end()
                                .find('[data-toggle="tab"]')
                                .attr("aria-expanded", !0),
                        i && i();
                }
                var a = r.find("> .active"),
                    s =
                        i &&
                        e.support.transition &&
                        ((a.length && a.hasClass("fade")) ||
                            !!r.find("> .fade").length);
                a.length && s
                    ? a
                          .one("bsTransitionEnd", o)
                          .emulateTransitionEnd(n.TRANSITION_DURATION)
                    : o(),
                    a.removeClass("in");
            });
        var r = e.fn.tab;
        (e.fn.tab = t),
            (e.fn.tab.Constructor = n),
            (e.fn.tab.noConflict = function() {
                return (e.fn.tab = r), this;
            });
        var i = function(n) {
            n.preventDefault(), t.call(e(this), "show");
        };
        e(document)
            .on("click.bs.tab.data-api", '[data-toggle="tab"]', i)
            .on("click.bs.tab.data-api", '[data-toggle="pill"]', i);
    })(jQuery),
    (function(e) {
        "use strict";
        function t(t) {
            return this.each(function() {
                var r = e(this),
                    i = r.data("bs.affix"),
                    o = "object" == typeof t && t;
                i || r.data("bs.affix", (i = new n(this, o))),
                    "string" == typeof t && i[t]();
            });
        }
        var n = function(t, r) {
            (this.options = e.extend({}, n.DEFAULTS, r)),
                (this.$target = e(this.options.target)
                    .on(
                        "scroll.bs.affix.data-api",
                        e.proxy(this.checkPosition, this)
                    )
                    .on(
                        "click.bs.affix.data-api",
                        e.proxy(this.checkPositionWithEventLoop, this)
                    )),
                (this.$element = e(t)),
                (this.affixed = null),
                (this.unpin = null),
                (this.pinnedOffset = null),
                this.checkPosition();
        };
        (n.VERSION = "3.3.7"),
            (n.RESET = "affix affix-top affix-bottom"),
            (n.DEFAULTS = { offset: 0, target: window }),
            (n.prototype.getState = function(e, t, n, r) {
                var i = this.$target.scrollTop(),
                    o = this.$element.offset(),
                    a = this.$target.height();
                if (null != n && "top" == this.affixed) return i < n && "top";
                if ("bottom" == this.affixed)
                    return null != n
                        ? !(i + this.unpin <= o.top) && "bottom"
                        : !(i + a <= e - r) && "bottom";
                var s = null == this.affixed,
                    l = s ? i : o.top,
                    u = s ? a : t;
                return null != n && i <= n
                    ? "top"
                    : null != r && l + u >= e - r && "bottom";
            }),
            (n.prototype.getPinnedOffset = function() {
                if (this.pinnedOffset) return this.pinnedOffset;
                this.$element.removeClass(n.RESET).addClass("affix");
                var e = this.$target.scrollTop(),
                    t = this.$element.offset();
                return (this.pinnedOffset = t.top - e);
            }),
            (n.prototype.checkPositionWithEventLoop = function() {
                setTimeout(e.proxy(this.checkPosition, this), 1);
            }),
            (n.prototype.checkPosition = function() {
                if (this.$element.is(":visible")) {
                    var t = this.$element.height(),
                        r = this.options.offset,
                        i = r.top,
                        o = r.bottom,
                        a = Math.max(
                            e(document).height(),
                            e(document.body).height()
                        );
                    "object" != typeof r && (o = i = r),
                        "function" == typeof i && (i = r.top(this.$element)),
                        "function" == typeof o && (o = r.bottom(this.$element));
                    var s = this.getState(a, t, i, o);
                    if (this.affixed != s) {
                        null != this.unpin && this.$element.css("top", "");
                        var l = "affix" + (s ? "-" + s : ""),
                            u = e.Event(l + ".bs.affix");
                        if ((this.$element.trigger(u), u.isDefaultPrevented()))
                            return;
                        (this.affixed = s),
                            (this.unpin =
                                "bottom" == s ? this.getPinnedOffset() : null),
                            this.$element
                                .removeClass(n.RESET)
                                .addClass(l)
                                .trigger(
                                    l.replace("affix", "affixed") + ".bs.affix"
                                );
                    }
                    "bottom" == s && this.$element.offset({ top: a - t - o });
                }
            });
        var r = e.fn.affix;
        (e.fn.affix = t),
            (e.fn.affix.Constructor = n),
            (e.fn.affix.noConflict = function() {
                return (e.fn.affix = r), this;
            }),
            e(window).on("load", function() {
                e('[data-spy="affix"]').each(function() {
                    var n = e(this),
                        r = n.data();
                    (r.offset = r.offset || {}),
                        null != r.offsetBottom &&
                            (r.offset.bottom = r.offsetBottom),
                        null != r.offsetTop && (r.offset.top = r.offsetTop),
                        t.call(n, r);
                });
            });
    })(jQuery),
    define("bootstrap", ["jquery"], (function(e) {
        return function() {
            return e.bootstrap;
        };
    })(this)),
    (function(e) {
        "use strict";
        var t = function(e) {
                return (
                    (e || "ui-id") + "-" + Math.floor(1e3 * Math.random() + 1)
                );
            },
            n = function(t, n) {
                var i,
                    o,
                    a,
                    s = t.nodeName.toLowerCase();
                return "area" === s
                    ? ((i = t.parentNode),
                      (o = i.name),
                      !(!t.href || !o || "map" !== i.nodeName.toLowerCase()) &&
                          (!!(a = e("img[usemap='#" + o + "']")[0]) && r(a)))
                    : (/input|select|textarea|button|object/.test(s)
                          ? !t.disabled
                          : "a" === s
                              ? t.href || n
                              : n) && r(t);
            },
            r = function(t) {
                return (
                    e.expr.filters.visible(t) &&
                    !e(t)
                        .parents()
                        .addBack()
                        .filter(function() {
                            return "hidden" === e.css(this, "visibility");
                        }).length
                );
            };
        e.extend(e.expr[":"], {
            data: e.expr.createPseudo
                ? e.expr.createPseudo(function(t) {
                      return function(n) {
                          return !!e.data(n, t);
                      };
                  })
                : function(t, n, r) {
                      return !!e.data(t, r[3]);
                  },
            focusable: function(t) {
                return n(t, !isNaN(e.attr(t, "tabindex")));
            },
            tabbable: function(t) {
                var r = e.attr(t, "tabindex"),
                    i = isNaN(r);
                return (i || r >= 0) && n(t, !i);
            }
        }),
            e(".modal-dialog").attr({ role: "document" });
        var i = e.fn.modal.Constructor.prototype.hide;
        e.fn.modal.Constructor.prototype.hide = function() {
            i.apply(this, arguments), e(document).off("keydown.bs.modal");
        };
        var o = e.fn.modal.Constructor.prototype.enforceFocus;
        e.fn.modal.Constructor.prototype.enforceFocus = function() {
            var t = this.$element.find(".modal-content"),
                n = t.find(":tabbable"),
                r = e(n[n.length - 1]),
                i = e(n[0]);
            r.on(
                "keydown.bs.modal",
                e.proxy(function(e) {
                    9 !== e.keyCode ||
                        e.shiftKey | e.ctrlKey | e.metaKey | e.altKey ||
                        (e.preventDefault(), i.focus());
                }, this)
            ),
                i.on(
                    "keydown.bs.modal",
                    e.proxy(function(e) {
                        9 === e.keyCode &&
                            e.shiftKey &&
                            (e.preventDefault(), r.focus());
                    }, this)
                ),
                o.apply(this, arguments);
        };
        var a,
            s,
            l = "[data-toggle=dropdown]";
        e(l)
            .parent()
            .find("ul")
            .attr("role", "menu")
            .find("li")
            .attr("role", "presentation")
            .find("a")
            .attr({ role: "menuitem", tabIndex: "-1" }),
            e(l).attr({ "aria-haspopup": "true", "aria-expanded": "false" }),
            e(l)
                .parent()
                .on("shown.bs.dropdown", function(t) {
                    a = e(this);
                    var n = a.find(l);
                    n.attr("aria-expanded", "true"),
                        n.on(
                            "keydown.bs.dropdown",
                            e.proxy(function(t) {
                                setTimeout(function() {
                                    s = e(
                                        ".dropdown-menu [role=menuitem]:visible",
                                        a
                                    )[0];
                                    try {
                                        s.focus();
                                    } catch (e) {}
                                }, 200);
                            }, this)
                        );
                })
                .on("hidden.bs.dropdown", function(t) {
                    (a = e(this)), a.find(l).attr("aria-expanded", "false");
                }),
            e(document)
                .on("focusout.dropdown.data-api", ".dropdown-menu", function(
                    t
                ) {
                    var n = e(this),
                        r = this;
                    n.parent().hasClass("open") &&
                        setTimeout(function() {
                            e.contains(r, document.activeElement) ||
                                n
                                    .parent()
                                    .find("[data-toggle=dropdown]")
                                    .dropdown("toggle");
                        }, 150);
                })
                .on(
                    "keydown.bs.dropdown.data-api",
                    l + ", [role=menu]",
                    e.fn.dropdown.Constructor.prototype.keydown
                );
        var u = e(".nav-tabs, .nav-pills"),
            c = u.children("li"),
            d = u.find('[data-toggle="tab"], [data-toggle="pill"]');
        d &&
            (u.attr("role", "tablist"),
            c.attr("role", "presentation"),
            d.attr("role", "tab")),
            d.each(function(n) {
                var r = e(e(this).attr("href")),
                    i = e(this),
                    o = i.attr("id") || t("ui-tab");
                i.attr("id", o),
                    i.parent().hasClass("active")
                        ? (i.attr({
                              tabIndex: "0",
                              "aria-selected": "true",
                              "aria-controls": i.attr("href").substr(1)
                          }),
                          r.attr({
                              role: "tabpanel",
                              tabIndex: "0",
                              "aria-hidden": "false",
                              "aria-labelledby": o
                          }))
                        : (i.attr({
                              tabIndex: "-1",
                              "aria-selected": "false",
                              "aria-controls": i.attr("href").substr(1)
                          }),
                          r.attr({
                              role: "tabpanel",
                              tabIndex: "-1",
                              "aria-hidden": "true",
                              "aria-labelledby": o
                          }));
            }),
            (e.fn.tab.Constructor.prototype.keydown = function(t) {
                var n,
                    r,
                    i = e(this),
                    o = i.closest("ul[role=tablist] "),
                    a = t.which || t.keyCode;
                if (((i = e(this)), /(37|38|39|40)/.test(a))) {
                    (n = o.find("[role=tab]:visible")),
                        (r = n.index(n.filter(":focus"))),
                        (38 != a && 37 != a) || r--,
                        (39 != a && 40 != a) || r++,
                        r < 0 && (r = n.length - 1),
                        r == n.length && (r = 0);
                    var s = n.eq(r);
                    "tab" === s.attr("role") && s.tab("show").focus(),
                        t.preventDefault(),
                        t.stopPropagation();
                }
            }),
            e(document).on(
                "keydown.tab.data-api",
                '[data-toggle="tab"], [data-toggle="pill"]',
                e.fn.tab.Constructor.prototype.keydown
            );
        var f = e.fn.tab.Constructor.prototype.activate;
        (e.fn.tab.Constructor.prototype.activate = function(e, t, n) {
            var r = t.find("> .active");
            r
                .find("[data-toggle=tab], [data-toggle=pill]")
                .attr({ tabIndex: "-1", "aria-selected": !1 }),
                r
                    .filter(".tab-pane")
                    .attr({ "aria-hidden": !0, tabIndex: "-1" }),
                f.apply(this, arguments),
                e.addClass("active"),
                e
                    .find("[data-toggle=tab], [data-toggle=pill]")
                    .attr({ tabIndex: "0", "aria-selected": !0 }),
                e
                    .filter(".tab-pane")
                    .attr({ "aria-hidden": !1, tabIndex: "0" });
        }),
            e('[data-toggle="collapse"]').each(function(n) {
                var r = e(this),
                    i = e(
                        r.attr("data-target")
                            ? r.attr("data-target")
                            : r.attr("href")
                    ),
                    o = r.attr("data-parent"),
                    a = o && e(o),
                    s = r.attr("id") || t("ui-collapse");
                r.attr("id", s),
                    a &&
                        (r.attr({
                            role: "tab",
                            "aria-selected": "false",
                            "aria-expanded": "false"
                        }),
                        e(a)
                            .find("div:not(.collapse,.panel-body), h4")
                            .attr("role", "presentation"),
                        a.attr({
                            role: "tablist",
                            "aria-multiselectable": "true"
                        }),
                        i.hasClass("in")
                            ? (r.attr({
                                  "aria-controls": i.attr("id"),
                                  "aria-selected": "true",
                                  "aria-expanded": "true",
                                  tabindex: "0"
                              }),
                              i.attr({
                                  role: "tabpanel",
                                  tabindex: "0",
                                  "aria-labelledby": s,
                                  "aria-hidden": "false"
                              }))
                            : (r.attr({
                                  "aria-controls": i.attr("id"),
                                  tabindex: "-1"
                              }),
                              i.attr({
                                  role: "tabpanel",
                                  tabindex: "-1",
                                  "aria-labelledby": s,
                                  "aria-hidden": "true"
                              })));
            });
        var p = e.fn.collapse.Constructor.prototype.toggle;
        (e.fn.collapse.Constructor.prototype.toggle = function() {
            var t,
                n = this.$parent && this.$parent.find('[aria-expanded="true"]');
            if (n) {
                var r,
                    i =
                        n.attr("data-target") ||
                        ((t = n.attr("href")) &&
                            t.replace(/.*(?=#[^\s]+$)/, "")),
                    o = e(i),
                    a = this.$element;
                this.$parent;
                this.$parent &&
                    (r = this.$parent.find(
                        '[data-toggle=collapse][href="#' +
                            this.$element.attr("id") +
                            '"]'
                    )),
                    p.apply(this, arguments),
                    e.support.transition &&
                        this.$element.one(e.support.transition.end, function() {
                            n.attr({
                                "aria-selected": "false",
                                "aria-expanded": "false",
                                tabIndex: "-1"
                            }),
                                o.attr({
                                    "aria-hidden": "true",
                                    tabIndex: "-1"
                                }),
                                r.attr({
                                    "aria-selected": "true",
                                    "aria-expanded": "true",
                                    tabIndex: "0"
                                }),
                                a.hasClass("in")
                                    ? a.attr({
                                          "aria-hidden": "false",
                                          tabIndex: "0"
                                      })
                                    : (r.attr({
                                          "aria-selected": "false",
                                          "aria-expanded": "false"
                                      }),
                                      a.attr({
                                          "aria-hidden": "true",
                                          tabIndex: "-1"
                                      }));
                        });
            } else p.apply(this, arguments);
        }),
            (e.fn.collapse.Constructor.prototype.keydown = function(t) {
                var n,
                    r,
                    i = e(this),
                    o = i.closest("div[role=tablist] "),
                    a = t.which || t.keyCode;
                (i = e(this)),
                    /(32|37|38|39|40)/.test(a) &&
                        (32 == a && i.click(),
                        (n = o.find("[role=tab]")),
                        (r = n.index(n.filter(":focus"))),
                        (38 != a && 37 != a) || r--,
                        (39 != a && 40 != a) || r++,
                        r < 0 && (r = n.length - 1),
                        r == n.length && (r = 0),
                        n.eq(r).focus(),
                        t.preventDefault(),
                        t.stopPropagation());
            }),
            e(document).on(
                "keydown.collapse.data-api",
                '[data-toggle="collapse"]',
                e.fn.collapse.Constructor.prototype.keydown
            ),
            e(".carousel").each(function(t) {
                function n() {
                    var t,
                        n,
                        r,
                        o,
                        a = {};
                    (a.top = 0), (a.left = 32e3), (a.height = 0), (a.width = 0);
                    for (var s = 0; s < p.length; s++) {
                        (t = p[s]),
                            (n = e(t).offset()),
                            (r = e(t).height()),
                            (o = e(t).width()),
                            a.top < n.top && (a.top = Math.round(n.top)),
                            a.height < r && (a.height = Math.round(r)),
                            a.left > n.left && (a.left = Math.round(n.left));
                        var l = n.left - a.left + Math.round(o);
                        a.width < l && (a.width = l);
                    }
                    (i.style.top = a.top - 2 + "px"),
                        (i.style.left = a.left - 2 + "px"),
                        (i.style.height = a.height + 7 + "px"),
                        (i.style.width = a.width + 8 + "px");
                }
                var r,
                    i,
                    o,
                    a,
                    s,
                    l,
                    u = e(this),
                    c = u.find('[data-slide="prev"]'),
                    d = u.find('[data-slide="next"]'),
                    f = u.find(".carousel-indicators"),
                    p = u.find(".carousel-indicators li"),
                    h = u.find(".item"),
                    m = !1;
                for (
                    f.attr("role", "tablist"),
                        p.focus(function() {
                            u.carousel("pause"),
                                (m = !0),
                                (o.innerHTML = "Play Carousel"),
                                e(this)
                                    .parent()
                                    .addClass("active"),
                                n(),
                                e(i).addClass("focus"),
                                e(this)
                                    .parents(".carousel")
                                    .addClass("contrast");
                        }),
                        p.blur(function(t) {
                            e(this)
                                .parent()
                                .removeClass("active"),
                                e(i).removeClass("focus"),
                                e(this)
                                    .parents(".carousel")
                                    .removeClass("contrast");
                        }),
                        l = 0;
                    l < h.length;
                    l++
                )
                    (r = h[l]),
                        r.setAttribute("role", "tabpanel"),
                        r.setAttribute("id", "tabpanel-" + t + "-" + l),
                        r.setAttribute("aria-labelledby", "tab-" + t + "-" + l);
                for (
                    "string" != typeof u.attr("role") &&
                        (u.attr("role", "complementary"),
                        u.attr("aria-labelledby", "id_title"),
                        u.attr("aria-describedby", "id_desc"),
                        u.prepend(
                            '<p  id="id_desc" class="sr-only">A carousel is a rotating set of images, rotation stops on keyboard focus on carousel tab controls or hovering the mouse pointer over images.  Use the tabs or the previous and next buttons to change the displayed slide.</p>'
                        ),
                        u.prepend(
                            '<h2 id="id_title" class="sr-only">Carousel content with ' +
                                h.length +
                                " slides.</h2>"
                        )),
                        l = 0;
                    l < p.length;
                    l++
                ) {
                    (s = p[l]),
                        s.setAttribute("role", "tab"),
                        s.setAttribute("id", "tab-" + t + "-" + l),
                        s.setAttribute(
                            "aria-controls",
                            "tabpanel-" + t + "-" + l
                        );
                    var g = "#tabpanel-" + t + "-" + l,
                        v = u
                            .find(g)
                            .find("h1")
                            .text();
                    ("string" == typeof v && 0 !== v.length) ||
                        (v = u.find(g).text()),
                        ("string" == typeof v && 0 !== v.length) ||
                            (v = u
                                .find(g)
                                .find("h3")
                                .text()),
                        ("string" == typeof v && 0 !== v.length) ||
                            (v = u
                                .find(g)
                                .find("h4")
                                .text()),
                        ("string" == typeof v && 0 !== v.length) ||
                            (v = u
                                .find(g)
                                .find("h5")
                                .text()),
                        ("string" == typeof v && 0 !== v.length) ||
                            (v = u
                                .find(g)
                                .find("h6")
                                .text()),
                        ("string" == typeof v && 0 !== v.length) ||
                            (v = "no title");
                    var b = document.createElement("span");
                    b.setAttribute("class", "sr-only"),
                        (b.innerHTML = "Slide " + (l + 1)),
                        v && (b.innerHTML += ": " + v),
                        s.appendChild(b);
                }
                (i = document.createElement("div")),
                    (i.className = "carousel-tablist-highlight"),
                    document.body.appendChild(i),
                    (a = document.createElement("aside")),
                    a.setAttribute("class", "carousel-aside-pause"),
                    a.setAttribute("aria-label", "carousel pause/play control"),
                    u.prepend(a),
                    (o = document.createElement("button")),
                    (o.className = "carousel-pause-button"),
                    (o.innerHTML = "Pause Carousel"),
                    o.setAttribute(
                        "title",
                        "Pause/Play carousel button can be used by screen reader users to stop carousel animations"
                    ),
                    e(a).append(o),
                    e(o).click(function() {
                        m
                            ? ((o.innerHTML = "Pause Carousel"),
                              u.carousel("cycle"),
                              (m = !1))
                            : ((o.innerHTML = "Play Carousel"),
                              u.carousel("pause"),
                              (m = !0));
                    }),
                    e(o).focus(function() {
                        e(this).addClass("focus");
                    }),
                    e(o).blur(function() {
                        e(this).removeClass("focus");
                    }),
                    n(),
                    e(window).resize(function() {
                        n();
                    }),
                    c.attr("aria-label", "Previous Slide"),
                    c.keydown(function(e) {
                        /(13|32)/.test(e.which || e.keyCode) &&
                            (e.preventDefault(),
                            e.stopPropagation(),
                            c.trigger("click"));
                    }),
                    c.focus(function() {
                        e(this)
                            .parents(".carousel")
                            .addClass("contrast");
                    }),
                    c.blur(function() {
                        e(this)
                            .parents(".carousel")
                            .removeClass("contrast");
                    }),
                    d.attr("aria-label", "Next Slide"),
                    d.keydown(function(e) {
                        /(13|32)/.test(e.which || e.keyCode) &&
                            (e.preventDefault(),
                            e.stopPropagation(),
                            d.trigger("click"));
                    }),
                    d.focus(function() {
                        e(this)
                            .parents(".carousel")
                            .addClass("contrast");
                    }),
                    d.blur(function() {
                        e(this)
                            .parents(".carousel")
                            .removeClass("contrast");
                    }),
                    e(".carousel-inner a").focus(function() {
                        e(this)
                            .parents(".carousel")
                            .addClass("contrast");
                    }),
                    e(".carousel-inner a").blur(function() {
                        e(this)
                            .parents(".carousel")
                            .removeClass("contrast");
                    }),
                    p.each(function() {
                        var t = e(this);
                        t.hasClass("active")
                            ? t.attr({ "aria-selected": "true", tabindex: "0" })
                            : t.attr({
                                  "aria-selected": "false",
                                  tabindex: "-1"
                              });
                    });
            });
        var h = e.fn.carousel.Constructor.prototype.slide;
        e.fn.carousel.Constructor.prototype.slide = function(e, t) {
            var n,
                r = this.$element,
                i = r.find("[role=tabpanel].active"),
                o = t || i[e](),
                a = r.find("[role=tabpanel]").size(),
                s = r.find('[data-slide="prev"]'),
                l = r.find('[data-slide="next"]'),
                u = 0,
                c = a - 1,
                d = 1;
            o &&
                o.attr("id") &&
                ((n = o.attr("id")),
                (u = n.lastIndexOf("-")),
                u >= 0 && (u = parseInt(n.substring(u + 1), 10)),
                (c = u - 1),
                c < 1 && (c = a - 1),
                (d = u + 1) >= a && (d = 0)),
                s.attr("aria-label", "Show slide " + (c + 1) + " of " + a),
                l.attr("aria-label", "Show slide " + (d + 1) + " of " + a),
                h.apply(this, arguments),
                i.one("bsTransitionEnd", function() {
                    var e;
                    (e = r.find('li[aria-controls="' + i.attr("id") + '"]')),
                        e && e.attr({ "aria-selected": !1, tabIndex: "-1" }),
                        (e = r.find(
                            'li[aria-controls="' + o.attr("id") + '"]'
                        )) && e.attr({ "aria-selected": !0, tabIndex: "0" });
                });
        };
        var m;
        (e.fn.carousel.Constructor.prototype.keydown = function(t) {
            function n(e) {
                e >= o.length ||
                    e < 0 ||
                    (i.carousel(e),
                    setTimeout(function() {
                        o[e].focus();
                    }, 150));
            }
            (m = m || e(this)), this instanceof Node && (m = e(this));
            var r,
                i = e(t.target).closest(".carousel"),
                o = i.find("[role=tab]"),
                a = t.which || t.keyCode;
            /(37|38|39|40)/.test(a) &&
                ((r = o.index(o.filter(".active"))),
                (37 != a && 38 != a) || (r--, n(r)),
                (39 != a && 40 != a) || (r++, n(r)),
                t.preventDefault(),
                t.stopPropagation());
        }),
            e(document).on(
                "keydown.carousel.data-api",
                "li[role=tab]",
                e.fn.carousel.Constructor.prototype.keydown
            );
    })(jQuery),
    define("bootstrapA11y", ["bootstrap"], (function(e) {
        return function() {
            return e.bootstrapA11y;
        };
    })(this)),
    (function(e, t) {
        "object" == typeof module && module.exports
            ? (module.exports = t())
            : "function" == typeof define && define.amd
                ? define("spin", t)
                : (e.Spinner = t());
    })(this, function() {
        "use strict";
        function e(e, t) {
            var n,
                r = document.createElement(e || "div");
            for (n in t) r[n] = t[n];
            return r;
        }
        function t(e) {
            for (var t = 1, n = arguments.length; t < n; t++)
                e.appendChild(arguments[t]);
            return e;
        }
        function n(e, t, n, r) {
            var i = ["opacity", t, ~~(100 * e), n, r].join("-"),
                o = 0.01 + (n / r) * 100,
                a = Math.max(1 - ((1 - e) / t) * (100 - o), e),
                s = l.substring(0, l.indexOf("Animation")).toLowerCase(),
                c = (s && "-" + s + "-") || "";
            return (
                d[i] ||
                    (u.insertRule(
                        "@" +
                            c +
                            "keyframes " +
                            i +
                            "{0%{opacity:" +
                            a +
                            "}" +
                            o +
                            "%{opacity:" +
                            e +
                            "}" +
                            (o + 0.01) +
                            "%{opacity:1}" +
                            ((o + t) % 100) +
                            "%{opacity:" +
                            e +
                            "}100%{opacity:" +
                            a +
                            "}}",
                        u.cssRules.length
                    ),
                    (d[i] = 1)),
                i
            );
        }
        function r(e, t) {
            var n,
                r,
                i = e.style;
            if (((t = t.charAt(0).toUpperCase() + t.slice(1)), void 0 !== i[t]))
                return t;
            for (r = 0; r < c.length; r++)
                if (((n = c[r] + t), void 0 !== i[n])) return n;
        }
        function i(e, t) {
            for (var n in t) e.style[r(e, n) || n] = t[n];
            return e;
        }
        function o(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var r in n) void 0 === e[r] && (e[r] = n[r]);
            }
            return e;
        }
        function a(e, t) {
            return "string" == typeof e ? e : e[t % e.length];
        }
        function s(e) {
            this.opts = o(e || {}, s.defaults, f);
        }
        var l,
            u,
            c = ["webkit", "Moz", "ms", "O"],
            d = {},
            f = {
                lines: 12,
                length: 7,
                width: 5,
                radius: 10,
                scale: 1,
                corners: 1,
                color: "#000",
                opacity: 0.25,
                rotate: 0,
                direction: 1,
                speed: 1,
                trail: 100,
                fps: 20,
                zIndex: 2e9,
                className: "spinner",
                top: "50%",
                left: "50%",
                shadow: !1,
                hwaccel: !1,
                position: "absolute"
            };
        if (
            ((s.defaults = {}),
            o(s.prototype, {
                spin: function(t) {
                    this.stop();
                    var n = this,
                        r = n.opts,
                        o = (n.el = e(null, { className: r.className }));
                    if (
                        (i(o, {
                            position: r.position,
                            width: 0,
                            zIndex: r.zIndex,
                            left: r.left,
                            top: r.top
                        }),
                        t && t.insertBefore(o, t.firstChild || null),
                        o.setAttribute("role", "progressbar"),
                        n.lines(o, n.opts),
                        !l)
                    ) {
                        var a,
                            s = 0,
                            u = ((r.lines - 1) * (1 - r.direction)) / 2,
                            c = r.fps,
                            d = c / r.speed,
                            f = (1 - r.opacity) / ((d * r.trail) / 100),
                            p = d / r.lines;
                        !(function e() {
                            s++;
                            for (var t = 0; t < r.lines; t++)
                                (a = Math.max(
                                    1 - ((s + (r.lines - t) * p) % d) * f,
                                    r.opacity
                                )),
                                    n.opacity(o, t * r.direction + u, a, r);
                            n.timeout = n.el && setTimeout(e, ~~(1e3 / c));
                        })();
                    }
                    return n;
                },
                stop: function() {
                    var e = this.el;
                    return (
                        e &&
                            (clearTimeout(this.timeout),
                            e.parentNode && e.parentNode.removeChild(e),
                            (this.el = void 0)),
                        this
                    );
                },
                lines: function(r, o) {
                    function s(t, n) {
                        return i(e(), {
                            position: "absolute",
                            width: o.scale * (o.length + o.width) + "px",
                            height: o.scale * o.width + "px",
                            background: t,
                            boxShadow: n,
                            transformOrigin: "left",
                            transform:
                                "rotate(" +
                                ~~((360 / o.lines) * c + o.rotate) +
                                "deg) translate(" +
                                o.scale * o.radius +
                                "px,0)",
                            borderRadius:
                                ((o.corners * o.scale * o.width) >> 1) + "px"
                        });
                    }
                    for (
                        var u,
                            c = 0,
                            d = ((o.lines - 1) * (1 - o.direction)) / 2;
                        c < o.lines;
                        c++
                    )
                        (u = i(e(), {
                            position: "absolute",
                            top: 1 + ~((o.scale * o.width) / 2) + "px",
                            transform: o.hwaccel ? "translate3d(0,0,0)" : "",
                            opacity: o.opacity,
                            animation:
                                l &&
                                n(
                                    o.opacity,
                                    o.trail,
                                    d + c * o.direction,
                                    o.lines
                                ) +
                                    " " +
                                    1 / o.speed +
                                    "s linear infinite"
                        })),
                            o.shadow &&
                                t(
                                    u,
                                    i(s("#000", "0 0 4px #000"), { top: "2px" })
                                ),
                            t(
                                r,
                                t(u, s(a(o.color, c), "0 0 1px rgba(0,0,0,.1)"))
                            );
                    return r;
                },
                opacity: function(e, t, n) {
                    t < e.childNodes.length &&
                        (e.childNodes[t].style.opacity = n);
                }
            }),
            "undefined" != typeof document)
        ) {
            u = (function() {
                var n = e("style", { type: "text/css" });
                return (
                    t(document.getElementsByTagName("head")[0], n),
                    n.sheet || n.styleSheet
                );
            })();
            var p = i(e("group"), { behavior: "url(#default#VML)" });
            !r(p, "transform") && p.adj
                ? (function() {
                      function n(t, n) {
                          return e(
                              "<" +
                                  t +
                                  ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',
                              n
                          );
                      }
                      u.addRule(".spin-vml", "behavior:url(#default#VML)"),
                          (s.prototype.lines = function(e, r) {
                              function o() {
                                  return i(
                                      n("group", {
                                          coordsize: c + " " + c,
                                          coordorigin: -u + " " + -u
                                      }),
                                      { width: c, height: c }
                                  );
                              }
                              function s(e, s, l) {
                                  t(
                                      f,
                                      t(
                                          i(o(), {
                                              rotation:
                                                  (360 / r.lines) * e + "deg",
                                              left: ~~s
                                          }),
                                          t(
                                              i(
                                                  n("roundrect", {
                                                      arcsize: r.corners
                                                  }),
                                                  {
                                                      width: u,
                                                      height: r.scale * r.width,
                                                      left: r.scale * r.radius,
                                                      top:
                                                          (-r.scale *
                                                              r.width) >>
                                                          1,
                                                      filter: l
                                                  }
                                              ),
                                              n("fill", {
                                                  color: a(r.color, e),
                                                  opacity: r.opacity
                                              }),
                                              n("stroke", { opacity: 0 })
                                          )
                                      )
                                  );
                              }
                              var l,
                                  u = r.scale * (r.length + r.width),
                                  c = 2 * r.scale * u,
                                  d =
                                      -(r.width + r.length) * r.scale * 2 +
                                      "px",
                                  f = i(o(), {
                                      position: "absolute",
                                      top: d,
                                      left: d
                                  });
                              if (r.shadow)
                                  for (l = 1; l <= r.lines; l++)
                                      s(
                                          l,
                                          -2,
                                          "progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)"
                                      );
                              for (l = 1; l <= r.lines; l++) s(l);
                              return t(e, f);
                          }),
                          (s.prototype.opacity = function(e, t, n, r) {
                              var i = e.firstChild;
                              (r = (r.shadow && r.lines) || 0),
                                  i &&
                                      t + r < i.childNodes.length &&
                                      ((i = i.childNodes[t + r]),
                                      (i = i && i.firstChild),
                                      (i = i && i.firstChild) &&
                                          (i.opacity = n));
                          });
                  })()
                : (l = r(p, "animation"));
        }
        return s;
    }),
    define("readium_js_viewer/Spinner", ["spin"], function(e) {
        return new e({
            lines: 17,
            length: 0,
            width: 10,
            radius: 48,
            corners: 1,
            rotate: 0,
            direction: 1,
            color: "#000",
            speed: 1,
            trail: 66,
            shadow: !1,
            hwaccel: !1,
            className: "spinner",
            zIndex: 2e9,
            top: "50%",
            left: "50%"
        });
    }),
    define("Settings", [], function() {
        var e = void 0,
            t = function() {
                if (e) return !0;
                if (void 0 === e) {
                    if (((e = !1), localStorage))
                        try {
                            localStorage.setItem("_isLocalStorageEnabled", "?"),
                                localStorage.removeItem(
                                    "_isLocalStorageEnabled"
                                ),
                                (e = !0);
                        } catch (e) {}
                    return e;
                }
                return !1;
            };
        return (
            (Settings = {
                put: function(e, n, r) {
                    if (!t()) return void (r && r());
                    var n = JSON.stringify(n);
                    (localStorage[e] = n), r && r();
                },
                get: function(e, n) {
                    if (!t()) return void (n && n(null));
                    var r = localStorage[e];
                    n(r ? JSON.parse(r) : null);
                },
                getMultiple: function(e, n) {
                    if (!t()) return void (n && n({}));
                    for (var r = {}, i = 0; i < e.length; i++)
                        localStorage[e[i]] && (r[e[i]] = localStorage[e[i]]);
                    n(r);
                }
            }),
            Settings
        );
    }),
    define("text!readium_js_viewer_i18n/_locales/de/messages.json", [], function() {
        return '{ "about": {\r\n    "message": "Über Readium"\r\n    },\r\n    "preview": {\r\n        "message": "Vorschau"\r\n    },\r\n    "list_view": {\r\n        "message": "Listenansicht"\r\n    },\r\n    "thumbnail_view": {\r\n        "message": "Kachelansicht"\r\n    },\r\n    "view_library": {\r\n        "message": "Bibliothek"\r\n    },\r\n    "highlight_selection": {\r\n        "message": "Ausgewählten Text hervorheben"\r\n    },\r\n    "toc": {\r\n        "message": "Inhaltsverzeichnis"\r\n    },\r\n    "settings": {\r\n        "message": "Einstellungen"\r\n    },\r\n    "enter_fullscreen": {\r\n        "message": "Vollbildmodus"\r\n    },\r\n    "exit_fullscreen": {\r\n        "message": "Vollbildmodus verlassen"\r\n    },\r\n    "chrome_extension_name": {\r\n        "message": "Readium"\r\n    },\r\n    "chrome_extension_description": {\r\n        "message": "Ein Leseprogramm für EPUB3 Bücher."\r\n    },\r\n    "ok" : {\r\n        "message" : "Ok"\r\n    },\r\n    "i18n_readium_library": {\r\n        "message": "Readium Bibliothek"\r\n    },\r\n    "i18n_loading": {\r\n        "message": "Bibliothek wird geladen"\r\n    },\r\n    "i18n_readium_options": {\r\n        "message": "Readium Einstellungen:"\r\n    },\r\n    "i18n_save_changes": {\r\n        "message": "Änderungen speichern"\r\n    },\r\n    "i18n_close": {\r\n        "message": "Schließen"\r\n    },\r\n    "i18n_keyboard_shortcuts": {\r\n        "message": "Funktionstasten"\r\n    },\r\n    "i18n_keyboard_reload": {\r\n        "message": "Bitte laden Sie die Seite im Browser neu, damit die Änderungen der Tastaturkürzel wirksam werden."\r\n    },\r\n    "i18n_reset_key": {\r\n        "message": "Taste zurücksetzen"\r\n    },\r\n    "i18n_reset_key_all": {\r\n        "message": "Alle Funktionstasten auf Standard zurücksetzen"\r\n    },\r\n    "i18n_duplicate_keyboard_shortcut": {\r\n        "message": "Doppelbelegung"\r\n    },\r\n    "i18n_invalid_keyboard_shortcut": {\r\n        "message": "Nicht zulässig"\r\n    },\r\n    "i18n_paginate_all": {\r\n        "message": "Fließtext des EPUB Inhalts paginieren"\r\n    },\r\n    "i18n_automatically": {\r\n        "message": "*.epub URLs automatisch in Readium öffnen"\r\n    },\r\n    "i18n_show_warning": {\r\n        "message": "Warnhinweise beim Entpacken von EPUB Dateien anzeigen"\r\n    },\r\n    "i18n_details": {\r\n        "message": "Details"\r\n    },\r\n    "i18n_read": {\r\n        "message": "Lesen"\r\n    },\r\n    "i18n_delete": {\r\n        "message": "Löschen"\r\n    },\r\n    "i18n_are_you_sure": {\r\n        "message": "Möchten Sie diese Datei wirklich unwiderruflich löschen?"\r\n    },\r\n    "delete_dlg_title": {\r\n        "message": "Löschen bestätigen"\r\n    },\r\n\r\n    "i18n_auto_page_turn_enable": {\r\n        "message": "Automatisches Umblättern einschalten"\r\n    },\r\n    "i18n_auto_page_turn_disable": {\r\n        "message": "Automatisches Umblättern ausschalten"\r\n    },\r\n\r\n    "i18n_playback_scroll_enable": {\r\n        "message": "Scrollen während der Wiedergabe"\r\n    },\r\n    "i18n_playback_scroll_disable": {\r\n        "message": "Kein Scrollen während der Wiedergabe"\r\n    },\r\n    "i18n_audio_touch_enable": {\r\n        "message": "Touch-to-play einschalten"\r\n    },\r\n    "i18n_audio_touch_disable": {\r\n        "message": "Touch-to-play ausschalten"\r\n    },\r\n    "i18n_audio_highlight_default": {\r\n        "message": "Standard"\r\n    },\r\n    "i18n_audio_highlight": {\r\n        "message": "Hervorhebungsfarbe"\r\n    },\r\n\r\n    "delete_progress_title": {\r\n        "message": "Löschen wird ausgeführt"\r\n    },\r\n    "delete_progress_message": {\r\n        "message": "Löschen"\r\n    },\r\n    "migrate_dlg_title": {\r\n        "message": "Bücher migrieren"\r\n    },\r\n    "migrate_dlg_message": {\r\n        "message": "Daten werden geladen..."\r\n    },\r\n    "migrating": {\r\n        "message": "Migrieren..."\r\n    },\r\n    "replace_dlg_title": {\r\n        "message": "Konflikt festgestellt"\r\n    },\r\n    "replace_dlg_message": {\r\n        "message": "Soll das bestehende EPUB wirklich ersetzt werden?"\r\n    },\r\n    "import_dlg_title": {\r\n        "message": "EPUB importieren"\r\n    },\r\n    "import_dlg_message": {\r\n        "message": "EPUB Inhalt überprüfen..."\r\n    },\r\n    "storing_file": {\r\n        "message": "Datei speichern"\r\n    },\r\n    "err_unknown": {\r\n        "message": "Unbekannter Fehler. Für Details öffnen Sie die Konsole."\r\n    },\r\n    "err_storage": {\r\n        "message": "Zugriff auf Dateispeicher nicht möglich."\r\n    },\r\n    "err_epub_corrupt": {\r\n        "message": "Ungültiges oder beschädigtes EPUB Paket"\r\n    },\r\n    "err_dlg_title": {\r\n        "message": "Unerwarteter Fehler"\r\n    },\r\n    "replace" : {\r\n        "message": "Ersetzen"\r\n    },\r\n    "i18n_author": {\r\n        "message": "Autor: "\r\n    },\r\n    "i18n_publisher": {\r\n        "message": "Verlag: "\r\n    },\r\n    "i18n_source": {\r\n        "message": "Quelle: "\r\n    },\r\n    "i18n_pub_date": {\r\n        "message": "Veröffentlicht am: "\r\n    },\r\n    "i18n_modified_date": {\r\n        "message": "Zuletzt geändert am: "\r\n    },\r\n    "i18n_id": {\r\n        "message": "ID: "\r\n    },\r\n    "i18n_epub_version": {\r\n        "message": "EPUB Version: "\r\n    },\r\n    "i18n_created_at": {\r\n        "message": "Erstellt am: "\r\n    },\r\n    "i18n_format": {\r\n        "message": "Format: "\r\n    },\r\n    "i18n_added": {\r\n        "message": "Hinzugefügt am: "\r\n    },\r\n    "i18n_unknown": {\r\n        "message": "Unbekannt"\r\n    },\r\n    "i18n_sorry": {\r\n        "message": "Das aktuelle EPUB enthält für diesen Inhalt keine Media Overlays."\r\n    },\r\n    "i18n_add_items": {\r\n        "message": "Füge Werke zur Bibliothek hinzu."\r\n    },\r\n    "i18n_extracting": {\r\n        "message": "Entpacke: "\r\n    },\r\n    "i18n_add_book_to_readium_library": {\r\n        "message": "Buch zur Readium Bibliothek hinzufügen:"\r\n    },\r\n    "i18n_add_book": {\r\n        "message": "Buch hinzufügen"\r\n    },\r\n    "i18n_cancel": {\r\n        "message": "Abbrechen"\r\n    },\r\n    "i18n_from_the_web": {\r\n        "message": "Internet:"\r\n    },\r\n    "i18n_from_local_file": {\r\n        "message": "Lokale Datei:"\r\n    },\r\n    "i18n_enter_a_url": {\r\n        "message": "URL einer .epub Datei eingeben"\r\n    },\r\n    "i18n_unpacked_directory": {\r\n        "message": "Entpacktes Verzeichnis:"\r\n    },\r\n    "i18n_validate": {\r\n        "message": "Prüfe:"\r\n    },\r\n    "i18n_confirm_that_this_book": {\r\n        "message": "Bestätigung, dass dieses Buch mit EPUB Standards übereinstimmt"\r\n    },\r\n    "i18n_single_pages": {\r\n        "message": "Einzelseiten"\r\n    },\r\n    "i18n_double_pages": {\r\n        "message": "Doppelseiten"\r\n    },\r\n    "i18n_save_settings": {\r\n        "message": "Einstellungen speichern"\r\n    },\r\n    "i18n_font_size": {\r\n        "message": "Schriftgröße"\r\n    },\r\n    "i18n_margins": {\r\n        "message": "Rand"\r\n    },\r\n    "i18n_text_and_background_color": {\r\n        "message": "Text- und Hintergrundfarbe"\r\n    },\r\n    "i18n_author_theme": {\r\n        "message": "Vorgabe des Autors"\r\n    },\r\n    "i18n_black_and_white": {\r\n        "message": "Schwarzweiss"\r\n    },\r\n    "i18n_arabian_nights": {\r\n        "message": "Arabian Nights"\r\n    },\r\n    "i18n_sands_of_dune": {\r\n        "message": "Sands of Dune"\r\n    },\r\n    "i18n_ballard_blues": {\r\n        "message": "Ballard Blues"\r\n    },\r\n    "i18n_vancouver_mist": {\r\n        "message": "Vancouver Mist"\r\n    },\r\n    "i18n_display_format": {\r\n        "message": "Anzeigeformat"\r\n    },\r\n    "i18n_spread_auto": {\r\n        "message": "Automatisch"\r\n    },\r\n    "i18n_scroll_mode": {\r\n        "message": "Scroll Modus"\r\n    },\r\n    "i18n_scroll_mode_auto": {\r\n        "message": "Automatisch"\r\n    },\r\n    "i18n_scroll_mode_doc": {\r\n        "message": "Dokument"\r\n    },\r\n    "i18n_scroll_mode_continuous": {\r\n        "message": "Kontinuierlich"\r\n    },\r\n\r\n    "i18n_page_transition": {\r\n        "message": "Umblätter-Effekt"\r\n    },\r\n    "i18n_page_transition_none": {\r\n        "message": "Keiner"\r\n    },\r\n    "i18n_page_transition_fade": {\r\n        "message": "Fade"\r\n    },\r\n    "i18n_page_transition_slide": {\r\n        "message": "Slide"\r\n    },\r\n    "i18n_page_transition_swoosh": {\r\n        "message": "Swoosh"\r\n    },\r\n    "i18n_page_transition_butterfly": {\r\n        "message": "Butterfly"\r\n    },\r\n    "i18n_html_readium_tm_a_project": {\r\n        "message": "Readium für Chrome ist die Chrome Browser Erweiterung basierend auf ReadiumJS, einem Open-Source Lesesystem und einer JavaScript Bibliothek zur Darstellung von EPUB® Veröffentlichungen in Web-Browsern. ReadiumJS ist ein Projekt der Readium Foundation (Readium.org). Wenn Sie mehr darüber erfahren möchten oder das Projekt unterstützen wollen, besuchen Sie bitte die <a href=\\"http://readium.org/\\">Projekt Homepage</a>."\r\n\r\n    },\r\n    "gethelp": {\r\n        "message": "Falls Sie auf Probleme stoßen, Fragen haben oder \\"Hallo\\" sagen möchten, besuchen Sie <a href=\\"http://idpf.org/forums/readium\\">unser Forum</a>."\r\n    },\r\n    "i18n_toolbar": {\r\n        "message": "Werkzeugleiste"\r\n    },\r\n    "i18n_toolbar_show": {\r\n        "message": "Werkzeugleiste anzeigen"\r\n    },\r\n    "i18n_toolbar_hide": {\r\n        "message": "Werkzeugleiste ausblenden"\r\n    },\r\n    "i18n_audio_play": {\r\n        "message": "Audio - Abspielen"\r\n    },\r\n    "i18n_audio_pause": {\r\n        "message": "Audio - Pause"\r\n    },\r\n    "i18n_audio_play_background": {\r\n        "message": "Hintergrundaudio ein"\r\n    },\r\n    "i18n_audio_pause_background": {\r\n        "message": "Hintergrundaudio aus"\r\n    },\r\n    "i18n_audio_previous": {\r\n        "message": "Vorige Audiophrase"\r\n    },\r\n    "i18n_audio_next": {\r\n        "message": "Nächste Audiophrase"\r\n    },\r\n    "i18n_audio_volume": {\r\n        "message": "Lautstärke"\r\n    },\r\n    "i18n_audio_volume_increase": {\r\n        "message": "Lautstärke erhöhen"\r\n    },\r\n    "i18n_audio_volume_decrease": {\r\n        "message": "Lautstärke verringern"\r\n    },\r\n    "i18n_audio_time": {\r\n        "message": "Audio - Zeitmarke"\r\n    },\r\n    "i18n_audio_mute": {\r\n        "message": "Audio ausschalten"\r\n    },\r\n    "i18n_audio_unmute": {\r\n        "message": "Audio einschalten"\r\n    },\r\n    "i18n_audio_expand": {\r\n        "message": "Erweiterte Audio-Steuerung anzeigen"\r\n    },\r\n    "i18n_audio_collapse": {\r\n        "message": "Erweiterte Audio-Steuerung ausblenden"\r\n    },\r\n    "i18n_audio_esc": {\r\n        "message": "Aktuellen Audio-Bereich verlassen"\r\n    },\r\n    "i18n_audio_rate": {\r\n        "message": "Audio - Wiedergabegeschwindigkeit"\r\n    },\r\n    "i18n_audio_rate_increase": {\r\n        "message": "Audio - Wiedergabegeschwindigkeit erhöhen"\r\n    },\r\n    "i18n_audio_rate_decrease": {\r\n        "message": "Audio - Wiedergabegeschwindigkeit verringern"\r\n    },\r\n    "i18n_audio_rate_reset": {\r\n        "message": "Audio - Wiedergabegeschwindigkeit zurücksetzen"\r\n    },\r\n    "i18n_audio_skip_disable": {\r\n        "message": "Audio - Überspringen unterbinden "\r\n    },\r\n    "i18n_audio_skip_enable": {\r\n        "message": "Audio - Überspringen ermöglichen"\r\n    },\r\n    "i18n_audio_sync": {\r\n        "message": "Text-Audio-Synchronisation"\r\n    },\r\n    "i18n_audio_sync_default": {\r\n        "message": "Nach Vorgabe"\r\n    },\r\n    "i18n_audio_sync_word": {\r\n        "message": "Wort"\r\n    },\r\n    "i18n_audio_sync_sentence": {\r\n        "message": "Satz"\r\n    },\r\n    "i18n_audio_sync_paragraph": {\r\n        "message": "Absatz"\r\n    },\r\n    "i18n_page_previous": {\r\n        "message": "Vorige Seite"\r\n    },\r\n    "i18n_page_next": {\r\n        "message": "Nächste Seite"\r\n    },\r\n    "chrome_accept_languages": {\r\n        "message": "$CHROME$ akzeptiert $languages$ Sprachen",\r\n        "placeholders": {\r\n            "chrome": {\r\n                "content": "Chrome",\r\n                "example": "Chrome"\r\n            },\r\n            "languages": {\r\n                "content": "$1",\r\n                "example": "en-US,ja,sr,de,zh_CN"\r\n            }\r\n        }\r\n    }\r\n}';
    }),
    define("text!readium_js_viewer_i18n/_locales/es/messages.json", [], function() {
        return '{\r\n\r\n    "chrome_extension_name": {\r\n        "message": "Readium"\r\n    },\r\n    "about" : {\r\n        "message" : "Acerca de"\r\n    },\r\n    "preview" : {\r\n        "message" : "Vista previa"\r\n    },\r\n    "list_view" : {\r\n        "message" : "Vista en lista"\r\n    },\r\n    "thumbnail_view" : {\r\n        "message" : "Vista en miniaturas"\r\n    },\r\n    "view_library": {\r\n        "message" : "Biblioteca"\r\n    },\r\n    "highlight_selection" : {\r\n        "message" : "Subrayar texto seleccionado"\r\n    },\r\n    "toc" : {\r\n        "message" : "Tabla de contenidos"\r\n    },\r\n    "settings" : {\r\n        "message" : "Preferencias"\r\n    },\r\n    "enter_fullscreen" : {\r\n        "message" : "Abrir modo de pantalla completa"\r\n    },\r\n    "exit_fullscreen" : {\r\n        "message" : "Cerrar modo de pantalla completa"\r\n    },\r\n    "chrome_extension_description": {\r\n        "message": "Lector de libros EPUB3."\r\n    },\r\n    "ok" : {\r\n        "message" : "Ok"\r\n    },\r\n    "delete_dlg_title" : {\r\n        "message" : "Confirmar eliminación"\r\n    },\r\n    "delete_progress_title" : {\r\n        "message" : "Eliminación en progreso"\r\n    },\r\n    "delete_progress_message" : {\r\n        "message" : "Eliminando"\r\n    },\r\n    "migrate_dlg_title" : {\r\n        "message" : "Migrando libros"\r\n    },\r\n    "migrate_dlg_message" : {\r\n        "message" : "Cargando datos..."\r\n    },\r\n    "migrating" : {\r\n        "message" : "Migrando"\r\n    },\r\n    "replace_dlg_title" : {\r\n        "message": "Se ha detectado un conflicto"\r\n    },\r\n    "replace_dlg_message": {\r\n        "message": "Si decide continuar, el siguiente epub será reemplazado por el que está siendo importado"\r\n    },\r\n    "import_dlg_title" : {\r\n        "message": "Importando EPUB"\r\n    },\r\n    "import_dlg_message" : {\r\n        "message": "Examinando contenido del EPUB..."\r\n    },\r\n    "storing_file" : {\r\n        "message": "Guardando archivo"\r\n    },\r\n    "err_unknown" : {\r\n        "message": "Error desconocido. Chequear la consola para conocer más detalles."\r\n    },\r\n    "err_storage" : {\r\n        "message": "No es posible acceder al dispositvo"\r\n    },\r\n    "err_epub_corrupt" : {\r\n        "message": "Paquete EPUB inválido o corrupto"\r\n    },\r\n    "err_dlg_title" : {\r\n        "message": "Error inesperado"\r\n    },\r\n    "replace" : {\r\n        "message": "Reemplazar"\r\n    },\r\n    "gethelp" : {\r\n        "message" : "Si encuentra algún problema, tiene preguntas, o le gustaría decir hola, visite <a href=\\"http://idpf.org/forums/readium\\">nuestro foro</a>"\r\n    },\r\n    "i18n_readium_library" : {\r\n        "message" : "Biblioteca Readium"\r\n    },\r\n    "i18n_loading" : {\r\n        "message" : "Cargando biblioteca"\r\n    },\r\n    "i18n_readium_options" : {\r\n        "message" : "Readium Opciones:"\r\n    },\r\n    "i18n_save_changes" : {\r\n        "message" : "Guardar cambios"\r\n    },\r\n    "i18n_close" : {\r\n        "message" : "Cerrar"\r\n    },\r\n    "i18n_keyboard_shortcuts" : {\r\n        "message" : "Teclas de acceso rápido"\r\n    },\r\n    "i18n_keyboard_reload" : {\r\n        "message" : "Por favor, actualiza la página para que las teclas de acceso rápido tengan efecto."\r\n    },\r\n    "i18n_reset_key" : {\r\n        "message" : "Reestablecer tecla"\r\n    },\r\n    "i18n_reset_key_all" : {\r\n        "message" : "Reestablecer todos las teclas de acceso rápido"\r\n    },\r\n    "i18n_duplicate_keyboard_shortcut" : {\r\n        "message" : "DUPLICADO"\r\n    },\r\n    "i18n_invalid_keyboard_shortcut" : {\r\n        "message" : "INVALIDO"\r\n    },\r\n    "i18n_paginate_all" : {\r\n        "message" : "Paginar todo el contenido ePUB repaginable"\r\n    },\r\n    "i18n_automatically" : {\r\n        "message" : "Abrir automáticamente urls *.epub en readium"\r\n    },\r\n    "i18n_show_warning" : {\r\n        "message" : "Mostrar advertencias al desempaquetar archivos EPUB"\r\n    },\r\n    "i18n_details" : {\r\n        "message" : "Detalles"\r\n    },\r\n    "i18n_read" : {\r\n        "message" : "Leer"\r\n    },\r\n    "i18n_delete" : {\r\n        "message" : "Eliminar"\r\n    },\r\n    "i18n_author" : {\r\n        "message" : "Autor: "\r\n    },\r\n    "i18n_publisher" : {\r\n        "message" : "Editor: "\r\n    },\r\n    "i18n_source" : {\r\n        "message" : "Fuente: "\r\n    },\r\n    "i18n_pub_date" : {\r\n        "message" : "Fecha de publicación: "\r\n    },\r\n    "i18n_modified_date" : {\r\n        "message" : "Fecha de modificación: "\r\n    },\r\n    "i18n_id" : {\r\n        "message" : "ID: "\r\n    },\r\n    "i18n_epub_version" : {\r\n        "message" : "Versión EPUB: "\r\n    },\r\n    "i18n_created_at" : {\r\n        "message" : "Creado en: "\r\n    },\r\n    "i18n_format" : {\r\n        "message" : "Formato: "\r\n    },\r\n    "i18n_added" : {\r\n        "message" : "Añadido: "\r\n    },\r\n    "i18n_unknown" : {\r\n        "message" : "Desconocido"\r\n    },\r\n    "i18n_sorry" : {\r\n        "message" : "Disculpa, el EPUB actual no contiene superposición multimedia para este contenido"\r\n    },\r\n    "i18n_add_items" : {\r\n        "message" : "¡Añade aquí elementos a tu biblioteca!"\r\n    },\r\n    "i18n_extracting" : {\r\n        "message" : "extrayendo: "\r\n    },\r\n    "i18n_are_you_sure" : {\r\n        "message" : "¿Está seguro que desea eliminar de forma permanente"\r\n    },\r\n    "i18n_add_book_to_readium_library" : {\r\n        "message" : "Añadir libro a biblioteca Readium:"\r\n    },\r\n    "i18n_add_book" : {\r\n        "message" : "Añadir a la biblioteca"\r\n    },\r\n    "i18n_cancel" : {\r\n        "message" : "Cancelar"\r\n    },\r\n    "i18n_from_the_web" : {\r\n        "message" : "Desde la web:"\r\n    },\r\n    "i18n_from_local_file" : {\r\n        "message" : "Desde un archivo local:"\r\n    },\r\n    "i18n_enter_a_url" : {\r\n        "message" : "Ingresa una URL a un archivo .epub"\r\n    },\r\n    "i18n_unpacked_directory" : {\r\n        "message" : "Carpeta descomprimida:"\r\n    },\r\n    "i18n_validate" : {\r\n        "message" : "Validar:"\r\n    },\r\n    "i18n_confirm_that_this_book" : {\r\n        "message" : "Confirmar que este libro cumple con los estándares ePUB"\r\n    },\r\n    "i18n_single_pages" : {\r\n        "message" : "Páginas simple"\r\n    },\r\n    "i18n_double_pages" : {\r\n        "message" : "Páginas doble"\r\n    },\r\n    "i18n_save_settings" : {\r\n        "message" : "Guardar preferencias"\r\n    },\r\n    "i18n_font_size" : {\r\n        "message" : "TAMAÑO DE FUENTE"\r\n    },\r\n    "i18n_margins" : {\r\n        "message" : "MARGENES"\r\n    },\r\n    "i18n_text_and_background_color" : {\r\n        "message" : "COLOR DE FUENTE Y FONDO"\r\n    },\r\n    "i18n_black_and_white" : {\r\n        "message" : "Blanco y negro"\r\n    },\r\n    "i18n_arabian_nights" : {\r\n        "message" : "Las mil y una noches"\r\n    },\r\n    "i18n_sands_of_dune" : {\r\n        "message" : "Arenas de duna"\r\n    },\r\n    "i18n_ballard_blues" : {\r\n        "message" : "Ballard Blues"\r\n    },\r\n    "i18n_vancouver_mist" : {\r\n        "message" : "Bruma de Vancouver"\r\n    },\r\n    "i18n_display_format" : {\r\n        "message" : "MOSTRAR FORMATO"\r\n    },\r\n    "i18n_scroll_mode" : {\r\n        "message" : "MODO DE DESPLAZAMIENTO"\r\n    },\r\n    "i18n_scroll_mode_default" : {\r\n        "message" : "Por defecto"\r\n    },\r\n    "i18n_scroll_mode_doc" : {\r\n        "message" : "Documento"\r\n    },\r\n    "i18n_scroll_mode_continuous" : {\r\n        "message" : "Continuo"\r\n    },\r\n    "i18n_html_readium_tm_a_project" : {\r\n        "message" : "Readium para Chrome es la extensión para Chrome de ReadiumJS, un sistema de lectura de código abierto y librería JavaScript para renderizar publicaciones EPUB® en navegadores web. ReadiumJS es un proyecto de Readium Foundation (Readium.org). Para saber más o contribuir, visita el <a href=\\"http://readium.org/projects/readiumjs\\">sitio del proyecto</a>"\r\n    },\r\n    "i18n_toolbar_show" : {\r\n        "message" : "Mostrar barra de herramientas"\r\n    },\r\n    "i18n_toolbar_hide" : {\r\n        "message" : "Ocultar barra de herramientas"\r\n    },\r\n    "i18n_audio_play" : {\r\n        "message" : "Reproducir"\r\n    },\r\n    "i18n_audio_pause" : {\r\n        "message" : "Pausa"\r\n    },\r\n    "i18n_audio_previous" : {\r\n        "message" : "Frase de audio anterior"\r\n    },\r\n    "i18n_audio_next" : {\r\n        "message" : "Frase de audio siguiente"\r\n    },\r\n    "i18n_audio_volume" : {\r\n        "message" : "Volumen de audio"\r\n    },\r\n    "i18n_audio_volume_increase" : {\r\n        "message" : "Incrementar volumen de audio"\r\n    },\r\n    "i18n_audio_volume_decrease" : {\r\n        "message" : "Reducir volumen de audio"\r\n    },\r\n    "i18n_audio_time" : {\r\n        "message" : "Cursor de tiempo de audio"\r\n    },\r\n    "i18n_audio_mute" : {\r\n        "message" : "Desactivar audio"\r\n    },\r\n    "i18n_audio_unmute" : {\r\n        "message" : "Activar audio"\r\n    },\r\n    "i18n_audio_expand" : {\r\n        "message" : "Mostrar controles avanzados de audio"\r\n    },\r\n    "i18n_audio_collapse" : {\r\n        "message" : "Cerrar controles avanzados de audio"\r\n    },\r\n    "i18n_audio_esc" : {\r\n        "message" : "Salir de contexto actual de audio"\r\n    },\r\n    "i18n_audio_rate" : {\r\n        "message" : "Velocidad de reproducción de audio"\r\n    },\r\n    "i18n_audio_rate_increase" : {\r\n        "message" : "Incrementar velocidad de reproducción de audio"\r\n    },\r\n    "i18n_audio_rate_decrease" : {\r\n        "message" : "Reducir velocidad de reproducción de audio"\r\n    },\r\n    "i18n_audio_rate_reset" : {\r\n        "message" : "Reestablecer reproducción de audio a velocidad normal"\r\n    },\r\n    "i18n_audio_skip_disable" : {\r\n        "message" : "Desactivar capacidad de omisión"\r\n    },\r\n    "i18n_audio_skip_enable" : {\r\n        "message" : "Activar capacidad de omisión"\r\n    },\r\n    "i18n_audio_touch_enable" : {\r\n        "message" : "Activar touch-to-play"\r\n    },\r\n    "i18n_audio_touch_disable" : {\r\n        "message" : "Desactivar touch-to-play"\r\n    },\r\n    "i18n_audio_highlight_default" : {\r\n        "message" : "por defecto"\r\n    },\r\n    "i18n_audio_highlight" : {\r\n        "message" : "Color de audio"\r\n    },\r\n    "i18n_audio_sync" : {\r\n        "message" : "Granularidad de sincronización texto/audio"\r\n    },\r\n    "i18n_audio_sync_default" : {\r\n        "message" : "Por defecto"\r\n    },\r\n    "i18n_audio_sync_word" : {\r\n        "message" : "Palabra"\r\n    },\r\n    "i18n_audio_sync_sentence" : {\r\n        "message" : "Oración"\r\n    },\r\n    "i18n_audio_sync_paragraph" : {\r\n        "message" : "Párrafo"\r\n    },\r\n    "i18n_page_previous" : {\r\n        "message" : "Página previa"\r\n    },\r\n    "i18n_page_next" : {\r\n        "message" : "Página siguiente"\r\n    },\r\n    "i18n_author_theme" : {\r\n      "message" : "Por defecto (estilos de autor)"\r\n    },\r\n\r\n  "i18n_spread_auto" : {\r\n       "message" : "Automático"\r\n    },\r\n\r\n  "i18n_scroll_mode_auto" : {\r\n      "message" : "Automático"\r\n    },\r\n\r\n   "i18n_page_transition" : {\r\n      "message" : "EFECTOS DE PÁGINA"\r\n    },\r\n    "i18n_page_transition_none" : {\r\n      "message" : "Desactivado"\r\n    },\r\n    "i18n_page_transition_fade" : {\r\n      "message" : "Apagarse"\r\n    },\r\n    "i18n_page_transition_slide" : {\r\n      "message" : "Deslizar"\r\n    },\r\n    "i18n_page_transition_swoosh" : {\r\n      "message" : "Swoosh"\r\n    },\r\n    "i18n_page_transition_butterfly" : {\r\n      "message" : "Mariposa"\r\n    },\r\n\r\n  "i18n_toolbar" : {\r\n      "message" : "Barra de herramientas"\r\n    },\r\n\r\n   "i18n_audio_play_background" : {\r\n      "message" : "Reproducir pista en segundo plano"\r\n    },\r\n    "i18n_audio_pause_background" : {\r\n      "message" : "Pausar pista en segundo plano"\r\n},\r\n\r\n   "i18n_auto_page_turn_enable" : {\r\n      "message" : "Activar vuelta de página automática"\r\n    },\r\n    "i18n_auto_page_turn_disable" : {\r\n      "message" : "Desactivar vuelta de página automática"\r\n    },\r\n\r\n   "i18n_playback_scroll_enable" : {\r\n      "message" : "Activar desplazamiento durante la reproducción"\r\n    },\r\n\r\n    "i18n_playback_scroll_disable" : {\r\n      "message" : "Desactivar desplazamiento durante la reproducción"\r\n    },\r\n\r\n    "chrome_accept_languages": {\r\n        "message": "$CHROME$ acepta idiomas $languages$",\r\n        "placeholders": {\r\n            "chrome": {\r\n                "content": "Chrome",\r\n                "example": "Chrome"\r\n            },\r\n            "languages": {\r\n                "content": "$1",\r\n                "example": "en-US,ja,sr,de,zh_CN"\r\n            }\r\n        }\r\n    }\r\n}';
    }),
    define("text!readium_js_viewer_i18n/_locales/en_US/messages.json", [], function() {
        return '{\r\n  "gitHasLocalChanges": {\r\n    "message": "with local changes"\r\n  },\r\n\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "about" : {\r\n    "message" : "About"\r\n  },\r\n  "preview" : {\r\n    "message" : "PREVIEW"\r\n  },\r\n  "list_view" : {\r\n    "message" : "List View"\r\n  },\r\n  "thumbnail_view" : {\r\n    "message" : "Thumbnail View"\r\n  },\r\n  "view_library": {\r\n    "message" : "Library"\r\n  },\r\n  "highlight_selection" : {\r\n    "message" : "Highlight Selected Text"\r\n  },\r\n  "share_url" : {\r\n    "message" : "Share reader bookmark..."\r\n  },\r\n  "share_url_label" : {\r\n    "message" : "Use your clipboard to copy/paste this shareable link:"\r\n  },\r\n  "toc" : {\r\n    "message" : "Table of Contents"\r\n  },\r\n  "settings" : {\r\n    "message" : "Settings"\r\n  },\r\n  "layout" : {\r\n    "message" : "Layout"\r\n  },\r\n  "style" : {\r\n    "message" : "Style"\r\n  },\r\n  "enter_fullscreen" : {\r\n    "message" : "Enter Fullscreen"\r\n  },\r\n  "exit_fullscreen" : {\r\n    "message" : "Exit Fullscreen"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "A reader for EPUB3 books."\r\n  },\r\n  "ok" : {\r\n    "message" : "Ok"\r\n  },\r\n  "delete_dlg_title" : {\r\n    "message" : "Confirm Delete"\r\n  },\r\n  "delete_progress_title" : {\r\n    "message" : "Delete in Progress"\r\n  },\r\n  "delete_progress_message" : {\r\n    "message" : "Deleting"\r\n  },\r\n  "migrate_dlg_title" : {\r\n    "message" : "Migrating Books"\r\n  },\r\n  "migrate_dlg_message" : {\r\n    "message" : "Loading data..."\r\n  },\r\n  "migrating" : {\r\n    "message" : "Migrating"\r\n  },\r\n  "replace_dlg_title" : {\r\n    "message": "Conflict Detected"\r\n  },\r\n  "replace_dlg_message": {\r\n    "message": "If you continue, the following epub will be replaced with the one you are importing"\r\n  },\r\n  "import_dlg_title" : {\r\n    "message": "Importing EPUB"\r\n  },\r\n  "import_dlg_message" : {\r\n    "message": "Examining EPUB content..."\r\n  },\r\n  "storing_file" : {\r\n    "message": "Storing file"\r\n  },\r\n  "err_unknown" : {\r\n    "message": "Unknown error. Check console for more details."\r\n  },\r\n  "err_storage" : {\r\n    "message": "Unable to access storage"\r\n  },\r\n  "err_epub_corrupt" : {\r\n    "message": "Invalid or corrupted EPUB package"\r\n  },\r\n  "err_ajax": {\r\n    "message": "Error in ajax request"\r\n  },\r\n  "err_dlg_title" : {\r\n    "message": "Unexpected Error"\r\n  },\r\n  "replace" : {\r\n    "message": "Replace"\r\n  },\r\n  "gethelp" : {\r\n    "message" : "If you encounter any problems, have questions, or would like to say hello, visit <a href=\\"http://idpf.org/forums/readium\\">our forum</a>"\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Readium Library"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Readium Options:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "Save changes"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "Close"\r\n  },\r\n  "i18n_keyboard_shortcuts" : {\r\n    "message" : "Keyboard shortcuts"\r\n  },\r\n  "i18n_keyboard_reload" : {\r\n    "message" : "Please reload the page for keyboard shortcuts to take effect."\r\n  },\r\n  "i18n_keyboard_onerror_reset" : {\r\n    "message" : "Please note: Any shortcuts marked INVALID or DUPLICATE have been reset to original values."\r\n  },\r\n  "i18n_reset_key" : {\r\n    "message" : "Reset key"\r\n  },\r\n  "i18n_reset_key_all" : {\r\n    "message" : "Reset all keyboard shortcuts"\r\n  },\r\n  "i18n_duplicate_keyboard_shortcut" : {\r\n    "message" : "DUPLICATE"\r\n  },\r\n  "i18n_invalid_keyboard_shortcut" : {\r\n    "message" : "INVALID"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "Paginate all reflowable ePUB content"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "Automatically open *.epub urls in readium"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "Show warning messages when unpacking EPUB files"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "Details"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "Read"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "Delete"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "Author: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "Publisher: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "Source: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "Pub Date: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "Modified Date: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "EPUB version: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "Created at: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "Format: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "Added: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "Unknown"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "Sorry, the current EPUB does not contain a media overlay for this content"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "Add items to your library here!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "extracting: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "Are you sure you want to permanently delete "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Add Book To Readium Library:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "Add to Library"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "Cancel"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "From the web:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "From Local File:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "Enter a URL to a .epub file"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "Unpacked Directory:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "Validate:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "Confirm that this book complies with ePUB standards"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "Single Pages"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "Double Pages"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "Save Settings"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "FONT SIZE"\r\n  },\r\n  "i18n_font_selection" : {\r\n    "message" : "FONT FACE"\r\n  },\r\n  "i18n_fonttype_default" : {\r\n    "message" : "Default"\r\n  },\r\n\r\n  "i18n_margins" : {\r\n    "message" : "MARGINS"\r\n  },\r\n  "i18n_pageMaxWidth" : {\r\n    "message" : "PAGE WIDTH"\r\n  },\r\n  "i18n_pageMaxWidth_Disabled" : {\r\n    "message" : "Disabled (no maximum)"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "TEXT AND BACKGROUND COLOR"\r\n  },\r\n  "i18n_author_theme" : {\r\n    "message" : "Default (author styles)"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Black and White"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Arabian Nights"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Sands of Dune"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Ballard Blues"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Vancouver Mist"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "DISPLAY FORMAT"\r\n  },\r\n  "i18n_spread_auto" : {\r\n     "message" : "Auto"\r\n  },\r\n  "i18n_scroll_mode" : {\r\n    "message" : "SCROLL MODE"\r\n  },\r\n  "i18n_scroll_mode_auto" : {\r\n    "message" : "Auto"\r\n  },\r\n  "i18n_scroll_mode_doc" : {\r\n    "message" : "Document"\r\n  },\r\n  "i18n_scroll_mode_continuous" : {\r\n    "message" : "Continuous"\r\n  },\r\n\r\n  "i18n_page_transition" : {\r\n    "message" : "PAGE EFFECTS"\r\n  },\r\n  "i18n_page_transition_none" : {\r\n    "message" : "Disabled"\r\n  },\r\n  "i18n_page_transition_fade" : {\r\n    "message" : "Fade"\r\n  },\r\n  "i18n_page_transition_slide" : {\r\n    "message" : "Slide"\r\n  },\r\n  "i18n_page_transition_swoosh" : {\r\n    "message" : "Swoosh"\r\n  },\r\n  "i18n_page_transition_butterfly" : {\r\n    "message" : "Butterfly"\r\n  },\r\n\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium for Chrome is the Chrome browser extension configuration of ReadiumJS, an open source reading system and JavaScript library for displaying EPUB® publications in web browsers. ReadiumJS is a project of the Readium Foundation (Readium.org). To learn more or to contribute, visit the <a id=\\"aboutFirst Focusable\\" href=\\"http://readium.org/projects/readiumjs\\">project homepage</a>"\r\n  },\r\n  "i18n_alt_about_logos" : {\r\n    "message" : "HTML5, i d p f, ePUB"\r\n  },\r\n  "i18n_toolbar" : {\r\n    "message" : "Toolbar"\r\n  },\r\n  "i18n_toolbar_show" : {\r\n    "message" : "Show toolbar"\r\n  },\r\n  "i18n_toolbar_hide" : {\r\n    "message" : "Hide toolbar"\r\n  },\r\n  "i18n_audio_play" : {\r\n    "message" : "Play"\r\n  },\r\n  "i18n_audio_pause" : {\r\n    "message" : "Pause"\r\n  },\r\n  "i18n_audio_play_background" : {\r\n    "message" : "Play background track"\r\n  },\r\n  "i18n_audio_pause_background" : {\r\n    "message" : "Pause background track"\r\n  },\r\n  "i18n_audio_previous" : {\r\n    "message" : "Previous audio phrase"\r\n  },\r\n  "i18n_audio_next" : {\r\n    "message" : "Next audio phrase"\r\n  },\r\n  "i18n_audio_volume" : {\r\n    "message" : "Audio volume"\r\n  },\r\n  "i18n_audio_volume_increase" : {\r\n    "message" : "Increase audio volume"\r\n  },\r\n  "i18n_audio_volume_decrease" : {\r\n    "message" : "Decrease audio volume"\r\n  },\r\n  "i18n_audio_time" : {\r\n    "message" : "Audio time cursor"\r\n  },\r\n  "i18n_audio_mute" : {\r\n    "message" : "Mute audio"\r\n  },\r\n  "i18n_audio_unmute" : {\r\n    "message" : "Unmute audio"\r\n  },\r\n  "i18n_audio_expand" : {\r\n    "message" : "Show advanced audio controls"\r\n  },\r\n  "i18n_audio_collapse" : {\r\n    "message" : "Close advanced audio controls"\r\n  },\r\n  "i18n_audio_esc" : {\r\n    "message" : "Escape current audio context"\r\n  },\r\n  "i18n_audio_rate" : {\r\n    "message" : "Audio playback rate"\r\n  },\r\n  "i18n_audio_rate_increase" : {\r\n    "message" : "Increase audio playback rate"\r\n  },\r\n  "i18n_audio_rate_decrease" : {\r\n    "message" : "Decrease audio playback rate"\r\n  },\r\n  "i18n_audio_rate_reset" : {\r\n    "message" : "Reset audio playback to normal speed"\r\n  },\r\n  "i18n_audio_skip_disable" : {\r\n    "message" : "Disable skippability"\r\n  },\r\n  "i18n_audio_skip_enable" : {\r\n    "message" : "Enable skippability"\r\n  },\r\n\r\n  "i18n_auto_page_turn_enable" : {\r\n    "message" : "Enable automatic page turn"\r\n  },\r\n  "i18n_auto_page_turn_disable" : {\r\n    "message" : "Disable automatic page turn"\r\n  },\r\n\r\n  "i18n_playback_scroll_enable" : {\r\n    "message" : "Enable scroll during playback"\r\n  },\r\n  "i18n_playback_scroll_disable" : {\r\n    "message" : "Disable scroll during playback"\r\n  },\r\n\r\n  "i18n_audio_touch_enable" : {\r\n    "message" : "Enable touch-to-play"\r\n  },\r\n  "i18n_audio_touch_disable" : {\r\n    "message" : "Disable touch-to-play"\r\n  },\r\n  "i18n_audio_highlight_default" : {\r\n    "message" : "default"\r\n  },\r\n  "i18n_audio_highlight" : {\r\n    "message" : "Audio color"\r\n  },\r\n  "i18n_audio_sync" : {\r\n    "message" : "Text/audio synchronization granularity"\r\n  },\r\n  "i18n_audio_sync_default" : {\r\n    "message" : "Default"\r\n  },\r\n  "i18n_audio_sync_word" : {\r\n    "message" : "Word"\r\n  },\r\n  "i18n_audio_sync_sentence" : {\r\n    "message" : "Sentence"\r\n  },\r\n  "i18n_audio_sync_paragraph" : {\r\n    "message" : "Paragraph"\r\n  },\r\n  "i18n_page_previous" : {\r\n    "message" : "Previous Page"\r\n  },\r\n  "i18n_page_next" : {\r\n    "message" : "Next Page"\r\n  },\r\n  "i18n_page_navigation" : {\r\n    "message" : "Page Navigation"\r\n  },\r\n  "i18n_ChromeApp_deprecated_dialog_title" : {\r\n    "message" : "Readium Chrome App - WARNING"\r\n  },\r\n  "i18n_ChromeApp_deprecated_dialog_HTML" : {\r\n    "message" : "<p><strong><u>IMPORTANT:</u></strong></p><p>This is the final release of the Readium Chrome App. Google decided to remove support for \\"apps\\" in the Chrome Web Browser, as <a href=\\"https://developer.chrome.com/apps/migration\\" target=\\"_blank\\">explained here</a>.</p> <p>At some point, Google will completely disable existing Chrome apps. This is unfortunately outside of Readium\'s control.</p> <p>Consequently, please consider using alternative software to read EPUB files. Visit the <a href=\\"https://readium.org/about/applications.html/\\" target=\\"_blank\\">Readium website</a> for suggestions.</p>"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n';
    }),
    define("text!readium_js_viewer_i18n/_locales/fr/messages.json", [], function() {
        return '{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "Un lecteur de livres numériques EPUB3."\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Bibliothèque Readium"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Chargement de la bibliothèque"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Options de Readium :"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "Enregistrer les changements"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "Fermer"\r\n  },\r\n  "i18n_keyboard_shortcuts" : {\r\n    "message" : "Raccourcis clavier"\r\n  },\r\n  "i18n_keyboard_reload" : {\r\n    "message" : "Veuillez recharger la page pour que les raccourcis clavier prennent effet."\r\n  },\r\n  "i18n_reset_key" : {\r\n    "message" : "Réinitialiser le raccourci clavier par défaut"\r\n  },\r\n  "i18n_reset_key_all" : {\r\n    "message" : "Réinitialiser tous les raccourcis clavier par défaut"\r\n  },\r\n  "i18n_duplicate_keyboard_shortcut" : {\r\n    "message" : "DUPLIQUE"\r\n  },\r\n  "i18n_invalid_keyboard_shortcut" : {\r\n    "message" : "INVALIDE"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "Paginer tout le contenu des EPUB recomposables"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "Ouvrir automatiquement les urls *.epub dans Readium"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "Montrer les messages d\'avertissement pendant la décompression des fichiers EPUB"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "Détails"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "Lire"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "Supprimer"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "Auteur : "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "Éditeur : "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "Source : "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "Date de publication :  "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "Date de modification : "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "version de l\'EPUB : "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "Ajouté le : "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "Format : "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "Ajouté le : "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "Inconnu"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "Désolé, l\'EPUB actuel ne contient pas de média associé (media overlay) pour ce contenu"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "Ajoutez des articles à votre bibliothèque ici !"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "extraction : "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "Voulez-vous vraiment supprimer "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Ajoutez un livre à la bibliothèque de Readium :"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "Ajouter un livre"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "Annuler"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "À partir du Web :"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "À partir d\'un fichier local :"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "Entrez l\'URL d\'un fichier .epub"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "Répertoire non-compressé :"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "Valider :"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "Confirmer que ce livre est conforme aux standards EPUB"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "Pages simples"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "Doubles-pages"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "Enregistrer"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "TAILLE DE LA POLICE"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "MARGES"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "COULEUR DU TEXTE ET DU FOND"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Noir et Blanc"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Mille et une Nuits"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Sables de Dune"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Le Blues de Ballard"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Le Brouillard de Vancouver"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "FORMAT D\'AFFICHAGE"\r\n  },\r\n  "i18n_scroll_mode" : {\r\n    "message" : "MODE DE DÉFILEMENT"\r\n  },\r\n  "i18n_scroll_mode_auto" : {\r\n    "message" : "Auto"\r\n  },\r\n  "i18n_scroll_mode_doc" : {\r\n    "message" : "Document"\r\n  },\r\n  "i18n_scroll_mode_continuous" : {\r\n    "message" : "Continu"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium pour Chrome est l\'extension du navigateur Chrome de ReadiumJS, un système de lecture open-source et une librairie JavaScript pour afficher des documents EPUB® dans les navigateurs web. ReadiumJS est un projet de la fondation Readium (Readium.org). Pour en savoir plus ou pour contribuer, visiter la <a href=\\"http://readium.org/projects/readiumjs\\">page d\'accueil du projet</a>."\r\n  },\r\n  "i18n_audio_play" : {\r\n    "message" : "Jouer"\r\n  },\r\n  "i18n_audio_pause" : {\r\n    "message" : "Pauser"\r\n  },\r\n  "i18n_audio_previous" : {\r\n    "message" : "Phrase audio précédente"\r\n  },\r\n  "i18n_audio_next" : {\r\n    "message" : "Phrase audio suivante"\r\n  },\r\n  "i18n_audio_volume" : {\r\n    "message" : "Ajustement du volume audio"\r\n  },\r\n  "i18n_audio_time" : {\r\n    "message" : "Contrôle du curseur temporel audio"\r\n  },\r\n  "i18n_audio_mute" : {\r\n    "message" : "Silence audio"\r\n  },\r\n  "i18n_audio_unmute" : {\r\n    "message" : "Restaurer le volume audio"\r\n  },\r\n  "i18n_audio_expand" : {\r\n    "message" : "Afficher les contrôles audio avancés"\r\n  },\r\n  "i18n_audio_collapse" : {\r\n    "message" : "Fermer les contrôles audio avancés"\r\n  },\r\n  "i18n_audio_esc" : {\r\n    "message" : "Échapper le contexte audio actuel"\r\n  },\r\n  "i18n_audio_rate" : {\r\n    "message" : "Vitesse de lecture audio"\r\n  },\r\n  "i18n_audio_rate_reset" : {\r\n    "message" : "Retour à la vitesse normale de lecture audio"\r\n  },\r\n  "i18n_audio_skip_disable" : {\r\n    "message" : "Désactiver la \'skippabilité\'"\r\n  },\r\n  "i18n_audio_skip_enable" : {\r\n    "message" : "Activer la \'skippabilité\'"\r\n  },\r\n  "i18n_audio_touch_enable" : {\r\n    "message" : "Activer la fonction \'toucher pour jouer\'"\r\n  },\r\n  "i18n_audio_touch_disable" : {\r\n    "message" : "Désactiver la fonction \'toucher pour jouer\'"\r\n  },\r\n  "i18n_audio_highlight_default" : {\r\n    "message" : "défaut"\r\n  },\r\n  "i18n_audio_highlight" : {\r\n    "message" : "Couleur audio"\r\n  },\r\n  "i18n_audio_sync" : {\r\n    "message" : "Granularité de synchronisation texte / audio"\r\n  },\r\n  "i18n_audio_sync_default" : {\r\n    "message" : "Défaut"\r\n  },\r\n  "i18n_audio_sync_word" : {\r\n    "message" : "Mot"\r\n  },\r\n  "i18n_audio_sync_sentence" : {\r\n    "message" : "Phrase"\r\n  },\r\n  "i18n_audio_sync_paragraph" : {\r\n    "message" : "Paragraphe"\r\n  },\r\n  "i18n_page_previous" : {\r\n    "message" : "Page précédente"\r\n  },\r\n  "i18n_page_next" : {\r\n    "message" : "Page suivante"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,fr,ja,de"\r\n      }\r\n    }\r\n  }\r\n}\r\n';
    }),
    define("text!readium_js_viewer_i18n/_locales/it/messages.json", [], function() {
        return '{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "Un visualizzatore di documenti EPUB3"\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Biblioteca di Readium"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Caricamento biblioteca"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Opzioni di Readium"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "Applica"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "Chiudi"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "Impagina anche i file EPUB reflowable"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "Apri in Readium gli URL che terminano in .epub"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "Mostra errori e avvisi relativi ai file EPUB"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "Dettagli"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "Leggi"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "Elimina"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "Autore: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "Editore: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "Origine: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "Data pubblicazione: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "Data ultima modifica: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "Versione EPUB: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "Data importazione: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "Formato: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "Aggiunto: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "Sconosciuto"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "Spiacente, non ci sono risorse Media Overlays associate a questo elemento."\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "Aggiungi libri alla tua biblioteca!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "Decomprimendo: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "Sei sicuro di voler cancellare definitivamente "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Aggiungi libro alla Biblioteca di Readium"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "Aggiungi libro"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "Annulla"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "Scarica dal Web:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "Importa file EPUB dal tuo computer:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "Indirizzo Web del file EPUB che vuoi aggiungere:"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "Importa directory decompressa:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "Convalida:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "Controlla che i file siano conformi allo standard EPUB prima di aprirli"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "Singole"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "Affiancate"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "Applica"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "DIMENSIONE CARATTERE"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "MARGINI"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "COMBINAZIONE COLORE TESTO/SFONDO"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Bianco su nero"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Notturno"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Deserto"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Mediterraneo"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Nebbia"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "VISUALIZZAZIONE PAGINE"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>, progetto dell\'International Digital Publishing Forum (IDPF) e dei suoi sostenitori, è una piattaforma open source di lettura e un motore di rendering per documenti in formato EPUB&reg;. Per saperne di più, visita la <a href=\\"http://readium.org/\\">pagina principale del progetto</a>. Lo sviluppo del progetto è stato guidato da <a href=\\"http://evidentpoint.com/\\">Evident Point</a> e <a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>. Per contribuire, visita il <a href=\\"https://github.com/readium/readium-js-viewer\\">repository github</a>."\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accetta le seguenti lingue: $languages$",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,it,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n';
    }),
    define("text!readium_js_viewer_i18n/_locales/id/messages.json", [], function() {
        return '{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "reader untuk buku-buku EPUB3 ."\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Perpustakaan Readium"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Pilihan Readium :"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "Simpan perubahan"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "Tutup"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "Paginate all reflowable ePUB content"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "Secara otomatis buka *.epub urls di readium"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "Tampilkan pesan peringatan ketika unpacking file EPUB"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "Detail"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "Baca"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "Hapus"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "Penulis: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "Penerbit: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "Sumber: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "Tgl Terbit: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "Tgl Modifikasi: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "Versi EPUB: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "Dibuat di: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "Format: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "Menambahkan: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "Tidak dikenal"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "Maaf, EPUB saat ini tidak berisi overlay media untuk konten ini "\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "Masukkan item r Library disini!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "extracting: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "Apakah and yakin ingin menghapus secara permanen "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Masukkan Buku ke Readium Library:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "Add Book"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "Batal"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "Dari Web:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "Dari File local:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "Masukkan  URL ke file .epub "\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "Unpacked Directory:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "Validasi:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "Konfirmasikan bahwa buku ini sesuai dengan standar EPUB"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "Single Pages"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "Double Pages"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "Save Settings"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "FONT SIZE"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "MARGINS"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "TEKS DAN WARNA LATAR"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Black and White"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Arabian Nights"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Sands of Dune"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Ballard Blues"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Vancouver Mist"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "DISPLAY FORMAT"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>, a project of the International Digital Publishing Forum (IDPF) and supporters, adalah sistem referensi open source DAN rendering engine untuk EPUB&reg; publikasi.  Untuk mengetahui lebih lanjut, kunjungi <a href=\\"http://readium.org/\\">project homepage</a>. Sampai saat ini, pengembangan project telah dipimpin oleh  <a href=\\"http://evidentpoint.com/\\">Evident Point</a> and <a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>. Untuk kontribusi, kunjungi <a href=\\"https://github.com/readium/readium-js-viewer\\">github repository</a>"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n';
    }),
    define("text!readium_js_viewer_i18n/_locales/ja/messages.json", [], function() {
        return '{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "EPUB3ブックリーダ"\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Readiumライブラリ"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Readiumオプション:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "変更を保存"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "閉じる"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "リフロー可能なEPUBコンテンツをすべてページネートする"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "URLが*.epubなら自動でReadiumで開く"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "EPUBファイルを展開する際には警告メッセージを表示する"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "詳細"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "読む"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "削除"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "著者: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "出版社: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "ソース: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "出版日時: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "更新日時: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "EPUBバージョン: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "追加日時: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "フォーマット: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "追加日時: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "不明"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "現在のEPUBにはこのコンテンツのメディアオーバーレイが含まれていません"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "ここをクリックして本を登録します!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "展開しています: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "本を削除します: "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Readiumライブラリに本を追加します:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "本の追加"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "キャンセル"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "Webから:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "ローカルファイルから:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : ".epubファイルのURLを入力してください"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "パッケージ化されていないフォルダ:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "検証（バリデート）:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "この本がEPUB仕様に準拠していることを確認する"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "単ページ"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "ダブル"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "設定を保存する"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "文字サイズ"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "マージン"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "文字色と背景色"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "白背景に黒文字"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "アラビアンナイト"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "砂丘の砂"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "バラード ブルース"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "バンクーバーの霧"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "表示形式"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>とは, International Digital Publishing Forum (IDPF) と支援企業によるプロジェクトで, EPUB&reg; 出版のためのシステムとレンダリングエンジンのオープンソースリファレンスです。詳しくは、<a href=\\"http://readium.org/\\">プロジェクトホームページ</a>をご覧ください。これまでは<a href=\\"http://evidentpoint.com/\\">Evident Point</a>と<a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>がプロジェクト開発をリードしてきました。 コントリビュートするには<a href=\\"https://github.com/readium/readium-js-viewer\\">githubレポジトリ</a>をご覧ください。"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,ja,sr,de"\r\n      }\r\n    }\r\n  }\r\n}\r\n';
    }),
    define("text!readium_js_viewer_i18n/_locales/ko/messages.json", [], function() {
        return '{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "EPUB3책 리더."\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Readium 라이브러리"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Readium 옵션:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "변경사항 저장"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "닫기"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "모든 리플로우 컨텐츠의 페이지네이션"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "*.epub url들을 radium에서 자동으로 열기"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "EPUB파일들을 열 때 경고메시지 표시"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "세부항목"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "읽기"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "삭제"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "저자: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "출판사: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "소스: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "출판일: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "개정일: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "EPUB 버전: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "생성: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "포맷: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "추가일시: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "미상"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "현재 EPUB은 이 컨텐츠를 위한 미디어 오버레이가 포함되어 있지 않습니다."\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "책을 등록하기 위하여 여기를 클릭하세요!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "정보 추출 중: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "영구히 삭제하시길 원하십니까? "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Readium 라이브러리에 책 추가:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "책 추가"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "취소"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "웹에서:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "로컬 파일에서:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : ".epub 파일의 URL을 입력하세요"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "추출된 디렉토리:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "승인:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "이 책이 ePUB표준을 따르는지 확인"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "단일 페이지"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "더블 페이지"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "설정 저장"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "폰트 크기"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "여백"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "글자와 배경 색"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "흑백"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "아라비안 나이트"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "샌즈 오브 듄"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "발라드 블루스"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "밴쿠버 안개"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "디스플레이 포맷"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>는 EPUB&reg;컨텐츠의 출판을 위한 국제디지털출판포럼(IDPF, International Digital Publishing Forum)과 지원 기업들의 오픈소스 시스템 및 렌더링 엔진 프로젝트입니다. 자세한 내용은 <a href=\\"http://readium.org/\\">프로젝트 홈페이지</a>를 참조하세요. 지금까지, 프로젝트 개발은 <a href=\\"http://evidentpoint.com/\\">Evident Point</a>와 <a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>에 의해서 주도 되었습니다. 프로젝트에 기여하시기 위해서는 <a href=\\"https://github.com/readium/readium-js-viewer\\">github 저장소</a>를 확인하시기 바랍니다."\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n';
    }),
    define("text!readium_js_viewer_i18n/_locales/pt_BR/messages.json", [], function() {
        return '{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description" : {\r\n    "message": "Um leitor para livros para EPUB3."\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Biblioteca Readium"\r\n  },\r\n  "i18n_loading" : {\r\n   "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Opções do Readium:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "Salvar mudanças"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "Fechar"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "Paginar todo o conteúdo ePUB fluído"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "Abrir automaticamente urls *.epub no readium"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "Exibir mensagem de alerta quando extraindo arquivos EPUB"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "Detalhes"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "Ler"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "Excluir"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "Autor: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "Editora: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "Origem: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "Publicação: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "Data de Modificação: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "Versão do EPUB: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "Criado aos: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "Formato: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "Adicionado: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "Desconhecido"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "Desculpe, o atual EPUB não contém uma mídia de sobreposição para este conteúdo"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "Adicione itens para sua biblioteca aqui!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "extraindo: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "Você tem certeza de que deseja excluir permanentemente "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Adicionar Livro à Biblioteca Readium:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "Adicionar Livro"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "Cancelar"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "Da Rede:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "De Arquivo Local:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "Insira uma URL para um arquivo .epub"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "Diretório Extraido:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "Validar:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "Confirmar que este livro obedece aos padrões ePUB"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "Pág. Simples"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "Pág. Duplas"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "Salvar Configurações"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "TAMANHO DA FONTE"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "MARGENS"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "COR DO TEXTO E PLANO DE FUNDO"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Preto e Branco"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Noites Árabes"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Areias de Duna"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Ballard Blues"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Névoa de Vancouver"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "FORMATO DE EXIBIÇÃO"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>, a project of the International Digital Publishing Forum (IDPF) and supporters, is an open source reference system and rendering engine for EPUB&reg; publications.  To learn more, visit the <a href=\\"http://readium.org/\\">project homepage</a>. To date, the project development has been lead by <a href=\\"http://evidentpoint.com/\\">Evident Point</a> and <a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>. To contribute visit the <a href=\\"https://github.com/readium/readium-js-viewer\\">github repository</a>"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,pt-BR,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n';
    }),
    define("text!readium_js_viewer_i18n/_locales/zh_CN/messages.json", [], function() {
        return '{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "EPUB3电子书阅览器"\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Readium书库"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Readium选项:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "保存更改"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "关闭"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "分页显示所有可重排版EPUB文件"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "自动用Readium打开*.epub网址"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "解压缩EPUB文件时显示警告消息"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "详细信息"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "阅读"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "删除"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "作者: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "出版社: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "源自: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "出版日期: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "更新日期: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "EPUB版本: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "创建日期: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "格式: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "添加: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "未知"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "目前EPUB不支持此内容的媒体格式"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "点击这里添加新书"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "解压中: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "确定永久删除 "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "添加新书到Readium书库:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "添加"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "取消"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "从网络:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "从本地文件:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "请输入一个.EPUB文件的URL"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "未打包目录:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "验证:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "确认这本书是否符合EPUB标准"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "单页"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "双页"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "保存设置"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "字体大小"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "页边距"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "字体和背景颜色"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Black and White"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Arabian Nights"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Sands of Dune"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Ballard Blues"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Vancouver Mist"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "显示格式"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>，是一个International Digital Publishing Forum (IDPF)和技术支持者们共同开发的项目，也是一个开放源代码的EPUB格式出版物的渲染引擎。要了解更多信息，请访问<a href=\\"http://readium.org/\\">项目主页</a>。迄今为止，该项目的开发一直由<a href=\\"http://evidentpoint.com/\\">Evident Point</a>和<a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>来领导。要贡献请访问<a href=\\"https://github.com/readium/readium-js-viewer\\">GitHub资料库</a>"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n';
    }),
    define("text!readium_js_viewer_i18n/_locales/zh_TW/messages.json", [], function() {
        return '{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "EPUB3電子書閱讀器"\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Readium書櫃"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Readium設定:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "儲存變更"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "關閉"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "分頁呈現所有文字順走型的EPUB內容"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "自動以Readium開啟任何以.epub結尾的網址"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "解壓縮EPUB檔案時顯示警告訊息"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "詳細"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "閱讀"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "刪除"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "作者："\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "出版社："\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "來源："\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "出版日期："\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "更新日期："\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID："\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "EPUB版本："\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "建立日期："\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "格式："\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "加入日期："\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "未知"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "目前的EPUB內容並不包含朗讀聲音"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "按下這裡加入新書"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "解壓縮中："\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "你確定要永久刪除 "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "將書籍加入Readium書櫃："\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "加入書籍"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "取消"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "從網站加入："\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "從檔案加入："\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "請輸入 .epub 檔案所在網址"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "未壓縮目錄："\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "檢證："\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "確認這本書是否符合EPUB標準"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "單頁呈現"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "跨頁呈現"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "儲存設定"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "文字尺寸"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "頁緣餘白"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "文字與背景色彩"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "黑底與白字"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "阿拉伯之夜"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "砂丘之黃砂"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "抒情曲藍調"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "溫哥華之霧"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "顯示格式"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>是由是International Digital Publishing Forum (IDPF)與技術協助者們共同開發的專案，是供EPUB&reg; 出版品使用的開放原始碼參考系統與排版引擎。要了解更多訊息，請前往<a href=\\"http://readium.org/\\">專案網頁</a>。迄今為止，本專案持續由<a href=\\"http://evidentpoint.com/\\">Evident Point</a>和<a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>所主導。若想協助開發，請前往<a href=\\"https://github.com/readium/readium-js-viewer\\">GitHub專案</a>"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,zh-TW,zh-HK,ja,sr,de"\r\n      }\r\n    }\r\n  }\r\n}\r\n';
    }),
    define("i18nStrings", [
        "text!readium_js_viewer_i18n/_locales/de/messages.json",
        "text!readium_js_viewer_i18n/_locales/es/messages.json",
        "text!readium_js_viewer_i18n/_locales/en_US/messages.json",
        "text!readium_js_viewer_i18n/_locales/fr/messages.json",
        "text!readium_js_viewer_i18n/_locales/it/messages.json",
        "text!readium_js_viewer_i18n/_locales/id/messages.json",
        "text!readium_js_viewer_i18n/_locales/ja/messages.json",
        "text!readium_js_viewer_i18n/_locales/ko/messages.json",
        "text!readium_js_viewer_i18n/_locales/pt_BR/messages.json",
        "text!readium_js_viewer_i18n/_locales/zh_CN/messages.json",
        "text!readium_js_viewer_i18n/_locales/zh_TW/messages.json"
    ], function(e, t, n, r, i, o, a, s, l, u, c) {
        var d = {};
        (d.de = e),
            (d.es = t),
            (d.en_US = n),
            (d.fr = r),
            (d.id = o),
            (d.it = i),
            (d.ja = a),
            (d.ko = s),
            (d.pt_BR = l),
            (d.zh_CN = u),
            (d.zh_TW = c);
        var f = navigator.userLanguage || navigator.language;
        console.log("Language: [" + f + "]");
        var p = d[f] || n,
            h = JSON.parse(p),
            m = p === n ? h : JSON.parse(n);
        for (var g in m) {
            var v = g in h;
            v ||
                console.log(
                    "Language [" + f + "], missing string: [" + g + "]"
                ),
                (h[g] = v ? h[g].message : "*" + m[g].message);
        }
        return h;
    });
var Hogan = {};
!(function(e) {
    function t(e, t, n) {
        var r;
        return (
            t &&
                "object" == typeof t &&
                (void 0 !== t[e]
                    ? (r = t[e])
                    : n &&
                      t.get &&
                      "function" == typeof t.get &&
                      (r = t.get(e))),
            r
        );
    }
    function n(e, t, n, r, i, o) {
        function a() {}
        function s() {}
        (a.prototype = e), (s.prototype = e.subs);
        var l,
            u = new a();
        (u.subs = new s()),
            (u.subsText = {}),
            (u.buf = ""),
            (r = r || {}),
            (u.stackSubs = r),
            (u.subsText = o);
        for (l in t) r[l] || (r[l] = t[l]);
        for (l in r) u.subs[l] = r[l];
        (i = i || {}), (u.stackPartials = i);
        for (l in n) i[l] || (i[l] = n[l]);
        for (l in i) u.partials[l] = i[l];
        return u;
    }
    function r(e) {
        return String(null === e || void 0 === e ? "" : e);
    }
    function i(e) {
        return (
            (e = r(e)),
            c.test(e)
                ? e
                      .replace(o, "&amp;")
                      .replace(a, "&lt;")
                      .replace(s, "&gt;")
                      .replace(l, "&#39;")
                      .replace(u, "&quot;")
                : e
        );
    }
    (e.Template = function(e, t, n, r) {
        (e = e || {}),
            (this.r = e.code || this.r),
            (this.c = n),
            (this.options = r || {}),
            (this.text = t || ""),
            (this.partials = e.partials || {}),
            (this.subs = e.subs || {}),
            (this.buf = "");
    }),
        (e.Template.prototype = {
            r: function(e, t, n) {
                return "";
            },
            v: i,
            t: r,
            render: function(e, t, n) {
                return this.ri([e], t || {}, n);
            },
            ri: function(e, t, n) {
                return this.r(e, t, n);
            },
            ep: function(e, t) {
                var r = this.partials[e],
                    i = t[r.name];
                if (r.instance && r.base == i) return r.instance;
                if ("string" == typeof i) {
                    if (!this.c) throw new Error("No compiler available.");
                    i = this.c.compile(i, this.options);
                }
                if (!i) return null;
                if (((this.partials[e].base = i), r.subs)) {
                    t.stackText || (t.stackText = {});
                    for (key in r.subs)
                        t.stackText[key] ||
                            (t.stackText[key] =
                                void 0 !== this.activeSub &&
                                t.stackText[this.activeSub]
                                    ? t.stackText[this.activeSub]
                                    : this.text);
                    i = n(
                        i,
                        r.subs,
                        r.partials,
                        this.stackSubs,
                        this.stackPartials,
                        t.stackText
                    );
                }
                return (this.partials[e].instance = i), i;
            },
            rp: function(e, t, n, r) {
                var i = this.ep(e, n);
                return i ? i.ri(t, n, r) : "";
            },
            rs: function(e, t, n) {
                var r = e[e.length - 1];
                if (!d(r)) return void n(e, t, this);
                for (var i = 0; i < r.length; i++)
                    e.push(r[i]), n(e, t, this), e.pop();
            },
            s: function(e, t, n, r, i, o, a) {
                var s;
                return (
                    (!d(e) || 0 !== e.length) &&
                    ("function" == typeof e &&
                        (e = this.ms(e, t, n, r, i, o, a)),
                    (s = !!e),
                    !r &&
                        s &&
                        t &&
                        t.push("object" == typeof e ? e : t[t.length - 1]),
                    s)
                );
            },
            d: function(e, n, r, i) {
                var o,
                    a = e.split("."),
                    s = this.f(a[0], n, r, i),
                    l = this.options.modelGet,
                    u = null;
                if ("." === e && d(n[n.length - 2])) s = n[n.length - 1];
                else
                    for (var c = 1; c < a.length; c++)
                        (o = t(a[c], s, l)),
                            void 0 !== o ? ((u = s), (s = o)) : (s = "");
                return (
                    !(i && !s) &&
                    (i ||
                        "function" != typeof s ||
                        (n.push(u), (s = this.mv(s, n, r)), n.pop()),
                    s)
                );
            },
            f: function(e, n, r, i) {
                for (
                    var o = !1,
                        a = null,
                        s = !1,
                        l = this.options.modelGet,
                        u = n.length - 1;
                    u >= 0;
                    u--
                )
                    if (((a = n[u]), void 0 !== (o = t(e, a, l)))) {
                        s = !0;
                        break;
                    }
                return s
                    ? (i || "function" != typeof o || (o = this.mv(o, n, r)), o)
                    : !i && "";
            },
            ls: function(e, t, n, i, o) {
                var a = this.options.delimiters;
                return (
                    (this.options.delimiters = o),
                    this.b(this.ct(r(e.call(t, i)), t, n)),
                    (this.options.delimiters = a),
                    !1
                );
            },
            ct: function(e, t, n) {
                if (this.options.disableLambda)
                    throw new Error("Lambda features disabled.");
                return this.c.compile(e, this.options).render(t, n);
            },
            b: function(e) {
                this.buf += e;
            },
            fl: function() {
                var e = this.buf;
                return (this.buf = ""), e;
            },
            ms: function(e, t, n, r, i, o, a) {
                var s,
                    l = t[t.length - 1],
                    u = e.call(l);
                return "function" == typeof u
                    ? !!r ||
                          ((s =
                              this.activeSub &&
                              this.subsText &&
                              this.subsText[this.activeSub]
                                  ? this.subsText[this.activeSub]
                                  : this.text),
                          this.ls(u, l, n, s.substring(i, o), a))
                    : u;
            },
            mv: function(e, t, n) {
                var i = t[t.length - 1],
                    o = e.call(i);
                return "function" == typeof o ? this.ct(r(o.call(i)), i, n) : o;
            },
            sub: function(e, t, n, r) {
                var i = this.subs[e];
                i &&
                    ((this.activeSub = e),
                    i(t, n, this, r),
                    (this.activeSub = !1));
            }
        });
    var o = /&/g,
        a = /</g,
        s = />/g,
        l = /\'/g,
        u = /\"/g,
        c = /[&<>\"\']/,
        d =
            Array.isArray ||
            function(e) {
                return "[object Array]" === Object.prototype.toString.call(e);
            };
})("undefined" != typeof exports ? exports : Hogan),
    (function(e) {
        function t(e) {
            "}" === e.n.substr(e.n.length - 1) &&
                (e.n = e.n.substring(0, e.n.length - 1));
        }
        function n(e) {
            return e.trim ? e.trim() : e.replace(/^\s*|\s*$/g, "");
        }
        function r(e, t, n) {
            if (t.charAt(n) != e.charAt(0)) return !1;
            for (var r = 1, i = e.length; r < i; r++)
                if (t.charAt(n + r) != e.charAt(r)) return !1;
            return !0;
        }
        function i(t, n, r, s) {
            var l = [],
                u = null,
                c = null,
                d = null;
            for (c = r[r.length - 1]; t.length > 0; ) {
                if (((d = t.shift()), c && "<" == c.tag && !(d.tag in w)))
                    throw new Error("Illegal content in < super tag.");
                if (e.tags[d.tag] <= e.tags.$ || o(d, s))
                    r.push(d), (d.nodes = i(t, d.tag, r, s));
                else {
                    if ("/" == d.tag) {
                        if (0 === r.length)
                            throw new Error(
                                "Closing tag without opener: /" + d.n
                            );
                        if (((u = r.pop()), d.n != u.n && !a(d.n, u.n, s)))
                            throw new Error(
                                "Nesting error: " + u.n + " vs. " + d.n
                            );
                        return (u.end = d.i), l;
                    }
                    "\n" == d.tag &&
                        (d.last = 0 == t.length || "\n" == t[0].tag);
                }
                l.push(d);
            }
            if (r.length > 0)
                throw new Error("missing closing tag: " + r.pop().n);
            return l;
        }
        function o(e, t) {
            for (var n = 0, r = t.length; n < r; n++)
                if (t[n].o == e.n) return (e.tag = "#"), !0;
        }
        function a(e, t, n) {
            for (var r = 0, i = n.length; r < i; r++)
                if (n[r].c == e && n[r].o == t) return !0;
        }
        function s(e) {
            var t = [];
            for (var n in e)
                t.push('"' + u(n) + '": function(c,p,t,i) {' + e[n] + "}");
            return "{ " + t.join(",") + " }";
        }
        function l(e) {
            var t = [];
            for (var n in e.partials)
                t.push(
                    '"' +
                        u(n) +
                        '":{name:"' +
                        u(e.partials[n].name) +
                        '", ' +
                        l(e.partials[n]) +
                        "}"
                );
            return "partials: {" + t.join(",") + "}, subs: " + s(e.subs);
        }
        function u(e) {
            return e
                .replace(b, "\\\\")
                .replace(m, '\\"')
                .replace(g, "\\n")
                .replace(v, "\\r")
                .replace(y, "\\u2028")
                .replace(_, "\\u2029");
        }
        function c(e) {
            return ~e.indexOf(".") ? "d" : "f";
        }
        function d(e, t) {
            var n = "<" + (t.prefix || ""),
                r = n + e.n + x++;
            return (
                (t.partials[r] = { name: e.n, partials: {} }),
                (t.code +=
                    't.b(t.rp("' +
                    u(r) +
                    '",c,p,"' +
                    (e.indent || "") +
                    '"));'),
                r
            );
        }
        function f(e, t) {
            t.code += "t.b(t.t(t." + c(e.n) + '("' + u(e.n) + '",c,p,0)));';
        }
        function p(e) {
            return "t.b(" + e + ");";
        }
        var h = /\S/,
            m = /\"/g,
            g = /\n/g,
            v = /\r/g,
            b = /\\/g,
            y = /\u2028/,
            _ = /\u2029/;
        (e.tags = {
            "#": 1,
            "^": 2,
            "<": 3,
            $: 4,
            "/": 5,
            "!": 6,
            ">": 7,
            "=": 8,
            _v: 9,
            "{": 10,
            "&": 11,
            _t: 12
        }),
            (e.scan = function(i, o) {
                function a() {
                    p.length > 0 &&
                        (m.push({ tag: "_t", text: new String(p) }), (p = ""));
                }
                function s() {
                    for (var t = !0, n = b; n < m.length; n++)
                        if (
                            !(t =
                                e.tags[m[n].tag] < e.tags._v ||
                                ("_t" == m[n].tag &&
                                    null === m[n].text.match(h)))
                        )
                            return !1;
                    return t;
                }
                function l(e, t) {
                    if ((a(), e && s()))
                        for (var n, r = b; r < m.length; r++)
                            m[r].text &&
                                ((n = m[r + 1]) &&
                                    ">" == n.tag &&
                                    (n.indent = m[r].text.toString()),
                                m.splice(r, 1));
                    else t || m.push({ tag: "\n" });
                    (g = !1), (b = m.length);
                }
                var u = i.length,
                    c = 0,
                    d = null,
                    f = null,
                    p = "",
                    m = [],
                    g = !1,
                    v = 0,
                    b = 0,
                    y = "{{",
                    _ = "}}";
                for (
                    o && ((o = o.split(" ")), (y = o[0]), (_ = o[1])), v = 0;
                    v < u;
                    v++
                )
                    0 == c
                        ? r(y, i, v)
                            ? (--v, a(), (c = 1))
                            : "\n" == i.charAt(v)
                                ? l(g)
                                : (p += i.charAt(v))
                        : 1 == c
                            ? ((v += y.length - 1),
                              (f = e.tags[i.charAt(v + 1)]),
                              (d = f ? i.charAt(v + 1) : "_v"),
                              "=" == d
                                  ? ((v = (function(e, t) {
                                        var r = "=" + _,
                                            i = e.indexOf(r, t),
                                            o = n(
                                                e.substring(
                                                    e.indexOf("=", t) + 1,
                                                    i
                                                )
                                            ).split(" ");
                                        return (
                                            (y = o[0]),
                                            (_ = o[o.length - 1]),
                                            i + r.length - 1
                                        );
                                    })(i, v)),
                                    (c = 0))
                                  : (f && v++, (c = 2)),
                              (g = v))
                            : r(_, i, v)
                                ? (m.push({
                                      tag: d,
                                      n: n(p),
                                      otag: y,
                                      ctag: _,
                                      i: "/" == d ? g - y.length : v + _.length
                                  }),
                                  (p = ""),
                                  (v += _.length - 1),
                                  (c = 0),
                                  "{" == d &&
                                      ("}}" == _ ? v++ : t(m[m.length - 1])))
                                : (p += i.charAt(v));
                return l(g, !0), m;
            });
        var w = { _t: !0, "\n": !0, $: !0, "/": !0 };
        e.stringify = function(t, n, r) {
            return (
                "{code: function (c,p,i) { " +
                e.wrapMain(t.code) +
                " }," +
                l(t) +
                "}"
            );
        };
        var x = 0;
        (e.generate = function(t, n, r) {
            x = 0;
            var i = { code: "", subs: {}, partials: {} };
            return (
                e.walk(t, i),
                r.asString
                    ? this.stringify(i, n, r)
                    : this.makeTemplate(i, n, r)
            );
        }),
            (e.wrapMain = function(e) {
                return 'var t=this;t.b(i=i||"");' + e + "return t.fl();";
            }),
            (e.template = e.Template),
            (e.makeTemplate = function(e, t, n) {
                var r = this.makePartials(e);
                return (
                    (r.code = new Function(
                        "c",
                        "p",
                        "i",
                        this.wrapMain(e.code)
                    )),
                    new this.template(r, t, this, n)
                );
            }),
            (e.makePartials = function(e) {
                var t,
                    n = { subs: {}, partials: e.partials, name: e.name };
                for (t in n.partials)
                    n.partials[t] = this.makePartials(n.partials[t]);
                for (t in e.subs)
                    n.subs[t] = new Function("c", "p", "t", "i", e.subs[t]);
                return n;
            }),
            (e.codegen = {
                "#": function(t, n) {
                    (n.code +=
                        "if(t.s(t." +
                        c(t.n) +
                        '("' +
                        u(t.n) +
                        '",c,p,1),c,p,0,' +
                        t.i +
                        "," +
                        t.end +
                        ',"' +
                        t.otag +
                        " " +
                        t.ctag +
                        '")){t.rs(c,p,function(c,p,t){'),
                        e.walk(t.nodes, n),
                        (n.code += "});c.pop();}");
                },
                "^": function(t, n) {
                    (n.code +=
                        "if(!t.s(t." +
                        c(t.n) +
                        '("' +
                        u(t.n) +
                        '",c,p,1),c,p,1,0,0,"")){'),
                        e.walk(t.nodes, n),
                        (n.code += "};");
                },
                ">": d,
                "<": function(t, n) {
                    var r = { partials: {}, code: "", subs: {}, inPartial: !0 };
                    e.walk(t.nodes, r);
                    var i = n.partials[d(t, n)];
                    (i.subs = r.subs), (i.partials = r.partials);
                },
                $: function(t, n) {
                    var r = {
                        subs: {},
                        code: "",
                        partials: n.partials,
                        prefix: t.n
                    };
                    e.walk(t.nodes, r),
                        (n.subs[t.n] = r.code),
                        n.inPartial ||
                            (n.code += 't.sub("' + u(t.n) + '",c,p,i);');
                },
                "\n": function(e, t) {
                    t.code += p('"\\n"' + (e.last ? "" : " + i"));
                },
                _v: function(e, t) {
                    t.code +=
                        "t.b(t.v(t." + c(e.n) + '("' + u(e.n) + '",c,p,0)));';
                },
                _t: function(e, t) {
                    t.code += p('"' + u(e.text) + '"');
                },
                "{": f,
                "&": f
            }),
            (e.walk = function(t, n) {
                for (var r, i = 0, o = t.length; i < o; i++)
                    (r = e.codegen[t[i].tag]) && r(t[i], n);
                return n;
            }),
            (e.parse = function(e, t, n) {
                return (n = n || {}), i(e, "", [], n.sectionTags || []);
            }),
            (e.cache = {}),
            (e.cacheKey = function(e, t) {
                return [
                    e,
                    !!t.asString,
                    !!t.disableLambda,
                    t.delimiters,
                    !!t.modelGet
                ].join("||");
            }),
            (e.compile = function(t, n) {
                n = n || {};
                var r = e.cacheKey(t, n),
                    i = this.cache[r];
                if (i) {
                    var o = i.partials;
                    for (var a in o) delete o[a].instance;
                    return i;
                }
                return (
                    (i = this.generate(
                        this.parse(this.scan(t, n.delimiters), t, n),
                        t,
                        n
                    )),
                    (this.cache[r] = i)
                );
            });
    })("undefined" != typeof exports ? exports : Hogan),
    "function" == typeof define && define.amd && define("hogan", Hogan),
    define("hgn", {
        load: function(e) {
            throw new Error("Dynamic load not allowed: " + e);
        }
    }),
    define("hgn!readium_js_viewer_html_templates/managed-dialog.html", [
        "hogan"
    ], function(e) {
        function t() {
            return n.render.apply(n, arguments);
        }
        var n = new e.Template(
            {
                code: function(e, t, n) {
                    var r = this;
                    return (
                        r.b((n = n || "")),
                        r.b(
                            '<div class="modal fade" id="managed-dialog" tabindex="-1" role="dialog" aria-labelledby="managed-label">\r'
                        ),
                        r.b("\n" + n),
                        r.b('    <div class="modal-dialog">\r'),
                        r.b("\n" + n),
                        r.b('        <div class="modal-content">\r'),
                        r.b("\n" + n),
                        r.b('            <div class="modal-header">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <button type="button" class="close" data-dismiss="modal" aria-label="close" title="close"><span aria-hidden="true">&times;<span></button>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                <h4 class="modal-title" id="managed-label"></h4>\r'
                        ),
                        r.b("\n" + n),
                        r.b("            </div>\r"),
                        r.b("\n" + n),
                        r.b('            <div class="modal-body">\r'),
                        r.b("\n" + n),
                        r.b("            </div>\r"),
                        r.b("\n" + n),
                        r.b('            <div class="modal-footer">\r'),
                        r.b("\n" + n),
                        r.b("            </div>\r"),
                        r.b("\n" + n),
                        r.b("        </div>\r"),
                        r.b("\n" + n),
                        r.b("        \x3c!-- /.modal-content --\x3e \r"),
                        r.b("\n" + n),
                        r.b("    </div>\x3c!-- /.modal-dialog --\x3e\r"),
                        r.b("\n" + n),
                        r.b("</div>\r"),
                        r.b("\n" + n),
                        r.b("\x3c!-- /.modal --\x3e"),
                        r.fl()
                    );
                },
                partials: {},
                subs: {}
            },
            "",
            e
        );
        return (t.template = n), t;
    }),
    define("hgn!readium_js_viewer_html_templates/progress-dialog.html", [
        "hogan"
    ], function(e) {
        function t() {
            return n.render.apply(n, arguments);
        }
        var n = new e.Template(
            {
                code: function(e, t, n) {
                    var r = this;
                    return (
                        r.b((n = n || "")),
                        r.b('<div class="progress progress-striped active">\r'),
                        r.b("\n" + n),
                        r.b(
                            '  <div class="progress-bar"  role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="100" style="width: 1%">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '    \x3c!-- <span class="progress-message sr-only">'
                        ),
                        r.b(r.v(r.f("message", e, t, 0))),
                        r.b("</span> --\x3e\r"),
                        r.b("\n" + n),
                        r.b("  </div>\r"),
                        r.b("\n" + n),
                        r.b("</div>\r"),
                        r.b("\n" + n),
                        r.b('<div class="progress-message">'),
                        r.b(r.v(r.f("message", e, t, 0))),
                        r.b("</div>\r"),
                        r.b("\n"),
                        r.fl()
                    );
                },
                partials: {},
                subs: {}
            },
            "",
            e
        );
        return (t.template = n), t;
    }),
    define("hgn!readium_js_viewer_html_templates/managed-buttons.html", [
        "hogan"
    ], function(e) {
        function t() {
            return n.render.apply(n, arguments);
        }
        var n = new e.Template(
            {
                code: function(e, t, n) {
                    var r = this;
                    return (
                        r.b((n = n || "")),
                        r.s(
                            r.f("buttons", e, t, 1),
                            e,
                            t,
                            0,
                            12,
                            157,
                            "{{ }}"
                        ) &&
                            (r.rs(e, t, function(e, t, r) {
                                r.b(
                                    '<button type="button" class="btn btn-default '
                                ),
                                    r.s(
                                        r.f("classes", e, t, 1),
                                        e,
                                        t,
                                        0,
                                        71,
                                        77,
                                        "{{ }}"
                                    ) &&
                                        (r.rs(e, t, function(e, t, n) {
                                            n.b(n.v(n.d(".", e, t, 0))),
                                                n.b(" ");
                                        }),
                                        e.pop()),
                                    r.b('" '),
                                    r.s(
                                        r.f("dismiss", e, t, 1),
                                        e,
                                        t,
                                        0,
                                        103,
                                        125,
                                        "{{ }}"
                                    ) &&
                                        (r.rs(e, t, function(e, t, n) {
                                            n.b(' data-dismiss="modal" ');
                                        }),
                                        e.pop()),
                                    r.b(">"),
                                    r.b(r.v(r.f("text", e, t, 0))),
                                    r.b("</button>\r"),
                                    r.b("\n" + n);
                            }),
                            e.pop()),
                        r.fl()
                    );
                },
                partials: {},
                subs: {}
            },
            "",
            e
        );
        return (t.template = n), t;
    }),
    define("readium_js_viewer/workers/Messages", [], function() {
        return {
            IMPORT_ZIP: 0,
            OVERWRITE_CONTINUE: 1,
            FIND_PACKAGE_RESPONSE: 2,
            PARSE_PACKAGE_RESPONSE: 3,
            DELETE_EPUB: 4,
            IMPORT_DIR: 5,
            IMPORT_URL: 6,
            MIGRATE: 7,
            OVERWRITE_SIDE_BY_SIDE: 8,
            CONTINUE_IMPORT_ZIP: 9,
            SUCCESS: 100,
            PROGRESS: 101,
            ERROR: 102,
            OVERWRITE: 103,
            FIND_PACKAGE: 104,
            PARSE_PACKAGE: 105,
            PROGRESS_EXTRACTING: 200,
            PROGRESS_WRITING: 201,
            PROGRESS_DELETING: 202,
            PROGRESS_MIGRATING: 203,
            ERROR_STORAGE: 300,
            ERROR_EPUB: 301,
            ERROR_AJAX: 302,
            ERROR_PACKAGE_PARSE: 303,
            READY: 400
        };
    }),
    define("readium_js_viewer/Dialogs", [
        "hgn!readium_js_viewer_html_templates/managed-dialog.html",
        "hgn!readium_js_viewer_html_templates/progress-dialog.html",
        "hgn!readium_js_viewer_html_templates/managed-buttons.html",
        "i18nStrings",
        "./workers/Messages"
    ], function(e, t, n, r, i) {
        var o,
            a,
            s = function() {
                o && o.modal("hide");
            },
            l = function(t, n, r, i) {
                o || ((o = $(e({}))), $("#app-container").append(o)),
                    $("#managed-label").text(n),
                    $("#managed-dialog .modal-body")
                        .empty()
                        .append(r),
                    $("#managed-dialog .modal-footer")
                        .empty()
                        .append(i),
                    t
                        ? $("#managed-dialog .close").show()
                        : $("#managed-dialog .close").hide(),
                    o.is(":hidden") &&
                        (t
                            ? $("#managed-dialog").modal({
                                  backdrop: !0,
                                  keyboard: !0,
                                  show: !0
                              })
                            : $("#managed-dialog").modal({
                                  backdrop: "static",
                                  keyboard: !1,
                                  show: !0
                              }));
            };
        return (
            (Dialogs = {
                showError: function(e, t) {
                    var n = r.err_unknown;
                    switch (e) {
                        case i.ERROR_PACKAGE_PARSE:
                            return void Dialogs.showErrorWithDetails(
                                r.err_epub_corrupt,
                                t
                            );
                        case i.ERROR_STORAGE:
                            n = r.err_storage;
                            break;
                        case i.ERROR_EPUB:
                            n = r.err_epub_corrupt;
                            break;
                        case i.ERROR_AJAX:
                            n = r.err_ajax;
                            break;
                        default:
                            (n = r.err_unknown), console.trace();
                    }
                    Dialogs.showModalMessage(r.err_dlg_title, n);
                },
                showErrorWithDetails: function(e, t) {
                    var i = $("<pre></pre>").text(t || "Unknown Error"),
                        o = n({ buttons: [{ dismiss: !0, text: r.ok }] });
                    l(!0, e, i, o);
                },
                showModalMessage: function(e, t) {
                    var i = $("<p></p>").text(t),
                        o = n({ buttons: [{ dismiss: !0, text: r.ok }] });
                    l(!0, e, i, o);
                },
                showModalHTML: function(e, t) {
                    var i = $(t),
                        o = n({ buttons: [{ dismiss: !0, text: r.ok }] });
                    l(!0, e, i, o);
                },
                showModalMessageEx: function(e, t) {
                    var i = n({ buttons: [{ dismiss: !0, text: r.ok }] });
                    l(!0, e, t, i);
                },
                showModalPromptEx: function(e, t, r, i) {
                    var o = $("<p></p>").text(t),
                        a = n({ buttons: r });
                    l(!1, e, o, a);
                    for (var s = 0; s < i.length; s++)
                        i[s] &&
                            $("#managed-dialog ." + r[s].classes[0]).on(
                                "click",
                                i[s]
                            );
                },
                showModalPrompt: function(e, t, n, r, i, o) {
                    var a = [
                        { dismiss: !0, text: r, classes: ["no-button"] },
                        {
                            dismiss: !0,
                            text: n,
                            classes: ["yes-button", "btn-primary"]
                        }
                    ];
                    (handlers = [o, i]),
                        Dialogs.showModalPromptEx(e, t, a, handlers);
                },
                showReplaceConfirm: function(e, t, n, r, i, o, a, s) {
                    var l = [
                        { dismiss: !0, text: r, classes: ["no-button"] },
                        {
                            dismiss: !0,
                            text: n,
                            classes: ["yes-button", "btn-danger"]
                        },
                        {
                            dismiss: !0,
                            text: i,
                            classes: ["keep-both-button", "btn-primary"]
                        }
                    ];
                    (handlers = [a, o, s]),
                        Dialogs.showModalPromptEx(e, t, l, handlers);
                },
                showModalProgress: function(e, i, o) {
                    var s = { message: i };
                    a = e;
                    var u = n({
                        buttons: [
                            {
                                text: r.i18n_cancel,
                                classes: ["cancel-button", "btn-primary"]
                            }
                        ]
                    });
                    l(!1, e, t(s), o ? u : ""),
                        o && $("#managed-dialog .cancel-button").on("click", o);
                },
                updateModalProgressTitle: function(e) {
                    $("#managed-label").text(e);
                },
                updateProgress: function(e, t, n, o) {
                    var a = "";
                    switch (t) {
                        case i.PROGRESS_MIGRATING:
                            a = r.migrating + " " + n;
                            break;
                        case i.PROGRESS_EXTRACTING:
                            a = r.i18n_extracting + " " + n;
                            break;
                        case i.PROGRESS_WRITING:
                            a = r.storing_file + " " + n;
                            break;
                        case i.PROGRESS_DELETING:
                            a = r.delete_progress_message + " " + n;
                    }
                    $("#managed-dialog .progress-bar")
                        .attr("aria-valuenow", e)
                        .css("width", e + "%"),
                        $("#managed-dialog .progress-message").text(a);
                },
                closeModal: function() {
                    s();
                },
                reset: function() {
                    o && (o.remove(), (o = null));
                }
            }),
            Dialogs
        );
    }),
    define("hgn!readium_js_viewer_html_templates/settings-dialog.html", [
        "hogan"
    ], function(e) {
        function t() {
            return n.render.apply(n, arguments);
        }
        var n = new e.Template(
            {
                code: function(e, t, n) {
                    var r = this;
                    return (
                        r.b((n = n || "")),
                        r.b(
                            '<div tabindex="-1" class="modal fade" id="settings-dialog" role="dialog" aria-label="'
                        ),
                        r.b(r.v(r.d("strings.settings", e, t, 0))),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b('    <div class="modal-dialog">\r'),
                        r.b("\n" + n),
                        r.b('        <div class="modal-content">\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b('           \x3c!-- div class="modal-header">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <h4 class="modal-title" id="settings-label">'
                        ),
                        r.b(r.v(r.d("strings.settings", e, t, 0))),
                        r.b("</h4>\r"),
                        r.b("\n" + n),
                        r.b("           </div --\x3e\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b('            <div class="modal-body">\r'),
                        r.b("\n" + n),
                        r.b(
                            '           <button type="button" class="close" id="closeSettingsCross" data-dismiss="modal" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_close", e, t, 0))),
                        r.b(" "),
                        r.b(r.v(r.d("strings.settings", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_close", e, t, 0))),
                        r.b(" "),
                        r.b(r.v(r.d("strings.settings", e, t, 0))),
                        r.b(
                            '"><span aria-hidden="true">&times;</span></button>\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '           <ul class="nav nav-tabs" role="tablist" aria-owns="tab-butt-style tab-butt-layout tab-butt-keys">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '             <li class="active" role="presentation"><button id="tab-butt-style"  title="'
                        ),
                        r.b(r.v(r.d("strings.style", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.style", e, t, 0))),
                        r.b(
                            '" role=\'tab\' aria-controls="tab-style" data-toggle="tab" data-target="#tab-style" tabindex="0">'
                        ),
                        r.b(r.v(r.d("strings.style", e, t, 0))),
                        r.b("</button></li>\r"),
                        r.b("\n" + n),
                        r.b(
                            '             <li role="presentation"><button id="tab-butt-layout"  title="'
                        ),
                        r.b(r.v(r.d("strings.layout", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.layout", e, t, 0))),
                        r.b(
                            '" role=\'tab\' aria-controls="tab-layout" data-toggle="tab" data-target="#tab-layout" tabindex="-1">'
                        ),
                        r.b(r.v(r.d("strings.layout", e, t, 0))),
                        r.b("</button></li>\r"),
                        r.b("\n" + n),
                        r.b(
                            '             <li role="presentation"><button id="tab-butt-keys"  title="'
                        ),
                        r.b(
                            r.v(r.d("strings.i18n_keyboard_shortcuts", e, t, 0))
                        ),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(r.d("strings.i18n_keyboard_shortcuts", e, t, 0))
                        ),
                        r.b(
                            '" role=\'tab\' aria-controls="tab-keyboard" data-toggle="tab" data-target="#tab-keyboard" tabindex="-1">'
                        ),
                        r.b(
                            r.v(r.d("strings.i18n_keyboard_shortcuts", e, t, 0))
                        ),
                        r.b("</button></li>\r"),
                        r.b("\n" + n),
                        r.b("           </ul>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b('           <div class="tab-content">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <div id="tab-style" class="tab-pane active" role="tabpanel" aria-expanded="true">\r'
                        ),
                        r.b("\n" + n),
                        r.b('                <h5 aria-hidden="true">'),
                        r.b(r.v(r.d("strings.preview", e, t, 0))),
                        r.b("</h5>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <div  aria-hidden="true" class="row">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                    <div data-theme="author-theme" class="col-xs-10 col-xs-offset-1 preview-text author-theme">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            "                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus neque dui, congue a suscipit non, feugiat eu urna. Cras in felis sed orci aliquam sagittis.\r"
                        ),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b("                </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '\x3c!-- button  type="button" title="TESTING" aria-label="TESTING">TESTING DANIEL</button --\x3e\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <h5 id="setting-header-font-size" class="setting-header">'
                        ),
                        r.b(r.v(r.d("strings.i18n_font_size", e, t, 0))),
                        r.b("</h5>\r"),
                        r.b("\n" + n),
                        r.b('                    <div class="row">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                        <div class="col-xs-2 icon-scale-down">\r'
                        ),
                        r.b("\n" + n),
                        r.b('                            <img src="'),
                        r.b(r.t(r.f("imagePathPrefix", e, t, 0))),
                        r.b(
                            'images/glyphicons_115_text_smaller.png" alt="" aria-hidden="true">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b('                        <div class="col-xs-8">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                            <input  type="range" aria-labelledby="setting-header-font-size" id="font-size-input" min="60" aria-value-min="60" aria-valuemin="60" step="10" max="170" aria-value-max="170" aria-valuemax="170" value="100" aria-valuenow="100" aria-value-now="100" aria-valuetext="1em" aria-value-text="1em" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_font_size", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_font_size", e, t, 0))),
                        r.b('" />\r'),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b('                        <div class="col-xs-2">\r'),
                        r.b("\n" + n),
                        r.b('                            <img src="'),
                        r.b(r.t(r.f("imagePathPrefix", e, t, 0))),
                        r.b(
                            'images/glyphicons_116_text_bigger.png" alt="" aria-hidden="true">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <h5 id="setting-header-font-selection" class="setting-header">'
                        ),
                        r.b(r.v(r.d("strings.i18n_font_selection", e, t, 0))),
                        r.b("</h5>\r"),
                        r.b("\n" + n),
                        r.b('                    <div class="row">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                        <div class="col-xs-8 col-xs-offset-2">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <select style="width: 100%; padding: 0.5em;" aria-labelledby="setting-header-font-selection" id="font-selection-input"  title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_font_selection", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_font_selection", e, t, 0))),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                                <option value="0" aria-label="'
                        ),
                        r.b(r.v(r.d("strings.i18n_fonttype_default", e, t, 0))),
                        r.b('" title="'),
                        r.b(r.v(r.d("strings.i18n_fonttype_default", e, t, 0))),
                        r.b('">'),
                        r.b(r.v(r.d("strings.i18n_fonttype_default", e, t, 0))),
                        r.b("</option>\r"),
                        r.b("\n" + n),
                        r.b("\t\t\t\t\t\t\t</select>\r"),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <h5 id="setting-header-color-legend" class="setting-header">'
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_text_and_background_color",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("</h5>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <div role="group" aria-labelledby="setting-header-color-legend" id="theme-radio-group" class="row">\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <button role="button" data-theme="author-theme"  title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_author_theme", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_author_theme", e, t, 0))),
                        r.b(
                            '" class="col-xs-8 col-xs-offset-2 theme-option author-theme clickable">'
                        ),
                        r.b(r.v(r.d("strings.i18n_author_theme", e, t, 0))),
                        r.b("</button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <button role="button" data-theme="default-theme"  title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_black_and_white", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_black_and_white", e, t, 0))),
                        r.b(
                            '" class="col-xs-8 col-xs-offset-2 theme-option default-theme clickable">'
                        ),
                        r.b(r.v(r.d("strings.i18n_black_and_white", e, t, 0))),
                        r.b("</button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <button role="button" data-theme="night-theme"  title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_arabian_nights", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.NightTheme", e, t, 0))),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_arabian_nights", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.NightTheme", e, t, 0))),
                        r.b(
                            ']" class="col-xs-8 col-xs-offset-2 theme-option night-theme clickable" >'
                        ),
                        r.b(r.v(r.d("strings.i18n_arabian_nights", e, t, 0))),
                        r.b('</button> \x3c!-- accesskey="'),
                        r.b(
                            r.v(r.d("keyboard.accesskeys.NightTheme", e, t, 0))
                        ),
                        r.b('" --\x3e\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <button role="button" data-theme="parchment-theme"  title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_sands_of_dune", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_sands_of_dune", e, t, 0))),
                        r.b(
                            '" class="col-xs-8 col-xs-offset-2 theme-option parchment-theme clickable">'
                        ),
                        r.b(r.v(r.d("strings.i18n_sands_of_dune", e, t, 0))),
                        r.b("</button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <button role="button" data-theme="ballard-theme"  title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_ballard_blues", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_ballard_blues", e, t, 0))),
                        r.b(
                            '" class="col-xs-8 col-xs-offset-2 theme-option ballard-theme clickable">'
                        ),
                        r.b(r.v(r.d("strings.i18n_ballard_blues", e, t, 0))),
                        r.b("</button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <button role="button" data-theme="vancouver-theme"  title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_vancouver_mist", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_vancouver_mist", e, t, 0))),
                        r.b(
                            '" class="col-xs-8 col-xs-offset-2 theme-option vancouver-theme clickable">'
                        ),
                        r.b(r.v(r.d("strings.i18n_vancouver_mist", e, t, 0))),
                        r.b("</button>\r"),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b("                </div>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <div id="tab-layout" class="tab-pane" role="tabpanel">\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            "                    \x3c!-- disabled: replaced with setting-header-column-max-width-legend (see below) --\x3e\r"
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                    <h5 style="display:none;" id="setting-header-margins-legend" class="setting-header">'
                        ),
                        r.b(r.v(r.d("strings.i18n_margins", e, t, 0))),
                        r.b("</h5>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <div style="display:none;" class="row">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                        <div class="col-xs-2 icon-scale-down">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <img style="height: 32px;" src="'
                        ),
                        r.b(r.t(r.f("imagePathPrefix", e, t, 0))),
                        r.b(
                            'images/margin1_off.png" alt="" aria-hidden="true">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b('                        <div class="col-xs-8">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                            <input  type="range" role="slider" aria-labelledby="setting-header-margins-legend" id="margin-size-input" min="20" aria-value-min="20" aria-valuemin="20" step="20" max="100" aria-value-max="100" aria-valuemax="100" value="20" aria-valuenow="20" aria-value-now="20" aria-valuetext="20" aria-value-text="20" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_margins", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_margins", e, t, 0))),
                        r.b('"/>\r'),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b('                        <div class="col-xs-2">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                            <img style="height: 32px;" src="'
                        ),
                        r.b(r.t(r.f("imagePathPrefix", e, t, 0))),
                        r.b(
                            'images/margin4_off.png" alt="" aria-hidden="true">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b("                    \r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <h5 id="setting-header-column-max-width-legend" class="setting-header">'
                        ),
                        r.b(r.v(r.d("strings.i18n_pageMaxWidth", e, t, 0))),
                        r.b("</h5>\r"),
                        r.b("\n" + n),
                        r.b('                     <div class="row">\r'),
                        r.b("\n" + n),
                        r.b('                        <div class="col-xs-2">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                            <img style="height: 32px;" src="'
                        ),
                        r.b(r.t(r.f("imagePathPrefix", e, t, 0))),
                        r.b(
                            'images/margin4_off.png" alt="" aria-hidden="true">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b('                        <div class="col-xs-8">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                            <input  type="range" role="slider" aria-labelledby="setting-header-column-max-width-legend" id="column-max-width-input" min="500" aria-value-min="500" aria-valuemin="500" step="50" max="2000" aria-value-max="2000" aria-valuemax="2000" value="700" aria-valuenow="700" aria-value-now="700" aria-valuetext="700" aria-value-text="700" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_pageMaxWidth", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_pageMaxWidth", e, t, 0))),
                        r.b('"/>\r'),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div class="col-xs-2 icon-scale-down">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <img style="height: 32px;" src="'
                        ),
                        r.b(r.t(r.f("imagePathPrefix", e, t, 0))),
                        r.b(
                            'images/margin1_off.png" alt="" aria-hidden="true">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <h5 id="setting-header-display-legend" class="setting-header">'
                        ),
                        r.b(r.v(r.d("strings.i18n_display_format", e, t, 0))),
                        r.b("</h5>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <div role="radiogroup" class="row" style="width:100%;text-align:center;" aria-labelledby="setting-header-display-legend">\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="spread-default-option"\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                        style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <input style=""  name="display-format" value="single" type="radio" id="spread-default-radio"/>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <label style="" for="spread-default-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                                "),
                        r.b(r.v(r.d("strings.i18n_spread_auto", e, t, 0))),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                            </label>\r"),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="one-up-option"\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                        style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                            <input  name="display-format" value="single" type="radio" id="single-page-radio" />\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                                            <label for="single-page-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                                            <img src="'
                        ),
                        r.b(r.t(r.f("imagePathPrefix", e, t, 0))),
                        r.b('images/ico_singlepage_up.png" alt="'),
                        r.b(r.v(r.d("strings.i18n_display_format", e, t, 0))),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_single_pages", e, t, 0))),
                        r.b('"/>\r'),
                        r.b("\n" + n),
                        r.b(
                            "                                            </label>\r"
                        ),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="two-up-option"\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                        style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                                <input  name="display-format" value="double" type="radio" id="double-page-radio" />\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                                            <label for="double-page-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                                            <img src="'
                        ),
                        r.b(r.t(r.f("imagePathPrefix", e, t, 0))),
                        r.b('images/ico_doublepage_up.png" alt="'),
                        r.b(r.v(r.d("strings.i18n_display_format", e, t, 0))),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_double_pages", e, t, 0))),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            "                                            </label>\r"
                        ),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <h5 id="setting-header-scroll-legend" class="setting-header">'
                        ),
                        r.b(r.v(r.d("strings.i18n_scroll_mode", e, t, 0))),
                        r.b("</h5>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <div role="radiogroup" class="row" style="width:100%;text-align:center;" aria-labelledby="setting-header-scroll-legend">\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="scroll-default-option" style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <input style=""  name="scrolling" value="single" type="radio" id="scroll-default-radio"/>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <label style="" for="scroll-default-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                                "),
                        r.b(r.v(r.d("strings.i18n_scroll_mode_auto", e, t, 0))),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                            </label>\r"),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="scroll-doc-option" style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <input style=""  name="scrolling" value="single" type="radio" id="scroll-doc-radio"/>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <label style="" for="scroll-doc-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                                <span style="font-size:150%;color:#888888;" class="glyphicon glyphicon-file" aria-hidden="true"></span> '
                        ),
                        r.b(r.v(r.d("strings.i18n_scroll_mode_doc", e, t, 0))),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                            </label>\r"),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="scroll-continuous-option" style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <input style=""  name="scrolling" value="single" type="radio" id="scroll-continuous-radio"/>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <label style="" for="scroll-continuous-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                                <span style="font-size:150%;color:#888888;" class="glyphicon glyphicon-road" aria-hidden="true"></span> '
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_scroll_mode_continuous",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                            </label>\r"),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            "                    \x3c!-- Page transitions are seriously broken (see readium-shared-js one_page_view.js disablePageTransitions boolean), so we hide the UI config options --\x3e\r"
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                    <h5 style="display:none;" hiddenx="hidden" id="setting-header-pageTransition-legend" class="setting-header">'
                        ),
                        r.b(r.v(r.d("strings.i18n_page_transition", e, t, 0))),
                        r.b("</h5>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <div style="display:none; width:100%;text-align:center;" hiddenx="hidden" role="radiogroup" class="row" aria-labelledby="setting-header-pageTransition-legend">\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="pageTransition-none-option" style="vertical-align:middle;width:15%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <input style=""  name="pageTransition" value="single" type="radio" id="pageTransition-none-radio"/>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <label style="" for="pageTransition-none-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                                "),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_page_transition_none",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                            </label>\r"),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="pageTransition-1-option" style="vertical-align:middle;width:15%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <input style=""  name="pageTransition" value="single" type="radio" id="pageTransition-1-radio"/>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <label style="" for="pageTransition-1-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                                "),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_page_transition_fade",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                            </label>\r"),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="pageTransition-2-option" style="vertical-align:middle;width:15%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <input style=""  name="pageTransition" value="single" type="radio" id="pageTransition-2-radio"/>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <label style="" for="pageTransition-2-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                                "),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_page_transition_slide",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                            </label>\r"),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="pageTransition-3-option" style="vertical-align:middle;width:15%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <input style=""  name="pageTransition" value="single" type="radio" id="pageTransition-3-radio"/>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <label style="" for="pageTransition-3-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                                "),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_page_transition_swoosh",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                            </label>\r"),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div role="radio" id="pageTransition-4-option" style="vertical-align:middle;width:15%;display:inline-block;position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <input style=""  name="pageTransition" value="single" type="radio" id="pageTransition-4-radio"/>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '                            <label style="" for="pageTransition-4-radio" class="underlinedLabel">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                                "),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_page_transition_butterfly",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                            </label>\r"),
                        r.b("\n" + n),
                        r.b("                        </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <div id="tab-keyboard" class="tab-pane" role="tabpanel">\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                    <div class="row" style="position:relative;">\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <div id="invalid_keyboard_shortcut_ALERT"></div>\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                        <ul id="keyboard-list">\r'
                        ),
                        r.b("\n" + n),
                        r.b("                        </ul>\r"),
                        r.b("\n" + n),
                        r.b("                    </div>\r"),
                        r.b("\n" + n),
                        r.b("                     </div>\r"),
                        r.b("\n" + n),
                        r.b("                </div>\r"),
                        r.b("\n" + n),
                        r.b("            </div>\r"),
                        r.b("\n" + n),
                        r.b('            <div class="modal-footer">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <button id="buttClose"  type="button" class="btn btn-default" data-dismiss="modal" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_close", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.SettingsModalClose", e, t, 0))),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_close", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.SettingsModalClose", e, t, 0))),
                        r.b(']">'),
                        r.b(r.v(r.d("strings.i18n_close", e, t, 0))),
                        r.b("</button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <button id="buttSave"  type="button" class="btn btn-primary" data-dismiss="modal" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_save_changes", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.SettingsModalSave", e, t, 0))),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_save_changes", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.SettingsModalSave", e, t, 0))),
                        r.b(']">'),
                        r.b(r.v(r.d("strings.i18n_save_changes", e, t, 0))),
                        r.b("</button>\r"),
                        r.b("\n" + n),
                        r.b("            </div>\r"),
                        r.b("\n" + n),
                        r.b("        </div>\r"),
                        r.b("\n" + n),
                        r.b("        \x3c!-- /.modal-content --\x3e\r"),
                        r.b("\n" + n),
                        r.b("    </div>\r"),
                        r.b("\n" + n),
                        r.b("    \x3c!-- /.modal-dialog --\x3e\r"),
                        r.b("\n" + n),
                        r.b("</div>\r"),
                        r.b("\n"),
                        r.fl()
                    );
                },
                partials: {},
                subs: {}
            },
            "",
            e
        );
        return (t.template = n), t;
    }),
    define("hgn!readium_js_viewer_html_templates/settings-keyboard-item.html", [
        "hogan"
    ], function(e) {
        function t() {
            return n.render.apply(n, arguments);
        }
        var n = new e.Template(
            {
                code: function(e, t, n) {
                    var r = this;
                    return (
                        r.b((n = n || "")),
                        r.s(r.f("name", e, t, 1), e, t, 0, 9, 747, "{{ }}") &&
                            (r.rs(e, t, function(e, t, r) {
                                r.b("<li>\r"),
                                    r.b("\n" + n),
                                    r.b('<label id="label_'),
                                    r.b(r.v(r.f("name", e, t, 0))),
                                    r.b('">'),
                                    r.b(r.v(r.f("i18n", e, t, 0))),
                                    r.b("<br/><span>"),
                                    r.b(r.v(r.f("name", e, t, 0))),
                                    r.b("</span></label>\r"),
                                    r.b("\n" + n),
                                    r.b('<input id="'),
                                    r.b(r.v(r.f("name", e, t, 0))),
                                    r.b('" name="'),
                                    r.b(r.v(r.f("name", e, t, 0))),
                                    r.b(
                                        '" class="keyboardInput" type="text"  placeholder="'
                                    ),
                                    r.b(r.v(r.f("shortcut", e, t, 0))),
                                    r.b('" value="'),
                                    r.b(r.v(r.f("shortcut", e, t, 0))),
                                    r.b('" aria-labelledbyxxx="label_'),
                                    r.b(r.v(r.f("name", e, t, 0))),
                                    r.b('" aria-label="'),
                                    r.b(r.v(r.f("i18n", e, t, 0))),
                                    r.b('" title="'),
                                    r.b(r.v(r.f("i18n", e, t, 0))),
                                    r.b('"></input>\r'),
                                    r.b("\n" + n),
                                    r.b(
                                        '<button class="resetKey captureKeyboardShortcut" role="button" data-key="'
                                    ),
                                    r.b(r.v(r.f("name", e, t, 0))),
                                    r.b('"  title="'),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "strings.i18n_reset_key",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b(" ("),
                                    r.b(r.v(r.f("def", e, t, 0))),
                                    r.b(')" aria-label="'),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "strings.i18n_reset_key",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b(" ("),
                                    r.b(r.v(r.f("def", e, t, 0))),
                                    r.b(
                                        ')"><span aria-hidden="true">&#8855;</span></button>\r'
                                    ),
                                    r.b("\n" + n),
                                    r.b(
                                        '<span id="duplicate_keyboard_shortcut" aria-hidden="true">'
                                    ),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "strings.i18n_duplicate_keyboard_shortcut",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b("</span>\r"),
                                    r.b("\n" + n),
                                    r.b(
                                        '<span id="invalid_keyboard_shortcut" aria-hidden="true">'
                                    ),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "strings.i18n_invalid_keyboard_shortcut",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b("</span>\r"),
                                    r.b("\n" + n),
                                    r.b("</li>\r"),
                                    r.b("\n" + n);
                            }),
                            e.pop()),
                        r.s(r.f("name", e, t, 1), e, t, 1, 0, 0, "") ||
                            (r.b('<li id="resetAllKeys'),
                            r.b(r.v(r.f("id", e, t, 0))),
                            r.b('" class="resetAllKeys">\r'),
                            r.b("\n" + n),
                            r.b(
                                '<button class="resetKey" role="button"  title="'
                            ),
                            r.b(
                                r.v(r.d("strings.i18n_reset_key_all", e, t, 0))
                            ),
                            r.b('" aria-label="'),
                            r.b(
                                r.v(r.d("strings.i18n_reset_key_all", e, t, 0))
                            ),
                            r.b('"><span aria-hidden="true">'),
                            r.b(
                                r.v(r.d("strings.i18n_reset_key_all", e, t, 0))
                            ),
                            r.b("  &#8855;</span></button>\r"),
                            r.b("\n" + n),
                            r.b("</li>\r"),
                            r.b("\n" + n)),
                        r.fl()
                    );
                },
                partials: {},
                subs: {}
            },
            "",
            e
        );
        return (t.template = n), t;
    }),
    (function(e) {
        function t(e, t) {
            for (var n = e.length; n--; ) if (e[n] === t) return n;
            return -1;
        }
        function n(e, t) {
            if (e.length != t.length) return !1;
            for (var n = 0; n < e.length; n++) if (e[n] !== t[n]) return !1;
            return !0;
        }
        function r(e) {
            for (_ in x) x[_] = e[I[_]];
        }
        function i(e) {
            return e.keyCode || e.charCode || e.which || e.key || 0;
        }
        function o(e) {
            var n, o, a, s, u, c;
            if (
                ((n = i(e)),
                -1 == t(k, n) && k.push(n),
                (93 != n && 224 != n) || (n = 91),
                n in x)
            ) {
                x[n] = !0;
                for (a in T) T[a] == n && (l[a] = !0);
            } else if ((r(e), l.filter.call(this, e) && n in w))
                for (c = h(), s = 0; s < w[n].length; s++)
                    if (((o = w[n][s]), o.scope == c || "all" == o.scope)) {
                        u = o.mods.length > 0;
                        for (a in x)
                            ((!x[a] && t(o.mods, +a) > -1) ||
                                (x[a] && -1 == t(o.mods, +a))) &&
                                (u = !1);
                        ((0 != o.mods.length ||
                            x[16] ||
                            x[18] ||
                            x[17] ||
                            x[91]) &&
                            !u) ||
                            (!1 === o.method(e, o) &&
                                (e.preventDefault
                                    ? e.preventDefault()
                                    : (e.returnValue = !1),
                                e.stopPropagation && e.stopPropagation(),
                                e.cancelBubble && (e.cancelBubble = !0)));
                    }
        }
        function a(e) {
            var n,
                r = i(e),
                o = t(k, r);
            if (
                (o >= 0 && k.splice(o, 1),
                (93 != r && 224 != r) || (r = 91),
                r in x)
            ) {
                x[r] = !1;
                for (n in T) T[n] == r && (l[n] = !1);
            }
        }
        function s() {
            for (_ in x) x[_] = !1;
            for (_ in T) l[_] = !1;
        }
        function l(e, t, n) {
            var r, i;
            (r = g(e)), void 0 === n && ((n = t), (t = "all"));
            for (var o = 0; o < r.length; o++)
                (i = []),
                    (e = r[o].split("+")),
                    e.length > 1 && ((i = v(e)), (e = [e[e.length - 1]])),
                    (e = e[0]),
                    (e = C(e)),
                    e in w || (w[e] = []),
                    w[e].push({
                        shortcut: r[o],
                        scope: t,
                        method: n,
                        key: r[o],
                        mods: i
                    });
        }
        function u(e, t) {
            var r,
                i,
                o,
                a,
                s,
                l = [];
            for (r = g(e), a = 0; a < r.length; a++) {
                if (
                    ((i = r[a].split("+")),
                    i.length > 1 && (l = v(i)),
                    (e = i[i.length - 1]),
                    (e = C(e)),
                    void 0 === t && (t = h()),
                    !w[e])
                )
                    return;
                for (o = 0; o < w[e].length; o++)
                    (s = w[e][o]),
                        s.scope === t && n(s.mods, l) && (w[e][o] = {});
            }
        }
        function c(e) {
            return "string" == typeof e && (e = C(e)), -1 != t(k, e);
        }
        function d() {
            return k.slice(0);
        }
        function f(e) {
            var t = (e.target || e.srcElement).tagName;
            return !("INPUT" == t || "SELECT" == t || "TEXTAREA" == t);
        }
        function p(e) {
            E = e || "all";
        }
        function h() {
            return E || "all";
        }
        function m(e) {
            var t, n, r;
            for (t in w)
                for (n = w[t], r = 0; r < n.length; )
                    n[r].scope === e ? n.splice(r, 1) : r++;
        }
        function g(e) {
            var t;
            return (
                (e = e.replace(/\s/g, "")),
                (t = e.split(",")),
                "" == t[t.length - 1] && (t[t.length - 2] += ","),
                t
            );
        }
        function v(e) {
            for (var t = e.slice(0, e.length - 1), n = 0; n < t.length; n++)
                t[n] = T[t[n]];
            return t;
        }
        function b(e, t, n) {
            e.addEventListener
                ? e.addEventListener(t, n, !1)
                : e.attachEvent &&
                  e.attachEvent("on" + t, function() {
                      n(window.event);
                  });
        }
        function y() {
            var t = e.key;
            return (e.key = P), t;
        }
        var _,
            w = {},
            x = { 16: !1, 18: !1, 17: !1, 91: !1 },
            E = "all",
            T = {
                "⇧": 16,
                shift: 16,
                "⌥": 18,
                alt: 18,
                option: 18,
                "⌃": 17,
                ctrl: 17,
                control: 17,
                "⌘": 91,
                command: 91
            },
            S = {
                backspace: 8,
                tab: 9,
                clear: 12,
                enter: 13,
                return: 13,
                esc: 27,
                escape: 27,
                space: 32,
                left: 37,
                up: 38,
                right: 39,
                down: 40,
                del: 46,
                delete: 46,
                home: 36,
                end: 35,
                pageup: 33,
                pagedown: 34,
                ",": 188,
                ".": 190,
                "/": 191,
                "`": 192,
                "-": 189,
                "=": 187,
                ";": 186,
                "'": 222,
                "[": 219,
                "]": 221,
                "\\": 220
            },
            C = function(e) {
                return e.toUpperCase
                    ? S[e] || e.toUpperCase().charCodeAt(0)
                    : e;
            },
            k = [];
        for (_ = 1; _ < 20; _++) S["f" + _] = 111 + _;
        var I = { 16: "shiftKey", 18: "altKey", 17: "ctrlKey", 91: "metaKey" };
        for (_ in T) l[_] = !1;
        b(document, "keydown", function(e) {
            o(e);
        }),
            b(document, "keyup", a),
            b(window, "focus", s);
        var P = e.key;
        (e.key = l),
            (e.key.setScope = p),
            (e.key.getScope = h),
            (e.key.deleteScope = m),
            (e.key.filter = f),
            (e.key.isPressed = c),
            (e.key.getPressedKeyCodes = d),
            (e.key.noConflict = y),
            (e.key.unbind = u),
            "undefined" != typeof module && (module.exports = l);
    })(this),
    define("keymaster", (function(e) {
        return function() {
            return e.key;
        };
    })(this)),
    define("readium_js_viewer/Keyboard", [
        "i18nStrings",
        "keymaster",
        "Settings"
    ], function(e, t, n) {
        var r = {};
        (function() {
            function e(e, a) {
                var s;
                s = n
                    ? document.createEvent("KeyboardEvent")
                    : document.createEvent("Event");
                var l,
                    u = {};
                for (l in r) i(r, l) && (u[l] = ((i(a, l) && a) || r)[l]);
                var c = u.ctrlKey,
                    d = u.shiftKey,
                    f = u.altKey,
                    p = u.metaKey,
                    h = u.altGraphKey,
                    m =
                        n > 3
                            ? (
                                  (c ? "Control" : "") +
                                  (d ? " Shift" : "") +
                                  (f ? " Alt" : "") +
                                  (p ? " Meta" : "") +
                                  (h ? " AltGraph" : "")
                              ).trim()
                            : null,
                    g = u.key + "",
                    v = u.char + "",
                    b = u.location,
                    y = u.keyCode || (u.keyCode = (g && g.charCodeAt(0)) || 0),
                    _ =
                        u.charCode ||
                        (u.charCode = (v && v.charCodeAt(0)) || 0),
                    w = u.bubbles,
                    x = u.cancelable,
                    E = u.repeat,
                    T = u.locale,
                    S = t;
                u.which || (u.which = u.keyCode),
                    "initKeyEvent" in s
                        ? s.initKeyEvent(e, w, x, S, c, f, d, p, y, _)
                        : n && "initKeyboardEvent" in s
                            ? 1 == n
                                ? s.initKeyboardEvent(
                                      e,
                                      w,
                                      x,
                                      S,
                                      g,
                                      b,
                                      c,
                                      d,
                                      f,
                                      p,
                                      h
                                  )
                                : 2 == n
                                    ? s.initKeyboardEvent(
                                          e,
                                          w,
                                          x,
                                          S,
                                          c,
                                          f,
                                          d,
                                          p,
                                          y,
                                          _
                                      )
                                    : 3 == n
                                        ? s.initKeyboardEvent(
                                              e,
                                              w,
                                              x,
                                              S,
                                              g,
                                              b,
                                              c,
                                              f,
                                              d,
                                              p,
                                              h
                                          )
                                        : 4 == n
                                            ? s.initKeyboardEvent(
                                                  e,
                                                  w,
                                                  x,
                                                  S,
                                                  g,
                                                  b,
                                                  m,
                                                  E,
                                                  T
                                              )
                                            : s.initKeyboardEvent(
                                                  e,
                                                  w,
                                                  x,
                                                  S,
                                                  v,
                                                  g,
                                                  b,
                                                  m,
                                                  E,
                                                  T
                                              )
                            : s.initEvent(e, w, x);
                for (l in r)
                    if (i(r, l) && s[l] != u[l])
                        try {
                            delete s[l], o(s, l, { writable: !0, value: u[l] });
                        } catch (e) {}
                return s;
            }
            var t = this,
                n = (function(e) {
                    try {
                        return (
                            e.initKeyboardEvent(
                                "keyup",
                                !1,
                                !1,
                                t,
                                "+",
                                3,
                                !0,
                                !1,
                                !0,
                                !1,
                                !1
                            ),
                            ("+" == (e.keyIdentifier || e.key) &&
                                3 == (e.keyLocation || e.location) &&
                                (e.ctrlKey
                                    ? e.altKey
                                        ? 1
                                        : 3
                                    : e.shiftKey
                                        ? 2
                                        : 4)) ||
                                9
                        );
                    } catch (e) {
                        n = 0;
                    }
                })(document.createEvent("KeyboardEvent")),
                r = {
                    char: "",
                    key: "",
                    location: 0,
                    ctrlKey: !1,
                    shiftKey: !1,
                    altKey: !1,
                    metaKey: !1,
                    repeat: !1,
                    locale: "",
                    detail: 0,
                    bubbles: !1,
                    cancelable: !1,
                    keyCode: 0,
                    charCode: 0,
                    which: 0
                },
                i = Function.prototype.call.bind(
                    Object.prototype.hasOwnProperty
                ),
                o =
                    Object.defineProperty ||
                    function(e, t, n) {
                        "value" in n && (e[t] = n.value);
                    };
            t.crossBrowser_initKeyboardEvent = e;
        }.call(window),
            (Keyboard = {
                resetToDefaults: function() {
                    for (prop in Keyboard.defaultOptions)
                        Keyboard.defaultOptions.hasOwnProperty(prop) &&
                            "string" == typeof Keyboard.defaultOptions[prop] &&
                            (Keyboard[prop] = Keyboard.defaultOptions[prop]);
                },
                resetAccessKeys: function() {
                    Keyboard.accesskeys = {};
                    for (prop in Keyboard)
                        if (Keyboard.hasOwnProperty(prop)) {
                            var e = Keyboard[prop];
                            "string" == typeof e &&
                                (Keyboard.accesskeys[prop] = (function(e) {
                                    if (!e || !e.length) return "";
                                    var t = e[e.length - 1];
                                    return /^[a-z0-9]+$/i.test(t) ? t : "";
                                })(e));
                        }
                },
                applySettings: function(e) {
                    if ((this.resetToDefaults(), e && e.keyboard))
                        for (prop in Keyboard)
                            Keyboard.hasOwnProperty(prop) &&
                                "string" == typeof Keyboard[prop] &&
                                "string" == typeof e.keyboard[prop] &&
                                (Keyboard[prop] = e.keyboard[prop]);
                    this.resetAccessKeys();
                },
                dispatch: function(e, t) {
                    if (
                        !t.cancelBubble &&
                        !t.defaultPrevented &&
                        (void 0 === t.returnValue || t.returnValue)
                    ) {
                        var n = t.srcElement || t.target;
                        if (n)
                            for (var r = n; r; ) {
                                var i = r.nodeName;
                                if ("input" === i || "textarea" === i) return;
                                if (r.getAttribute) {
                                    var o = r.getAttribute("contenteditable");
                                    if ("true" === o || "contenteditable" === o)
                                        return;
                                }
                                if (
                                    r.classList &&
                                    r.classList.contains("keyboard-input")
                                )
                                    return;
                                r = r.parentNode;
                            }
                        var a = crossBrowser_initKeyboardEvent(t.type, {
                            bubbles: !0,
                            cancelable: !1,
                            keyCode: t.keyCode,
                            charCode: t.charCode,
                            which: t.which,
                            ctrlKey: t.ctrlKey,
                            shiftKey: t.shiftKey,
                            altKey: t.altKey,
                            metaKey: t.metaKey,
                            char: t.char
                                ? t.char
                                : String.fromCharCode(t.charCode),
                            key: t.key ? t.key : t.keyCode
                        });
                        e.dispatchEvent(a);
                    }
                },
                scope: function(e) {
                    e || alert("!SCOPE ACTIVATE!"), t.setScope(e);
                },
                on: function(e, n, i) {
                    e || console.error("!KEYS!"),
                        r.hasOwnProperty(n) || (r[n] = []),
                        r[n].push(e),
                        t.unbind(e, n),
                        t(e, n, function() {
                            $(document.body).addClass("keyboard"), i();
                        });
                },
                off: function(e) {
                    if ((e || alert("!SCOPE OFF!"), r.hasOwnProperty(e)))
                        for (k in r[e]) t.unbind(k, e);
                },
                i18n: {
                    ShowSettingsModal: e.settings,
                    SettingsModalSave: e.settings + " - " + e.i18n_save_changes,
                    SettingsModalClose: e.settings + " - " + e.i18n_close,
                    PagePrevious: e.i18n_page_previous,
                    PageNext: e.i18n_page_next,
                    PagePreviousAlt: e.i18n_page_previous + " (access key)",
                    PageNextAlt: e.i18n_page_next + " (access key)",
                    ToolbarShow: e.i18n_toolbar_show,
                    ToolbarHide: e.i18n_toolbar_hide,
                    FullScreenToggle:
                        e.enter_fullscreen + " / " + e.exit_fullscreen,
                    SwitchToLibrary: e.view_library,
                    TocShowHideToggle: e.toc,
                    NightTheme: e.i18n_arabian_nights,
                    MediaOverlaysPlayPause:
                        e.i18n_audio_play + " / " + e.i18n_audio_pause,
                    MediaOverlaysPrevious: e.i18n_audio_previous,
                    MediaOverlaysNext: e.i18n_audio_next,
                    MediaOverlaysEscape: e.i18n_audio_esc,
                    MediaOverlaysRateIncrease: e.i18n_audio_rate_increase,
                    MediaOverlaysRateDecrease: e.i18n_audio_rate_decrease,
                    MediaOverlaysRateReset: e.i18n_audio_rate_reset,
                    MediaOverlaysVolumeIncrease: e.i18n_audio_volume_increase,
                    MediaOverlaysVolumeDecrease: e.i18n_audio_volume_decrease,
                    MediaOverlaysVolumeMuteToggle:
                        e.i18n_audio_mute + " / " + e.i18n_audio_unmute,
                    MediaOverlaysAdvancedPanelShowHide: e.i18n_audio_expand,
                    BackgroundAudioPlayPause:
                        e.i18n_audio_play_background +
                        " / " +
                        e.i18n_audio_pause_background
                },
                defaultOptions: {},
                accesskeys: {},
                ShowSettingsModal: "o",
                SettingsModalSave: "s",
                SettingsModalClose: "c",
                PagePrevious: "left",
                PageNext: "right",
                PagePreviousAlt: "1",
                PageNextAlt: "2",
                ToolbarShow: "v",
                ToolbarHide: "x",
                FullScreenToggle: "h",
                SwitchToLibrary: "b",
                TocShowHideToggle: "t",
                NightTheme: "n",
                MediaOverlaysEscape: "r",
                MediaOverlaysPlayPause: "m",
                MediaOverlaysRateIncrease: "l",
                MediaOverlaysRateDecrease: "j",
                MediaOverlaysRateReset: "k",
                MediaOverlaysVolumeIncrease: "w",
                MediaOverlaysVolumeDecrease: "q",
                MediaOverlaysVolumeMuteToggle: "a",
                MediaOverlaysPrevious: "y",
                MediaOverlaysNext: "u",
                MediaOverlaysAdvancedPanelShowHide: "g",
                BackgroundAudioPlayPause: "d"
            }));
        try {
            Keyboard.defaultOptions = {};
            for (prop in Keyboard)
                Keyboard.hasOwnProperty(prop) &&
                    "string" == typeof Keyboard[prop] &&
                    (Keyboard.defaultOptions[prop] = Keyboard[prop]);
            Keyboard.resetAccessKeys();
        } catch (e) {
            console.error(e);
        }
        return Keyboard;
    }),
    define("readium_js_viewer/ReaderSettingsDialog_Keyboard", [
        "hgn!readium_js_viewer_html_templates/settings-keyboard-item.html",
        "i18nStrings",
        "./Dialogs",
        "Settings",
        "./Keyboard",
        "underscore"
    ], function(e, t, n, r, i, o) {
        var a = function(e, n) {
                var r = !1,
                    i = !1,
                    o = $("#keyboard-list"),
                    a = o.hasClass("atLeastOneInvalidOrDuplicateShortcut");
                o.removeClass("atLeastOneInvalidOrDuplicateShortcut");
                var l = $("#invalid_keyboard_shortcut_ALERT")[0];
                for (
                    l.removeAttribute("role"),
                        l.removeAttribute("aria-live"),
                        l.removeAttribute("aria-atomic");
                    l.firstChild;

                )
                    l.removeChild(l.firstChild);
                var u = !1,
                    c = $(".keyboardInput");
                c.each(function() {
                    var t = $(this);
                    t.parent().removeClass("duplicateShortcut"),
                        t[0].removeAttribute("aria-invalid"),
                        s(t, n),
                        t.parent().hasClass("invalidShortcut") &&
                            (t[0].setAttribute("aria-invalid", "true"),
                            (i = !0),
                            e && e.length && e[0] === t[0] && (u = !0));
                });
                for (var d = !1, f = 0; f < 2; f++)
                    c.each(function() {
                        var t = $(this),
                            n = t.parent().hasClass("invalidShortcut"),
                            i = t.parent().hasClass("duplicateShortcut"),
                            o = t.attr("placeholder"),
                            a = n || i ? o : t.attr("data-val");
                        if (i) return !0;
                        c.each(function() {
                            var n = $(this);
                            if (n[0] === t[0]) return !0;
                            var i = n.attr("placeholder"),
                                o = n.parent().hasClass("invalidShortcut"),
                                s = n.parent().hasClass("duplicateShortcut"),
                                l = o || s ? i : n.attr("data-val");
                            a === l &&
                                ((r = !0),
                                e &&
                                    e.length &&
                                    (e[0] === t[0] || e[0] === n[0]) &&
                                    (d = !0),
                                t[0].setAttribute("aria-invalid", "true"),
                                n[0].setAttribute("aria-invalid", "true"),
                                n.parent().hasClass("duplicateShortcut") ||
                                    n.parent().addClass("duplicateShortcut"),
                                t.parent().hasClass("duplicateShortcut") ||
                                    t.parent().addClass("duplicateShortcut"));
                        });
                    });
                if (
                    (r || i) &&
                    (o.addClass("atLeastOneInvalidOrDuplicateShortcut"), u || d)
                ) {
                    a
                        ? l.setAttribute("aria-live", "polite")
                        : l.setAttribute("role", "alert"),
                        l.setAttribute("aria-atomic", "true");
                    var p = document.createTextNode(
                        u
                            ? t.i18n_invalid_keyboard_shortcut
                            : t.i18n_duplicate_keyboard_shortcut
                    );
                    l.appendChild(p),
                        (l.style.visibility = "hidden"),
                        (l.style.visibility = "visible");
                }
            },
            s = function(e, t) {
                e.parent().removeClass("invalidShortcut"),
                    e.attr("data-val", e.val());
                var n = e
                        .val()
                        .toLowerCase()
                        .trim(),
                    r = !1,
                    i = !1,
                    o = !1;
                n.indexOf("shift") >= 0 && (r = !0),
                    n.indexOf("ctrl") >= 0 && (i = !0),
                    n.indexOf("alt") >= 0 && (o = !0);
                var a = n.lastIndexOf("+") === n.length - 1;
                if (
                    ((n = n.replace(/shift/g, "")),
                    (n = n.replace(/ctrl/g, "")),
                    (n = n.replace(/alt/g, "")),
                    (n = n.replace(/\+/g, "")),
                    (n = n.replace(/\s/g, "")),
                    (n = n.trim()),
                    a && (n += "+"),
                    n.match(/^[0-9A-Za-z]$/) ||
                        n.match(/^backspace$/) ||
                        n.match(/^space$/) ||
                        n.match(/^return$/) ||
                        n.match(/^enter$/) ||
                        n.match(/^left$/) ||
                        n.match(/^right$/) ||
                        n.match(/^up$/) ||
                        n.match(/^down$/))
                ) {
                    var s =
                        (r ? "shift + " : "") +
                        (i ? "ctrl + " : "") +
                        (o ? "alt + " : "") +
                        n;
                    e.attr("data-val", s), t || e.val(s);
                } else e.parent().addClass("invalidShortcut");
            };
        return {
            initKeyboardList: function() {
                var n = $("#keyboard-list");
                n.empty(), n.append(e({ strings: t, id: "TOP" }));
                for (prop in i)
                    i.hasOwnProperty(prop) &&
                        "string" == typeof i[prop] &&
                        n.append(
                            e({
                                strings: t,
                                keyboard: i,
                                name: prop,
                                shortcut: i[prop],
                                i18n: i.i18n[prop],
                                def: i.defaultOptions[prop]
                            })
                        );
                n.append(e({ strings: t, id: "BOTTOM" })), a();
                var r = void 0;
                $(".keyboardInput").on("blur", function(e) {
                    $(this);
                    (r = void 0), a();
                }),
                    $(".keyboardInput").on("focus", function(e) {
                        var t = $(this);
                        a(t, !0);
                    });
                var s = o.bind(o.debounce(a, 700), this);
                $(".keyboardInput").on("keyup", function() {
                    var e = $(this),
                        t = e.val();
                    t !== r && s(e, !0), (r = t);
                }),
                    $(".resetKey").on("click", function() {
                        $that = $(this);
                        var e = $that.attr("data-key");
                        if (e) {
                            $("input#" + e).val(i.defaultOptions[e]);
                        } else
                            $(".resetKey[data-key]").each(function() {
                                var e = $(this),
                                    t = e.attr("data-key");
                                if (t) {
                                    $("input#" + t).val(i.defaultOptions[t]);
                                }
                            });
                        a();
                    });
            },
            saveKeys: function() {
                var e = !1,
                    r = !1,
                    o = {};
                if (
                    (a(),
                    $(".keyboardInput").each(function() {
                        var t = $(this),
                            n = t.attr("placeholder"),
                            a = t.attr("id"),
                            s = t.attr("data-val");
                        if (
                            ((t.parent().hasClass("invalidShortcut") ||
                                t.parent().hasClass("duplicateShortcut")) &&
                                ((s = n), (r = !0)),
                            !s.length)
                        )
                            return !0;
                        (s = s.toLowerCase()),
                            n !== s && (e = !0),
                            s !== i.defaultOptions[a] && (o[a] = s);
                    }),
                    e || r)
                ) {
                    var s = "";
                    e && (s = "<p>" + t.i18n_keyboard_reload + "</p>"),
                        r &&
                            (s +=
                                "<p>" + t.i18n_keyboard_onerror_reset + "</p>"),
                        n.showModalMessageEx(
                            "Readium - " + t.i18n_keyboard_shortcuts,
                            s
                        );
                }
                return o;
            }
        };
    }),
    define("readium_js_viewer/ReaderSettingsDialog", [
        "./ModuleConfig",
        "hgn!readium_js_viewer_html_templates/settings-dialog.html",
        "./ReaderSettingsDialog_Keyboard",
        "i18nStrings",
        "./Dialogs",
        "Settings",
        "./Keyboard"
    ], function(e, t, n, r, i, o, a) {
        var s = {
                fontSize: 100,
                fontSelection: 0,
                syntheticSpread: "auto",
                scroll: "auto",
                columnGap: 60,
                columnMaxWidth: 550,
                columnMinWidth: 400
            },
            l = function(e) {
                var t = "author-theme" === e,
                    n = $(".preview-text");
                u(n, e);
                var r = window.getComputedStyle(n[0]);
                return [
                    {
                        selector: ":not(a):not(hypothesis-highlight)",
                        declarations: {
                            backgroundColor: t ? "" : r.backgroundColor,
                            color: t ? "" : r.color
                        }
                    },
                    {
                        selector: "a",
                        declarations: {
                            backgroundColor: t ? "" : r.color,
                            color: t ? "" : r.backgroundColor
                        }
                    }
                ];
            },
            u = function(e, t) {
                var n = e.attr("data-theme");
                e.removeClass(n), e.addClass(t), e.attr("data-theme", t);
            },
            c = function(e, t) {
                if ((e.updateSettings(t), t.theme)) {
                    $("html").attr("data-theme", t.theme);
                    var n = l(t.theme);
                    e.setBookStyles(n),
                        $("#reading-area").css(n[0].declarations);
                }
            },
            d = function(e, t, n, r) {
                e.attr("aria-valuenow", t + ""),
                    e.attr("aria-value-now", t + ""),
                    e.attr("aria-valuetext", n + ""),
                    e.attr("aria-value-text", n + ""),
                    e.attr("title", r + " " + n),
                    e.attr("aria-label", r + " " + n);
            };
        return {
            initDialog: function(l) {
                $("#app-container").append(
                    t({
                        imagePathPrefix: e.imagePathPrefix,
                        strings: r,
                        dialogs: i,
                        keyboard: a
                    })
                ),
                    ($previewText = $(".preview-text")),
                    $(".theme-option").on("click", function() {
                        var e = $(this).attr("data-theme");
                        u($previewText, e);
                    });
                var f = $("#margin-size-input");
                f.on("change", function() {
                    var e = f.val();
                    d(f, e, e + "px", r.i18n_margins);
                });
                var p = $("#column-max-width-input");
                p.on("change", function() {
                    var e = p.val(),
                        t = Number(p.attr("max")),
                        n = e >= t ? r.i18n_pageMaxWidth_Disabled : e + "px";
                    d(p, e, n, r.i18n_pageMaxWidth);
                });
                var h = $("#font-size-input");
                h.on("change", function() {
                    var e = h.val();
                    $previewText.css({ fontSize: e / 100 + "em" }),
                        d(h, e, e + "%", r.i18n_font_size);
                });
                var m = $("#font-selection-input");
                m.change(function() {
                    var t = Number(m.find("option:selected").val());
                    if (0 === t) $previewText.css({ fontFamily: "" });
                    else {
                        var n = e.fonts[t - 1].fontFamily;
                        $previewText.css({ fontFamily: n });
                    }
                }),
                    $("#tab-butt-main").on("click", function() {
                        $("#tab-keyboard").attr("aria-expanded", "false"),
                            $("#tab-main").attr("aria-expanded", "true");
                    }),
                    $("#tab-butt-keys").on("click", function() {
                        $("#tab-main").attr("aria-expanded", "false"),
                            $("#tab-keyboard").attr("aria-expanded", "true");
                    }),
                    $("#settings-dialog").on("hide.bs.modal", function() {
                        setTimeout(function() {
                            $("#keyboard-list").empty();
                        }, 500);
                    }),
                    $("#settings-dialog").on("show.bs.modal", function() {
                        $("#tab-butt-main").trigger("click"),
                            n.initKeyboardList(),
                            setTimeout(function() {
                                $("#closeSettingsCross")[0].focus();
                            }, 1e3),
                            o.get("reader", function(t) {
                                t = t || s;
                                for (prop in s)
                                    !s.hasOwnProperty(prop) ||
                                        (t.hasOwnProperty(prop) &&
                                            void 0 !== t[prop]) ||
                                        (t[prop] = s[prop]);
                                h.val(t.fontSize),
                                    d(
                                        h,
                                        t.fontSize,
                                        t.fontSize + "%",
                                        r.i18n_font_size
                                    );
                                var n = [];
                                1 == m[0].childElementCount &&
                                    $.each(e.fonts, function(e, r) {
                                        e++;
                                        var i = r.displayName;
                                        if (r.url) {
                                            var o =
                                                '<link id="fontStyle_' +
                                                e +
                                                '" rel="stylesheet" type="text/css" href="' +
                                                r.url +
                                                '"/>';
                                            if (n.indexOf(r.url) < 0) {
                                                $("head").append(o);
                                                n.push(r.url);
                                            }
                                        }
                                        var a =
                                                t.fontSelection === e
                                                    ? "selected"
                                                    : "",
                                            s =
                                                "<option   " +
                                                a +
                                                ' value="' +
                                                e +
                                                '" aria-label="' +
                                                i +
                                                '" title="' +
                                                i +
                                                '">' +
                                                i +
                                                "</option>";
                                        m.append(s),
                                            a &&
                                                $previewText.css({
                                                    fontFamily: r.fontFamily
                                                });
                                    }),
                                    (t.columnGap = s.columnGap),
                                    f.val(t.columnGap),
                                    d(
                                        f,
                                        t.columnGap,
                                        t.columnGap + "px",
                                        r.i18n_margins
                                    );
                                var i = Number(p.attr("max")),
                                    o = t.columnMaxWidth;
                                o >= i && (o = i);
                                var a =
                                    o >= i
                                        ? r.i18n_pageMaxWidth_Disabled
                                        : o + "px";
                                p.val(o),
                                    d(p, o, a, r.i18n_pageMaxWidth),
                                    "double" == t.syntheticSpread
                                        ? $("#two-up-option input").prop(
                                              "checked",
                                              !0
                                          )
                                        : "single" == t.syntheticSpread
                                            ? $("#one-up-option input").prop(
                                                  "checked",
                                                  !0
                                              )
                                            : $(
                                                  "#spread-default-option input"
                                              ).prop("checked", !0),
                                    "scroll-doc" == t.scroll
                                        ? $("#scroll-doc-option input").prop(
                                              "checked",
                                              !0
                                          )
                                        : "scroll-continuous" == t.scroll
                                            ? $(
                                                  "#scroll-continuous-option input"
                                              ).prop("checked", !0)
                                            : $(
                                                  "#scroll-default-option input"
                                              ).prop("checked", !0),
                                    0 === t.pageTransition
                                        ? $(
                                              "#pageTransition-1-option input"
                                          ).prop("checked", !0)
                                        : 1 === t.pageTransition
                                            ? $(
                                                  "#pageTransition-2-option input"
                                              ).prop("checked", !0)
                                            : 2 === t.pageTransition
                                                ? $(
                                                      "#pageTransition-3-option input"
                                                  ).prop("checked", !0)
                                                : 3 === t.pageTransition
                                                    ? $(
                                                          "#pageTransition-4-option input"
                                                      ).prop("checked", !0)
                                                    : $(
                                                          "#pageTransition-none-option input"
                                                      ).prop("checked", !0),
                                    t.theme && u($previewText, t.theme),
                                    $previewText.css({
                                        fontSize: t.fontSize / 100 + "em"
                                    });
                            });
                    });
                var g = function() {
                    var e = Number(p.attr("max")),
                        t = Number(p.val());
                    t >= e && (t = 99999);
                    var r = {
                        fontSize: Number(h.val()),
                        fontSelection: Number(m.val()),
                        syntheticSpread: "auto",
                        columnGap: Number(f.val()),
                        columnMaxWidth: t,
                        scroll: "auto"
                    };
                    $("#scroll-doc-option input").prop("checked")
                        ? (r.scroll = "scroll-doc")
                        : $("#scroll-continuous-option input").prop(
                              "checked"
                          ) && (r.scroll = "scroll-continuous"),
                        $("#two-up-option input").prop("checked")
                            ? (r.syntheticSpread = "double")
                            : $("#one-up-option input").prop("checked") &&
                              (r.syntheticSpread = "single"),
                        $("#pageTransition-1-option input").prop("checked")
                            ? (r.pageTransition = 0)
                            : $("#pageTransition-2-option input").prop(
                                  "checked"
                              )
                                ? (r.pageTransition = 1)
                                : $("#pageTransition-3-option input").prop(
                                      "checked"
                                  )
                                    ? (r.pageTransition = 2)
                                    : $("#pageTransition-4-option input").prop(
                                          "checked"
                                      )
                                        ? (r.pageTransition = 3)
                                        : (r.pageTransition = -1),
                        (r.theme = $previewText.attr("data-theme")),
                        l && c(l, r);
                    var i = n.saveKeys();
                    o.get("reader", function(e) {
                        e || (e = {});
                        for (prop in r)
                            r.hasOwnProperty(prop) && (e[prop] = r[prop]);
                        (e.keyboard = i),
                            o.put("reader", e),
                            setTimeout(function() {
                                a.applySettings(e);
                            }, 100);
                    });
                };
                a.on(a.NightTheme, "settings", function() {
                    o.get("reader", function(e) {
                        e || (e = {});
                        var t = "night-theme" === e.theme;
                        (e.theme = t ? "author-theme" : "night-theme"),
                            o.put("reader", e),
                            l && c(l, e);
                    });
                }),
                    a.on(a.SettingsModalSave, "settings", function() {
                        g(), $("#settings-dialog").modal("hide");
                    }),
                    a.on(a.SettingsModalClose, "settings", function() {
                        $("#settings-dialog").modal("hide");
                    }),
                    $("#settings-dialog .btn-primary").on("click", g);
            },
            updateReader: c,
            defaultSettings: s
        };
    }),
    define("hgn!readium_js_viewer_html_templates/about-dialog.html", [
        "hogan"
    ], function(e) {
        function t() {
            return n.render.apply(n, arguments);
        }
        var n = new e.Template(
            {
                code: function(e, t, n) {
                    var r = this;
                    return (
                        r.b((n = n || "")),
                        r.b(
                            '<div class="modal fade" id="about-dialog" tabindex="-1" role="dialog" aria-label="'
                        ),
                        r.b(r.t(r.d("strings.about", e, t, 0))),
                        r.b('" >\r'),
                        r.b("\n" + n),
                        r.b('  <div class="modal-dialog">\r'),
                        r.b("\n" + n),
                        r.b('    <div class="modal-content">\r'),
                        r.b("\n" + n),
                        r.b('      <div class="modal-body">\r'),
                        r.b("\n" + n),
                        r.b('          <div class="splash-logo">\r'),
                        r.b("\n" + n),
                        r.b('              <img src="'),
                        r.b(r.t(r.f("imagePathPrefix", e, t, 0))),
                        r.b('images/about_readium_logo.png" alt="">\r'),
                        r.b("\n" + n),
                        r.b("          </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b('          <div class="about-message">\r'),
                        r.b("\n" + n),
                        r.b("              <span>"),
                        r.b(
                            r.t(
                                r.d(
                                    "strings.i18n_html_readium_tm_a_project",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("</span>\r"),
                        r.b("\n" + n),
                        r.b("          </div>\r"),
                        r.b("\n" + n),
                        r.b("          <div>\r"),
                        r.b("\n" + n),
                        r.b('                 <img src="'),
                        r.b(r.t(r.f("imagePathPrefix", e, t, 0))),
                        r.b('images/partner_logos.png" alt="'),
                        r.b(r.t(r.d("strings.i18n_alt_about_logos", e, t, 0))),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b("            </div>\r"),
                        r.b("\n" + n),
                        r.b('        <h4 style="color:#111155">'),
                        r.b(r.t(r.d("strings.gethelp", e, t, 0))),
                        r.b("</h4>\r"),
                        r.b("\n" + n),
                        r.b('        <div class="version">'),
                        r.b(r.v(r.d("viewerJs.chromeVersion", e, t, 0))),
                        r.b("</div>\r"),
                        r.b("\n" + n),
                        r.b('        <div class="build-date">'),
                        r.b(r.v(r.f("dateTimeString", e, t, 0))),
                        r.b("</div>\r"),
                        r.b("\n" + n),
                        r.b('        <div class="version-details">\r'),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b(
                            '          <div><a target="_blank" href="https://github.com/readium/readium-js-viewer/tree/'
                        ),
                        r.b(r.v(r.d("viewerJs.sha", e, t, 0))),
                        r.b('">readium-js-viewer@'),
                        r.b(r.v(r.d("viewerJs.sha", e, t, 0))),
                        r.b("</a>"),
                        r.s(
                            r.d("viewerJs.clean", e, t, 1),
                            e,
                            t,
                            1,
                            0,
                            0,
                            ""
                        ) ||
                            (r.b('<span class="local-changes-alert"> ('),
                            r.b(
                                r.t(r.d("strings.gitHasLocalChanges", e, t, 0))
                            ),
                            r.b(")</span>")),
                        r.b("</div>\r"),
                        r.b("\n" + n),
                        r.b("          \r"),
                        r.b("\n" + n),
                        r.b(
                            '          <div><a target="_blank" href="https://github.com/readium/readium-js/tree/'
                        ),
                        r.b(r.v(r.d("readiumJs.sha", e, t, 0))),
                        r.b('">readium-js@'),
                        r.b(r.v(r.d("readiumJs.sha", e, t, 0))),
                        r.b("</a>"),
                        r.s(
                            r.d("readiumJs.clean", e, t, 1),
                            e,
                            t,
                            1,
                            0,
                            0,
                            ""
                        ) ||
                            (r.b('<span class="local-changes-alert"> ('),
                            r.b(
                                r.t(r.d("strings.gitHasLocalChanges", e, t, 0))
                            ),
                            r.b(")</span>")),
                        r.b("</div>\r"),
                        r.b("\n" + n),
                        r.b("          \r"),
                        r.b("\n" + n),
                        r.b(
                            '          <div><a target="_blank" href="https://github.com/readium/readium-shared-js/tree/'
                        ),
                        r.b(r.v(r.d("sharedJs.sha", e, t, 0))),
                        r.b('">readium-shared-js@'),
                        r.b(r.v(r.d("sharedJs.sha", e, t, 0))),
                        r.b("</a>"),
                        r.s(
                            r.d("sharedJs.clean", e, t, 1),
                            e,
                            t,
                            1,
                            0,
                            0,
                            ""
                        ) ||
                            (r.b('<span class="local-changes-alert"> ('),
                            r.b(
                                r.t(r.d("strings.gitHasLocalChanges", e, t, 0))
                            ),
                            r.b(")</span>")),
                        r.b("</div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("        </div>\r"),
                        r.b("\n" + n),
                        r.b("      </div>\r"),
                        r.b("\n" + n),
                        r.b("    </div>\x3c!-- /.modal-content --\x3e\r"),
                        r.b("\n" + n),
                        r.b("  </div>\x3c!-- /.modal-dialog --\x3e\r"),
                        r.b("\n" + n),
                        r.b("</div>\x3c!-- /.modal --\x3e\r"),
                        r.b("\n"),
                        r.fl()
                    );
                },
                partials: {},
                subs: {}
            },
            "",
            e
        );
        return (t.template = n), t;
    }),
    define("hgn!readium_js_viewer_html_templates/reader-navbar.html", [
        "hogan"
    ], function(e) {
        function t() {
            return n.render.apply(n, arguments);
        }
        var n = new e.Template(
            {
                code: function(e, t, n) {
                    var r = this;
                    return (
                        r.b((n = n || "")),
                        r.b('<div class="btn-group navbar-left">\r'),
                        r.b("\n" + n),
                        r.b(
                            '        \x3c!-- <button type="button" class="btn btn-default icon icon-show-hide"></button>  --\x3e\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '    <button id="aboutButt1" tabindex="1" type="button" class="btn icon-logo" data-toggle="modal" data-target="#about-dialog" title="'
                        ),
                        r.b(r.v(r.d("strings.about", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.about", e, t, 0))),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '        <span class="icon-readium" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("    </button>\r"),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button id="buttShowToolBar" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:1px;height=1px;" tabindex="-1" aria-hidden="true" type="button" title="access key '
                        ),
                        r.b(r.v(r.d("keyboard.ToolbarShow", e, t, 0))),
                        r.b('" aria-label="access key '),
                        r.b(r.v(r.d("keyboard.ToolbarShow", e, t, 0))),
                        r.b('" accesskey="'),
                        r.b(
                            r.v(r.d("keyboard.accesskeys.ToolbarShow", e, t, 0))
                        ),
                        r.b('"> </button>\r'),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button id="buttHideToolBar" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '
                        ),
                        r.b(r.v(r.d("keyboard.ToolbarHide", e, t, 0))),
                        r.b('" aria-label="access key '),
                        r.b(r.v(r.d("keyboard.ToolbarHide", e, t, 0))),
                        r.b('" accesskey="'),
                        r.b(
                            r.v(r.d("keyboard.accesskeys.ToolbarHide", e, t, 0))
                        ),
                        r.b('"> </button>\r'),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button id="buttNightTheme" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '
                        ),
                        r.b(r.v(r.d("keyboard.NightTheme", e, t, 0))),
                        r.b('" aria-label="access key '),
                        r.b(r.v(r.d("keyboard.NightTheme", e, t, 0))),
                        r.b('" accesskey="'),
                        r.b(
                            r.v(r.d("keyboard.accesskeys.NightTheme", e, t, 0))
                        ),
                        r.b('"> </button>\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button id="buttRatePlus" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysRateIncrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" aria-label="access key '),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysRateIncrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysRateIncrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('"> </button>\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button id="buttRateMinus" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysRateDecrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" aria-label="access key '),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysRateDecrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysRateDecrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('"> </button>\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button id="buttVolumePlus" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeIncrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" aria-label="access key '),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeIncrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysVolumeIncrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('"> </button>\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button id="buttVolumeMinus" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeDecrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" aria-label="access key '),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeDecrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysVolumeDecrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('"> </button>\r'),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b("</div>\r"),
                        r.b("\n" + n),
                        r.b('<div class="btn-group navbar-right">\r'),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b('    <div id="backgroundAudioTrack-div">\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="backgroundAudioTrack-button-play" type="button" class="btn icon-play-audio-background"  title="'
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_play_background",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.BackgroundAudioPlayPause",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']"  aria-label="'),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_play_background",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.BackgroundAudioPlayPause",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.BackgroundAudioPlayPause",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span class="glyphicon glyphicon-music" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="backgroundAudioTrack-button-pause" type="button" class="btn icon-pause-audio-background"  title="'
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_pause_background",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.BackgroundAudioPlayPause",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']"  aria-label="'),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_pause_background",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.BackgroundAudioPlayPause",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span class="glyphicon glyphicon-volume-up" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b("        \r"),
                        r.b("\n" + n),
                        r.b("    </div>\r"),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b("    \x3c!--Audioplayer Controls START--\x3e\r"),
                        r.b("\n" + n),
                        r.b('    <div id="audioplayer">\r'),
                        r.b("\n" + n),
                        r.b("        \r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="btn-collapse-audio" type="button" class="btn icon-collapse-audio" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_collapse", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysAdvancedPanelShowHide",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_collapse", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysAdvancedPanelShowHide",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span class="glyphicon glyphicon-open" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="btn-expand-audio" type="button" class="btn icon-expand-audio" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_expand", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysAdvancedPanelShowHide",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_expand", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysAdvancedPanelShowHide",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysAdvancedPanelShowHide",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span class="glyphicon glyphicon-save" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b("        \r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="btn-previous-audio" type="button" class="btn icon-previous-audio" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_previous", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(r.d("keyboard.MediaOverlaysPrevious", e, t, 0))
                        ),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_previous", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(r.d("keyboard.MediaOverlaysPrevious", e, t, 0))
                        ),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysPrevious",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span class="glyphicon glyphicon-backward" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b("        \r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="btn-play-audio" type="button" class="btn icon-play-audio"  title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_play", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(r.d("keyboard.MediaOverlaysPlayPause", e, t, 0))
                        ),
                        r.b(']"  aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_play", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(r.d("keyboard.MediaOverlaysPlayPause", e, t, 0))
                        ),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysPlayPause",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span class="glyphicon glyphicon-play" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="btn-pause-audio" type="button" class="btn icon-pause-audio"  title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_pause", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(r.d("keyboard.MediaOverlaysPlayPause", e, t, 0))
                        ),
                        r.b(']"  aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_pause", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(r.d("keyboard.MediaOverlaysPlayPause", e, t, 0))
                        ),
                        r.b(']">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span class="glyphicon glyphicon-pause" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b("        \r"),
                        r.b("\n" + n),
                        r.b("        \r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="btn-next-audio" type="button" class="btn icon-next-audio" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_next", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.MediaOverlaysNext", e, t, 0))),
                        r.b(']" arial-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_next", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.MediaOverlaysNext", e, t, 0))),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysNext",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span class="glyphicon glyphicon-forward" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b('        <div id="audioResponsive">\r'),
                        r.b("\n" + n),
                        r.b("        \r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="btn-audio-volume-mute" type="button" class="btn icon-audio-volume-mute" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_mute", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeMuteToggle",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_mute", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeMuteToggle",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysVolumeMuteToggle",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span class="glyphicon glyphicon-volume-up" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="btn-audio-volume-unmute" type="button" class="btn icon-audio-volume-unmute" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_unmute", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeMuteToggle",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_unmute", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeMuteToggle",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']">\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span class="glyphicon glyphicon-volume-off" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b("        \r"),
                        r.b("\n" + n),
                        r.b(
                            '        <input tabindex="1" id="volume-range-slider" type="range" role="slider" min="0" aria-value-min="0" aria-valuemin="0" max="100" aria-value-max="100" aria-valuemax="100" value="100" aria-valuenow="100" aria-value-now="100" aria-valuetext="100%" aria-value-text="100%" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_volume", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeDecrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("] / ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeIncrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" arial-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_volume", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeDecrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("] / ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysVolumeIncrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" />\r'),
                        r.b("\n" + n),
                        r.b("        \r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="btn-touch-audio-enable" type="button" class="btn icon-touch-audio-enable" title="'
                        ),
                        r.b(
                            r.v(r.d("strings.i18n_audio_touch_enable", e, t, 0))
                        ),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(r.d("strings.i18n_audio_touch_enable", e, t, 0))
                        ),
                        r.b('" >\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span id="icon-touch-off-hand" class="glyphicon glyphicon-hand-up" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '            <span id="icon-touch-off" class="glyphicon glyphicon-remove" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '        <button tabindex="1" id="btn-touch-audio-disable" type="button" class="btn icon-touch-audio-disable" title="'
                        ),
                        r.b(
                            r.v(
                                r.d("strings.i18n_audio_touch_disable", e, t, 0)
                            )
                        ),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(
                                r.d("strings.i18n_audio_touch_disable", e, t, 0)
                            )
                        ),
                        r.b('" >\r'),
                        r.b("\n" + n),
                        r.b(
                            '            <span id="icon-touch-on-hand" class="glyphicon glyphicon-hand-up" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '            <span id="icon-touch-on" class="glyphicon glyphicon-ok" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("        \r"),
                        r.b("\n" + n),
                        r.b("    </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b('        <div id="audioExpanded" role="alert">\r'),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b(
                            '            <input tabindex="1" id="time-range-slider" type="range" role="slider" min="0" aria-value-min="0" aria-valuemin="0" max="100" aria-value-max="100" aria-valuemax="100" value="0" aria-valuenow="0" aria-value-now="0" aria-valuetext="0%" aria-value-text="0%" data-value="0" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_time", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_time", e, t, 0))),
                        r.b('"  />\r'),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b(
                            '            <button tabindex="1" id="btn-audio-rate" type="button" class="btn icon-rate-audio" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_rate_reset", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(r.d("keyboard.MediaOverlaysRateReset", e, t, 0))
                        ),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_rate_reset", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(r.d("keyboard.MediaOverlaysRateReset", e, t, 0))
                        ),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysRateReset",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("            </button>\r"),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b(
                            '            <input tabindex="1" id="rate-range-slider" type="range" role="slider" min="0" aria-value-min="0" aria-valuemin="0" max="4" aria-value-max="4" aria-valuemax="4" value="1" aria-valuenow="1" aria-value-now="1" aria-valuetext="1x" aria-value-text="1x" step="0.1" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_rate", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysRateDecrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("] / ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysRateIncrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_rate", e, t, 0))),
                        r.b(" ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysRateDecrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("] / ["),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.MediaOverlaysRateIncrease",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(']" />\r'),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b(
                            '            <span aria-hidden="true" tabindex="-1" id="rate-range-slider-label">1x</span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b('            <form action="" id="mo-sync-form">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <input tabindex="1" type="radio" name="mo-sync" value="default" id="mo-sync-default" class="mo-sync" checked="checked"  title="'
                        ),
                        r.b(
                            r.v(r.d("strings.i18n_audio_sync_default", e, t, 0))
                        ),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(r.d("strings.i18n_audio_sync_default", e, t, 0))
                        ),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('"> </input>\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <label tabindex="1" for="mo-sync-default" title="'
                        ),
                        r.b(
                            r.v(r.d("strings.i18n_audio_sync_default", e, t, 0))
                        ),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b(
                            '"><span aria-hidden="true">&#8855;</span></label>\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <input tabindex="1" type="radio" name="mo-sync" value="word" id="mo-sync-word" class="mo-sync" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_sync_word", e, t, 0))),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_sync_word", e, t, 0))),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('"> </input>\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <label tabindex="1" for="mo-sync-word" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_sync_word", e, t, 0))),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('"><span aria-hidden="true">'),
                        r.b(r.v(r.d("strings.i18n_audio_sync_word", e, t, 0))),
                        r.b("</span></label>\r"),
                        r.b("\n" + n),
                        r.b("                \r"),
                        r.b("\n" + n),
                        r.b(
                            '                <input tabindex="1" type="radio" name="mo-sync" value="sentence" id="mo-sync-sentence" class="mo-sync" title="'
                        ),
                        r.b(
                            r.v(
                                r.d("strings.i18n_audio_sync_sentence", e, t, 0)
                            )
                        ),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(
                                r.d("strings.i18n_audio_sync_sentence", e, t, 0)
                            )
                        ),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('"> </input>\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <label tabindex="1" for="mo-sync-sentence" title="'
                        ),
                        r.b(
                            r.v(
                                r.d("strings.i18n_audio_sync_sentence", e, t, 0)
                            )
                        ),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('"><span aria-hidden="true">'),
                        r.b(
                            r.v(
                                r.d("strings.i18n_audio_sync_sentence", e, t, 0)
                            )
                        ),
                        r.b("</span></label>\r"),
                        r.b("\n" + n),
                        r.b("                \r"),
                        r.b("\n" + n),
                        r.b(
                            '                <input tabindex="1" type="radio" name="mo-sync" value="paragraph" id="mo-sync-paragraph" class="mo-sync" title="'
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_sync_paragraph",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_sync_paragraph",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('"> </input>\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <label tabindex="1" for="mo-sync-paragraph" title="'
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_sync_paragraph",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b(" "),
                        r.b(r.v(r.d("strings.i18n_audio_sync", e, t, 0))),
                        r.b('"><span aria-hidden="true">'),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_sync_paragraph",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("</span></label>\r"),
                        r.b("\n" + n),
                        r.b("            </form>\r"),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b('            <div id="audio-block">\r'),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b('            <div id="mo-highlighters">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <button tabindex="1" id="mo-highlighter-0" type="button" class="btn btn-mo-highlighter" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(": "),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_highlight_default",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(": "),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_highlight_default",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" aria-selected="true" data-mohighlight="0" >\r'),
                        r.b("\n" + n),
                        r.b("                    "),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_audio_highlight_default",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <button tabindex="1" id="mo-highlighter-1" type="button" class="btn btn-mo-highlighter" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #1" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #1" data-mohighlight="1" >\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <button tabindex="1" id="mo-highlighter-2" type="button" class="btn btn-mo-highlighter" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #2" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #2" data-mohighlight="2" >\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <button tabindex="1" id="mo-highlighter-3" type="button" class="btn btn-mo-highlighter" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #3" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #3" data-mohighlight="3" >\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <button tabindex="1" id="mo-highlighter-4" type="button" class="btn btn-mo-highlighter" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #4" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #4" data-mohighlight="4" >\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <button tabindex="1" id="mo-highlighter-5" type="button" class="btn btn-mo-highlighter" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #5" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #5" data-mohighlight="5" >\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <button tabindex="1" id="mo-highlighter-6" type="button" class="btn btn-mo-highlighter" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #6" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_highlight", e, t, 0))),
                        r.b(': #6" data-mohighlight="6" >\r'),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("                </button>\r"),
                        r.b("\n" + n),
                        r.b("            </div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '            <button tabindex="1" id="btn-playback-scroll-enable" type="button" class="btn icon-playback-scroll-enable" title="'
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_playback_scroll_enable",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_playback_scroll_enable",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" >\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <span id="icon-playback-scroll-off" class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("            </button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '            <button tabindex="1" id="btn-playback-scroll-disable" type="button" class="btn icon-playback-scroll-disable" title="'
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_playback_scroll_disable",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_playback_scroll_disable",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" >\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <span id="icon-playback-scroll-on" class="glyphicon glyphicon-sort" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("            </button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '            <button tabindex="1" id="btn-auto-page-turn-enable" type="button" class="btn icon-auto-page-turn-enable" title="'
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_auto_page_turn_enable",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_auto_page_turn_enable",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" >\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <span id="icon-auto-page-turn-off" class="glyphicon glyphicon-sound-stereo" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("            </button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '            <button tabindex="1" id="btn-auto-page-turn-disable" type="button" class="btn icon-auto-page-turn-disable" title="'
                        ),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_auto_page_turn_disable",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(
                                r.d(
                                    "strings.i18n_auto_page_turn_disable",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('" >\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <span id="icon-auto-page-turn-on" class="glyphicon glyphicon-sound-dolby" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("            </button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '            <button tabindex="1" id="btn-skip-audio-enable" type="button" class="btn icon-skip-audio-enable" title="'
                        ),
                        r.b(
                            r.v(r.d("strings.i18n_audio_skip_enable", e, t, 0))
                        ),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(r.d("strings.i18n_audio_skip_enable", e, t, 0))
                        ),
                        r.b('" >\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <span id="icon-skip-off" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("            </button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '            <button tabindex="1" id="btn-skip-audio-disable" type="button" class="btn icon-skip-audio-disable" title="'
                        ),
                        r.b(
                            r.v(r.d("strings.i18n_audio_skip_disable", e, t, 0))
                        ),
                        r.b('" aria-label="'),
                        r.b(
                            r.v(r.d("strings.i18n_audio_skip_disable", e, t, 0))
                        ),
                        r.b('" >\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <span id="icon-skip-on" class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("            </button>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(
                            '            <button tabindex="1" id="btn-esc-audio" type="button" class="btn icon-esc-audio" title="'
                        ),
                        r.b(r.v(r.d("strings.i18n_audio_esc", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.MediaOverlaysEscape", e, t, 0))),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.i18n_audio_esc", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.MediaOverlaysEscape", e, t, 0))),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.MediaOverlaysEscape",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '                <span class="glyphicon glyphicon-eject" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("            </button>\r"),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b("            </div>\r"),
                        r.b("\n" + n),
                        r.b("            \r"),
                        r.b("\n" + n),
                        r.b('            \x3c!-- div class="checkbox">\r'),
                        r.b("\n" + n),
                        r.b("              <label>\r"),
                        r.b("\n" + n),
                        r.b(
                            '                <input type="checkbox" value="false"> Skip\r'
                        ),
                        r.b("\n" + n),
                        r.b("              </label>\r"),
                        r.b("\n" + n),
                        r.b("            </div --\x3e\r"),
                        r.b("\n" + n),
                        r.b("        </div>\r"),
                        r.b("\n" + n),
                        r.b("    </div> \r"),
                        r.b("\n" + n),
                        r.b("    \x3c!--Audioplayer Controls END--\x3e\r"),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b(
                            '    <div class="zoom-wrapper dropdown" style="display:none">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '        <a tabindex="1" href="#" data-toggle="dropdown"><input tabindex="1" type="text" value="100%" disabled/><span class="caret"></span></a>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '        <ul id="zoom-menu" class="dropdown-menu" role="menu">\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '            <li id="zoom-custom"><a href="#" tabindex="1">Custom <span class="glyphicon glyphicon-ok"></span></a></li>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '            <li id="zoom-fit-width"><a href="#" tabindex="1">Fit Width <span class="glyphicon glyphicon-ok"></span></a></li>\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '            <li id="zoom-fit-screen" class="active-zoom"><a href="#" tabindex="1">Fit Screen <span class="glyphicon glyphicon-ok"></span></a></li>\r'
                        ),
                        r.b("\n" + n),
                        r.b("        </ul>\r"),
                        r.b("\n" + n),
                        r.b("    </div>\r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button tabindex="1" type="button" class="btn icon-library" title="'
                        ),
                        r.b(r.v(r.d("strings.view_library", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.SwitchToLibrary", e, t, 0))),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.view_library", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.SwitchToLibrary", e, t, 0))),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.SwitchToLibrary",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '        <span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("    </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button tabindex="1" type="button" class="btn icon-annotations" title="'
                        ),
                        r.b(r.v(r.d("strings.highlight_selection", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.highlight_selection", e, t, 0))),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '        <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("    </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button tabindex="1" type="button" class="btn icon-shareUrl" title="'
                        ),
                        r.b(r.v(r.d("strings.share_url", e, t, 0))),
                        r.b('" aria-label="'),
                        r.b(r.v(r.d("strings.share_url", e, t, 0))),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '        <span class="glyphicon glyphicon-link" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("    </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button id="tocButt" tabindex="1" type="button" class="btn icon-toc" title="'
                        ),
                        r.b(r.v(r.d("strings.toc", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.TocShowHideToggle", e, t, 0))),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.toc", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.TocShowHideToggle", e, t, 0))),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.TocShowHideToggle",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '        <span class="glyphicon glyphicon-list" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("    </button>\r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button id="settbutt1" tabindex="1" type="button" class="btn icon-settings" data-toggle="modal" data-target="#settings-dialog" title="'
                        ),
                        r.b(r.v(r.d("strings.settings", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.ShowSettingsModal", e, t, 0))),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.settings", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.ShowSettingsModal", e, t, 0))),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.ShowSettingsModal",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '        <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("    </button>\r"),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b(
                            '    <button tabindex="1" id="buttFullScreenToggle" type="button" class="btn icon-full-screen" title="'
                        ),
                        r.b(r.v(r.d("strings.enter_fullscreen", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.FullScreenToggle", e, t, 0))),
                        r.b(']" aria-label="'),
                        r.b(r.v(r.d("strings.enter_fullscreen", e, t, 0))),
                        r.b(" ["),
                        r.b(r.v(r.d("keyboard.FullScreenToggle", e, t, 0))),
                        r.b(']" accesskey="'),
                        r.b(
                            r.v(
                                r.d(
                                    "keyboard.accesskeys.FullScreenToggle",
                                    e,
                                    t,
                                    0
                                )
                            )
                        ),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            '        <span class="glyphicon glyphicon-resize-full" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("    </button>\r"),
                        r.b("\n" + n),
                        r.b("    \r"),
                        r.b("\n" + n),
                        r.b(
                            '    \x3c!-- <button type="button" class="btn btn-default icon icon-bookmark"></button>--\x3e\r'
                        ),
                        r.b("\n" + n),
                        r.b("</div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n"),
                        r.fl()
                    );
                },
                partials: {},
                subs: {}
            },
            "",
            e
        );
        return (t.template = n), t;
    }),
    define("hgn!readium_js_viewer_html_templates/reader-body.html", [
        "hogan"
    ], function(e) {
        function t() {
            return n.render.apply(n, arguments);
        }
        var n = new e.Template(
            {
                code: function(e, t, n) {
                    var r = this;
                    return (
                        r.b((n = n || "")),
                        r.b('<div id="readium-toc-body"\r'),
                        r.b("\n" + n),
                        r.b('aria-label="'),
                        r.b(r.v(r.d("strings.toc", e, t, 0))),
                        r.b('"\r'),
                        r.b("\n" + n),
                        r.b('role="navigation"\r'),
                        r.b("\n" + n),
                        r.b(">\r"),
                        r.b("\n" + n),
                        r.b("</div>\r"),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b('<div id="reading-area" role="main">  \r'),
                        r.b("\n" + n),
                        r.b('  <div id="epub-reader-container">\r'),
                        r.b("\n" + n),
                        r.b('    <div id="epub-reader-frame">\r'),
                        r.b("\n" + n),
                        r.b("    </div>\r"),
                        r.b("\n" + n),
                        r.b("  </div>\r"),
                        r.b("\n" + n),
                        r.b("  \r"),
                        r.b("\n" + n),
                        r.b(
                            '  <div id="readium-page-btns" role="region" aria-label="'
                        ),
                        r.b(r.v(r.d("strings.i18n_page_navigation", e, t, 0))),
                        r.b('">\r'),
                        r.b("\n" + n),
                        r.b(
                            "  \x3c!-- page left/right buttons inserted here when EPUB is loaded (page progression direction) --\x3e\r"
                        ),
                        r.b("\n" + n),
                        r.b("  </div>\r"),
                        r.b("\n" + n),
                        r.b("  \r"),
                        r.b("\n" + n),
                        r.b("</div>"),
                        r.fl()
                    );
                },
                partials: {},
                subs: {}
            },
            "",
            e
        );
        return (t.template = n), t;
    }),
    define("hgn!readium_js_viewer_html_templates/reader-body-page-btns.html", [
        "hogan"
    ], function(e) {
        function t() {
            return n.render.apply(n, arguments);
        }
        var n = new e.Template(
            {
                code: function(e, t, n) {
                    var r = this;
                    return (
                        r.b((n = n || "")),
                        r.b("\x3c!-- Left page --\x3e\r"),
                        r.b("\n" + n),
                        r.b(
                            '<button tabindex="0" id="left-page-btn" class="page-switch-overlay-icon" type="button"\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.s(
                            r.f("pageProgressionDirectionIsRTL", e, t, 1),
                            e,
                            t,
                            0,
                            144,
                            402,
                            "{{ }}"
                        ) &&
                            (r.rs(e, t, function(e, t, r) {
                                r.b('title="'),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "strings.i18n_page_next",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b(" ["),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "keyboard.PagePrevious",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b("] / ["),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "keyboard.PagePreviousAlt",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b(']"\r'),
                                    r.b("\n" + n),
                                    r.b("\r"),
                                    r.b("\n" + n),
                                    r.b('aria-label="'),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "strings.i18n_page_next",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b(" ["),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "keyboard.PagePrevious",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b("] / ["),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "keyboard.PagePreviousAlt",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b(']"\r'),
                                    r.b("\n" + n),
                                    r.b("\r"),
                                    r.b("\n" + n),
                                    r.b('accesskey="'),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "keyboard.accesskeys.PagePreviousAlt",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b('"\r'),
                                    r.b("\n" + n);
                            }),
                            e.pop()),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.s(
                            r.f("pageProgressionDirectionIsRTL", e, t, 1),
                            e,
                            t,
                            1,
                            0,
                            0,
                            ""
                        ) ||
                            (r.b('title="'),
                            r.b(
                                r.v(r.d("strings.i18n_page_previous", e, t, 0))
                            ),
                            r.b(" ["),
                            r.b(r.v(r.d("keyboard.PagePrevious", e, t, 0))),
                            r.b("] / ["),
                            r.b(r.v(r.d("keyboard.PagePreviousAlt", e, t, 0))),
                            r.b(']"\r'),
                            r.b("\n" + n),
                            r.b("\r"),
                            r.b("\n" + n),
                            r.b('aria-label="'),
                            r.b(
                                r.v(r.d("strings.i18n_page_previous", e, t, 0))
                            ),
                            r.b(" ["),
                            r.b(r.v(r.d("keyboard.PagePrevious", e, t, 0))),
                            r.b("] / ["),
                            r.b(r.v(r.d("keyboard.PagePreviousAlt", e, t, 0))),
                            r.b(']"\r'),
                            r.b("\n" + n),
                            r.b("\r"),
                            r.b("\n" + n),
                            r.b('accesskey="'),
                            r.b(
                                r.v(
                                    r.d(
                                        "keyboard.accesskeys.PagePreviousAlt",
                                        e,
                                        t,
                                        0
                                    )
                                )
                            ),
                            r.b('"\r'),
                            r.b("\n" + n)),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(">\r"),
                        r.b("\n" + n),
                        r.b(
                            '\x3c!-- img aria-hidden="true" src="images/pagination1.svg" --\x3e\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("</button>\r"),
                        r.b("\n" + n),
                        r.b("  \r"),
                        r.b("\n" + n),
                        r.b("\x3c!-- Right page --\x3e\r"),
                        r.b("\n" + n),
                        r.b(
                            '<button tabindex="0" id="right-page-btn" class="page-switch-overlay-icon" type="button"\r'
                        ),
                        r.b("\n" + n),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.s(
                            r.f("pageProgressionDirectionIsRTL", e, t, 1),
                            e,
                            t,
                            0,
                            1079,
                            1325,
                            "{{ }}"
                        ) &&
                            (r.rs(e, t, function(e, t, r) {
                                r.b('title="'),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "strings.i18n_page_previous",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b(" ["),
                                    r.b(r.v(r.d("keyboard.PageNext", e, t, 0))),
                                    r.b("] / ["),
                                    r.b(
                                        r.v(
                                            r.d("keyboard.PageNextAlt", e, t, 0)
                                        )
                                    ),
                                    r.b(']"\r'),
                                    r.b("\n" + n),
                                    r.b("\r"),
                                    r.b("\n" + n),
                                    r.b('aria-label="'),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "strings.i18n_page_previous",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b(" ["),
                                    r.b(r.v(r.d("keyboard.PageNext", e, t, 0))),
                                    r.b("] / ["),
                                    r.b(
                                        r.v(
                                            r.d("keyboard.PageNextAlt", e, t, 0)
                                        )
                                    ),
                                    r.b(']"\r'),
                                    r.b("\n" + n),
                                    r.b("\r"),
                                    r.b("\n" + n),
                                    r.b('accesskey="'),
                                    r.b(
                                        r.v(
                                            r.d(
                                                "keyboard.accesskeys.PageNextAlt",
                                                e,
                                                t,
                                                0
                                            )
                                        )
                                    ),
                                    r.b('"\r'),
                                    r.b("\n" + n);
                            }),
                            e.pop()),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.s(
                            r.f("pageProgressionDirectionIsRTL", e, t, 1),
                            e,
                            t,
                            1,
                            0,
                            0,
                            ""
                        ) ||
                            (r.b('title="'),
                            r.b(r.v(r.d("strings.i18n_page_next", e, t, 0))),
                            r.b(" ["),
                            r.b(r.v(r.d("keyboard.PageNext", e, t, 0))),
                            r.b("] / ["),
                            r.b(r.v(r.d("keyboard.PageNextAlt", e, t, 0))),
                            r.b(']"\r'),
                            r.b("\n" + n),
                            r.b("\r"),
                            r.b("\n" + n),
                            r.b('aria-label="'),
                            r.b(r.v(r.d("strings.i18n_page_next", e, t, 0))),
                            r.b(" ["),
                            r.b(r.v(r.d("keyboard.PageNext", e, t, 0))),
                            r.b("] / ["),
                            r.b(r.v(r.d("keyboard.PageNextAlt", e, t, 0))),
                            r.b(']"\r'),
                            r.b("\n" + n),
                            r.b("\r"),
                            r.b("\n" + n),
                            r.b('accesskey="'),
                            r.b(
                                r.v(
                                    r.d(
                                        "keyboard.accesskeys.PageNextAlt",
                                        e,
                                        t,
                                        0
                                    )
                                )
                            ),
                            r.b('"\r'),
                            r.b("\n" + n)),
                        r.b("\r"),
                        r.b("\n" + n),
                        r.b(">\r"),
                        r.b("\n" + n),
                        r.b(
                            '\x3c!-- img aria-hidden="true" src="images/pagination1.svg" --\x3e\r'
                        ),
                        r.b("\n" + n),
                        r.b(
                            '<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\r'
                        ),
                        r.b("\n" + n),
                        r.b("</button>\r"),
                        r.b("\n"),
                        r.fl()
                    );
                },
                partials: {},
                subs: {}
            },
            "",
            e
        );
        return (t.template = n), t;
    }),
    define("Analytics", [], function() {
        return { trackView: function() {}, sendEvent: function() {} };
    }),
    (function() {
        "use strict";
        var e =
                "undefined" != typeof window && void 0 !== window.document
                    ? window.document
                    : {},
            t = "undefined" != typeof module && module.exports,
            n =
                "undefined" != typeof Element &&
                "ALLOW_KEYBOARD_INPUT" in Element,
            r = (function() {
                for (
                    var t,
                        n = [
                            [
                                "requestFullscreen",
                                "exitFullscreen",
                                "fullscreenElement",
                                "fullscreenEnabled",
                                "fullscreenchange",
                                "fullscreenerror"
                            ],
                            [
                                "webkitRequestFullscreen",
                                "webkitExitFullscreen",
                                "webkitFullscreenElement",
                                "webkitFullscreenEnabled",
                                "webkitfullscreenchange",
                                "webkitfullscreenerror"
                            ],
                            [
                                "webkitRequestFullScreen",
                                "webkitCancelFullScreen",
                                "webkitCurrentFullScreenElement",
                                "webkitCancelFullScreen",
                                "webkitfullscreenchange",
                                "webkitfullscreenerror"
                            ],
                            [
                                "mozRequestFullScreen",
                                "mozCancelFullScreen",
                                "mozFullScreenElement",
                                "mozFullScreenEnabled",
                                "mozfullscreenchange",
                                "mozfullscreenerror"
                            ],
                            [
                                "msRequestFullscreen",
                                "msExitFullscreen",
                                "msFullscreenElement",
                                "msFullscreenEnabled",
                                "MSFullscreenChange",
                                "MSFullscreenError"
                            ]
                        ],
                        r = 0,
                        i = n.length,
                        o = {};
                    r < i;
                    r++
                )
                    if ((t = n[r]) && t[1] in e) {
                        for (r = 0; r < t.length; r++) o[n[0][r]] = t[r];
                        return o;
                    }
                return !1;
            })(),
            i = { change: r.fullscreenchange, error: r.fullscreenerror },
            o = {
                request: function(t) {
                    var i = r.requestFullscreen;
                    (t = t || e.documentElement),
                        / Version\/5\.1(?:\.\d+)? Safari\//.test(
                            navigator.userAgent
                        )
                            ? t[i]()
                            : t[i](n ? Element.ALLOW_KEYBOARD_INPUT : {});
                },
                exit: function() {
                    e[r.exitFullscreen]();
                },
                toggle: function(e) {
                    this.isFullscreen ? this.exit() : this.request(e);
                },
                onchange: function(e) {
                    this.on("change", e);
                },
                onerror: function(e) {
                    this.on("error", e);
                },
                on: function(t, n) {
                    var r = i[t];
                    r && e.addEventListener(r, n, !1);
                },
                off: function(t, n) {
                    var r = i[t];
                    r && e.removeEventListener(r, n, !1);
                },
                raw: r
            };
        if (!r)
            return void (t ? (module.exports = !1) : (window.screenfull = !1));
        Object.defineProperties(o, {
            isFullscreen: {
                get: function() {
                    return Boolean(e[r.fullscreenElement]);
                }
            },
            element: {
                enumerable: !0,
                get: function() {
                    return e[r.fullscreenElement];
                }
            },
            enabled: {
                enumerable: !0,
                get: function() {
                    return Boolean(e[r.fullscreenEnabled]);
                }
            }
        }),
            t ? (module.exports = o) : (window.screenfull = o);
    })(),
    define("screenfull", (function(e) {
        return function() {
            return e.screenfull;
        };
    })(this)),
    define("readium_js_viewer/EpubReaderMediaOverlays", [
        "readium_shared_js/globals",
        "module",
        "jquery",
        "underscore",
        "bootstrap",
        "readium_js/Readium",
        "./Spinner",
        "Settings",
        "i18nStrings",
        "./Dialogs",
        "./Keyboard"
    ], function(e, t, n, r, i, o, a, s, l, u, c) {
        return {
            init: function(t) {
                t.reader.on(ReadiumSDK.Events.PAGINATION_CHANGED, function(r) {
                    if (
                        (e.logEvent(
                            "PAGINATION_CHANGED",
                            "ON",
                            "EpubReaderMediaOverlays.js"
                        ),
                        t.reader.isMediaOverlayAvailable() &&
                            n("#audioplayer").show(),
                        r.spineItem)
                    ) {
                        var i = t.reader
                                .package()
                                .media_overlay.getSmilBySpineItem(r.spineItem),
                            o = !1,
                            a = n("#mo-sync-word");
                        i && i.hasSync("word")
                            ? ((o = !0), a.removeAttr("disabled"))
                            : a.attr("disabled", "disabled");
                        var s = n("#mo-sync-sentence");
                        i && i.hasSync("sentence")
                            ? ((o = !0), s.removeAttr("disabled"))
                            : s.attr("disabled", "disabled");
                        var l = n("#mo-sync-paragraph");
                        i && i.hasSync("paragraph")
                            ? ((o = !0), l.removeAttr("disabled"))
                            : l.attr("disabled", "disabled");
                        var u = n("#mo-sync-default");
                        o
                            ? u.removeAttr("disabled")
                            : u.attr("disabled", "disabled");
                    }
                });
                var i = n("#audioplayer");
                s.get("reader", function(e) {
                    if (!e) {
                        e = {};
                        var n = t.reader.viewerSettings();
                        (e.mediaOverlaysSkipSkippables =
                            n.mediaOverlaysSkipSkippables),
                            (e.mediaOverlaysAutomaticPageTurn =
                                n.mediaOverlaysAutomaticPageTurn),
                            (e.mediaOverlaysEnableClick =
                                n.mediaOverlaysEnableClick),
                            (e.mediaOverlaysPreservePlaybackWhenScroll =
                                n.mediaOverlaysPreservePlaybackWhenScroll),
                            s.put("reader", e);
                    }
                    var r = { doNotUpdateView: !0 };
                    e.mediaOverlaysSkipSkippables
                        ? (i.addClass("skip"),
                          (r.mediaOverlaysSkipSkippables = !0))
                        : (i.removeClass("skip"),
                          (r.mediaOverlaysSkipSkippables = !1)),
                        e.mediaOverlaysPreservePlaybackWhenScroll
                            ? (i.addClass("playScroll"),
                              (r.mediaOverlaysPreservePlaybackWhenScroll = !0))
                            : (i.removeClass("playScroll"),
                              (r.mediaOverlaysPreservePlaybackWhenScroll = !1)),
                        e.mediaOverlaysAutomaticPageTurn
                            ? (i.addClass("autoPageTurn"),
                              (r.mediaOverlaysAutomaticPageTurn = !0))
                            : (i.removeClass("autoPageTurn"),
                              (r.mediaOverlaysAutomaticPageTurn = !1)),
                        e.mediaOverlaysEnableClick
                            ? (i.removeClass("no-touch"),
                              (r.mediaOverlaysEnableClick = !0))
                            : (i.addClass("no-touch"),
                              (r.mediaOverlaysEnableClick = !1)),
                        t.reader.updateSettings(r);
                }),
                    n("#mo-sync-default").on("click", function() {
                        var e = t.reader.isPlayingMediaOverlay();
                        e && t.reader.pauseMediaOverlay(),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysSynchronizationGranularity: ""
                            }),
                            e && t.reader.playMediaOverlay();
                    }),
                    n("#mo-sync-word").on("click", function() {
                        var e = t.reader.isPlayingMediaOverlay();
                        e && t.reader.pauseMediaOverlay(),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysSynchronizationGranularity: "word"
                            }),
                            e && t.reader.playMediaOverlay();
                    }),
                    n("#mo-sync-sentence").on("click", function() {
                        var e = t.reader.isPlayingMediaOverlay();
                        e && t.reader.pauseMediaOverlay(),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysSynchronizationGranularity:
                                    "sentence"
                            }),
                            e && t.reader.playMediaOverlay();
                    }),
                    n("#mo-sync-paragraph").on("click", function() {
                        var e = t.reader.isPlayingMediaOverlay();
                        e && t.reader.pauseMediaOverlay(),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysSynchronizationGranularity:
                                    "paragraph"
                            }),
                            e && t.reader.playMediaOverlay();
                    });
                var o = n(".btn-mo-highlighter");
                o.on("click", function() {
                    o.attr("aria-selected", "false"),
                        n(this).attr("aria-selected", "true");
                    var e = n(this).attr("data-mohighlight");
                    t.reader.setStyles(
                        [
                            {
                                selector: ".mo-active-default",
                                declarations: void 0
                            }
                        ],
                        !0
                    ),
                        "1" === e
                            ? t.reader.setStyles(
                                  [
                                      {
                                          selector: ".mo-active-default",
                                          declarations: {
                                              "background-color":
                                                  "yellow !important",
                                              color: "black !important",
                                              "border-color":
                                                  "transparent !important",
                                              "border-radius":
                                                  "0.4em !important",
                                              "box-shadow":
                                                  "0px 0px 0.4em #333333 !important"
                                          }
                                      }
                                  ],
                                  !0
                              )
                            : "2" === e
                                ? t.reader.setStyles(
                                      [
                                          {
                                              selector: ".mo-active-default",
                                              declarations: {
                                                  "background-color":
                                                      "black !important",
                                                  color: "white !important",
                                                  "border-color":
                                                      "transparent !important",
                                                  "border-radius":
                                                      "0.4em !important"
                                              }
                                          }
                                      ],
                                      !0
                                  )
                                : "3" === e
                                    ? t.reader.setStyles(
                                          [
                                              {
                                                  selector:
                                                      ".mo-active-default",
                                                  declarations: {
                                                      "background-color":
                                                          "orange !important",
                                                      color: "black !important",
                                                      "border-color":
                                                          "transparent !important",
                                                      "border-radius":
                                                          "0.4em !important"
                                                  }
                                              }
                                          ],
                                          !0
                                      )
                                    : "4" === e
                                        ? t.reader.setStyles(
                                              [
                                                  {
                                                      selector:
                                                          ".mo-active-default",
                                                      declarations: {
                                                          "background-color":
                                                              "blue !important",
                                                          color:
                                                              "white !important",
                                                          "border-color":
                                                              "transparent !important",
                                                          "border-radius":
                                                              "0.4em !important"
                                                      }
                                                  }
                                              ],
                                              !0
                                          )
                                        : "5" === e
                                            ? t.reader.setStyles(
                                                  [
                                                      {
                                                          selector:
                                                              ".mo-active-default",
                                                          declarations: {
                                                              "background-color":
                                                                  "magenta !important",
                                                              color:
                                                                  "black !important",
                                                              "border-color":
                                                                  "transparent !important",
                                                              "border-radius":
                                                                  "0.4em !important"
                                                          }
                                                      }
                                                  ],
                                                  !0
                                              )
                                            : "6" === e &&
                                              t.reader.setStyles(
                                                  [
                                                      {
                                                          selector:
                                                              ".mo-active-default",
                                                          declarations: {
                                                              "background-color":
                                                                  "#00FF00 !important",
                                                              color:
                                                                  "black !important",
                                                              "border-color":
                                                                  "transparent !important",
                                                              "border-radius":
                                                                  "0.4em !important"
                                                          }
                                                      }
                                                  ],
                                                  !0
                                              );
                }),
                    c.on(
                        c.MediaOverlaysEscape,
                        "reader",
                        t.reader.escapeMediaOverlay
                    ),
                    n("#btn-esc-audio").on(
                        "click",
                        t.reader.escapeMediaOverlay
                    );
                var a = n("#btn-previous-audio"),
                    l = n("#btn-next-audio");
                c.on(
                    c.MediaOverlaysPlayPause,
                    "reader",
                    t.reader.toggleMediaOverlay
                );
                var u = n("#btn-play-audio"),
                    d = n("#btn-pause-audio");
                u.on("click", function() {
                    var e = document.activeElement === u[0];
                    t.reader.playMediaOverlay(),
                        u.removeAttr("accesskey"),
                        d.attr("accesskey", c.MediaOverlaysPlayPause),
                        e &&
                            setTimeout(function() {
                                d[0].focus();
                            }, 50);
                }),
                    d.on("click", function() {
                        var e = document.activeElement === d[0];
                        t.reader.pauseMediaOverlay(),
                            d.removeAttr("accesskey"),
                            u.attr("accesskey", c.MediaOverlaysPlayPause),
                            e &&
                                setTimeout(function() {
                                    u[0].focus();
                                }, 50);
                    });
                var f = n("#btn-expand-audio"),
                    p = n("#btn-collapse-audio"),
                    h = function(e) {
                        e
                            ? (i.addClass("expanded-audio"),
                              f.removeAttr("accesskey"),
                              p.attr(
                                  "accesskey",
                                  c.MediaOverlaysAdvancedPanelShowHide
                              ))
                            : (i.removeClass("expanded-audio"),
                              p.removeAttr("accesskey"),
                              f.attr(
                                  "accesskey",
                                  c.MediaOverlaysAdvancedPanelShowHide
                              ));
                    };
                c.on(
                    c.MediaOverlaysAdvancedPanelShowHide,
                    "reader",
                    function() {
                        var e = void 0;
                        i.hasClass("expanded-audio")
                            ? (h(!1), (e = f[0]))
                            : (h(!0), (e = p[0])),
                            n(document.body).removeClass("hide-ui"),
                            setTimeout(function() {
                                e.focus();
                            }, 50);
                    }
                ),
                    f.on("click", function() {
                        var e = document.activeElement === f[0];
                        h(!0),
                            e &&
                                setTimeout(function() {
                                    p[0].focus();
                                }, 50);
                    }),
                    p.on("click", function() {
                        var e = document.activeElement === p[0];
                        h(!1),
                            e &&
                                setTimeout(function() {
                                    f[0].focus();
                                }, 50);
                    });
                var m = n("#time-range-slider"),
                    g = r.debounce(function() {
                        inDebounce = !1;
                        var e = m.val(),
                            n = t.reader.package();
                        if (n && n.media_overlay) {
                            var r = { par: void 0 },
                                i = { smilData: void 0 },
                                o = { milliseconds: void 0 };
                            if (
                                (n.media_overlay.percentToPosition(e, i, r, o),
                                r.par && r.par.text && i.smilData)
                            ) {
                                var a = i.smilData.href,
                                    s = o.milliseconds / 1e3;
                                t.reader.mediaOverlaysOpenContentUrl(
                                    r.par.text.src,
                                    a,
                                    s
                                );
                            }
                        }
                    }, 800),
                    v = function(e, t, n) {
                        e.attr("aria-valuenow", t + ""),
                            e.attr("aria-value-now", t + ""),
                            e.attr("aria-valuetext", n + ""),
                            e.attr("aria-value-text", n + "");
                    };
                m.on("change", function() {
                    var e = m.val();
                    (e = Math.round(e)),
                        m.attr("data-value", e),
                        v(m, e, e + "%"),
                        t.reader.isPlayingMediaOverlay() &&
                            t.reader.pauseMediaOverlay(),
                        g();
                }),
                    t.reader.on(
                        ReadiumSDK.Events.MEDIA_OVERLAY_STATUS_CHANGED,
                        function(n) {
                            e.logEvent(
                                "MEDIA_OVERLAY_STATUS_CHANGED",
                                "ON",
                                "EpubReaderMediaOverlays.js"
                            );
                            var r = 0,
                                o = !("isPlaying" in n) || n.isPlaying,
                                a =
                                    document.activeElement === u[0] ||
                                    document.activeElement === d[0];
                            if (
                                (o
                                    ? (u.removeAttr("accesskey"),
                                      d.attr(
                                          "accesskey",
                                          c.MediaOverlaysPlayPause
                                      ))
                                    : (d.removeAttr("accesskey"),
                                      u.attr(
                                          "accesskey",
                                          c.MediaOverlaysPlayPause
                                      )),
                                i.toggleClass("isPlaying", o),
                                a &&
                                    setTimeout(function() {
                                        (o ? d[0] : u[0]).focus();
                                    }, 50),
                                (r = -1),
                                void 0 !== n.playPosition &&
                                    void 0 !== n.smilIndex &&
                                    void 0 !== n.parIndex)
                            ) {
                                var s = t.reader.package(),
                                    l = 1e3 * n.playPosition;
                                (r = s.media_overlay.positionToPercent(
                                    n.smilIndex,
                                    n.parIndex,
                                    l
                                )),
                                    r < 0 && (r = 0);
                            }
                            r >= 0 &&
                                (m.val(r),
                                (r = Math.round(r)),
                                m.attr("data-value", r),
                                v(m, r, r + "%"));
                        }
                    );
                var b = n("#btn-playback-scroll-disable"),
                    y = n("#btn-playback-scroll-enable");
                b.on("click", function() {
                    var e = document.activeElement === b[0];
                    i.removeClass("playScroll"),
                        t.reader.updateSettings({
                            doNotUpdateView: !0,
                            mediaOverlaysPreservePlaybackWhenScroll: !1
                        }),
                        s.get("reader", function(e) {
                            e || (e = {}),
                                (e.mediaOverlaysPreservePlaybackWhenScroll = !1),
                                s.put("reader", e);
                        }),
                        e &&
                            setTimeout(function() {
                                y[0].focus();
                            }, 50);
                }),
                    y.on("click", function() {
                        var e = document.activeElement === y[0];
                        i.addClass("playScroll"),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysPreservePlaybackWhenScroll: !0
                            }),
                            s.get("reader", function(e) {
                                e || (e = {}),
                                    (e.mediaOverlaysPreservePlaybackWhenScroll = !0),
                                    s.put("reader", e);
                            }),
                            e &&
                                setTimeout(function() {
                                    b[0].focus();
                                }, 50);
                    });
                var _ = n("#btn-auto-page-turn-disable"),
                    w = n("#btn-auto-page-turn-enable");
                _.on("click", function() {
                    var e = document.activeElement === _[0];
                    i.removeClass("autoPageTurn"),
                        t.reader.updateSettings({
                            doNotUpdateView: !0,
                            mediaOverlaysAutomaticPageTurn: !1
                        }),
                        s.get("reader", function(e) {
                            e || (e = {}),
                                (e.mediaOverlaysAutomaticPageTurn = !1),
                                s.put("reader", e);
                        }),
                        e &&
                            setTimeout(function() {
                                w[0].focus();
                            }, 50);
                }),
                    w.on("click", function() {
                        var e = document.activeElement === w[0];
                        i.addClass("autoPageTurn"),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysAutomaticPageTurn: !0
                            }),
                            s.get("reader", function(e) {
                                e || (e = {}),
                                    (e.mediaOverlaysAutomaticPageTurn = !0),
                                    s.put("reader", e);
                            }),
                            e &&
                                setTimeout(function() {
                                    _[0].focus();
                                }, 50);
                    });
                var x = n("#btn-skip-audio-disable"),
                    E = n("#btn-skip-audio-enable");
                x.on("click", function() {
                    var e = document.activeElement === x[0];
                    i.removeClass("skip"),
                        t.reader.updateSettings({
                            doNotUpdateView: !0,
                            mediaOverlaysSkipSkippables: !1
                        }),
                        s.get("reader", function(e) {
                            e || (e = {}),
                                (e.mediaOverlaysSkipSkippables = !1),
                                s.put("reader", e);
                        }),
                        e &&
                            setTimeout(function() {
                                E[0].focus();
                            }, 50);
                }),
                    E.on("click", function() {
                        var e = document.activeElement === E[0];
                        i.addClass("skip"),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysSkipSkippables: !0
                            }),
                            s.get("reader", function(e) {
                                e || (e = {}),
                                    (e.mediaOverlaysSkipSkippables = !0),
                                    s.put("reader", e);
                            }),
                            e &&
                                setTimeout(function() {
                                    x[0].focus();
                                }, 50);
                    });
                var T = n("#btn-touch-audio-enable"),
                    S = n("#btn-touch-audio-disable");
                T.on("click", function() {
                    var e = document.activeElement === T[0];
                    i.removeClass("no-touch"),
                        t.reader.updateSettings({
                            doNotUpdateView: !0,
                            mediaOverlaysEnableClick: !0
                        }),
                        s.get("reader", function(e) {
                            e || (e = {}),
                                (e.mediaOverlaysEnableClick = !0),
                                s.put("reader", e);
                        }),
                        e &&
                            setTimeout(function() {
                                S[0].focus();
                            }, 50);
                }),
                    S.on("click", function() {
                        var e = document.activeElement === S[0];
                        i.addClass("no-touch"),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysEnableClick: !1
                            }),
                            s.get("reader", function(e) {
                                e || (e = {}),
                                    (e.mediaOverlaysEnableClick = !1),
                                    s.put("reader", e);
                            }),
                            e &&
                                setTimeout(function() {
                                    T[0].focus();
                                }, 50);
                    });
                var C = n("#rate-range-slider"),
                    k = n("#rate-range-slider-label"),
                    I = function(e) {
                        var n = parseFloat(C.attr("min")),
                            r = parseFloat(C.attr("max")),
                            i = parseFloat(C.attr("step")),
                            o = parseFloat(C.val());
                        (o += e ? -i : i), o > r && (o = r), o < n && (o = n);
                        var a = (0 === o ? "~0" : "" + o) + "x";
                        v(C, o, a),
                            (k[0].textContent = a),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysRate: o
                            }),
                            C.val("" + o);
                    };
                n("#buttRatePlus").on("click", function() {
                    I(!1);
                }),
                    c.on(c.MediaOverlaysRateIncrease, "reader", function() {
                        I(!1);
                    }),
                    n("#buttRateMinus").on("click", function() {
                        I(!0);
                    }),
                    c.on(c.MediaOverlaysRateDecrease, "reader", function() {
                        I(!0);
                    }),
                    C.on("change", function() {
                        var e = n(this).val(),
                            r = ("0" === e ? "~0" : e) + "x";
                        v(n(this), e, r),
                            (k[0].textContent = r),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysRate: e
                            });
                    });
                var P = function() {
                    C.val(1),
                        v(C, "1", "1x"),
                        (k[0].textContent = "1x"),
                        t.reader.updateSettings({
                            doNotUpdateView: !0,
                            mediaOverlaysRate: 1
                        });
                };
                c.on(c.MediaOverlaysRateReset, "reader", P),
                    n("#btn-audio-rate").on("click", P);
                var O = n("#volume-range-slider"),
                    A = function(e) {
                        var n = parseInt(O.val());
                        (n += e ? -20 : 20),
                            n < 0 && (n = 0),
                            n > 100 && (n = 100),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysVolume: n
                            }),
                            O.val("" + n),
                            v(O, n, n + "%"),
                            0 === n
                                ? i.addClass("no-volume")
                                : i.removeClass("no-volume");
                    };
                n("#buttVolumePlus").on("click", function() {
                    A(!1);
                }),
                    c.on(c.MediaOverlaysVolumeIncrease, "reader", function() {
                        A(!1);
                    }),
                    n("#buttVolumeMinus").on("click", function() {
                        A(!0);
                    }),
                    c.on(c.MediaOverlaysVolumeDecrease, "reader", function() {
                        A(!0);
                    }),
                    O.on("change", function() {
                        var e = n(this).val();
                        t.reader.updateSettings({
                            doNotUpdateView: !0,
                            mediaOverlaysVolume: e
                        }),
                            v(O, e, e + "%"),
                            "0" === e
                                ? i.addClass("no-volume")
                                : i.removeClass("no-volume");
                    }),
                    ($volumeButtonMute = n("#btn-audio-volume-mute")),
                    ($volumeButtonUnMute = n("#btn-audio-volume-unmute"));
                var N = "0",
                    R = function() {
                        (N = O.val()),
                            t.reader.updateSettings({
                                doNotUpdateView: !0,
                                mediaOverlaysVolume: 0
                            }),
                            O.val(0),
                            v(O, 0, "0%"),
                            $volumeButtonMute.removeAttr("accesskey"),
                            $volumeButtonUnMute.attr(
                                "accesskey",
                                c.MediaOverlaysVolumeMuteToggle
                            ),
                            i.addClass("no-volume");
                    },
                    D = function() {
                        var e = "0" === N ? "100" : N;
                        t.reader.updateSettings({
                            doNotUpdateView: !0,
                            mediaOverlaysVolume: e
                        }),
                            O.val(e),
                            v(O, e, e + "%"),
                            $volumeButtonUnMute.removeAttr("accesskey"),
                            $volumeButtonMute.attr(
                                "accesskey",
                                c.MediaOverlaysVolumeMuteToggle
                            ),
                            i.removeClass("no-volume");
                    };
                c.on(c.MediaOverlaysVolumeMuteToggle, "reader", function() {
                    (i.hasClass("no-volume") ? D : R)();
                }),
                    $volumeButtonMute.on("click", function() {
                        var e = document.activeElement === $volumeButtonMute[0];
                        R(),
                            e &&
                                setTimeout(function() {
                                    $volumeButtonUnMute[0].focus();
                                }, 50);
                    }),
                    $volumeButtonUnMute.on("click", function() {
                        var e =
                            document.activeElement === $volumeButtonUnMute[0];
                        D(),
                            e &&
                                setTimeout(function() {
                                    $volumeButtonMute[0].focus();
                                }, 50);
                    }),
                    c.on(
                        c.MediaOverlaysPrevious,
                        "reader",
                        t.reader.previousMediaOverlay
                    ),
                    a.on("click", t.reader.previousMediaOverlay),
                    c.on(
                        c.MediaOverlaysNext,
                        "reader",
                        t.reader.nextMediaOverlay
                    ),
                    l.on("click", t.reader.nextMediaOverlay);
            }
        };
    }),
    define("readium_js_viewer/EpubReaderBackgroundAudioTrack", [
        "module",
        "jquery",
        "bootstrap",
        "readium_js/Readium",
        "./Spinner",
        "Settings",
        "i18nStrings",
        "./Dialogs",
        "./Keyboard"
    ], function(e, t, n, r, i, o, a, s, l) {
        return {
            init: function(e) {
                if (e.reader.backgroundAudioTrackManager) {
                    var n = t("#backgroundAudioTrack-div"),
                        r = t("#backgroundAudioTrack-button-play"),
                        i = t("#backgroundAudioTrack-button-pause");
                    e.reader.backgroundAudioTrackManager.setCallback_PlayPause(
                        function(e) {
                            e
                                ? (n.addClass("isPlaying"),
                                  r.removeAttr("accesskey"),
                                  i.attr(
                                      "accesskey",
                                      l.BackgroundAudioPlayPause
                                  ))
                                : (n.removeClass("isPlaying"),
                                  i.removeAttr("accesskey"),
                                  r.attr(
                                      "accesskey",
                                      l.BackgroundAudioPlayPause
                                  ));
                        }
                    ),
                        e.reader.backgroundAudioTrackManager.setCallback_IsAvailable(
                            function(e) {
                                e ? n.removeClass("none") : n.addClass("none");
                            }
                        ),
                        l.on(l.BackgroundAudioPlayPause, "reader", function() {
                            var t = !n.hasClass("isPlaying");
                            e.reader.backgroundAudioTrackManager.setPlayState(
                                t
                            ),
                                e.reader.backgroundAudioTrackManager.playPause(
                                    t
                                );
                        }),
                        r.on("click", function() {
                            var t = document.activeElement === r[0];
                            e.reader.backgroundAudioTrackManager.setPlayState(
                                !0
                            ),
                                e.reader.backgroundAudioTrackManager.playPause(
                                    !0
                                ),
                                t &&
                                    setTimeout(function() {
                                        i[0].focus();
                                    }, 50);
                        }),
                        i.on("click", function() {
                            var t = document.activeElement === i[0];
                            e.reader.backgroundAudioTrackManager.setPlayState(
                                !1
                            ),
                                e.reader.backgroundAudioTrackManager.playPause(
                                    !1
                                ),
                                t &&
                                    setTimeout(function() {
                                        r[0].focus();
                                    }, 50);
                        });
                }
            }
        };
    }),
    (function(e, t, n, r) {
        "use strict";
        function i(e, t, n) {
            return setTimeout(u(e, n), t);
        }
        function o(e, t, n) {
            return !!Array.isArray(e) && (a(e, n[t], n), !0);
        }
        function a(e, t, n) {
            var i;
            if (e)
                if (e.forEach) e.forEach(t, n);
                else if (e.length !== r)
                    for (i = 0; i < e.length; ) t.call(n, e[i], i, e), i++;
                else for (i in e) e.hasOwnProperty(i) && t.call(n, e[i], i, e);
        }
        function s(t, n, r) {
            var i = "DEPRECATED METHOD: " + n + "\n" + r + " AT \n";
            return function() {
                var n = new Error("get-stack-trace"),
                    r =
                        n && n.stack
                            ? n.stack
                                  .replace(/^[^\(]+?[\n$]/gm, "")
                                  .replace(/^\s+at\s+/gm, "")
                                  .replace(
                                      /^Object.<anonymous>\s*\(/gm,
                                      "{anonymous}()@"
                                  )
                            : "Unknown Stack Trace",
                    o = e.console && (e.console.warn || e.console.log);
                return o && o.call(e.console, i, r), t.apply(this, arguments);
            };
        }
        function l(e, t, n) {
            var r,
                i = t.prototype;
            (r = e.prototype = Object.create(i)),
                (r.constructor = e),
                (r._super = i),
                n && ce(r, n);
        }
        function u(e, t) {
            return function() {
                return e.apply(t, arguments);
            };
        }
        function c(e, t) {
            return typeof e == pe ? e.apply(t ? t[0] || r : r, t) : e;
        }
        function d(e, t) {
            return e === r ? t : e;
        }
        function f(e, t, n) {
            a(g(t), function(t) {
                e.addEventListener(t, n, !1);
            });
        }
        function p(e, t, n) {
            a(g(t), function(t) {
                e.removeEventListener(t, n, !1);
            });
        }
        function h(e, t) {
            for (; e; ) {
                if (e == t) return !0;
                e = e.parentNode;
            }
            return !1;
        }
        function m(e, t) {
            return e.indexOf(t) > -1;
        }
        function g(e) {
            return e.trim().split(/\s+/g);
        }
        function v(e, t, n) {
            if (e.indexOf && !n) return e.indexOf(t);
            for (var r = 0; r < e.length; ) {
                if ((n && e[r][n] == t) || (!n && e[r] === t)) return r;
                r++;
            }
            return -1;
        }
        function b(e) {
            return Array.prototype.slice.call(e, 0);
        }
        function y(e, t, n) {
            for (var r = [], i = [], o = 0; o < e.length; ) {
                var a = t ? e[o][t] : e[o];
                v(i, a) < 0 && r.push(e[o]), (i[o] = a), o++;
            }
            return (
                n &&
                    (r = t
                        ? r.sort(function(e, n) {
                              return e[t] > n[t];
                          })
                        : r.sort()),
                r
            );
        }
        function _(e, t) {
            for (
                var n, i, o = t[0].toUpperCase() + t.slice(1), a = 0;
                a < de.length;

            ) {
                if (((n = de[a]), (i = n ? n + o : t) in e)) return i;
                a++;
            }
            return r;
        }
        function w() {
            return ye++;
        }
        function x(t) {
            var n = t.ownerDocument || t;
            return n.defaultView || n.parentWindow || e;
        }
        function E(e, t) {
            var n = this;
            (this.manager = e),
                (this.callback = t),
                (this.element = e.element),
                (this.target = e.options.inputTarget),
                (this.domHandler = function(t) {
                    c(e.options.enable, [e]) && n.handler(t);
                }),
                this.init();
        }
        function T(e) {
            var t = e.options.inputClass;
            return new (t || (xe ? F : Ee ? B : we ? $ : L))(e, S);
        }
        function S(e, t, n) {
            var r = n.pointers.length,
                i = n.changedPointers.length,
                o = t & Se && r - i == 0,
                a = t & (ke | Ie) && r - i == 0;
            (n.isFirst = !!o),
                (n.isFinal = !!a),
                o && (e.session = {}),
                (n.eventType = t),
                C(e, n),
                e.emit("hammer.input", n),
                e.recognize(n),
                (e.session.prevInput = n);
        }
        function C(e, t) {
            var n = e.session,
                r = t.pointers,
                i = r.length;
            n.firstInput || (n.firstInput = P(t)),
                i > 1 && !n.firstMultiple
                    ? (n.firstMultiple = P(t))
                    : 1 === i && (n.firstMultiple = !1);
            var o = n.firstInput,
                a = n.firstMultiple,
                s = a ? a.center : o.center,
                l = (t.center = O(r));
            (t.timeStamp = ge()),
                (t.deltaTime = t.timeStamp - o.timeStamp),
                (t.angle = D(s, l)),
                (t.distance = R(s, l)),
                k(n, t),
                (t.offsetDirection = N(t.deltaX, t.deltaY));
            var u = A(t.deltaTime, t.deltaX, t.deltaY);
            (t.overallVelocityX = u.x),
                (t.overallVelocityY = u.y),
                (t.overallVelocity = me(u.x) > me(u.y) ? u.x : u.y),
                (t.scale = a ? M(a.pointers, r) : 1),
                (t.rotation = a ? j(a.pointers, r) : 0),
                (t.maxPointers = n.prevInput
                    ? t.pointers.length > n.prevInput.maxPointers
                        ? t.pointers.length
                        : n.prevInput.maxPointers
                    : t.pointers.length),
                I(n, t);
            var c = e.element;
            h(t.srcEvent.target, c) && (c = t.srcEvent.target), (t.target = c);
        }
        function k(e, t) {
            var n = t.center,
                r = e.offsetDelta || {},
                i = e.prevDelta || {},
                o = e.prevInput || {};
            (t.eventType !== Se && o.eventType !== ke) ||
                ((i = e.prevDelta = { x: o.deltaX || 0, y: o.deltaY || 0 }),
                (r = e.offsetDelta = { x: n.x, y: n.y })),
                (t.deltaX = i.x + (n.x - r.x)),
                (t.deltaY = i.y + (n.y - r.y));
        }
        function I(e, t) {
            var n,
                i,
                o,
                a,
                s = e.lastInterval || t,
                l = t.timeStamp - s.timeStamp;
            if (t.eventType != Ie && (l > Te || s.velocity === r)) {
                var u = t.deltaX - s.deltaX,
                    c = t.deltaY - s.deltaY,
                    d = A(l, u, c);
                (i = d.x),
                    (o = d.y),
                    (n = me(d.x) > me(d.y) ? d.x : d.y),
                    (a = N(u, c)),
                    (e.lastInterval = t);
            } else
                (n = s.velocity),
                    (i = s.velocityX),
                    (o = s.velocityY),
                    (a = s.direction);
            (t.velocity = n),
                (t.velocityX = i),
                (t.velocityY = o),
                (t.direction = a);
        }
        function P(e) {
            for (var t = [], n = 0; n < e.pointers.length; )
                (t[n] = {
                    clientX: he(e.pointers[n].clientX),
                    clientY: he(e.pointers[n].clientY)
                }),
                    n++;
            return {
                timeStamp: ge(),
                pointers: t,
                center: O(t),
                deltaX: e.deltaX,
                deltaY: e.deltaY
            };
        }
        function O(e) {
            var t = e.length;
            if (1 === t) return { x: he(e[0].clientX), y: he(e[0].clientY) };
            for (var n = 0, r = 0, i = 0; i < t; )
                (n += e[i].clientX), (r += e[i].clientY), i++;
            return { x: he(n / t), y: he(r / t) };
        }
        function A(e, t, n) {
            return { x: t / e || 0, y: n / e || 0 };
        }
        function N(e, t) {
            return e === t
                ? Pe
                : me(e) >= me(t)
                    ? e < 0
                        ? Oe
                        : Ae
                    : t < 0
                        ? Ne
                        : Re;
        }
        function R(e, t, n) {
            n || (n = Le);
            var r = t[n[0]] - e[n[0]],
                i = t[n[1]] - e[n[1]];
            return Math.sqrt(r * r + i * i);
        }
        function D(e, t, n) {
            n || (n = Le);
            var r = t[n[0]] - e[n[0]],
                i = t[n[1]] - e[n[1]];
            return (180 * Math.atan2(i, r)) / Math.PI;
        }
        function j(e, t) {
            return D(t[1], t[0], Fe) + D(e[1], e[0], Fe);
        }
        function M(e, t) {
            return R(t[0], t[1], Fe) / R(e[0], e[1], Fe);
        }
        function L() {
            (this.evEl = ze),
                (this.evWin = Be),
                (this.pressed = !1),
                E.apply(this, arguments);
        }
        function F() {
            (this.evEl = He),
                (this.evWin = qe),
                E.apply(this, arguments),
                (this.store = this.manager.session.pointerEvents = []);
        }
        function U() {
            (this.evTarget = Ge),
                (this.evWin = Xe),
                (this.started = !1),
                E.apply(this, arguments);
        }
        function z(e, t) {
            var n = b(e.touches),
                r = b(e.changedTouches);
            return (
                t & (ke | Ie) && (n = y(n.concat(r), "identifier", !0)), [n, r]
            );
        }
        function B() {
            (this.evTarget = Je),
                (this.targetIds = {}),
                E.apply(this, arguments);
        }
        function V(e, t) {
            var n = b(e.touches),
                r = this.targetIds;
            if (t & (Se | Ce) && 1 === n.length)
                return (r[n[0].identifier] = !0), [n, n];
            var i,
                o,
                a = b(e.changedTouches),
                s = [],
                l = this.target;
            if (
                ((o = n.filter(function(e) {
                    return h(e.target, l);
                })),
                t === Se)
            )
                for (i = 0; i < o.length; ) (r[o[i].identifier] = !0), i++;
            for (i = 0; i < a.length; )
                r[a[i].identifier] && s.push(a[i]),
                    t & (ke | Ie) && delete r[a[i].identifier],
                    i++;
            return s.length ? [y(o.concat(s), "identifier", !0), s] : void 0;
        }
        function $() {
            E.apply(this, arguments);
            var e = u(this.handler, this);
            (this.touch = new B(this.manager, e)),
                (this.mouse = new L(this.manager, e)),
                (this.primaryTouch = null),
                (this.lastTouches = []);
        }
        function H(e, t) {
            e & Se
                ? ((this.primaryTouch = t.changedPointers[0].identifier),
                  q.call(this, t))
                : e & (ke | Ie) && q.call(this, t);
        }
        function q(e) {
            var t = e.changedPointers[0];
            if (t.identifier === this.primaryTouch) {
                var n = { x: t.clientX, y: t.clientY };
                this.lastTouches.push(n);
                var r = this.lastTouches,
                    i = function() {
                        var e = r.indexOf(n);
                        e > -1 && r.splice(e, 1);
                    };
                setTimeout(i, Qe);
            }
        }
        function W(e) {
            for (
                var t = e.srcEvent.clientX, n = e.srcEvent.clientY, r = 0;
                r < this.lastTouches.length;
                r++
            ) {
                var i = this.lastTouches[r],
                    o = Math.abs(t - i.x),
                    a = Math.abs(n - i.y);
                if (o <= Ye && a <= Ye) return !0;
            }
            return !1;
        }
        function G(e, t) {
            (this.manager = e), this.set(t);
        }
        function X(e) {
            if (m(e, rt)) return rt;
            var t = m(e, it),
                n = m(e, ot);
            return t && n ? rt : t || n ? (t ? it : ot) : m(e, nt) ? nt : tt;
        }
        function K(e) {
            (this.options = ce({}, this.defaults, e || {})),
                (this.id = w()),
                (this.manager = null),
                (this.options.enable = d(this.options.enable, !0)),
                (this.state = st),
                (this.simultaneous = {}),
                (this.requireFail = []);
        }
        function J(e) {
            return e & ft
                ? "cancel"
                : e & ct
                    ? "end"
                    : e & ut
                        ? "move"
                        : e & lt
                            ? "start"
                            : "";
        }
        function Q(e) {
            return e == Re
                ? "down"
                : e == Ne
                    ? "up"
                    : e == Oe
                        ? "left"
                        : e == Ae
                            ? "right"
                            : "";
        }
        function Y(e, t) {
            var n = t.manager;
            return n ? n.get(e) : e;
        }
        function Z() {
            K.apply(this, arguments);
        }
        function ee() {
            Z.apply(this, arguments), (this.pX = null), (this.pY = null);
        }
        function te() {
            Z.apply(this, arguments);
        }
        function ne() {
            K.apply(this, arguments),
                (this._timer = null),
                (this._input = null);
        }
        function re() {
            Z.apply(this, arguments);
        }
        function ie() {
            Z.apply(this, arguments);
        }
        function oe() {
            K.apply(this, arguments),
                (this.pTime = !1),
                (this.pCenter = !1),
                (this._timer = null),
                (this._input = null),
                (this.count = 0);
        }
        function ae(e, t) {
            return (
                (t = t || {}),
                (t.recognizers = d(t.recognizers, ae.defaults.preset)),
                new se(e, t)
            );
        }
        function se(e, t) {
            (this.options = ce({}, ae.defaults, t || {})),
                (this.options.inputTarget = this.options.inputTarget || e),
                (this.handlers = {}),
                (this.session = {}),
                (this.recognizers = []),
                (this.oldCssProps = {}),
                (this.element = e),
                (this.input = T(this)),
                (this.touchAction = new G(this, this.options.touchAction)),
                le(this, !0),
                a(
                    this.options.recognizers,
                    function(e) {
                        var t = this.add(new e[0](e[1]));
                        e[2] && t.recognizeWith(e[2]),
                            e[3] && t.requireFailure(e[3]);
                    },
                    this
                );
        }
        function le(e, t) {
            var n = e.element;
            if (n.style) {
                var r;
                a(e.options.cssProps, function(i, o) {
                    (r = _(n.style, o)),
                        t
                            ? ((e.oldCssProps[r] = n.style[r]),
                              (n.style[r] = i))
                            : (n.style[r] = e.oldCssProps[r] || "");
                }),
                    t || (e.oldCssProps = {});
            }
        }
        function ue(e, n) {
            var r = t.createEvent("Event");
            r.initEvent(e, !0, !0), (r.gesture = n), n.target.dispatchEvent(r);
        }
        var ce,
            de = ["", "webkit", "Moz", "MS", "ms", "o"],
            fe = t.createElement("div"),
            pe = "function",
            he = Math.round,
            me = Math.abs,
            ge = Date.now;
        ce =
            "function" != typeof Object.assign
                ? function(e) {
                      if (e === r || null === e)
                          throw new TypeError(
                              "Cannot convert undefined or null to object"
                          );
                      for (
                          var t = Object(e), n = 1;
                          n < arguments.length;
                          n++
                      ) {
                          var i = arguments[n];
                          if (i !== r && null !== i)
                              for (var o in i)
                                  i.hasOwnProperty(o) && (t[o] = i[o]);
                      }
                      return t;
                  }
                : Object.assign;
        var ve = s(
                function(e, t, n) {
                    for (var i = Object.keys(t), o = 0; o < i.length; )
                        (!n || (n && e[i[o]] === r)) && (e[i[o]] = t[i[o]]),
                            o++;
                    return e;
                },
                "extend",
                "Use `assign`."
            ),
            be = s(
                function(e, t) {
                    return ve(e, t, !0);
                },
                "merge",
                "Use `assign`."
            ),
            ye = 1,
            _e = /mobile|tablet|ip(ad|hone|od)|android/i,
            we = "ontouchstart" in e,
            xe = _(e, "PointerEvent") !== r,
            Ee = we && _e.test(navigator.userAgent),
            Te = 25,
            Se = 1,
            Ce = 2,
            ke = 4,
            Ie = 8,
            Pe = 1,
            Oe = 2,
            Ae = 4,
            Ne = 8,
            Re = 16,
            De = Oe | Ae,
            je = Ne | Re,
            Me = De | je,
            Le = ["x", "y"],
            Fe = ["clientX", "clientY"];
        E.prototype = {
            handler: function() {},
            init: function() {
                this.evEl && f(this.element, this.evEl, this.domHandler),
                    this.evTarget &&
                        f(this.target, this.evTarget, this.domHandler),
                    this.evWin &&
                        f(x(this.element), this.evWin, this.domHandler);
            },
            destroy: function() {
                this.evEl && p(this.element, this.evEl, this.domHandler),
                    this.evTarget &&
                        p(this.target, this.evTarget, this.domHandler),
                    this.evWin &&
                        p(x(this.element), this.evWin, this.domHandler);
            }
        };
        var Ue = { mousedown: Se, mousemove: Ce, mouseup: ke },
            ze = "mousedown",
            Be = "mousemove mouseup";
        l(L, E, {
            handler: function(e) {
                var t = Ue[e.type];
                t & Se && 0 === e.button && (this.pressed = !0),
                    t & Ce && 1 !== e.which && (t = ke),
                    this.pressed &&
                        (t & ke && (this.pressed = !1),
                        this.callback(this.manager, t, {
                            pointers: [e],
                            changedPointers: [e],
                            pointerType: "mouse",
                            srcEvent: e
                        }));
            }
        });
        var Ve = {
                pointerdown: Se,
                pointermove: Ce,
                pointerup: ke,
                pointercancel: Ie,
                pointerout: Ie
            },
            $e = { 2: "touch", 3: "pen", 4: "mouse", 5: "kinect" },
            He = "pointerdown",
            qe = "pointermove pointerup pointercancel";
        e.MSPointerEvent &&
            !e.PointerEvent &&
            ((He = "MSPointerDown"),
            (qe = "MSPointerMove MSPointerUp MSPointerCancel")),
            l(F, E, {
                handler: function(e) {
                    var t = this.store,
                        n = !1,
                        r = e.type.toLowerCase().replace("ms", ""),
                        i = Ve[r],
                        o = $e[e.pointerType] || e.pointerType,
                        a = "touch" == o,
                        s = v(t, e.pointerId, "pointerId");
                    i & Se && (0 === e.button || a)
                        ? s < 0 && (t.push(e), (s = t.length - 1))
                        : i & (ke | Ie) && (n = !0),
                        s < 0 ||
                            ((t[s] = e),
                            this.callback(this.manager, i, {
                                pointers: t,
                                changedPointers: [e],
                                pointerType: o,
                                srcEvent: e
                            }),
                            n && t.splice(s, 1));
                }
            });
        var We = {
                touchstart: Se,
                touchmove: Ce,
                touchend: ke,
                touchcancel: Ie
            },
            Ge = "touchstart",
            Xe = "touchstart touchmove touchend touchcancel";
        l(U, E, {
            handler: function(e) {
                var t = We[e.type];
                if ((t === Se && (this.started = !0), this.started)) {
                    var n = z.call(this, e, t);
                    t & (ke | Ie) &&
                        n[0].length - n[1].length == 0 &&
                        (this.started = !1),
                        this.callback(this.manager, t, {
                            pointers: n[0],
                            changedPointers: n[1],
                            pointerType: "touch",
                            srcEvent: e
                        });
                }
            }
        });
        var Ke = {
                touchstart: Se,
                touchmove: Ce,
                touchend: ke,
                touchcancel: Ie
            },
            Je = "touchstart touchmove touchend touchcancel";
        l(B, E, {
            handler: function(e) {
                var t = Ke[e.type],
                    n = V.call(this, e, t);
                n &&
                    this.callback(this.manager, t, {
                        pointers: n[0],
                        changedPointers: n[1],
                        pointerType: "touch",
                        srcEvent: e
                    });
            }
        });
        var Qe = 2500,
            Ye = 25;
        l($, E, {
            handler: function(e, t, n) {
                var r = "touch" == n.pointerType,
                    i = "mouse" == n.pointerType;
                if (
                    !(
                        i &&
                        n.sourceCapabilities &&
                        n.sourceCapabilities.firesTouchEvents
                    )
                ) {
                    if (r) H.call(this, t, n);
                    else if (i && W.call(this, n)) return;
                    this.callback(e, t, n);
                }
            },
            destroy: function() {
                this.touch.destroy(), this.mouse.destroy();
            }
        });
        var Ze = _(fe.style, "touchAction"),
            et = Ze !== r,
            tt = "auto",
            nt = "manipulation",
            rt = "none",
            it = "pan-x",
            ot = "pan-y",
            at = (function() {
                if (!et) return !1;
                var t = {},
                    n = e.CSS && e.CSS.supports;
                return (
                    [
                        "auto",
                        "manipulation",
                        "pan-y",
                        "pan-x",
                        "pan-x pan-y",
                        "none"
                    ].forEach(function(r) {
                        t[r] = !n || e.CSS.supports("touch-action", r);
                    }),
                    t
                );
            })();
        G.prototype = {
            set: function(e) {
                "compute" == e && (e = this.compute()),
                    et &&
                        this.manager.element.style &&
                        at[e] &&
                        (this.manager.element.style[Ze] = e),
                    (this.actions = e.toLowerCase().trim());
            },
            update: function() {
                this.set(this.manager.options.touchAction);
            },
            compute: function() {
                var e = [];
                return (
                    a(this.manager.recognizers, function(t) {
                        c(t.options.enable, [t]) &&
                            (e = e.concat(t.getTouchAction()));
                    }),
                    X(e.join(" "))
                );
            },
            preventDefaults: function(e) {
                var t = e.srcEvent,
                    n = e.offsetDirection;
                if (this.manager.session.prevented)
                    return void t.preventDefault();
                var r = this.actions,
                    i = m(r, rt) && !at[rt],
                    o = m(r, ot) && !at[ot],
                    a = m(r, it) && !at[it];
                if (i) {
                    var s = 1 === e.pointers.length,
                        l = e.distance < 2,
                        u = e.deltaTime < 250;
                    if (s && l && u) return;
                }
                return a && o
                    ? void 0
                    : i || (o && n & De) || (a && n & je)
                        ? this.preventSrc(t)
                        : void 0;
            },
            preventSrc: function(e) {
                (this.manager.session.prevented = !0), e.preventDefault();
            }
        };
        var st = 1,
            lt = 2,
            ut = 4,
            ct = 8,
            dt = ct,
            ft = 16;
        (K.prototype = {
            defaults: {},
            set: function(e) {
                return (
                    ce(this.options, e),
                    this.manager && this.manager.touchAction.update(),
                    this
                );
            },
            recognizeWith: function(e) {
                if (o(e, "recognizeWith", this)) return this;
                var t = this.simultaneous;
                return (
                    (e = Y(e, this)),
                    t[e.id] || ((t[e.id] = e), e.recognizeWith(this)),
                    this
                );
            },
            dropRecognizeWith: function(e) {
                return o(e, "dropRecognizeWith", this)
                    ? this
                    : ((e = Y(e, this)), delete this.simultaneous[e.id], this);
            },
            requireFailure: function(e) {
                if (o(e, "requireFailure", this)) return this;
                var t = this.requireFail;
                return (
                    (e = Y(e, this)),
                    -1 === v(t, e) && (t.push(e), e.requireFailure(this)),
                    this
                );
            },
            dropRequireFailure: function(e) {
                if (o(e, "dropRequireFailure", this)) return this;
                e = Y(e, this);
                var t = v(this.requireFail, e);
                return t > -1 && this.requireFail.splice(t, 1), this;
            },
            hasRequireFailures: function() {
                return this.requireFail.length > 0;
            },
            canRecognizeWith: function(e) {
                return !!this.simultaneous[e.id];
            },
            emit: function(e) {
                function t(t) {
                    n.manager.emit(t, e);
                }
                var n = this,
                    r = this.state;
                r < ct && t(n.options.event + J(r)),
                    t(n.options.event),
                    e.additionalEvent && t(e.additionalEvent),
                    r >= ct && t(n.options.event + J(r));
            },
            tryEmit: function(e) {
                if (this.canEmit()) return this.emit(e);
                this.state = 32;
            },
            canEmit: function() {
                for (var e = 0; e < this.requireFail.length; ) {
                    if (!(this.requireFail[e].state & (32 | st))) return !1;
                    e++;
                }
                return !0;
            },
            recognize: function(e) {
                var t = ce({}, e);
                if (!c(this.options.enable, [this, t]))
                    return this.reset(), void (this.state = 32);
                this.state & (dt | ft | 32) && (this.state = st),
                    (this.state = this.process(t)),
                    this.state & (lt | ut | ct | ft) && this.tryEmit(t);
            },
            process: function(e) {},
            getTouchAction: function() {},
            reset: function() {}
        }),
            l(Z, K, {
                defaults: { pointers: 1 },
                attrTest: function(e) {
                    var t = this.options.pointers;
                    return 0 === t || e.pointers.length === t;
                },
                process: function(e) {
                    var t = this.state,
                        n = e.eventType,
                        r = t & (lt | ut),
                        i = this.attrTest(e);
                    return r && (n & Ie || !i)
                        ? t | ft
                        : r || i
                            ? n & ke
                                ? t | ct
                                : t & lt
                                    ? t | ut
                                    : lt
                            : 32;
                }
            }),
            l(ee, Z, {
                defaults: {
                    event: "pan",
                    threshold: 10,
                    pointers: 1,
                    direction: Me
                },
                getTouchAction: function() {
                    var e = this.options.direction,
                        t = [];
                    return e & De && t.push(ot), e & je && t.push(it), t;
                },
                directionTest: function(e) {
                    var t = this.options,
                        n = !0,
                        r = e.distance,
                        i = e.direction,
                        o = e.deltaX,
                        a = e.deltaY;
                    return (
                        i & t.direction ||
                            (t.direction & De
                                ? ((i = 0 === o ? Pe : o < 0 ? Oe : Ae),
                                  (n = o != this.pX),
                                  (r = Math.abs(e.deltaX)))
                                : ((i = 0 === a ? Pe : a < 0 ? Ne : Re),
                                  (n = a != this.pY),
                                  (r = Math.abs(e.deltaY)))),
                        (e.direction = i),
                        n && r > t.threshold && i & t.direction
                    );
                },
                attrTest: function(e) {
                    return (
                        Z.prototype.attrTest.call(this, e) &&
                        (this.state & lt ||
                            (!(this.state & lt) && this.directionTest(e)))
                    );
                },
                emit: function(e) {
                    (this.pX = e.deltaX), (this.pY = e.deltaY);
                    var t = Q(e.direction);
                    t && (e.additionalEvent = this.options.event + t),
                        this._super.emit.call(this, e);
                }
            }),
            l(te, Z, {
                defaults: { event: "pinch", threshold: 0, pointers: 2 },
                getTouchAction: function() {
                    return [rt];
                },
                attrTest: function(e) {
                    return (
                        this._super.attrTest.call(this, e) &&
                        (Math.abs(e.scale - 1) > this.options.threshold ||
                            this.state & lt)
                    );
                },
                emit: function(e) {
                    if (1 !== e.scale) {
                        var t = e.scale < 1 ? "in" : "out";
                        e.additionalEvent = this.options.event + t;
                    }
                    this._super.emit.call(this, e);
                }
            }),
            l(ne, K, {
                defaults: {
                    event: "press",
                    pointers: 1,
                    time: 251,
                    threshold: 9
                },
                getTouchAction: function() {
                    return [tt];
                },
                process: function(e) {
                    var t = this.options,
                        n = e.pointers.length === t.pointers,
                        r = e.distance < t.threshold,
                        o = e.deltaTime > t.time;
                    if (
                        ((this._input = e),
                        !r || !n || (e.eventType & (ke | Ie) && !o))
                    )
                        this.reset();
                    else if (e.eventType & Se)
                        this.reset(),
                            (this._timer = i(
                                function() {
                                    (this.state = dt), this.tryEmit();
                                },
                                t.time,
                                this
                            ));
                    else if (e.eventType & ke) return dt;
                    return 32;
                },
                reset: function() {
                    clearTimeout(this._timer);
                },
                emit: function(e) {
                    this.state === dt &&
                        (e && e.eventType & ke
                            ? this.manager.emit(this.options.event + "up", e)
                            : ((this._input.timeStamp = ge()),
                              this.manager.emit(
                                  this.options.event,
                                  this._input
                              )));
                }
            }),
            l(re, Z, {
                defaults: { event: "rotate", threshold: 0, pointers: 2 },
                getTouchAction: function() {
                    return [rt];
                },
                attrTest: function(e) {
                    return (
                        this._super.attrTest.call(this, e) &&
                        (Math.abs(e.rotation) > this.options.threshold ||
                            this.state & lt)
                    );
                }
            }),
            l(ie, Z, {
                defaults: {
                    event: "swipe",
                    threshold: 10,
                    velocity: 0.3,
                    direction: De | je,
                    pointers: 1
                },
                getTouchAction: function() {
                    return ee.prototype.getTouchAction.call(this);
                },
                attrTest: function(e) {
                    var t,
                        n = this.options.direction;
                    return (
                        n & (De | je)
                            ? (t = e.overallVelocity)
                            : n & De
                                ? (t = e.overallVelocityX)
                                : n & je && (t = e.overallVelocityY),
                        this._super.attrTest.call(this, e) &&
                            n & e.offsetDirection &&
                            e.distance > this.options.threshold &&
                            e.maxPointers == this.options.pointers &&
                            me(t) > this.options.velocity &&
                            e.eventType & ke
                    );
                },
                emit: function(e) {
                    var t = Q(e.offsetDirection);
                    t && this.manager.emit(this.options.event + t, e),
                        this.manager.emit(this.options.event, e);
                }
            }),
            l(oe, K, {
                defaults: {
                    event: "tap",
                    pointers: 1,
                    taps: 1,
                    interval: 300,
                    time: 250,
                    threshold: 9,
                    posThreshold: 10
                },
                getTouchAction: function() {
                    return [nt];
                },
                process: function(e) {
                    var t = this.options,
                        n = e.pointers.length === t.pointers,
                        r = e.distance < t.threshold,
                        o = e.deltaTime < t.time;
                    if ((this.reset(), e.eventType & Se && 0 === this.count))
                        return this.failTimeout();
                    if (r && o && n) {
                        if (e.eventType != ke) return this.failTimeout();
                        var a =
                                !this.pTime ||
                                e.timeStamp - this.pTime < t.interval,
                            s =
                                !this.pCenter ||
                                R(this.pCenter, e.center) < t.posThreshold;
                        (this.pTime = e.timeStamp),
                            (this.pCenter = e.center),
                            s && a ? (this.count += 1) : (this.count = 1),
                            (this._input = e);
                        if (0 === this.count % t.taps)
                            return this.hasRequireFailures()
                                ? ((this._timer = i(
                                      function() {
                                          (this.state = dt), this.tryEmit();
                                      },
                                      t.interval,
                                      this
                                  )),
                                  lt)
                                : dt;
                    }
                    return 32;
                },
                failTimeout: function() {
                    return (
                        (this._timer = i(
                            function() {
                                this.state = 32;
                            },
                            this.options.interval,
                            this
                        )),
                        32
                    );
                },
                reset: function() {
                    clearTimeout(this._timer);
                },
                emit: function() {
                    this.state == dt &&
                        ((this._input.tapCount = this.count),
                        this.manager.emit(this.options.event, this._input));
                }
            }),
            (ae.VERSION = "2.0.7"),
            (ae.defaults = {
                domEvents: !1,
                touchAction: "compute",
                enable: !0,
                inputTarget: null,
                inputClass: null,
                preset: [
                    [re, { enable: !1 }],
                    [te, { enable: !1 }, ["rotate"]],
                    [ie, { direction: De }],
                    [ee, { direction: De }, ["swipe"]],
                    [oe],
                    [oe, { event: "doubletap", taps: 2 }, ["tap"]],
                    [ne]
                ],
                cssProps: {
                    userSelect: "none",
                    touchSelect: "none",
                    touchCallout: "none",
                    contentZooming: "none",
                    userDrag: "none",
                    tapHighlightColor: "rgba(0,0,0,0)"
                }
            });
        (se.prototype = {
            set: function(e) {
                return (
                    ce(this.options, e),
                    e.touchAction && this.touchAction.update(),
                    e.inputTarget &&
                        (this.input.destroy(),
                        (this.input.target = e.inputTarget),
                        this.input.init()),
                    this
                );
            },
            stop: function(e) {
                this.session.stopped = e ? 2 : 1;
            },
            recognize: function(e) {
                var t = this.session;
                if (!t.stopped) {
                    this.touchAction.preventDefaults(e);
                    var n,
                        r = this.recognizers,
                        i = t.curRecognizer;
                    (!i || (i && i.state & dt)) && (i = t.curRecognizer = null);
                    for (var o = 0; o < r.length; )
                        (n = r[o]),
                            2 === t.stopped ||
                            (i && n != i && !n.canRecognizeWith(i))
                                ? n.reset()
                                : n.recognize(e),
                            !i &&
                                n.state & (lt | ut | ct) &&
                                (i = t.curRecognizer = n),
                            o++;
                }
            },
            get: function(e) {
                if (e instanceof K) return e;
                for (var t = this.recognizers, n = 0; n < t.length; n++)
                    if (t[n].options.event == e) return t[n];
                return null;
            },
            add: function(e) {
                if (o(e, "add", this)) return this;
                var t = this.get(e.options.event);
                return (
                    t && this.remove(t),
                    this.recognizers.push(e),
                    (e.manager = this),
                    this.touchAction.update(),
                    e
                );
            },
            remove: function(e) {
                if (o(e, "remove", this)) return this;
                if ((e = this.get(e))) {
                    var t = this.recognizers,
                        n = v(t, e);
                    -1 !== n && (t.splice(n, 1), this.touchAction.update());
                }
                return this;
            },
            on: function(e, t) {
                if (e !== r && t !== r) {
                    var n = this.handlers;
                    return (
                        a(g(e), function(e) {
                            (n[e] = n[e] || []), n[e].push(t);
                        }),
                        this
                    );
                }
            },
            off: function(e, t) {
                if (e !== r) {
                    var n = this.handlers;
                    return (
                        a(g(e), function(e) {
                            t
                                ? n[e] && n[e].splice(v(n[e], t), 1)
                                : delete n[e];
                        }),
                        this
                    );
                }
            },
            emit: function(e, t) {
                this.options.domEvents && ue(e, t);
                var n = this.handlers[e] && this.handlers[e].slice();
                if (n && n.length) {
                    (t.type = e),
                        (t.preventDefault = function() {
                            t.srcEvent.preventDefault();
                        });
                    for (var r = 0; r < n.length; ) n[r](t), r++;
                }
            },
            destroy: function() {
                this.element && le(this, !1),
                    (this.handlers = {}),
                    (this.session = {}),
                    this.input.destroy(),
                    (this.element = null);
            }
        }),
            ce(ae, {
                INPUT_START: Se,
                INPUT_MOVE: Ce,
                INPUT_END: ke,
                INPUT_CANCEL: Ie,
                STATE_POSSIBLE: st,
                STATE_BEGAN: lt,
                STATE_CHANGED: ut,
                STATE_ENDED: ct,
                STATE_RECOGNIZED: dt,
                STATE_CANCELLED: ft,
                STATE_FAILED: 32,
                DIRECTION_NONE: Pe,
                DIRECTION_LEFT: Oe,
                DIRECTION_RIGHT: Ae,
                DIRECTION_UP: Ne,
                DIRECTION_DOWN: Re,
                DIRECTION_HORIZONTAL: De,
                DIRECTION_VERTICAL: je,
                DIRECTION_ALL: Me,
                Manager: se,
                Input: E,
                TouchAction: G,
                TouchInput: B,
                MouseInput: L,
                PointerEventInput: F,
                TouchMouseInput: $,
                SingleTouchInput: U,
                Recognizer: K,
                AttrRecognizer: Z,
                Tap: oe,
                Pan: ee,
                Swipe: ie,
                Pinch: te,
                Rotate: re,
                Press: ne,
                on: f,
                off: p,
                each: a,
                merge: be,
                extend: ve,
                assign: ce,
                inherit: l,
                bindFn: u,
                prefixed: _
            }),
            ((void 0 !== e
                ? e
                : "undefined" != typeof self
                    ? self
                    : {}
            ).Hammer = ae),
            "function" == typeof define && define.amd
                ? define("hammerjs", [], function() {
                      return ae;
                  })
                : "undefined" != typeof module && module.exports
                    ? (module.exports = ae)
                    : (e.Hammer = ae);
    })(window, document),
    (function(e) {
        "function" == typeof define && define.amd
            ? define("jquery_hammer", ["jquery", "hammerjs"], e)
            : "object" == typeof exports
                ? e(require("jquery"), require("hammerjs"))
                : e(jQuery, Hammer);
    })(function(e, t) {
        function n(n, r) {
            var i = e(n);
            i.data("hammer") || i.data("hammer", new t(i[0], r));
        }
        (e.fn.hammer = function(e) {
            return this.each(function() {
                n(this, e);
            });
        }),
            (t.Manager.prototype.emit = (function(t) {
                return function(n, r) {
                    t.call(this, n, r),
                        e(this.element).trigger({ type: n, gesture: r });
                };
            })(t.Manager.prototype.emit));
    }),
    define("readium_js_viewer/gestures", [
        "readium_shared_js/globals",
        "jquery",
        "jquery_hammer",
        "hammerjs"
    ], function(e, t, n, r) {
        return function(e, t) {
            return void (this.initialize = function() {});
        };
    }),
    define("readium_js_viewer/versioning/ReadiumVersioning", [
        "readium_js/Readium"
    ], function(e) {
        return {
            getVersioningInfo: function(t) {
                e.getVersion(function(e) {
                    var n = {};
                    n = e;
                    var r = new Date(e.readiumJsViewer.timestamp);
                    (n.dateTimeString = r.toUTCString
                        ? r.toUTCString()
                        : r.toString()),
                        t(n);
                });
            }
        };
    }),
    define("readium_js_viewer/EpubReader", [
        "readium_shared_js/globalsSetup",
        "readium_shared_js/globals",
        "./ModuleConfig",
        "jquery",
        "bootstrap",
        "bootstrapA11y",
        "URIjs",
        "./Spinner",
        "Settings",
        "i18nStrings",
        "./Dialogs",
        "./ReaderSettingsDialog",
        "hgn!readium_js_viewer_html_templates/about-dialog.html",
        "hgn!readium_js_viewer_html_templates/reader-navbar.html",
        "hgn!readium_js_viewer_html_templates/reader-body.html",
        "hgn!readium_js_viewer_html_templates/reader-body-page-btns.html",
        "Analytics",
        "screenfull",
        "./Keyboard",
        "./EpubReaderMediaOverlays",
        "./EpubReaderBackgroundAudioTrack",
        "./gestures",
        "./versioning/ReadiumVersioning",
        "readium_js/Readium",
        "readium_shared_js/helpers",
        "readium_shared_js/models/bookmark_data"
    ], function(
        e,
        t,
        n,
        r,
        i,
        o,
        a,
        s,
        l,
        u,
        c,
        d,
        f,
        p,
        h,
        m,
        g,
        v,
        b,
        y,
        _,
        w,
        x,
        E,
        T,
        S
    ) {
        function C(e) {
            var t = r(".book-title-header");
            t.length
                ? t.text(e)
                : r('<h2 class="book-title-header"></h2>')
                      .insertAfter(".navbar")
                      .text(e);
        }
        var k = void 0,
            I = void 0,
            P = void 0,
            O = void 0,
            A = void 0,
            N = void 0,
            R = (document.documentElement,
            function() {
                return "nav *[title], #readium-page-btns *[title]";
            }),
            D = function(e) {
                if (!e) return e;
                if (0 != e.indexOf("http")) return e;
                var t = 0 == e.indexOf("https"),
                    n = new RegExp("/(http[s]?):%2F%2F", "gi"),
                    r = window.location
                        ? window.location.protocol +
                          "//" +
                          window.location.hostname +
                          (window.location.port
                              ? ":" + window.location.port
                              : "") +
                          window.location.pathname
                        : void 0;
                return (
                    r &&
                        (console.log("EPUB URL absolute: " + e),
                        console.log("App URL: " + r),
                        (e = e.replace("/http://", "/http%3A%2F%2F")),
                        (e = e.replace("/https://", "/https%3A%2F%2F")),
                        (e = new a(e).relativeTo(r).toString()),
                        0 == e.indexOf("//") &&
                            (e = (t ? "https:" : "http:") + e),
                        (e = e.replace(n, "/$1://")),
                        console.log("EPUB URL relative to app: " + e)),
                    e
                );
            },
            j = void 0,
            M = function(e) {
                k && k.reader.debugBookmarkData(e);
            },
            L = function(e, t) {
                k.openPackageDocument(
                    P,
                    function(e, t) {
                        if (!e)
                            return (
                                console.error("ERROR OPENING EBOOK: " + O),
                                F(!1),
                                C(O),
                                void c.showErrorWithDetails(
                                    u.err_epub_corrupt,
                                    O
                                )
                            );
                        (A = e),
                            A.generateTocListDOM(function(e) {
                                $(e);
                            }),
                            (wasFixed = k.reader.isCurrentViewFixedLayout()),
                            C(t.metadata.title),
                            r("#left-page-btn").unbind("click"),
                            r("#right-page-btn").unbind("click");
                        var n = r("#readium-page-btns");
                        n.empty();
                        var i = "rtl" === A.getPageProgressionDirection();
                        n.append(
                            m({
                                strings: u,
                                dialogs: c,
                                keyboard: b,
                                pageProgressionDirectionIsRTL: i
                            })
                        ),
                            r("#left-page-btn").on("click", ee),
                            r("#right-page-btn").on("click", Z),
                            r("#left-page-btn").mouseleave(function() {
                                r(
                                    "nav *[title], #readium-page-btns *[title]"
                                ).tooltip("destroy");
                            }),
                            r("#right-page-btn").mouseleave(function() {
                                r(
                                    "nav *[title], #readium-page-btns *[title]"
                                ).tooltip("destroy");
                            });
                    },
                    t
                );
            },
            F = function(e) {
                if (e) {
                    if (s.willSpin || s.isSpinning) return;
                    (s.willSpin = !0),
                        setTimeout(function() {
                            if (s.stopRequested)
                                return (
                                    (s.willSpin = !1),
                                    void (s.stopRequested = !1)
                                );
                            (s.isSpinning = !0),
                                s.spin(r("#reading-area")[0]),
                                (s.willSpin = !1);
                        }, 100);
                } else
                    s.isSpinning
                        ? (s.stop(), (s.isSpinning = !1))
                        : s.willSpin && (s.stopRequested = !0);
            },
            U = function() {
                G();
                var e,
                    t = r("#app-container"),
                    n = t.hasClass("toc-visible");
                if (
                    (k.reader.handleViewportResize &&
                        !I &&
                        (e = JSON.parse(k.reader.bookmarkCurrentPage())),
                    n)
                ) {
                    t.removeClass("toc-visible");
                    var i = r('#readium-toc-body a[tabindex="60"]');
                    i.length > 0 && i[0].setAttribute("tabindex", "-1"),
                        setTimeout(function() {
                            r("#tocButt")[0].focus();
                        }, 100);
                } else
                    t.addClass("toc-visible"),
                        setTimeout(function() {
                            r("#readium-toc-body button.close")[0].focus();
                        }, 100);
                I
                    ? K(null, !0)
                    : k.reader.handleViewportResize &&
                      k.reader.handleViewportResize(e);
            },
            z = function() {
                r(".zoom-wrapper").show();
            },
            B = function() {
                var e = k.reader.getViewScale();
                r(".zoom-wrapper input").val(Math.round(e) + "%");
            },
            V = function() {
                r(".zoom-wrapper").hide();
            },
            $ = function(e) {
                if (e) {
                    r("script", e).remove();
                    var n,
                        i = r("nav", e);
                    Array.prototype.every.call(i, function(e) {
                        return (
                            "toc" !=
                                e.getAttributeNS(
                                    "http://www.idpf.org/2007/ops",
                                    "type"
                                ) || ((n = e), !1)
                        );
                    });
                    for (var o = !1, a = n; a && a.getAttributeNS; ) {
                        var s =
                            a.getAttributeNS(
                                "http://www.w3.org/1999/xhtml",
                                "dir"
                            ) || a.getAttribute("dir");
                        if (s && "rtl" === s) {
                            o = !0;
                            break;
                        }
                        a = a.parentNode;
                    }
                    var l =
                            (n && r(n).html()) ||
                            r("body", e).html() ||
                            r(e).html(),
                        c = A.getToc();
                    if (l && l.length) {
                        var d = r(l);
                        r("iframe", d).remove(),
                            r("#readium-toc-body").append(d),
                            o &&
                                (d[0].setAttributeNS(
                                    "http://www.w3.org/1999/xhtml",
                                    "dir",
                                    "rtl"
                                ),
                                (d[0].style.direction = "rtl"));
                        r("#readium-toc-body li >a").each(function() {
                            r(this).attr("tabindex", "-1"),
                                r(this).on("focus", function(e) {
                                    var t = r(
                                        '#readium-toc-body a[tabindex="60"]'
                                    );
                                    t.length > 0 &&
                                        t[0] !== e.target &&
                                        t.attr("tabindex", "-1"),
                                        e.target.setAttribute("tabindex", "60");
                                });
                        });
                    }
                } else {
                    var c = A.getToc();
                    r("#readium-toc-body").append("?? " + c);
                }
                var f = !1,
                    p = void 0;
                k.reader.on(ReadiumSDK.Events.FXL_VIEW_RESIZED, function() {
                    t.logEvent("FXL_VIEW_RESIZED", "ON", "EpubReader.js"), B();
                }),
                    k.reader.on(
                        ReadiumSDK.Events.CONTENT_DOCUMENT_LOAD_START,
                        function(e, n) {
                            t.logEvent(
                                "CONTENT_DOCUMENT_LOAD_START",
                                "ON",
                                "EpubReader.js [ " + n.href + " ]"
                            ),
                                Y();
                        }
                    ),
                    k.reader.on(
                        ReadiumSDK.Events.CONTENT_DOCUMENT_LOADED,
                        function(e, n) {
                            t.logEvent(
                                "CONTENT_DOCUMENT_LOADED",
                                "ON",
                                "EpubReader.js [ " + n.href + " ]"
                            ),
                                k.reader.isCurrentViewFixedLayout() ? z() : V(),
                                e.attr("title", "EPUB"),
                                e.attr("aria-label", "EPUB"),
                                (p = e[0]);
                        }
                    ),
                    k.reader.on(ReadiumSDK.Events.PAGINATION_CHANGED, function(
                        e
                    ) {
                        if (
                            (t.logEvent(
                                "PAGINATION_CHANGED",
                                "ON",
                                "EpubReader.js"
                            ),
                            j && (M(j), (j = void 0)),
                            Y(),
                            J(e),
                            F(!1),
                            f)
                        ) {
                            f = !1;
                            try {
                                var n = void 0,
                                    i = void 0,
                                    o = e.elementId;
                                if (o) {
                                    n = r("#epub-reader-frame iframe")[0];
                                    var a = (
                                        n.contentWindow || n.contentDocument
                                    ).document;
                                    (i = a.getElementById(o)),
                                        i ||
                                            ((n = r(
                                                "#epub-reader-frame iframe"
                                            )[1]) &&
                                                ((a = (
                                                    n.contentWindow ||
                                                    n.contentDocument
                                                ).document),
                                                (i = a.getElementById(o)) ||
                                                    (n = void 0)));
                                } else {
                                    var s = JSON.parse(
                                        k.reader.bookmarkCurrentPage()
                                    );
                                    if (
                                        e.spineItem &&
                                        ((i = k.reader.getElementByCfi(
                                            e.spineItem.idref,
                                            s.contentCFI,
                                            ["cfi-marker", "mo-cfi-highlight"],
                                            [],
                                            ["MathJax_Message"]
                                        )),
                                        (i = i[0]))
                                    ) {
                                        n = r("#epub-reader-frame iframe")[0];
                                        var a = (
                                            n.contentWindow || n.contentDocument
                                        ).document;
                                        i.ownerDocument !== a &&
                                            (n = r(
                                                "#epub-reader-frame iframe"
                                            )[1]) &&
                                            ((a = (
                                                n.contentWindow ||
                                                n.contentDocument
                                            ).document),
                                            i.ownerDocument !== a &&
                                                (n = void 0));
                                    }
                                }
                                n || (n = p);
                            } catch (e) {}
                        }
                    }),
                    r("#readium-toc-body").on("click", "a", function(e) {
                        try {
                            F(!0);
                            var t = r(this).attr("href");
                            (f = !0),
                                k.reader.openContentUrl(t, c, void 0),
                                I &&
                                    (r(".toc-visible").removeClass(
                                        "toc-visible"
                                    ),
                                    G());
                        } catch (e) {
                            console.error(e);
                        } finally {
                            return !1;
                        }
                    }),
                    r("#readium-toc-body").prepend(
                        '<button tabindex="50" type="button" class="close" data-dismiss="modal" aria-label="' +
                            u.i18n_close +
                            " " +
                            u.toc +
                            '" title="' +
                            u.i18n_close +
                            " " +
                            u.toc +
                            '"><span aria-hidden="true">&times;</span></button>'
                    ),
                    r("#readium-toc-body button.close").on("click", function() {
                        return U(), !1;
                    });
                r("#readium-toc-body").keydown(function(e) {
                    var t = null,
                        n = e.target;
                    switch (e.which) {
                        case 36:
                            t = r("#readium-toc-body li >a")[0];
                            break;
                        case 35:
                            t = r("#readium-toc-body a").last()[0];
                            break;
                        case 40:
                            if ("BUTTON" == n.tagName) {
                                var i = r('#readium-toc-body a[tabindex="60"]');
                                t =
                                    i.length > 0
                                        ? i[0]
                                        : r("#readium-toc-body li >a")[0];
                            } else {
                                var o = r("#readium-toc-body a"),
                                    a = r('a[tabindex="60"]').index(
                                        "#readium-toc-body a"
                                    );
                                a > -1 &&
                                    a < o.length - 1 &&
                                    (t = o.get(a + 1));
                            }
                            break;
                        case 38:
                            var o = r("#readium-toc-body a"),
                                a = r('a[tabindex="60"]').index(
                                    "#readium-toc-body a"
                                );
                            a > -1 && a > 0 && (t = o.get(a - 1));
                            break;
                        default:
                            return;
                    }
                    t && (e.preventDefault(), setTimeout(t.focus(), 5));
                });
            },
            H = function() {
                v.enabled && v.toggle();
            },
            q =
                "undefined" != typeof chrome &&
                chrome.app &&
                chrome.app.window &&
                chrome.app.window.current;
        v.enabled &&
            (q &&
                (v.onchange = function(e) {
                    chrome.app.window.current().isFullscreen() &&
                        chrome.app.window.current().restore();
                }),
            v.onchange(function(e) {
                var t;
                v.isFullscreen
                    ? ((t =
                          u.exit_fullscreen + " [" + b.FullScreenToggle + "]"),
                      r("#buttFullScreenToggle span").removeClass(
                          "glyphicon-resize-full"
                      ),
                      r("#buttFullScreenToggle span").addClass(
                          "glyphicon-resize-small"
                      ),
                      r("#buttFullScreenToggle").attr("aria-label", t),
                      r("#buttFullScreenToggle").attr("title", t))
                    : ((t =
                          u.enter_fullscreen + " [" + b.FullScreenToggle + "]"),
                      r("#buttFullScreenToggle span").removeClass(
                          "glyphicon-resize-small"
                      ),
                      r("#buttFullScreenToggle span").addClass(
                          "glyphicon-resize-full"
                      ),
                      r("#buttFullScreenToggle").attr("aria-label", t),
                      r("#buttFullScreenToggle").attr("title", t));
            }));
        var W,
            G = function() {
                K();
            },
            X = function() {
                if (
                    ((W = null),
                    !I && r("#app-container").hasClass("toc-visible"))
                )
                    return void K();
                var e = document.getElementById("app-navbar");
                if (document.activeElement) {
                    if (jQuery.contains(e, document.activeElement))
                        return void K();
                }
                return r(e).find(":hover").length > 0
                    ? void K()
                    : r("#audioplayer").hasClass("expanded-audio")
                        ? void K()
                        : (r(
                              "nav *[title], #readium-page-btns *[title]"
                          ).tooltip("destroy"),
                          void r(document.body).addClass("hide-ui"));
            },
            K = function(e, t) {
                W && (window.clearTimeout(W), (W = null)),
                    !r("#app-container").hasClass("toc-visible") &&
                        r(document.body).hasClass("hide-ui") &&
                        r(document.body).removeClass("hide-ui"),
                    t ? X() : (W = window.setTimeout(X, 8e3));
            },
            J = function(e) {
                e.paginationInfo.canGoLeft()
                    ? r("#left-page-btn").show()
                    : r("#left-page-btn").hide(),
                    e.paginationInfo.canGoRight()
                        ? r("#right-page-btn").show()
                        : r("#right-page-btn").hide();
            },
            Q = function(e) {
                if (e.idref) {
                    var t = e.contentCFI;
                    t || (t = "/0");
                    var n = k.reader.spine().getItemById(e.idref).cfi,
                        r = "epubcfi(" + n + t + ")";
                    return encodeURI(r);
                }
            },
            Y = function() {
                var e = k.reader.bookmarkCurrentPage();
                if (
                    (l.put(O, e, r.noop),
                    !q && window.history && window.history.replaceState)
                ) {
                    var t = T.getURLQueryParams(),
                        n = t.epub;
                    if (!n) return;
                    n = D(n);
                    var i = JSON.parse(e) || {},
                        o = t.epubs,
                        a = Q(i),
                        s = T.buildUrlQueryParameters(void 0, {
                            epub: n,
                            epubs: o || " ",
                            embedded: " ",
                            goto: { value: a || " ", verbatim: !0 }
                        });
                    history.replaceState(
                        { epub: n, epubs: o || void 0 },
                        "Readium Viewer",
                        s
                    );
                }
            },
            Z = function() {
                return k.reader.openPageRight(), !1;
            },
            ee = function() {
                return k.reader.openPageLeft(), !1;
            },
            te = function() {
                q
                    ? r(".icon-shareUrl").css("display", "none")
                    : r(".icon-shareUrl").on("click", function() {
                          var e = T.getURLQueryParams(),
                              t = e.epub;
                          if (t) {
                              var n =
                                  JSON.parse(k.reader.bookmarkCurrentPage()) ||
                                  {};
                              if (k.reader.plugins.highlights) {
                                  var i = Math.floor(1e6 * Math.random()),
                                      o = k.reader.plugins.highlights.addSelectionHighlight(
                                          i,
                                          "temp-highlight"
                                      );
                                  o &&
                                      (setTimeout(function() {
                                          k.reader.plugins.highlights.removeHighlight(
                                              i
                                          );
                                      }, 500),
                                      console.log("Selection shared bookmark:"),
                                      M(o),
                                      (n.contentCFI = o.contentCFI));
                              }
                              t = D(t);
                              var a = T.buildUrlQueryParameters(void 0, {
                                      epub: t,
                                      epubs: " ",
                                      embedded: " ",
                                      goto: { value: Q(n), verbatim: !0 }
                                  }),
                                  s = function(e) {
                                      var t =
                                              "margin-top: 1em; margin-bottom: 0.5em; height:400px; width:100%; background-repeat: no-repeat; background-size: contain; background-position: center; background-attachment: scroll; background-clip: content-box; background-origin: content-box; box-sizing: border-box; background-image: url(" +
                                              e +
                                              ");",
                                          n = r("#readium_book_cover_image");
                                      return n && n[0] && n.attr("style", t), t;
                                  },
                                  l = void 0;
                              try {
                                  var d = k.getCurrentPublicationFetcher(),
                                      f = A.getMetadata().cover_href;
                                  if (f) {
                                      var p = d.convertPathRelativeToPackageToRelativeToBase(
                                              f
                                          ),
                                          h = "/" + p;
                                      d.shouldConstructDomProgrammatically()
                                          ? d.relativeToPackageFetchFileContents(
                                                h,
                                                "blob",
                                                function(e) {
                                                    if (e)
                                                        try {
                                                            var t = window.URL.createObjectURL(
                                                                e
                                                            );
                                                            s(t);
                                                        } catch (e) {
                                                            console.error(e);
                                                        }
                                                },
                                                function(e) {
                                                    console.error(e);
                                                }
                                            )
                                          : (l = d.getEbookURL_FilePath() + h);
                                  }
                              } catch (e) {
                                  console.error(e);
                              }
                              var m = "";
                              l && (m = ' style="' + s(l) + '" '),
                                  c.showModalMessageEx(
                                      u.share_url,
                                      r(
                                          '<p id="share-url-dialog-input-label">' +
                                              u.share_url_label +
                                              '</p><input id="share-url-dialog-input-id" aria-labelledby="share-url-dialog-input-label" type="text" value="' +
                                              a +
                                              '" readonly="readonly" style="width:100%" /><div id="readium_book_cover_image" ' +
                                              m +
                                              "> </div>"
                                      )
                                  ),
                                  setTimeout(function() {
                                      r("#share-url-dialog-input-id")
                                          .focus()
                                          .select();
                                  }, 500);
                          }
                      }),
                    r(".icon-annotations").on("click", function() {
                        k.reader.plugins.highlights.addSelectionHighlight(
                            Math.floor(1e6 * Math.random()),
                            "test-highlight"
                        );
                    });
                var e = function() {
                        return (
                            document.activeElement &&
                            (document.activeElement ===
                                document.getElementById(
                                    "volume-range-slider"
                                ) ||
                                document.activeElement ===
                                    document.getElementById(
                                        "time-range-slider"
                                    ) ||
                                document.activeElement ===
                                    document.getElementById(
                                        "rate-range-slider"
                                    ) ||
                                jQuery.contains(
                                    document.getElementById("mo-sync-form"),
                                    document.activeElement
                                ) ||
                                jQuery.contains(
                                    document.getElementById("mo-highlighters"),
                                    document.activeElement
                                ))
                        );
                    },
                    t = function() {
                        (!I && r("#app-container").hasClass("toc-visible")) ||
                            (X(),
                            document.activeElement &&
                                document.activeElement.blur());
                    };
                r("#buttHideToolBar").on("click", t),
                    b.on(b.ToolbarHide, "reader", t);
                var n = function() {
                    r("#aboutButt1")[0].focus(),
                        G(),
                        setTimeout(function() {
                            r("#aboutButt1")[0].focus();
                        }, 50);
                };
                r("#buttShowToolBar").on("click", n),
                    b.on(b.ToolbarShow, "reader", n),
                    b.on(b.PagePrevious, "reader", function() {
                        e() || ee();
                    }),
                    b.on(b.PagePreviousAlt, "reader", ee),
                    b.on(b.PageNextAlt, "reader", Z),
                    b.on(b.PageNext, "reader", function() {
                        e() || Z();
                    }),
                    v.enabled
                        ? (b.on(b.FullScreenToggle, "reader", H),
                          r("#buttFullScreenToggle").on("click", H))
                        : r("#buttFullScreenToggle").css("display", "none");
                var i = function() {
                    r("html").attr("data-theme", "library");
                    var e = T.getURLQueryParams(),
                        t = e.epubs;
                    r(window).triggerHandler("loadlibrary", t);
                };
                b.on(b.SwitchToLibrary, "reader", i),
                    r(".icon-library").on("click", function() {
                        return i(), !1;
                    }),
                    r(".zoom-wrapper input").on("click", function() {
                        if (!this.disabled) return this.focus(), !1;
                    }),
                    b.on(b.TocShowHideToggle, "reader", function() {
                        r("#app-container").hasClass("toc-visible")
                            ? setTimeout(function() {
                                  r(
                                      "#readium-toc-body button.close"
                                  )[0].focus();
                              }, 100)
                            : U();
                    }),
                    r(".icon-toc").on("click", U);
                var o = function() {
                    var e =
                        r(document.body).height() -
                        r("#app-container")[0].offsetTop;
                    r("#app-container").height(e),
                        r("#readium-toc-body").height(e);
                };
                b.on(b.ShowSettingsModal, "reader", function() {
                    r("#settings-dialog").modal("show");
                }),
                    r("#app-navbar").on("mousemove", K),
                    r(window).on("resize", o),
                    o(),
                    K();
            },
            ne = function(e) {
                return (
                    k.reader.setZoom({ style: "fit-screen" }),
                    r(".active-zoom").removeClass("active-zoom"),
                    r("#zoom-fit-screen").addClass("active-zoom"),
                    r(".zoom-wrapper input").prop("disabled", !0),
                    r(".zoom-wrapper>a").dropdown("toggle"),
                    !1
                );
            },
            re = function(e) {
                return (
                    k.reader.setZoom({ style: "fit-width" }),
                    r(".active-zoom").removeClass("active-zoom"),
                    r("#zoom-fit-width").addClass("active-zoom"),
                    r(".zoom-wrapper input").prop("disabled", !0),
                    r(".zoom-wrapper>a").dropdown("toggle"),
                    !1
                );
            },
            ie = function(e) {
                return (
                    r(".zoom-wrapper input")
                        .prop("disabled", !1)
                        .focus(),
                    r(".active-zoom").removeClass("active-zoom"),
                    r("#zoom-custom").addClass("active-zoom"),
                    r(".zoom-wrapper>a").dropdown("toggle"),
                    !1
                );
            },
            oe = /^\s*(\d+)%?\s*$/,
            ae = function(e) {
                var t = r(".zoom-wrapper input").val(),
                    n = oe.exec(t);
                if (n) {
                    var i = Number(n[1]) / 100;
                    k.reader.setZoom({ style: "user", scale: i });
                } else B();
            },
            se = function() {
                r(".modal-backdrop").remove();
                var e = r("#app-container");
                e.empty(),
                    e.append(h({ strings: u, dialogs: c, keyboard: b })),
                    r("nav").empty(),
                    r("nav").attr("aria-label", u.i18n_toolbar),
                    r("nav").append(p({ strings: u, dialogs: c, keyboard: b })),
                    te(),
                    (document.title = "Readium"),
                    r("#zoom-fit-width a").on("click", re),
                    r("#zoom-fit-screen a").on("click", ne),
                    r("#zoom-custom a").on("click", ie),
                    r(".zoom-wrapper input").on("change", ae),
                    F(!0);
            },
            le = function(e) {
                b.scope("reader"),
                    (P = e.epub),
                    (O = T.getEbookUrlFilePath(P)),
                    g.trackView("/reader"),
                    (I = e.embedded),
                    se(),
                    k &&
                        k.reader &&
                        (t.logEvent("__ALL__", "OFF", "EpubReader.js"),
                        k.reader.off()),
                    window.ReadiumSDK &&
                        (t.logEvent("PLUGINS_LOADED", "OFF", "EpubReader.js"),
                        ReadiumSDK.off(ReadiumSDK.Events.PLUGINS_LOADED)),
                    setTimeout(function() {
                        ue();
                    }, 0);
            },
            ue = function() {
                console.log("MODULE CONFIG:"),
                    console.log(n),
                    l.getMultiple(["reader", O], function(e) {
                        e.reader
                            ? (e.reader = JSON.parse(e.reader))
                            : (e.reader = {});
                        for (prop in d.defaultSettings)
                            d.defaultSettings.hasOwnProperty(prop) &&
                                ((e.reader.hasOwnProperty(prop) &&
                                    void 0 !== e.reader[prop]) ||
                                    (e.reader[prop] = d.defaultSettings[prop]));
                        l.put("reader", e.reader);
                        var i = {
                                el: "#epub-reader-frame",
                                annotationCSSUrl: n.annotationCSSUrl,
                                mathJaxUrl: n.mathJaxUrl,
                                fonts: n.fonts
                            },
                            o = { jsLibRoot: n.jsLibRoot, openBookOptions: {} };
                        n.useSimpleLoader && (o.useSimpleLoader = !0),
                            (j = void 0);
                        var a;
                        if (e[O]) {
                            var s = JSON.parse(e[O]);
                            (s = JSON.parse(s)),
                                s &&
                                    s.idref &&
                                    ((a = {
                                        idref: s.idref,
                                        elementCfi: s.contentCFI
                                    }),
                                    console.debug(
                                        "Open request (bookmark): " +
                                            JSON.stringify(a)
                                    ));
                        }
                        var c = T.getURLQueryParams(),
                            p = c.goto;
                        if (p) {
                            console.log("Goto override? " + p);
                            try {
                                var h,
                                    m = void 0;
                                if (p.match(/^epubcfi\(.*?\)$/)) {
                                    var g = p.slice(8, -1).split("!");
                                    h = {
                                        spineItemCfi: g[0],
                                        elementCfi: g[1]
                                    };
                                } else h = JSON.parse(p);
                                h.idref
                                    ? h.spineItemPageIndex
                                        ? (m = {
                                              idref: h.idref,
                                              spineItemPageIndex:
                                                  h.spineItemPageIndex
                                          })
                                        : h.elementCfi
                                            ? ((j = new S(
                                                  h.idref,
                                                  h.elementCfi
                                              )),
                                              (m = {
                                                  idref: h.idref,
                                                  elementCfi: h.elementCfi
                                              }))
                                            : (m = { idref: h.idref })
                                    : h.contentRefUrl && h.sourceFileHref
                                        ? (m = {
                                              contentRefUrl: h.contentRefUrl,
                                              sourceFileHref: h.sourceFileHref
                                          })
                                        : h.spineItemCfi &&
                                          (m = {
                                              spineItemCfi: h.spineItemCfi,
                                              elementCfi: h.elementCfi
                                          }),
                                    m &&
                                        ((a = m),
                                        console.debug(
                                            "Open request (goto): " +
                                                JSON.stringify(a)
                                        ));
                            } catch (e) {
                                console.error(e);
                            }
                        }
                        (k = new E(o, i)),
                            (window.READIUM = k),
                            ReadiumSDK.on(
                                ReadiumSDK.Events.PLUGINS_LOADED,
                                function() {
                                    t.logEvent(
                                        "PLUGINS_LOADED",
                                        "ON",
                                        "EpubReader.js"
                                    ),
                                        console.log("PLUGINS INITIALIZED!"),
                                        k.reader.plugins.highlights
                                            ? (k.reader.plugins.highlights.initialize(
                                                  {
                                                      annotationCSSUrl:
                                                          i.annotationCSSUrl
                                                  }
                                              ),
                                              k.reader.plugins.highlights.on(
                                                  "annotationClicked",
                                                  function(e, t, n, r) {
                                                      console.debug(
                                                          "ANNOTATION CLICK: " +
                                                              r
                                                      ),
                                                          k.reader.plugins.highlights.removeHighlight(
                                                              r
                                                          );
                                                  }
                                              ))
                                            : r(".icon-annotations").css(
                                                  "display",
                                                  "none"
                                              ),
                                        k.reader.plugins.example &&
                                            k.reader.plugins.example.on(
                                                "exampleEvent",
                                                function(e) {
                                                    alert(e);
                                                }
                                            ),
                                        k.reader.plugins.hypothesis &&
                                            (k.reader.plugins.hypothesis.on(
                                                "offsetPageButton",
                                                function(e) {
                                                    0 == e
                                                        ? r(
                                                              "#right-page-btn"
                                                          ).css("right", e)
                                                        : r(
                                                              "#right-page-btn"
                                                          ).css(
                                                              "right",
                                                              e -
                                                                  r(
                                                                      "#right-page-btn"
                                                                  ).width()
                                                          );
                                                }
                                            ),
                                            k.reader.plugins.hypothesis.on(
                                                "offsetNavBar",
                                                function(e) {
                                                    r("#app-navbar").css(
                                                        "margin-right",
                                                        e
                                                    ),
                                                        r("#reading-area").css(
                                                            "right",
                                                            e
                                                        );
                                                }
                                            ));
                                }
                            ),
                            (N = new w(k.reader, i.el)),
                            N.initialize(),
                            r(window).on("keyup", function(e) {
                                (9 !== e.keyCode && 9 !== e.which) || G();
                            }),
                            k.reader.addIFrameEventListener("keydown", function(
                                e
                            ) {
                                b.dispatch(
                                    document.documentElement,
                                    e.originalEvent
                                );
                            }),
                            k.reader.addIFrameEventListener("keyup", function(
                                e
                            ) {
                                b.dispatch(
                                    document.documentElement,
                                    e.originalEvent
                                );
                            }),
                            k.reader.addIFrameEventListener("focus", function(
                                e
                            ) {
                                r("#reading-area").addClass("contentFocus"),
                                    r(window).trigger("focus");
                            }),
                            k.reader.addIFrameEventListener("blur", function(
                                e
                            ) {
                                r("#reading-area").removeClass("contentFocus");
                            }),
                            d.initDialog(k.reader),
                            r("#settings-dialog").on(
                                "hidden.bs.modal",
                                function() {
                                    b.scope("reader"),
                                        G(),
                                        setTimeout(function() {
                                            r("#settbutt1").focus();
                                        }, 50),
                                        r("#buttSave").removeAttr("accesskey"),
                                        r("#buttClose").removeAttr("accesskey");
                                }
                            ),
                            r("#settings-dialog").on(
                                "shown.bs.modal",
                                function() {
                                    b.scope("settings"),
                                        r("#buttSave").attr(
                                            "accesskey",
                                            b.accesskeys.SettingsModalSave
                                        ),
                                        r("#buttClose").attr(
                                            "accesskey",
                                            b.accesskeys.SettingsModalClose
                                        );
                                }
                            ),
                            r("#about-dialog").on(
                                "hidden.bs.modal",
                                function() {
                                    b.scope("reader"),
                                        G(),
                                        setTimeout(function() {
                                            r("#aboutButt1").focus();
                                        }, 50);
                                }
                            ),
                            r("#about-dialog").on("shown.bs.modal", function() {
                                b.scope("about");
                            });
                        var v;
                        e.reader && (v = e.reader),
                            I
                                ? k.reader.updateSettings({
                                      syntheticSpread: "auto",
                                      scroll: "auto"
                                  })
                                : ((v = v || d.defaultSettings),
                                  d.updateReader(k.reader, v));
                        var C = function() {
                            I ||
                                l.get("reader", function(e) {
                                    e || (e = {});
                                    var t = "night-theme" === e.theme;
                                    (e.theme = t
                                        ? "author-theme"
                                        : "night-theme"),
                                        l.put("reader", e),
                                        d.updateReader(k.reader, e);
                                });
                        };
                        r("#buttNightTheme").on("click", C),
                            b.on(b.NightTheme, "reader", C),
                            k.reader.on(
                                ReadiumSDK.Events.CONTENT_DOCUMENT_LOAD_START,
                                function(e, n) {
                                    t.logEvent(
                                        "CONTENT_DOCUMENT_LOAD_START",
                                        "ON",
                                        "EpubReader.js [ " + n.href + " ]"
                                    ),
                                        F(!0);
                                }
                            ),
                            y.init(k),
                            _.init(k),
                            x.getVersioningInfo(function(e) {
                                r("#app-container").append(
                                    f({
                                        imagePathPrefix: n.imagePathPrefix,
                                        strings: u,
                                        dateTimeString: e.dateTimeString,
                                        viewerJs: e.readiumJsViewer,
                                        readiumJs: e.readiumJs,
                                        sharedJs: e.readiumSharedJs,
                                        cfiJs: e.readiumCfiJs
                                    })
                                ),
                                    (window.navigator.epubReadingSystem.name =
                                        "readium-js-viewer"),
                                    (window.navigator.epubReadingSystem.version =
                                        e.readiumJsViewer.chromeVersion),
                                    (window.navigator.epubReadingSystem.readium = {}),
                                    (window.navigator.epubReadingSystem.readium.buildInfo = {}),
                                    (window.navigator.epubReadingSystem.readium.buildInfo.dateTime =
                                        e.dateTimeString),
                                    (window.navigator.epubReadingSystem.readium.buildInfo.version =
                                        e.readiumJsViewer.version),
                                    (window.navigator.epubReadingSystem.readium.buildInfo.chromeVersion =
                                        e.readiumJsViewer.chromeVersion),
                                    (window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories = []);
                                var t = {};
                                (t.name = "readium-js-viewer"),
                                    (t.sha = e.readiumJsViewer.sha),
                                    (t.tag = e.readiumJsViewer.tag),
                                    (t.version = e.readiumJsViewer.version),
                                    (t.clean = e.readiumJsViewer.clean),
                                    (t.branch = e.readiumJsViewer.branch),
                                    (t.release = e.readiumJsViewer.release),
                                    (t.timestamp = e.readiumJsViewer.timestamp),
                                    (t.url =
                                        "https://github.com/readium/" +
                                        t.name +
                                        "/tree/" +
                                        t.sha),
                                    window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(
                                        t
                                    );
                                var i = {};
                                (i.name = "readium-js"),
                                    (i.sha = e.readiumJs.sha),
                                    (i.tag = e.readiumJs.tag),
                                    (i.version = e.readiumJs.version),
                                    (i.clean = e.readiumJs.clean),
                                    (i.branch = e.readiumJs.branch),
                                    (i.release = e.readiumJs.release),
                                    (i.timestamp = e.readiumJs.timestamp),
                                    (i.url =
                                        "https://github.com/readium/" +
                                        i.name +
                                        "/tree/" +
                                        i.sha),
                                    window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(
                                        i
                                    );
                                var o = {};
                                (o.name = "readium-shared-js"),
                                    (o.sha = e.readiumSharedJs.sha),
                                    (o.tag = e.readiumSharedJs.tag),
                                    (o.version = e.readiumSharedJs.version),
                                    (o.clean = e.readiumSharedJs.clean),
                                    (o.branch = e.readiumSharedJs.branch),
                                    (o.release = e.readiumSharedJs.release),
                                    (o.timestamp = e.readiumSharedJs.timestamp),
                                    (o.url =
                                        "https://github.com/readium/" +
                                        o.name +
                                        "/tree/" +
                                        o.sha),
                                    window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(
                                        o
                                    ),
                                    L(0, a);
                            });
                    });
            },
            ce = function() {
                if (
                    (k && k.closePackageDocument(),
                    c.closeModal(),
                    c.reset(),
                    r("#settings-dialog").modal("hide"),
                    r("#about-dialog").modal("hide"),
                    r(".modal-backdrop").remove(),
                    r("#app-navbar").off("mousemove"),
                    b.off("reader"),
                    b.off("settings"),
                    r("#settings-dialog").off("hidden.bs.modal"),
                    r("#settings-dialog").off("shown.bs.modal"),
                    r("#about-dialog").off("hidden.bs.modal"),
                    r("#about-dialog").off("shown.bs.modal"),
                    k && k.reader)
                )
                    try {
                        k.reader.pauseMediaOverlay();
                    } catch (e) {}
                r(window).off("resize"),
                    r(window).off("mousemove"),
                    r(window).off("keyup"),
                    r(window).off("message"),
                    window.clearTimeout(W),
                    r(document.body).removeClass("embedded"),
                    r(".book-title-header").remove(),
                    r(document.body).removeClass("hide-ui");
            };
        return {
            loadUI: function(e) {
                l.get("reader", function(t) {
                    b.applySettings(t), le(e);
                });
            },
            unloadUI: ce,
            tooltipSelector: R,
            ensureUrlIsRelativeToApp: D
        };
    }),
    define("readium_js_viewer/ReadiumViewerLite", [
        "jquery",
        "./EpubReader",
        "readium_shared_js/helpers"
    ], function(e, t, n) {
        if (
            (e(function() {
                var r = n.getURLQueryParams();
                t.loadUI(r),
                    e(document.body).on("click", function() {
                        e(document.body).removeClass("keyboard");
                    }),
                    e(document).on("keyup", function(t) {
                        e(document.body).addClass("keyboard");
                    });
            }),
            e(document.body)
                .tooltip({
                    selector: t.tooltipSelector(),
                    placement: function(e, t) {
                        var n = "auto";
                        return (
                            "left-page-btn" == t.id
                                ? (n = "right")
                                : "right-page-btn" == t.id && (n = "left"),
                            n
                        );
                    },
                    container: "body"
                })
                .on("show.bs.tooltip", function(n) {
                    e(t.tooltipSelector())
                        .not(n.target)
                        .tooltip("destroy");
                    var r = n.target;
                    setTimeout(function() {
                        e(r).tooltip("destroy");
                    }, 8e3);
                }),
            window.File)
        ) {
            var r = e(document.body);
            r.on("dragover", function(e) {
                e.stopPropagation(),
                    e.preventDefault(),
                    r.addClass("fileDragHover");
            }),
                r.on("dragleave", function(e) {
                    e.stopPropagation(),
                        e.preventDefault(),
                        r.removeClass("fileDragHover");
                }),
                r.on("drop", function(e) {
                    e.stopPropagation(),
                        e.preventDefault(),
                        r.removeClass("fileDragHover");
                    var n =
                        e.target.files || e.originalEvent.dataTransfer.files;
                    if (n.length) {
                        var i = n[0];
                        console.log("File drag-n-drop:"),
                            console.log(i.name),
                            console.log(i.type),
                            console.log(i.size),
                            ("application/epub+zip" == i.type ||
                                /\.epub[3?]$/.test(i.name)) &&
                                t.loadUI({ epub: i });
                    }
                });
        }
    }),
    require([
        "readium_shared_js/globalsSetup",
        "readium_js_viewer/ReadiumViewerLite"
    ]);
//# sourceMappingURL=readium-js-viewer_all_LITE.js.map
