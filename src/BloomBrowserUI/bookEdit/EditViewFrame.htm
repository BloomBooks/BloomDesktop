<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/bloom/themes/bloom-jqueryui-theme/jquery-ui-1.8.16.custom.css" type="text/css">
    <link rel="stylesheet" href="/bloom/themes/bloom-jqueryui-theme/jquery-ui-dialog.custom.css" type="text/css">
    <link rel="stylesheet" href="/bloom/bookEdit/accordion/accordion.css" type="text/css">
    <link rel="stylesheet" href="/bloom/bookEdit/html/font-awesome/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/bloom/pageChooser/page-chooser.css" type="text/css">
    <link rel="stylesheet" href="/bloom/bookEdit/bloomDialog.css" type="text/css">
    <link rel="stylesheet" href="/bloom/lib/pure-drawer.css"/>
    <script src="/bloom/bookEdit/js/interIframeChannel.js"></script>
    <script src="/bloom/lib/jquery-1.10.1.js"></script>
    <script src="/bloom/lib/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="/bloom/lib/errorHandler.js"></script>
    <script src="/bloom/bookEdit/js/editViewFrame.js"></script>
    <script src="/bloom/bookEdit/js/calledByCSharp.js"></script>
    <script src="/bloom/pageChooser/js/page-chooser.js"></script>
    <script>
      var calledByCSharp;
      var interIframeChannel;
      $().ready(function () {
       calledByCSharp = new CalledByCSharp();
       // The iframe communication channel needs to be initialized before the child documents are loaded.
       interIframeChannel = new interIframeChannel();
       // {simulatedPageFileInBookFolder} is replaced by EditingModel.GetXmlDocumentForEditScreenWebPage().
       document.getElementById('page').src = '{simulatedPageFileInBookFolder}';
       document.getElementById('accordion').src = '/bloom/accordionContent';
      });
    </script>
    <style>
      html, body, #left, #right { margin: 0; padding: 0; border: 0 none; height:100%}
      body, .pure-pusher { overflow:hidden }
      #left { width: 100%;}
    </style>
  </head>
<body>
  <!-- All the pure- stuff here is the required framework for pure-drawer to make the accordion appear and disappear
  based on the litle control in the top right. Note particularly that C# code is aware of the pure-toggle-right input,
  and it has to come first because various css rules depend on things being a following-sibling.-->
  <div class="pure-container" data-effect="pure-effect-slide">
    <input type="checkbox" id="pure-toggle-right" class="pure-toggle" data-toggle="right"/>
    <label class="pure-toggle-label" for="pure-toggle-right" data-toggle-label="right"><span class="pure-toggle-icon"></span></label>
    <nav class="pure-drawer" data-position="right">
        <div id="right">
            <iframe id="accordion" width="100%" height="100%" src="">Your browser does not support iframes.</iframe>
        </div>
    </nav>
    <div class="pure-pusher-container">
        <div class="pure-pusher">
            <div id="left">
                <iframe id="page" width="100%" height="100%" src="">Your browser does not support iframes.</iframe>
            </div>
        </div>
        <label class="pure-overlay" for="pure-toggle-right" data-overlay="right"></label>
    </div>
</div>
</body>
</html>