<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="bookEdit/editor/gridly version/jquery.gridly.css" />
    <script src="http://localhost:8089/bloom/bookEdit/editor/gridly version/jquery-2.0.3.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://localhost:8089/bloom/bookEdit/editor/gridly version/jquery.gridly.js"></script>
    <script>
        var reorder = function (elements) {
            var ids = "";
            elements.each(function () {
                var id = $(this).attr('id');
                if (id)
                    ids += "," + id;
            });
            fireCSharpEvent("gridReordered", ids);
        };
        jQuery(document).ready(function () {
            $('.gridly').gridly({
                base: 35, // px
                gutter: 10, // px
                columns: 4,
                callbacks: {
                    reordered: reorder
                }
            });
            jQuery('.gridItem').click(function () {
                fireCSharpEvent("gridClick", $(this).attr('id'));
            });
        });
        function fireCSharpEvent(eventName, eventData) {

            var event = new MessageEvent(eventName, { 'view': window, 'bubbles': true, 'cancelable': true, 'data': eventData });
            document.dispatchEvent(event);
        }
    </script>
    <title></title>
    <style>
        body {
            background-color: DarkGray;
        }
        div.bloom-page {
            /* bizarrely, the translate moves it to the top left instead of the middle of the original space.
                If you fiddle with these, the formula for the translate percent is 100*(1-scale)/2/scale. */
            transform: scale(0.075) translate(-617%,-617%);
            position: absolute;
            left: 40px;
        }
        .gridly {
            position: relative;
        }
        div.gridItem {
            width: 80px;
            height: 100px;
            opacity: 1;
            overflow:hidden;
        }
        div.gridItem:nth-child(even) div.bloom-page {
            left: 0px;
        }
        .div.gridItem.dragging {
            opacity: .8;
        }
        div.gridTitle {
            position: absolute;
            top: 60px;
            color: white;
            overflow: hidden;
            text-align:right;
            width: 80px;
        }
        div.gridItem:nth-child(even) div.gridTitle {
            text-align: left;
        }
        div.placeholder {
            pointer-events: none;
        }
    </style>
</head>
<body id="body">
    <div class="gridly">
        <div class="gridItem placeholder" id="placeholder"></div>
    </div>
</body>
</html>